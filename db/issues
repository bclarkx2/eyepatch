[
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n1. Run `bundle exec rails credentials:edit`, and add some well-formed YAML to the credentials file\r\n2. Run `bundle exec rails credentials:show`, and observe the just-added YAML credentials\r\n3. Run `bundle exec rails credentials:edit` a second time\r\n\r\n### Expected behavior\r\n\r\nThe credentials loaded in the `$EDITOR` should contain the entries added in step 1.\r\n\r\n### Actual behavior\r\n\r\nThe credentials are reset to the default \"empty\" condition, containing `secret_key_base` entry only.\r\n\r\nMy hunch is that the `IO` backing the temporary file might need to be `flush`ed around line [62](https://github.com/rails/rails/blob/master/activesupport/lib/active_support/encrypted_file.rb#L62) in `ActiveSupport::EncryptedFile#writing`; this hypothesis is based on a quick skim through the source code &mdash; I have no evidence to support it at this stage.\r\n\r\n### System configuration\r\n\r\n* Rails v5.2.0.beta2\r\n* Ruby 2.4.2\r\n* `EDITOR` set to either Emacs, GNU nano, or gedit\r\n",
      "number": 31286,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/spdawson/subscriptions",
         "received_events_url": "https://api.github.com/users/spdawson/received_events",
         "url": "https://api.github.com/users/spdawson",
         "avatar_url": "https://avatars1.githubusercontent.com/u/132732?v=4",
         "events_url": "https://api.github.com/users/spdawson/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/spdawson/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/spdawson/following{/other_user}",
         "repos_url": "https://api.github.com/users/spdawson/repos",
         "site_admin": false,
         "id": 132732,
         "organizations_url": "https://api.github.com/users/spdawson/orgs",
         "login": "spdawson",
         "gists_url": "https://api.github.com/users/spdawson/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/spdawson/followers",
         "html_url": "https://github.com/spdawson"
      },
      "state": "closed",
      "closed_by": "31287",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/31286",
      "updated_at": "2017-11-30T06:15:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/31286/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 277887588,
      "closed_at": "2017-11-30T01:15:47Z",
      "created_at": "2017-11-29T20:01:16Z",
      "title": "Credentials cleared when running credentials:edit",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/31286/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/31286/comments",
      "html_url": "https://github.com/rails/rails/issues/31286"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Should the `activestorage.gemspec` list `db/migrate/*` in the `files` field? the Rake task runs correctly if the same app is pointed at edge Rails on GitHub.\r\n\r\n### Steps to reproduce\r\n\r\n```sh\r\nbundle exec rails active_storage:install\r\n```\r\n\r\n### Expected behavior\r\n\r\n```sh\r\nCopied migration 20171127215057_create_active_storage_tables.active_storage.rb from active_storage\r\n```\r\n\r\n### Actual behavior\r\n\r\n```sh\r\nrails aborted!\r\nDon't know how to build task 'active_storage:install:migrations' (see --tasks)\r\n```\r\n\r\n### System configuration\r\n\r\nRails 5.2.0.beta1\r\nRuby 2.4.2\r\n",
      "number": 31245,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/spdawson/subscriptions",
         "received_events_url": "https://api.github.com/users/spdawson/received_events",
         "url": "https://api.github.com/users/spdawson",
         "avatar_url": "https://avatars1.githubusercontent.com/u/132732?v=4",
         "events_url": "https://api.github.com/users/spdawson/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/spdawson/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/spdawson/following{/other_user}",
         "repos_url": "https://api.github.com/users/spdawson/repos",
         "site_admin": false,
         "id": 132732,
         "organizations_url": "https://api.github.com/users/spdawson/orgs",
         "login": "spdawson",
         "gists_url": "https://api.github.com/users/spdawson/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/spdawson/followers",
         "html_url": "https://github.com/spdawson"
      },
      "state": "closed",
      "closed_by": "31248",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/31245",
      "updated_at": "2017-11-28T06:46:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/31245/events",
      "assignee": null,
      "labels": [
         {
            "id": 664533972,
            "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
            "color": "bfd4f2",
            "default": false,
            "name": "activestorage"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 277185076,
      "closed_at": "2017-11-28T04:08:31Z",
      "created_at": "2017-11-27T22:02:15Z",
      "title": "Failure to run active_storage:install",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/31245/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/31245/comments",
      "html_url": "https://github.com/rails/rails/issues/31245"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```rb\r\nENV[\"RAILS_RELATIVE_URL_ROOT\"] = \"/subdir\"\r\n\r\ngem \"actionpack\", \"5.1.4\"\r\nrequire \"action_controller/railtie\"\r\nrequire \"action_dispatch/routing/inspector\"\r\n\r\napp = Class.new(Rails::Application)\r\napp.routes.draw do\r\n  get \"search1/:key\", to: \"xxx#show\"\r\n  get \"search2/:key\", to: \"xxx#show\", as: :search2\r\nend\r\n\r\ninclude Rails.application.routes.url_helpers\r\n\r\nformatter = ActionDispatch::Routing::ConsoleFormatter.new\r\nputs ActionDispatch::Routing::RoutesInspector.new(Rails.application.routes.routes).format(formatter)\r\n# >>  Prefix Verb URI Pattern             Controller#Action\r\n# >>         GET  /search1/:key(.:format) xxx#show\r\n# >> search2 GET  /search2/:key(.:format) xxx#show\r\n\r\nurl_for(\"/search1/rails\")                          # => \"/search1/rails\"\r\nurl_for(\"search1/rails\")                           # => \"search1/rails\"\r\nurl_for([:search2, key: \"rails\", only_path: true]) # => \"/subdir/search2/rails\"\r\n\r\nsearch2_path(\"rails\")                              # => \"/search2/rails\"\r\nsearch2_path(key: \"rails\")                         # => \"/subdir/search2/rails\"\r\n```\r\n\r\n### Expected behavior\r\n\r\n```rb\r\nsearch2_path(\"rails\")                              # => \"/subdir/search2/rails\"\r\n```\r\n\r\n### Actual behavior\r\n\r\n```rb\r\nsearch2_path(\"rails\")                              # => \"/search2/rails\"\r\n```\r\n\r\nThere is no `/subdir`\r\n\r\n### System configuration\r\n**Rails version**: 5.1.4\r\n\r\n**Ruby version**: ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin16]\r\n",
      "number": 31220,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/akicho8/subscriptions",
         "received_events_url": "https://api.github.com/users/akicho8/received_events",
         "url": "https://api.github.com/users/akicho8",
         "avatar_url": "https://avatars2.githubusercontent.com/u/808955?v=4",
         "events_url": "https://api.github.com/users/akicho8/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/akicho8/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/akicho8/following{/other_user}",
         "repos_url": "https://api.github.com/users/akicho8/repos",
         "site_admin": false,
         "id": 808955,
         "organizations_url": "https://api.github.com/users/akicho8/orgs",
         "login": "akicho8",
         "gists_url": "https://api.github.com/users/akicho8/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/akicho8/followers",
         "html_url": "https://github.com/akicho8"
      },
      "state": "closed",
      "closed_by": "31261",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/31220",
      "updated_at": "2017-11-28T17:00:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/31220/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 1,
      "id": 276714326,
      "closed_at": "2017-11-28T17:00:27Z",
      "created_at": "2017-11-25T00:39:10Z",
      "title": "Behavior of the URL generation method is different when RAILS_RELATIVE_URL_ROOT is present",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/31220/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/31220/comments",
      "html_url": "https://github.com/rails/rails/issues/31220"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nCreate a table with id:false in options, and then create an :id column with primary_key: true \r\nCreate a record on this table.\r\nThen try to create a migration to alter the table (remove_column for example)\r\n\r\nTest case reproducing the error\r\n```\r\n# frozen_string_literal: true\r\n\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"activerecord\", \"5.1.0\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# Ensure backward compatibility with Minitest 4\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table \"payments\", id: false, force: :cascade do |t|\r\n    t.string :id, primary_key: true, index: true, null: false\r\n    t.text :other_attr\r\n  end\r\nend\r\n\r\nclass Payment < ActiveRecord::Base\r\nend\r\n\r\n\r\nclass RemoveOtherAttrFromPayment < ActiveRecord::Migration[5.1]\r\n  def change\r\n    change_table \"payments\" do |t|\r\n      t.remove :payments, :other_attr, :text\r\n    end\r\n  end\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_migration_up\r\n    uuid=\"214fe0c2-dd47-46df-b53b-66090b3c1d40\"\r\n    Payment.create! id: uuid, other_attr: \"xxx\"\r\n    RemoveOtherAttrFromPayment.migrate(:up)\r\n    Payment.reset_column_information\r\n\r\n    assert_equal uuid, Payment.first.id\r\n  end\r\nend\r\n```\r\n\r\n\r\n### Expected behavior\r\n\r\nThat the migration works.\r\n\r\n### Actual behavior\r\n\r\nAn \"SQLite3::MismatchException: datatype mismatch\" is raised. \r\nThe temporary table created seems to have fixed \"\"id\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\" ignoring the previous id: false on table creation.\r\n \r\n### System configuration\r\n**Rails version**:\r\n5.1.2\r\n\r\n\r\n**Ruby version**:\r\n2.4.1",
      "number": 31201,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/luchano/subscriptions",
         "received_events_url": "https://api.github.com/users/luchano/received_events",
         "url": "https://api.github.com/users/luchano",
         "avatar_url": "https://avatars1.githubusercontent.com/u/462612?v=4",
         "events_url": "https://api.github.com/users/luchano/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/luchano/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/luchano/following{/other_user}",
         "repos_url": "https://api.github.com/users/luchano/repos",
         "site_admin": false,
         "id": 462612,
         "organizations_url": "https://api.github.com/users/luchano/orgs",
         "login": "luchano",
         "gists_url": "https://api.github.com/users/luchano/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/luchano/followers",
         "html_url": "https://github.com/luchano"
      },
      "state": "closed",
      "closed_by": "31327",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/31201",
      "updated_at": "2017-12-07T12:58:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/31201/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 276130496,
      "closed_at": "2017-12-07T12:58:22Z",
      "created_at": "2017-11-22T16:29:12Z",
      "title": "change_table migration fails on sqlite if table is using id: false and custom id type (string for uuid)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/31201/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/31201/comments",
      "html_url": "https://github.com/rails/rails/issues/31201"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nUsing rails 5.1.3 and an application that has engines, fail a system test.\r\n\r\n### Expected behavior\r\nI should see the screenshot inline using iterm3\r\n\r\n### Actual behavior\r\nThe screenshot path is using a relative path to the engine, and not the rails root, therefore looking in the wrong location for the file to base64 encode\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.3\r\n\r\n**Ruby version**:\r\n2.4.1p111",
      "number": 30405,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ziki88/subscriptions",
         "received_events_url": "https://api.github.com/users/ziki88/received_events",
         "url": "https://api.github.com/users/ziki88",
         "avatar_url": "https://avatars3.githubusercontent.com/u/785186?v=4",
         "events_url": "https://api.github.com/users/ziki88/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ziki88/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ziki88/following{/other_user}",
         "repos_url": "https://api.github.com/users/ziki88/repos",
         "site_admin": false,
         "id": 785186,
         "organizations_url": "https://api.github.com/users/ziki88/orgs",
         "login": "ziki88",
         "gists_url": "https://api.github.com/users/ziki88/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ziki88/followers",
         "html_url": "https://github.com/ziki88"
      },
      "state": "closed",
      "closed_by": "30421",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/30405",
      "updated_at": "2017-08-27T19:14:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/30405/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 252931880,
      "closed_at": "2017-08-27T19:14:50Z",
      "created_at": "2017-08-25T15:11:16Z",
      "title": "take_failed_screenshot does not show inline images when working with engines ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/30405/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/30405/comments",
      "html_url": "https://github.com/rails/rails/issues/30405"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :hotels, force: true do |t|\r\n  end\r\n  create_table :departments, force: true do |t|\r\n    t.integer :hotel_id\r\n  end\r\n  create_table :cake_designers, force: true do |t|\r\n  end\r\n  create_table :drink_designers, force: true do |t|\r\n  end\r\n  create_table :chefs, force: true do |t|\r\n    t.integer :employable_id\r\n    t.string :employable_type\r\n    t.integer :department_id\r\n    t.string :employable_list_type\r\n    t.integer :employable_list_id\r\n  end\r\nend\r\n\r\nclass Hotel < ActiveRecord::Base\r\n  has_many :departments\r\n  has_many :chefs, through: :departments\r\n  has_many :cake_designers, source_type: \"CakeDesigner\", source: :employable, through: :chefs\r\n  has_many :drink_designers, source_type: \"DrinkDesigner\", source: :employable, through: :chefs\r\nend\r\n\r\nclass Department < ActiveRecord::Base\r\n  has_many :chefs\r\n  belongs_to :hotel\r\nend\r\n\r\nclass Chef < ActiveRecord::Base\r\n  belongs_to :employable, polymorphic: true\r\n  has_many :recipes\r\nend\r\n\r\nclass CakeDesigner < ActiveRecord::Base\r\n  has_one :chef, as: :employable\r\nend\r\n\r\nclass DrinkDesigner < ActiveRecord::Base\r\n  has_one :chef, as: :employable\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_preloading_polymorphic_source_on_two_level_has_many_through\r\n    hotel = Hotel.create!\r\n    department = hotel.departments.create!\r\n    cake_designer = CakeDesigner.create!\r\n    drink_designer = DrinkDesigner.create!\r\n    department.chefs.create!(employable: cake_designer)\r\n    department.chefs.create!(employable: drink_designer)\r\n\r\n    found_cake_designers = Hotel.preload(:cake_designers).find(hotel.id).cake_designers\r\n\r\n    assert_equal 1, found_cake_designers.size\r\n    assert_equal cake_designer, found_cake_designers.first\r\n  end\r\nend\r\n```\r\n### Expected behavior\r\nThe `found_cake_designers` should have size 1 and only contain the `cake_designer`.\r\n\r\n### Actual behavior\r\nThe `found_cake_designers` contained the `cake_designer` and the `drink_designer`.\r\n\r\n### System configuration\r\n**Rails version**:\r\n`master`, 5.0.3\r\n**Ruby version**:\r\n2.3.1p112",
      "number": 30242,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/CicholGricenchos/subscriptions",
         "received_events_url": "https://api.github.com/users/CicholGricenchos/received_events",
         "url": "https://api.github.com/users/CicholGricenchos",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6355587?v=4",
         "events_url": "https://api.github.com/users/CicholGricenchos/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/CicholGricenchos/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/CicholGricenchos/following{/other_user}",
         "repos_url": "https://api.github.com/users/CicholGricenchos/repos",
         "site_admin": false,
         "id": 6355587,
         "organizations_url": "https://api.github.com/users/CicholGricenchos/orgs",
         "login": "CicholGricenchos",
         "gists_url": "https://api.github.com/users/CicholGricenchos/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/CicholGricenchos/followers",
         "html_url": "https://github.com/CicholGricenchos"
      },
      "state": "closed",
      "closed_by": "0bef22",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/30242",
      "updated_at": "2017-11-05T22:13:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/30242/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 249934788,
      "closed_at": "2017-11-05T22:13:54Z",
      "created_at": "2017-08-14T05:16:05Z",
      "title": "Preloading nested through association ignores source_type",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/30242/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/30242/comments",
      "html_url": "https://github.com/rails/rails/issues/30242"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nRun `ruby guides/bug_report_templates/active_record_master.rb` in rails repository.\r\n\r\n### Expected behavior\r\nexit normally\r\n\r\n### Actual behavior\r\n```\r\n/usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/object/blank.rb:104: warning: already initialized constant String::BLANK_RE\r\n/usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/object/blank.rb:104: warning: previous definition of BLANK_RE was here\r\n/usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/module/delegation.rb:11: warning: already initialized constant Module::RUBY_RESERVED_KEYWORDS\r\n/usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/module/delegation.rb:11: warning: previous definition of RUBY_RESERVED_KEYWORDS was here\r\n/usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/module/delegation.rb:14: warning: already initialized constant Module::DELEGATION_RESERVED_KEYWORDS\r\n/usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/module/delegation.rb:14: warning: previous definition of DELEGATION_RESERVED_KEYWORDS was here\r\n/usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/module/delegation.rb:15: warning: already initialized constant Module::DELEGATION_RESERVED_METHOD_NAMES\r\n/usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/core_ext/module/delegation.rb:15: warning: previous definition of DELEGATION_RESERVED_METHOD_NAMES was here\r\n/usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/errors.rb:244: warning: already initialized constant ActiveRecord::UnknownAttributeError\r\n/usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/errors.rb:244: warning: previous definition of UnknownAttributeError was here\r\n/usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activesupport/lib/active_support/concern.rb:128:in `included': Cannot define multiple 'included' blocks for a Concern (ActiveSupport::Concern::MultipleIncludedBlocks)\r\n\tfrom /usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/relation/delegation.rb:50:in `<module:ClassSpecificRelation>'\r\n\tfrom /usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/relation/delegation.rb:47:in `<module:Delegation>'\r\n\tfrom /usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/relation/delegation.rb:2:in `<module:ActiveRecord>'\r\n\tfrom /usr/local/Cellar/rbenv/1.0.0/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/relation/delegation.rb:1:in `<top (required)>'\r\n\tfrom /usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/base.rb:21:in `require_relative'\r\n\tfrom /usr/local/opt/rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/bundler/gems/rails-1c2ed0a05440/activerecord/lib/active_record/base.rb:21:in `<top (required)>'\r\n\tfrom guides/bug_report_templates/active_record_master.rb:20:in `require'\r\n\tfrom guides/bug_report_templates/active_record_master.rb:20:in `<main>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: master\r\n\r\n**Ruby version**: 2.4.0\r\n\r\nIt goes wrong since #29638 and https://github.com/rails/rails/pull/29638#issuecomment-312584283 seems related.\r\nMy rbenv setup is symlinked:\r\n```\r\nls -l /usr/local/opt/rbenv\r\nlrwxr-xr-x  1 yskkin  admin  21  8 28  2016 /usr/local/opt/rbenv -> ../Cellar/rbenv/1.0.0\r\n```\r\n\r\nI think this is default for `brew install rbenv`.\r\n",
      "number": 29846,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yskkin/subscriptions",
         "received_events_url": "https://api.github.com/users/yskkin/received_events",
         "url": "https://api.github.com/users/yskkin",
         "avatar_url": "https://avatars0.githubusercontent.com/u/5965113?v=4",
         "events_url": "https://api.github.com/users/yskkin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yskkin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yskkin/following{/other_user}",
         "repos_url": "https://api.github.com/users/yskkin/repos",
         "site_admin": false,
         "id": 5965113,
         "organizations_url": "https://api.github.com/users/yskkin/orgs",
         "login": "yskkin",
         "gists_url": "https://api.github.com/users/yskkin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yskkin/followers",
         "html_url": "https://github.com/yskkin"
      },
      "state": "closed",
      "closed_by": "30627",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29846",
      "updated_at": "2017-10-22T00:41:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29846/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 243927569,
      "closed_at": "2017-10-22T00:41:02Z",
      "created_at": "2017-07-19T05:37:40Z",
      "title": "require_relative cannot be used if gem is installed in symlinked directory",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29846/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29846/comments",
      "html_url": "https://github.com/rails/rails/issues/29846"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n1. Install Redmine 3.4.0.\r\n2. Update Rails to 4.2.9.\r\n3. Add issue in installed Redmine.\r\n4. Attach file with russian letters in name to this issue.\r\n5. Try do download this file.\r\n\r\n### Expected behavior\r\nBrowser start downloading file.\r\n\r\n### Actual behavior\r\nError 404.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.9\r\n\r\n**Ruby version**: 2.4.1\r\n\r\nBut it work fine with Rails 4.2.8 in same environment.\r\n\r\nMore information is here: https://www.redmine.org/issues/26337#note-9\r\n\r\nWith Rails 4.2.9 production.log:\r\n```\r\nStarted GET \"/attachments/5450/%d0%a2%d0%97.pdf\" for 10.0.0.1 at 2017-07-04 08:12:53 +0300\r\nProcessing by AttachmentsController#show as HTML\r\n  Parameters: {\"id\"=>\"5450\", \"filename\"=>\"\\xD0\\xA2\\xD0\\x97.pdf\"}\r\n  Current user: VVD (id=3)\r\n  Rendered common/error.html.erb within layouts/base (0.2ms)\r\nFilter chain halted as :find_attachment rendered or redirected\r\nCompleted 404 Not Found in 76ms (Views: 28.6ms | ActiveRecord: 42.5ms)\r\n```\r\n\r\nWith Rails 4.2.8 production.log:\r\n```\r\nStarted GET \"/attachments/5450/%d0%a2%d0%97.pdf\" for 10.0.0.1 at 2017-07-04 11:06:56 +0300\r\nProcessing by AttachmentsController#show as HTML\r\n  Parameters: {\"id\"=>\"5450\", \"filename\"=>\"\u0422\u0417.pdf\"}\r\n  Current user: VVD (id=3)\r\n  Rendered common/_other.html.erb (0.8ms)\r\n  Rendered layouts/_file.html.erb (17.1ms)\r\n  Rendered attachments/other.html.erb within layouts/base (26.4ms)\r\nCompleted 200 OK in 123ms (Views: 76.3ms | ActiveRecord: 21.1ms)\r\n```\r\n\r\nLook at difference:\r\n```\r\n\"filename\"=>\"\\xD0\\xA2\\xD0\\x97.pdf\"\r\n\"filename\"=>\"\u0422\u0417.pdf\"\r\n```",
      "number": 29669,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "url": "https://api.github.com/users/eileencodes",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "site_admin": true,
            "id": 1080678,
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "login": "eileencodes",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "html_url": "https://github.com/eileencodes"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/VVD/subscriptions",
         "received_events_url": "https://api.github.com/users/VVD/received_events",
         "url": "https://api.github.com/users/VVD",
         "avatar_url": "https://avatars1.githubusercontent.com/u/482751?v=4",
         "events_url": "https://api.github.com/users/VVD/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/VVD/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/VVD/following{/other_user}",
         "repos_url": "https://api.github.com/users/VVD/repos",
         "site_admin": false,
         "id": 482751,
         "organizations_url": "https://api.github.com/users/VVD/orgs",
         "login": "VVD",
         "gists_url": "https://api.github.com/users/VVD/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/VVD/followers",
         "html_url": "https://github.com/VVD"
      },
      "state": "closed",
      "closed_by": "220935",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29669",
      "updated_at": "2017-08-01T17:31:09Z",
      "milestone": {
         "closed_at": "2017-08-04T18:39:41Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/57",
         "description": "",
         "updated_at": "2017-08-04T18:39:41Z",
         "number": 57,
         "due_on": "2017-07-27T07:00:00Z",
         "id": 2470906,
         "open_issues": 0,
         "closed_issues": 14,
         "created_at": "2017-04-20T23:47:38Z",
         "title": "5.1.3",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/57/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/57",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/29669/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
         "received_events_url": "https://api.github.com/users/eileencodes/received_events",
         "url": "https://api.github.com/users/eileencodes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
         "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
         "repos_url": "https://api.github.com/users/eileencodes/repos",
         "site_admin": true,
         "id": 1080678,
         "organizations_url": "https://api.github.com/users/eileencodes/orgs",
         "login": "eileencodes",
         "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eileencodes/followers",
         "html_url": "https://github.com/eileencodes"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 1,
      "id": 240347311,
      "closed_at": "2017-08-01T17:31:09Z",
      "created_at": "2017-07-04T08:25:09Z",
      "title": "Can't download attachments with russian letters in name (from issue) in Redmine 3.4.0 with Rails 4.2.9, but work corect with Rails 4.2.8",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29669/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29669/comments",
      "html_url": "https://github.com/rails/rails/issues/29669"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```bash\r\n# RAILS_VERSION=\"4.2.8\"\r\n# RAILS_VERSION=\"5.1.1\"\r\n# RAILS_VERSION=\"5.0.3\"\r\n\r\nset -e\r\nset -x\r\n\r\ngem install rails -v $RAILS_VERSION\r\nrails _${RAILS_VERSION}_ new -d mysql --skip-spring query-cache-${RAILS_VERSION}-test\r\ncd query-cache-${RAILS_VERSION}-test\r\n\r\nbundle install\r\nbundle exec rails g model Person name:string\r\nbundle exec rake db:drop\r\nbundle exec rake db:create\r\nbundle exec rake db:migrate\r\nbundle exec rails r \"Person.cache { 3.times { Person.where(id: 1).exists? } }; Person.cache { 3.times { Person.where(id: 1).exists? } }\"\r\n\r\n```\r\n\r\nYou can run it manually by uncommenting the environment variables at the top or save it as a script and run it like `RAILS_VERSION=4.2.8 ./setup-query-cache-test.sh`\r\n\r\n### Expected behavior\r\n\r\nIn all Rails versions 4.2.x, 5.0.x, and 5.1.x, the query cache would be used for subsequent `exists?` queries.\r\n\r\n### Actual behavior\r\n\r\n* 4.2.8 does not use it on the first cache run, but it will in all subsequent cache runs. _(See my notes at the bottom.)_\r\n* 5.0.3 and 5.1.1 will never use the query cache for all queries.\r\n\r\n4.2.8 will output `CACHE (0.0ms) ...` in the the log/development.log. 5.0.3 and 5.1.1 won't. I can also verify by turning on the general log in mysql locally and seeing the cached queries in 4.2.8 never hitting the server, but 5.0.3 and 5.1.1 query mysql all the time.\r\n\r\nThis behavior is strange with sqlite3 because 5.1.1 _says_ it uses the cache in the development.log (5.0.3 never prints out `CACHE`). You can remove the `-d mysql` the script and take a look at the log/development.log for both cases. I don't know of a way of verifying if sqlite3 actually ran the queries.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.8, 5.0.3, and 5.1.1\r\n\r\n**Ruby version**: ruby 2.4.1p111\r\n\r\n\r\n### Some other debugging I've tried.\r\n\r\nI thought perhaps the inconsistent behavior for 4.2.8 on the first run was due to `eager_load=false` but that doesn't seem the be the case. I believe it has something to do with needing a connection to the database created. \r\n\r\nThis will also work to test that:\r\n\r\n```bash\r\nbundle exec rails r \"Person.first; Person.cache { 3.times { Person.where(id: 1).exists? } }\"\r\n```\r\n\r\nI also thought perhaps the new prepared_statements behavior might be causing this behavior in 5.0.3 and 5.1.1, but adding `prepared_statements: false` to the database.yml didn't change the behavior.\r\n\r\nOther queries seem to work just fine with the query cache in both 5.0.3 and 5.1.1. For example:\r\n\r\n```ruby\r\nirb(main):001:0> Person.create!(name: 'foo')\r\nirb(main):002:0> Person.cache { 3.times { Person.find(1).name } }\r\n  Person Load (0.7ms)  SELECT  `people`.* FROM `people` WHERE `people`.`id` = 1 LIMIT 1\r\n  CACHE Person Load (0.0ms)  SELECT  `people`.* FROM `people` WHERE `people`.`id` = 1 LIMIT 1  [[\"id\", 1], [\"LIMIT\", 1]]\r\n  CACHE Person Load (0.0ms)  SELECT  `people`.* FROM `people` WHERE `people`.`id` = 1 LIMIT 1  [[\"id\", 1], [\"LIMIT\", 1]]\r\n```\r\n",
      "number": 29449,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zmoazeni/subscriptions",
         "received_events_url": "https://api.github.com/users/zmoazeni/received_events",
         "url": "https://api.github.com/users/zmoazeni",
         "avatar_url": "https://avatars0.githubusercontent.com/u/314?v=4",
         "events_url": "https://api.github.com/users/zmoazeni/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zmoazeni/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zmoazeni/following{/other_user}",
         "repos_url": "https://api.github.com/users/zmoazeni/repos",
         "site_admin": false,
         "id": 314,
         "organizations_url": "https://api.github.com/users/zmoazeni/orgs",
         "login": "zmoazeni",
         "gists_url": "https://api.github.com/users/zmoazeni/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zmoazeni/followers",
         "html_url": "https://github.com/zmoazeni"
      },
      "state": "closed",
      "closed_by": "29454",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29449",
      "updated_at": "2017-06-19T21:49:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29449/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 235927849,
      "closed_at": "2017-06-19T21:49:35Z",
      "created_at": "2017-06-14T15:54:30Z",
      "title": "Query Cache is not used in v5.0.x and v5.1.x for Model.exists? queries",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29449/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29449/comments",
      "html_url": "https://github.com/rails/rails/issues/29449"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```\r\nApplicationController.new.translate '.foobar', default: ['Foo Bar', :barfoo]\r\n=> [\"Foo Bar\", :barfoo]\r\n```\r\n\r\n### Expected behavior\r\n```\r\nApplicationController.new.translate '.foobar', default: ['Foo Bar', :barfoo]\r\n=> \"Foo Bar\"\r\n```\r\n\r\n### Actual behavior\r\n\r\nThe `default` option is modified using the `<<` operator, which results in an array within an array if multiple defaults are given by the caller. `I18n.t` cannot handle this kind of defaults.\r\n\r\nSee: https://github.com/rails/rails/blob/628e51ff109334223094e30ad1365188bbd7f9c6/actionpack/lib/abstract_controller/translation.rb#L15\r\n\r\n### Affected Rails versions\r\n5.x upto current",
      "number": 29441,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mtgrosser/subscriptions",
         "received_events_url": "https://api.github.com/users/mtgrosser/received_events",
         "url": "https://api.github.com/users/mtgrosser",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1374413?v=4",
         "events_url": "https://api.github.com/users/mtgrosser/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mtgrosser/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mtgrosser/following{/other_user}",
         "repos_url": "https://api.github.com/users/mtgrosser/repos",
         "site_admin": false,
         "id": 1374413,
         "organizations_url": "https://api.github.com/users/mtgrosser/orgs",
         "login": "mtgrosser",
         "gists_url": "https://api.github.com/users/mtgrosser/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mtgrosser/followers",
         "html_url": "https://github.com/mtgrosser"
      },
      "state": "closed",
      "closed_by": "29451",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29441",
      "updated_at": "2017-06-14T20:55:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29441/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 235593383,
      "closed_at": "2017-06-14T20:55:35Z",
      "created_at": "2017-06-13T15:24:25Z",
      "title": "AbstractController::Translation#translate breaks when default option is an array",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29441/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29441/comments",
      "html_url": "https://github.com/rails/rails/issues/29441"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nadd a new directory to autoload paths (i.e. foo_model)\r\nmove application_record to this directory\r\ncreate a new migration\r\na new copy of application_record will appear in models directory\r\n\r\n### Expected behavior\r\n\r\nIf the constant ApplicationRecord can be found using the normal auto load mechanism then do not regenerate a new blank copy.\r\n\r\n### Actual behavior\r\nSystem seems to thave the path app/models hard coded as the location of application-record\r\n\r\n### System configuration\r\n5.0 +\r\nany ruby version\r\n",
      "number": 29407,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/catmando/subscriptions",
         "received_events_url": "https://api.github.com/users/catmando/received_events",
         "url": "https://api.github.com/users/catmando",
         "avatar_url": "https://avatars1.githubusercontent.com/u/63146?v=4",
         "events_url": "https://api.github.com/users/catmando/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/catmando/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/catmando/following{/other_user}",
         "repos_url": "https://api.github.com/users/catmando/repos",
         "site_admin": false,
         "id": 63146,
         "organizations_url": "https://api.github.com/users/catmando/orgs",
         "login": "catmando",
         "gists_url": "https://api.github.com/users/catmando/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/catmando/followers",
         "html_url": "https://github.com/catmando"
      },
      "state": "closed",
      "closed_by": "29916",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29407",
      "updated_at": "2017-07-25T11:51:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29407/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 4,
      "id": 235003977,
      "closed_at": "2017-07-25T11:51:21Z",
      "created_at": "2017-06-10T13:50:46Z",
      "title": "application_record generation does not honor autoload paths",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29407/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29407/comments",
      "html_url": "https://github.com/rails/rails/issues/29407"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n1. `rails new example --database=postgresql`\r\n2. `rails g model Thing uid flag:boolean`\r\n3. Add `self.primary_key = 'uid'` to`app/models/thing.rb`\r\n4. Create a Thing instance w/ a `uid` and then attempt to update it.\r\n\r\n### Expected behavior\r\n\r\nAfter updating, I'd expect the value to have updated successfully.\r\n\r\n### Actual behavior\r\n\r\nUsing `rails console`, I take a Thing I've created and attempt to update it. The update appears to be successful, but once I reload my Thing instance, it becomes clear that the update didn't stick.\r\n\r\n```\r\n2.4.0 :002 > t = Thing.first\r\n  Thing Load (0.4ms)  SELECT  \"things\".* FROM \"things\" ORDER BY \"things\".\"uid\" ASC LIMIT $1  [[\"LIMIT\", 1]]\r\n => #<Thing id: \"HI\", uid: \"HI\", flag: nil, created_at: \"2017-06-03 17:15:06\", updated_at: \"2017-06-03 17:15:06\">\r\n2.4.0 :003 > t.update(flag: true)\r\n   (0.3ms)  BEGIN\r\n  SQL (1.1ms)  UPDATE \"things\" SET \"flag\" = $1, \"updated_at\" = $2 WHERE \"things\".\"uid\" = $3  [[\"flag\", \"t\"], [\"updated_at\", \"2017-06-03 17:28:35.485354\"], [\"uid\", \"1\"]]\r\n   (0.4ms)  COMMIT\r\n => true\r\n2.4.0 :004 > t\r\n => #<Thing id: \"HI\", uid: \"HI\", flag: true, created_at: \"2017-06-03 17:15:06\", updated_at: \"2017-06-03 17:28:35\">\r\n2.4.0 :005 > t.reload\r\n  Thing Load (0.5ms)  SELECT  \"things\".* FROM \"things\" WHERE \"things\".\"uid\" = $1 LIMIT $2  [[\"uid\", \"HI\"], [\"LIMIT\", 1]]\r\n => #<Thing id: \"HI\", uid: \"HI\", flag: nil, created_at: \"2017-06-03 17:15:06\", updated_at: \"2017-06-03 17:15:06\">\r\n```\r\n\r\nThe `flag` property returns to `nil` after reloading. You can see that the call to update is trying to find the record w/ `[\"uid\", \"1\"]`, which is the original serial id, and not the uid field I specified. \r\n\r\nThis worked before I updated to Rails 5 :-(\r\n\r\nAdditionally, if I attempt to validate `uniqueness` on `:uid`, then I can't even `save` existing records. ActiveRecord ends up finds the self-same record in the database and doesn't realize they're equal. However, I believe this stems from the same problem of mixing up the `primary_key` (which was set to `uid`) and the default `id`.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.1\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 29350,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kitlangton/subscriptions",
         "received_events_url": "https://api.github.com/users/kitlangton/received_events",
         "url": "https://api.github.com/users/kitlangton",
         "avatar_url": "https://avatars2.githubusercontent.com/u/7587245?v=4",
         "events_url": "https://api.github.com/users/kitlangton/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kitlangton/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kitlangton/following{/other_user}",
         "repos_url": "https://api.github.com/users/kitlangton/repos",
         "site_admin": false,
         "id": 7587245,
         "organizations_url": "https://api.github.com/users/kitlangton/orgs",
         "login": "kitlangton",
         "gists_url": "https://api.github.com/users/kitlangton/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kitlangton/followers",
         "html_url": "https://github.com/kitlangton"
      },
      "state": "closed",
      "closed_by": "29378",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29350",
      "updated_at": "2017-06-14T18:06:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29350/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 233390283,
      "closed_at": "2017-06-14T18:06:34Z",
      "created_at": "2017-06-03T19:28:17Z",
      "title": "Changing a model's `primary_key` breaks generated SQL.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29350/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29350/comments",
      "html_url": "https://github.com/rails/rails/issues/29350"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nRun the following test (Also verified with the `mysql2` adapter\r\n\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"activerecord\", \"5.1.1\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# Ensure backward compatibility with Minitest 4\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :wedding do |t|\r\n    t.string :name\r\n    t.timestamps\r\n  end\r\n  create_table :url do |t|\r\n    t.string :url\r\n    t.string :type\r\n    t.string :wedding_id\r\n    t.timestamps\r\n  end\r\nend\r\n\r\nclass Url < ActiveRecord::Base\r\n  self.table_name = 'url'\r\n  belongs_to :wedding\r\nend\r\n\r\nclass WeddingUrl < Url\r\nend\r\n\r\nclass Wedding < ActiveRecord::Base\r\n  self.table_name = 'wedding'\r\n  has_one :wedding_url\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_sti_has_one\r\n    w = Wedding.new(name: 'Test')\r\n    w.save!\r\n    url = WeddingUrl.new(url: 'http://www.test.com', wedding: w)\r\n    url.save!\r\n    puts w.wedding_url\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nthe wedding url object should be displayed\r\n\r\n### Actual behavior\r\nThe following stack trace occurs:\r\n```\r\nMinitest::UnexpectedError: TypeError: can't cast Hash\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:45:in `rescue in type_cast'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:32:in `type_cast'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `block in type_casted_binds'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `map'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `type_casted_binds'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/sqlite3_adapter.rb:206:in `exec_query'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:361:in `select'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/querying.rb:39:in `find_by_sql'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/statement_cache.rb:107:in `execute'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/singular_association.rb:50:in `find_target'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/association.rb:147:in `load_target'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/association.rb:53:in `reload'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/singular_association.rb:7:in `reader'\r\n    /Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/builder/association.rb:111:in `wedding_url'\r\n    /Users/asurin/Development/repro-issue/lib/script/test_template.rb:59:in `test_sti_has_one'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:45:in `rescue in type_cast'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:32:in `type_cast'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `block in type_casted_binds'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `map'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb:166:in `type_casted_binds'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/sqlite3_adapter.rb:206:in `exec_query'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:361:in `select'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/query_cache.rb:97:in `select_all'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/querying.rb:39:in `find_by_sql'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/statement_cache.rb:107:in `execute'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/singular_association.rb:50:in `find_target'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/association.rb:147:in `load_target'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/association.rb:53:in `reload'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/singular_association.rb:7:in `reader'\r\n/Users/asurin/.rvm/gems/ruby-2.4.1/gems/activerecord-5.1.1/lib/active_record/associations/builder/association.rb:111:in `wedding_url'\r\n/Users/asurin/Development/repro-issue/lib/script/test_template.rb:59:in `test_sti_has_one'\r\n```\r\n\r\n### System configuration\r\nRails: 5.1.1 (Cannot repro on Rails < 5.1)\r\nRuby: 2.4.1 (Can repro with 2.3.3)\r\nOnly gems installed/active are bundler, activerecord and sqlite3 (sqlite3-1.3.13)\r\nBase system is OSX 10.12\r\n\r\n",
      "number": 29299,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/asurin/subscriptions",
         "received_events_url": "https://api.github.com/users/asurin/received_events",
         "url": "https://api.github.com/users/asurin",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1530571?v=4",
         "events_url": "https://api.github.com/users/asurin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/asurin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/asurin/following{/other_user}",
         "repos_url": "https://api.github.com/users/asurin/repos",
         "site_admin": false,
         "id": 1530571,
         "organizations_url": "https://api.github.com/users/asurin/orgs",
         "login": "asurin",
         "gists_url": "https://api.github.com/users/asurin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/asurin/followers",
         "html_url": "https://github.com/asurin"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29299",
      "updated_at": "2017-10-18T02:35:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29299/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 232658282,
      "closed_at": "2017-10-18T02:35:45Z",
      "created_at": "2017-05-31T18:42:21Z",
      "title": "Rails 5.1 STI - STI associations cannot be used with has_one",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29299/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29299/comments",
      "html_url": "https://github.com/rails/rails/issues/29299"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "therubyracer is a relic, it depends on an ancient version of v8 that has multiple known security vulnerabilities \r\n\r\nhttps://github.com/cowboyd/therubyracer/blob/master/therubyracer.gemspec#L20 \r\n\r\nIn particular this is the equivalent of shipping a dependency to Chrome version 31.\r\n\r\nChrome 31 was released 2013-11-12\r\n\r\nAll places that talk about therubyracer or include it in templates should be replaced with mini_racer that depends on the most recent version of v8. ",
      "number": 29276,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
         "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
         "url": "https://api.github.com/users/SamSaffron",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5213?v=4",
         "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
         "repos_url": "https://api.github.com/users/SamSaffron/repos",
         "site_admin": false,
         "id": 5213,
         "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
         "login": "SamSaffron",
         "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/SamSaffron/followers",
         "html_url": "https://github.com/SamSaffron"
      },
      "state": "closed",
      "closed_by": "29285",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29276",
      "updated_at": "2017-05-30T20:25:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29276/events",
      "assignee": null,
      "labels": [
         {
            "id": 128693,
            "url": "https://api.github.com/repos/rails/rails/labels/asset%20pipeline",
            "color": "d7e102",
            "default": false,
            "name": "asset pipeline"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 232109038,
      "closed_at": "2017-05-30T14:13:51Z",
      "created_at": "2017-05-29T22:51:43Z",
      "title": "Security: Remove all traces of therubyracer from Rails",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29276/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29276/comments",
      "html_url": "https://github.com/rails/rails/issues/29276"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "After upgrading to rails 5.1.1 I noticed a different behavior in migrations. I'm not sure if this is an intentional change or a bug. Let me know if not applicable or if you need more information.\r\n\r\nIf I run any migration (say for instance create a new table or add a column), it removes every occurrence of \"using: :btree\" from my schema's indexes. It also changes the indentation a little (removes or adds blank spaces everywhere).\r\n\r\nReverting my rails version back to 5.0.2 fixes this, and I'm able to run migrations normally.\r\n\r\n### Steps to reproduce\r\n\r\nCreate a migration ```rails g migration create_table```\r\nRun the migration ```rake db:migrate```\r\n\r\n### Expected behavior\r\nChanges in schema.rb should only be: schema version and the lines defining the new table\r\n\r\n### Actual behavior\r\nThe entire schema is changed, removing the option ```using: :btree``` from indexes. Blank spaces are also added or removed pretty much everywhere in the schema.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.1\r\n**Ruby version**: 2.4.1\r\n**OS**: Ubuntu 16.04\r\n",
      "number": 29269,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vinistock/subscriptions",
         "received_events_url": "https://api.github.com/users/vinistock/received_events",
         "url": "https://api.github.com/users/vinistock",
         "avatar_url": "https://avatars1.githubusercontent.com/u/18742907?v=4",
         "events_url": "https://api.github.com/users/vinistock/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vinistock/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vinistock/following{/other_user}",
         "repos_url": "https://api.github.com/users/vinistock/repos",
         "site_admin": false,
         "id": 18742907,
         "organizations_url": "https://api.github.com/users/vinistock/orgs",
         "login": "vinistock",
         "gists_url": "https://api.github.com/users/vinistock/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vinistock/followers",
         "html_url": "https://github.com/vinistock"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29269",
      "updated_at": "2017-05-29T23:30:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29269/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 232024028,
      "closed_at": "2017-05-29T13:46:52Z",
      "created_at": "2017-05-29T13:31:10Z",
      "title": "Migrations removing \"using: :btree\" from indexes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29269/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29269/comments",
      "html_url": "https://github.com/rails/rails/issues/29269"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n````\r\nrails generate system_test admin/dashboard\r\n````\r\n\r\n### Expected behavior\r\nI would expect the test to end up in `/test/system/admin/dashboard`\r\n\r\n### Actual behavior\r\nThe test ends up in `/test/system/dashboards`\r\n\r\nThe namespace looks right - `Admin::DashboardsTest` (well apart from the fact that I don't think it should be pluralizing the name, but that's a separate issue)\r\n\r\nApologies if this is intentional, it just was not what I expected.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.1\r\n\r\n**Ruby version**: 2.4.1\r\n",
      "number": 29247,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cheeseweasel/subscriptions",
         "received_events_url": "https://api.github.com/users/cheeseweasel/received_events",
         "url": "https://api.github.com/users/cheeseweasel",
         "avatar_url": "https://avatars3.githubusercontent.com/u/188345?v=4",
         "events_url": "https://api.github.com/users/cheeseweasel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cheeseweasel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cheeseweasel/following{/other_user}",
         "repos_url": "https://api.github.com/users/cheeseweasel/repos",
         "site_admin": false,
         "id": 188345,
         "organizations_url": "https://api.github.com/users/cheeseweasel/orgs",
         "login": "cheeseweasel",
         "gists_url": "https://api.github.com/users/cheeseweasel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cheeseweasel/followers",
         "html_url": "https://github.com/cheeseweasel"
      },
      "state": "closed",
      "closed_by": "29251",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29247",
      "updated_at": "2017-05-29T23:41:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29247/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 231780588,
      "closed_at": "2017-05-28T01:19:44Z",
      "created_at": "2017-05-27T06:40:49Z",
      "title": "System test generator for namespaced test not going to the correct location",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29247/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29247/comments",
      "html_url": "https://github.com/rails/rails/issues/29247"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nCreate a new migration with UUID and and default value i.e:\r\n\r\n```\r\nclass CreateApiV1AutomationQueues < ActiveRecord::Migration[5.0]\r\n  def change\r\n    create_table :api_v1_automation_queues, id: :uuid, default: 'uuid_generate_v4()', force: true do |t|\r\n      t.string :title, null: false, index: true, unique: true\r\n      t.integer :processing_type, null: false, default: 0, index: true\r\n      t.boolean :pass_by, default: false\r\n      t.uuid :engine_id, null: true, default: nil, index: true\r\n\r\n      t.timestamps\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nMigration should pass on production environment.\r\n\r\n### Actual behavior\r\nFollowing error occurs:\r\n```\r\n== 20170418092133 CreateApiV1AutomationEngines: migrating =====================\r\n-- adapter_name()\r\n   -> 0.0000s\r\n-- adapter_name()\r\n   -> 0.0000s\r\n-- create_table(:api_v1_automation_engines, {:id=>:uuid, :default=>\"uuid_generate_v4()\", :force=>true})\r\n   -> 0.0128s\r\n== 20170418092133 CreateApiV1AutomationEngines: migrated (0.0132s) ============\r\n\r\n== 20170418110459 CreateApiV1AutomationQueues: migrating ======================\r\n-- adapter_name()\r\n   -> 0.0000s\r\n-- adapter_name()\r\n   -> 0.0000s\r\n-- create_table(:api_v1_automation_queues, {:id=>:uuid, :default=>\"uuid_generate_v4()\", :force=>true})\r\nrake aborted!\r\nStandardError: An error has occurred, this and all later migrations canceled:\r\n\r\nundefined method `include?' for nil:NilClass\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/postgresql/quoting.rb:65:in `quote_default_expression'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:17:in `quote_default_expression'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:103:in `add_column_options!'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/postgresql/schema_creation.rb:10:in `add_column_options!'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:34:in `visit_ColumnDefinition'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:14:in `accept'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:45:in `block in visit_TableDefinition'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:45:in `map'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:45:in `visit_TableDefinition'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:14:in `accept'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:288:in `create_table'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/postgresql-check-0.1.2/lib/postgresql/check/schema_statements.rb:62:in `create_table_with_checks'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:849:in `block in method_missing'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:818:in `block in say_with_time'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:818:in `say_with_time'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:838:in `method_missing'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration/compatibility.rb:45:in `create_table'\r\n/var/www/cloudtrack-api/releases/20170525091436/db/migrate/20170418110459_create_api_v1_automation_queues.rb:3:in `change'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:792:in `exec_migration'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:776:in `block (2 levels) in migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:775:in `block in migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:408:in `with_connection'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:774:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:953:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1230:in `block in execute_migration_in_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1298:in `block in ddl_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/transactions.rb:210:in `transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1298:in `ddl_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1229:in `execute_migration_in_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1201:in `block in migrate_without_lock'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1200:in `each'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1200:in `migrate_without_lock'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1148:in `block in migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1317:in `with_advisory_lock'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1148:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1007:in `up'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:985:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/tasks/database_tasks.rb:171:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/railties/databases.rake:58:in `block (2 levels) in <top (required)>'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/rake-12.0.0/exe/rake:27:in `<top (required)>'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:74:in `load'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:74:in `kernel_load'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:27:in `run'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli.rb:335:in `exec'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli.rb:20:in `dispatch'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli.rb:11:in `start'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/exe/bundle:32:in `block in <top (required)>'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/exe/bundle:24:in `<top (required)>'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/bundle:23:in `load'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/bundle:23:in `<main>'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/ruby_executable_hooks:15:in `eval'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/ruby_executable_hooks:15:in `<main>'\r\nNoMethodError: undefined method `include?' for nil:NilClass\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/postgresql/quoting.rb:65:in `quote_default_expression'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:17:in `quote_default_expression'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:103:in `add_column_options!'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/postgresql/schema_creation.rb:10:in `add_column_options!'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:34:in `visit_ColumnDefinition'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:14:in `accept'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:45:in `block in visit_TableDefinition'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:45:in `map'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:45:in `visit_TableDefinition'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_creation.rb:14:in `accept'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:288:in `create_table'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/postgresql-check-0.1.2/lib/postgresql/check/schema_statements.rb:62:in `create_table_with_checks'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:849:in `block in method_missing'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:818:in `block in say_with_time'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:818:in `say_with_time'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:838:in `method_missing'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration/compatibility.rb:45:in `create_table'\r\n/var/www/cloudtrack-api/releases/20170525091436/db/migrate/20170418110459_create_api_v1_automation_queues.rb:3:in `change'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:792:in `exec_migration'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:776:in `block (2 levels) in migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:775:in `block in migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:408:in `with_connection'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:774:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:953:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1230:in `block in execute_migration_in_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1298:in `block in ddl_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/transactions.rb:210:in `transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1298:in `ddl_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1229:in `execute_migration_in_transaction'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1201:in `block in migrate_without_lock'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1200:in `each'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1200:in `migrate_without_lock'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1148:in `block in migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1317:in `with_advisory_lock'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1148:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:1007:in `up'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/migration.rb:985:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/tasks/database_tasks.rb:171:in `migrate'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/activerecord-5.1.1/lib/active_record/railties/databases.rake:58:in `block (2 levels) in <top (required)>'\r\n/var/www/cloudtrack-api/shared/bundle/ruby/2.3.0/gems/rake-12.0.0/exe/rake:27:in `<top (required)>'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:74:in `load'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:74:in `kernel_load'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli/exec.rb:27:in `run'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli.rb:335:in `exec'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli.rb:20:in `dispatch'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/cli.rb:11:in `start'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/exe/bundle:32:in `block in <top (required)>'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/lib/bundler/friendly_errors.rb:121:in `with_friendly_errors'\r\n/usr/local/rvm/gems/ruby-2.3.0/gems/bundler-1.14.6/exe/bundle:24:in `<top (required)>'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/bundle:23:in `load'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/bundle:23:in `<main>'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/ruby_executable_hooks:15:in `eval'\r\n/usr/local/rvm/gems/ruby-2.3.0/bin/ruby_executable_hooks:15:in `<main>'\r\nTasks: TOP => db:migrate\r\n(See full trace by running task with --trace)\r\nrake stderr: Nothing written\r\n\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n* Rails 5.1.1\r\n\r\n**Ruby version**:\r\n* ruby 2.3.0\r\n\r\n**Environment**:\r\n* production (works in dev)\r\n",
      "number": 29222,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
            "received_events_url": "https://api.github.com/users/fxn/received_events",
            "url": "https://api.github.com/users/fxn",
            "avatar_url": "https://avatars2.githubusercontent.com/u/3387?v=4",
            "events_url": "https://api.github.com/users/fxn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/fxn/following{/other_user}",
            "repos_url": "https://api.github.com/users/fxn/repos",
            "site_admin": false,
            "id": 3387,
            "organizations_url": "https://api.github.com/users/fxn/orgs",
            "login": "fxn",
            "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/fxn/followers",
            "html_url": "https://github.com/fxn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/develop-test1/subscriptions",
         "received_events_url": "https://api.github.com/users/develop-test1/received_events",
         "url": "https://api.github.com/users/develop-test1",
         "avatar_url": "https://avatars1.githubusercontent.com/u/17426509?v=4",
         "events_url": "https://api.github.com/users/develop-test1/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/develop-test1/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/develop-test1/following{/other_user}",
         "repos_url": "https://api.github.com/users/develop-test1/repos",
         "site_admin": false,
         "id": 17426509,
         "organizations_url": "https://api.github.com/users/develop-test1/orgs",
         "login": "develop-test1",
         "gists_url": "https://api.github.com/users/develop-test1/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/develop-test1/followers",
         "html_url": "https://github.com/develop-test1"
      },
      "state": "closed",
      "closed_by": "29278",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29222",
      "updated_at": "2017-05-30T02:08:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29222/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
         "received_events_url": "https://api.github.com/users/fxn/received_events",
         "url": "https://api.github.com/users/fxn",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3387?v=4",
         "events_url": "https://api.github.com/users/fxn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fxn/following{/other_user}",
         "repos_url": "https://api.github.com/users/fxn/repos",
         "site_admin": false,
         "id": 3387,
         "organizations_url": "https://api.github.com/users/fxn/orgs",
         "login": "fxn",
         "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fxn/followers",
         "html_url": "https://github.com/fxn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 231286692,
      "closed_at": "2017-05-30T02:08:21Z",
      "created_at": "2017-05-25T09:27:00Z",
      "title": "5.1.1 ActiveRecord Postgres UUID breaks migrations when default value is specified on production",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29222/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29222/comments",
      "html_url": "https://github.com/rails/rails/issues/29222"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`create_association` method defined by `has_one` insert association to database without foreigh key.\r\n\r\n```ruby\r\nclass Post < ActiveRecord::Base\r\n  has_one :comment\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\npost = Post.new\r\ncomment = post.create_comment\r\ncomment.post_id #=> same as post.id\r\ncomment.reload.post_id #=> nil\r\n```\r\n\r\n\r\n### Steps to reproduce\r\n\r\n[executable test case](https://gist.github.com/willnet/8974c15a876ccb8d544ded5c4b714fda)\r\n\r\n### Expected behavior\r\n\r\n```\r\ncomment.reload.post_id #=> same as post.id\r\n```\r\n\r\n### Actual behavior\r\n\r\n```\r\ncomment.reload.post_id #=> nil\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\nmaster, 5.1.1\r\n**Ruby version**:\r\n2.4.1\r\n",
      "number": 29219,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/willnet/subscriptions",
         "received_events_url": "https://api.github.com/users/willnet/received_events",
         "url": "https://api.github.com/users/willnet",
         "avatar_url": "https://avatars2.githubusercontent.com/u/82371?v=4",
         "events_url": "https://api.github.com/users/willnet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/willnet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/willnet/following{/other_user}",
         "repos_url": "https://api.github.com/users/willnet/repos",
         "site_admin": false,
         "id": 82371,
         "organizations_url": "https://api.github.com/users/willnet/orgs",
         "login": "willnet",
         "gists_url": "https://api.github.com/users/willnet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/willnet/followers",
         "html_url": "https://github.com/willnet"
      },
      "state": "closed",
      "closed_by": "29392",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29219",
      "updated_at": "2017-06-17T00:39:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29219/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 7,
      "id": 231264312,
      "closed_at": "2017-06-17T00:39:13Z",
      "created_at": "2017-05-25T07:39:22Z",
      "title": "create_association doesn't insert foreign key to database",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29219/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29219/comments",
      "html_url": "https://github.com/rails/rails/issues/29219"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "On a new app, if you do `rails secrets:edit` before you've called `rails secrets:setup`, you get this rough backtrace:\r\n\r\n```\r\n$ r secrets:edit\r\n/Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/secrets.rb:49:in `binread': No such file or directory @ rb_sysopen - /Users/david/Code/examples/speeddial/config/secrets.yml.enc (Errno::ENOENT)\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/secrets.rb:49:in `read'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/secrets.rb:59:in `read_for_editing'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/commands/secrets/secrets_command.rb:36:in `edit'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/thor-0.19.4/lib/thor/command.rb:27:in `run'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/thor-0.19.4/lib/thor/invocation.rb:126:in `invoke_command'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/thor-0.19.4/lib/thor.rb:369:in `dispatch'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/command/base.rb:63:in `perform'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/command.rb:44:in `invoke'\r\n\tfrom /Users/david/.rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.1/lib/rails/commands.rb:16:in `<top (required)>'\r\n```\r\n\r\nWould be nice to catch that and explain the need to run secrets:setup, or, even better, interactively ask if you wanted to run that now.",
      "number": 29194,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "29195",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/29194",
      "updated_at": "2017-05-25T15:11:21Z",
      "milestone": {
         "closed_at": null,
         "url": "https://api.github.com/repos/rails/rails/milestones/56",
         "description": "",
         "updated_at": "2017-12-09T11:50:43Z",
         "number": 56,
         "due_on": null,
         "id": 2357255,
         "open_issues": 2,
         "closed_issues": 31,
         "created_at": "2017-03-01T20:55:32Z",
         "title": "5.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/56/labels",
         "state": "open",
         "html_url": "https://github.com/rails/rails/milestone/56",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/29194/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 230778000,
      "closed_at": "2017-05-25T15:11:21Z",
      "created_at": "2017-05-23T16:57:47Z",
      "title": "rails secrets:edit should have a nicer error message before it's initialized",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29194/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29194/comments",
      "html_url": "https://github.com/rails/rails/issues/29194"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```\r\ncd activesupport\r\nbundle exec ruby -Itest test/core_ext/duration_test.rb\r\n```\r\n\r\n### Expected behavior\r\n`Expected: Tue, 03 Jan 2017`\r\n\r\n### Actual behavior\r\n`Actual: 2017-01-03 00:00:00 +0800`\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 5.2.0.alpha\r\n**Ruby version**:\r\nruby 2.4.0p0 (2016-12-24 revision 57164) [x86_64-darwin16]\r\n",
      "number": 29160,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/beck03076/subscriptions",
         "received_events_url": "https://api.github.com/users/beck03076/received_events",
         "url": "https://api.github.com/users/beck03076",
         "avatar_url": "https://avatars2.githubusercontent.com/u/4824665?v=4",
         "events_url": "https://api.github.com/users/beck03076/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/beck03076/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/beck03076/following{/other_user}",
         "repos_url": "https://api.github.com/users/beck03076/repos",
         "site_admin": false,
         "id": 4824665,
         "organizations_url": "https://api.github.com/users/beck03076/orgs",
         "login": "beck03076",
         "gists_url": "https://api.github.com/users/beck03076/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/beck03076/followers",
         "html_url": "https://github.com/beck03076"
      },
      "state": "closed",
      "closed_by": "29163",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29160",
      "updated_at": "2017-05-21T16:12:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29160/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 230143056,
      "closed_at": "2017-05-21T16:12:55Z",
      "created_at": "2017-05-20T09:49:17Z",
      "title": "[Date.civil() + 2 * 1.day] duration test is failing ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29160/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29160/comments",
      "html_url": "https://github.com/rails/rails/issues/29160"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is a feature request to support the new JSON Feed format in `auto_discovery_link_tag`.\r\n\r\nSee: https://jsonfeed.org/version/1#discovery\r\n\r\n\r\n### Steps to reproduce\r\n\r\nAdd an `auto_discovery_link_tag` using the type of `:json`\r\n\r\n```erb\r\n<%= auto_discovery_link_tag(:json, \"https://example.com/feed.json\", title: \"JSON Feed\" ) %>\r\n```\r\n\r\n### Expected behavior\r\n\r\n```html\r\n<link rel=\"alternate\" title=\"JSON Feed\" type=\"application/json\" href=\"https://example.com/feed.json\" />\r\n```\r\n\r\n### Actual behavior\r\n\r\n```\r\nYou should pass :type tag_option key explicitly, because you have passed json type other than :rss or :atom.\r\n```\r\n\r\nThis meant I had to re-write like this:\r\n\r\n```erb\r\n<%= auto_discovery_link_tag(nil, \"https://example.com/feed.json\", { title: \"JSON Feed\", type: \"application/json\" }) %>\r\n```\r\n\r\nBummer.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0\r\n\r\n**Ruby version**: 2.4.0",
      "number": 29142,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/veganstraightedge/subscriptions",
         "received_events_url": "https://api.github.com/users/veganstraightedge/received_events",
         "url": "https://api.github.com/users/veganstraightedge",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4361?v=4",
         "events_url": "https://api.github.com/users/veganstraightedge/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/veganstraightedge/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/veganstraightedge/following{/other_user}",
         "repos_url": "https://api.github.com/users/veganstraightedge/repos",
         "site_admin": false,
         "id": 4361,
         "organizations_url": "https://api.github.com/users/veganstraightedge/orgs",
         "login": "veganstraightedge",
         "gists_url": "https://api.github.com/users/veganstraightedge/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/veganstraightedge/followers",
         "html_url": "https://github.com/veganstraightedge"
      },
      "state": "closed",
      "closed_by": "29158",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29142",
      "updated_at": "2017-05-21T00:39:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29142/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 229848009,
      "closed_at": "2017-05-20T13:32:46Z",
      "created_at": "2017-05-19T01:39:22Z",
      "title": "Add :json type to auto_discovery_link_tag()",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29142/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29142/comments",
      "html_url": "https://github.com/rails/rails/issues/29142"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Found an issue with AR 5.1 when an attribute in a polymorphic table is the same as the table name, eg. table notes has a text field also named notes.\r\n\r\nIf a user has_many notes as 'notable', user.notes fails with a \"TypeError: can't cast Hash\" error.  \r\n\r\nMethod _type_cast in activerecord-5.1.1/lib/active_record/connection_adapters/abstract/quoting.rb                                   \r\nis receiving a hash of {'notable_id' => ...} which it can't typecast.\r\n\r\nThe problem does not appear if the notes attribute is renamed to something other than notes.\r\n\r\nBelow is a template to reproduce the issue -\r\n\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :users, force: true do |t|\r\n  end\r\n\r\n  create_table :notes, force: true do |t|\r\n    t.text    :notes\r\n    t.text    :notable_type\r\n    t.integer :notable_id\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_many :notes, as: 'notable'\r\nend\r\n\r\nclass Note < ActiveRecord::Base\r\n  belongs_to :notable, polymorphic: true\r\nend\r\n\r\nclass NoteTest < Minitest::Test\r\n  def test_notable\r\n    user = User.create!\r\n\r\n    assert_equal 0, user.notes.count\r\n  end\r\nend\r\n```\r\n",
      "number": 29139,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jgelo/subscriptions",
         "received_events_url": "https://api.github.com/users/jgelo/received_events",
         "url": "https://api.github.com/users/jgelo",
         "avatar_url": "https://avatars1.githubusercontent.com/u/314096?v=4",
         "events_url": "https://api.github.com/users/jgelo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jgelo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jgelo/following{/other_user}",
         "repos_url": "https://api.github.com/users/jgelo/repos",
         "site_admin": false,
         "id": 314096,
         "organizations_url": "https://api.github.com/users/jgelo/orgs",
         "login": "jgelo",
         "gists_url": "https://api.github.com/users/jgelo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jgelo/followers",
         "html_url": "https://github.com/jgelo"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29139",
      "updated_at": "2017-05-19T22:29:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29139/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 229829212,
      "closed_at": "2017-05-19T09:43:13Z",
      "created_at": "2017-05-18T23:10:32Z",
      "title": "AR 5.1: Polymorphic association failure when a poly attribute shares its table name",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29139/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29139/comments",
      "html_url": "https://github.com/rails/rails/issues/29139"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nSpecify a non-default port using the `-p` flag to `rails server`.\r\nRails recognizes the port, but puma ignores it and boots on the default port 3000.\r\n```\r\n% rails s -p9000\r\n=> Booting Puma\r\n=> Rails 5.1.0 application starting in development on http://localhost:9000\r\n=> Run `rails server -h` for more startup options\r\nPuma starting in single mode...\r\n* Version 3.8.2 (ruby 2.3.1-p112), codename: Sassy Salamander\r\n* Min threads: 5, max threads: 5\r\n* Environment: development\r\n* Listening on tcp://0.0.0.0:3000\r\nUse Ctrl-C to stop\r\n```\r\n\r\nWith a space after the flag, it works:\r\n```\r\n% rails s -p 9000\r\n=> Booting Puma\r\n=> Rails 5.1.0 application starting in development on http://localhost:9000\r\n=> Run `rails server -h` for more startup options\r\nPuma starting in single mode...\r\n* Version 3.8.2 (ruby 2.3.1-p112), codename: Sassy Salamander\r\n* Min threads: 5, max threads: 5\r\n* Environment: development\r\n* Listening on tcp://0.0.0.0:9000\r\nUse Ctrl-C to stop\r\n```\r\n\r\n### Expected behavior\r\nPuma listens on the specified port\r\n\r\n### Actual behavior\r\nPuma listens on the default port\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0\r\n\r\n**Ruby version**: 2.3.1\r\n",
      "number": 29138,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/micahbf/subscriptions",
         "received_events_url": "https://api.github.com/users/micahbf/received_events",
         "url": "https://api.github.com/users/micahbf",
         "avatar_url": "https://avatars0.githubusercontent.com/u/4381820?v=4",
         "events_url": "https://api.github.com/users/micahbf/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/micahbf/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/micahbf/following{/other_user}",
         "repos_url": "https://api.github.com/users/micahbf/repos",
         "site_admin": false,
         "id": 4381820,
         "organizations_url": "https://api.github.com/users/micahbf/orgs",
         "login": "micahbf",
         "gists_url": "https://api.github.com/users/micahbf/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/micahbf/followers",
         "html_url": "https://github.com/micahbf"
      },
      "state": "closed",
      "closed_by": "29146",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29138",
      "updated_at": "2017-05-28T15:19:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29138/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 229817129,
      "closed_at": "2017-05-28T15:19:44Z",
      "created_at": "2017-05-18T22:00:48Z",
      "title": "Rails Server command -p flag became whitespace sensitive in Rails 5.1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29138/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29138/comments",
      "html_url": "https://github.com/rails/rails/issues/29138"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n  1. generate a migration with a non-nullable polymorphic relation, e.g., `t.references :author, polymorphic: true,  null: false`\r\n  2. inspect the database schema and notice that the _id column (e.g., `author_id`) is not nullable while the _type column (e.g. `author_type`) of the polymorphic relation is still nullable\r\n\r\n### Expected behavior\r\n  * the _type column should also be set to `NOT NULL` in the database when `polymorphic: true, null: false` is set on a relation in a migration, since both columns are needed to identify the relationship, and without which, the polymorphic relationship could be left in an inconsistent state (with an id, but not a type)\r\n\r\n### Actual behavior\r\n  * only the _id column of the polymorphic relationship is set to `NOT NULL`, while the _type column has no such constraint\r\n\r\n### System configuration\r\n**Rails version**: 5.1.1\r\n**Ruby version**: 2.4.1\r\n",
      "number": 29136,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/clairity/subscriptions",
         "received_events_url": "https://api.github.com/users/clairity/received_events",
         "url": "https://api.github.com/users/clairity",
         "avatar_url": "https://avatars2.githubusercontent.com/u/950439?v=4",
         "events_url": "https://api.github.com/users/clairity/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/clairity/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/clairity/following{/other_user}",
         "repos_url": "https://api.github.com/users/clairity/repos",
         "site_admin": false,
         "id": 950439,
         "organizations_url": "https://api.github.com/users/clairity/orgs",
         "login": "clairity",
         "gists_url": "https://api.github.com/users/clairity/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/clairity/followers",
         "html_url": "https://github.com/clairity"
      },
      "state": "closed",
      "closed_by": "29145",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29136",
      "updated_at": "2017-05-24T04:27:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29136/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 0,
      "id": 229775435,
      "closed_at": "2017-05-24T04:27:43Z",
      "created_at": "2017-05-18T19:11:37Z",
      "title": "`polymorphic: true, null: false` should set `NOT NULL` in the db schema on both _type & _id columns, not just the _id column",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29136/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29136/comments",
      "html_url": "https://github.com/rails/rails/issues/29136"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nRails v 5.1.1\r\n\r\n```\r\nrails plugin new rails51test --mountable  -O --webpack=react --skip-sprockets --skip-turbolinks\r\n      create\r\n      create  README.md\r\n      create  Rakefile\r\n      create  rails51test.gemspec\r\n      create  MIT-LICENSE\r\n      create  .gitignore\r\n      create  Gemfile\r\n      create  app\r\n      create  app/controllers/rails51test/application_controller.rb\r\n      create  app/helpers/rails51test/application_helper.rb\r\n      create  app/jobs/rails51test/application_job.rb\r\n      create  app/mailers/rails51test/application_mailer.rb\r\n      create  app/models/rails51test/application_record.rb\r\n      create  app/views/layouts/rails51test/application.html.erb\r\n      create  app/assets/images/rails51test\r\n      create  app/assets/images/rails51test/.keep\r\n      create  config/routes.rb\r\n      create  lib/rails51test.rb\r\n      create  lib/tasks/rails51test_tasks.rake\r\n      create  lib/rails51test/version.rb\r\n      create  lib/rails51test/engine.rb\r\n      create  app/assets/config/rails51test_manifest.js\r\n      create  app/assets/stylesheets/rails51test/application.css\r\n      create  app/assets/javascripts/rails51test/application.js\r\n      create  bin/rails\r\n      create  test/test_helper.rb\r\n      create  test/rails51test_test.rb\r\n      append  Rakefile\r\n      create  test/integration/navigation_test.rb\r\n      vendor_app  test/dummy\r\n```\r\n\r\n### Expected behavior\r\n1. Bundle should run\r\n1. rails  webpacker:install should run\r\n1. yarn should run\r\n \r\n### Actual behavior\r\nThe setup halts after creating the above folders\r\n\r\n### System configuration\r\n**Rails version**: 5.1.1\r\n\r\n**Ruby version**: 2.4.1\r\n",
      "number": 29116,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/krobi64/subscriptions",
         "received_events_url": "https://api.github.com/users/krobi64/received_events",
         "url": "https://api.github.com/users/krobi64",
         "avatar_url": "https://avatars2.githubusercontent.com/u/159039?v=4",
         "events_url": "https://api.github.com/users/krobi64/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/krobi64/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/krobi64/following{/other_user}",
         "repos_url": "https://api.github.com/users/krobi64/repos",
         "site_admin": false,
         "id": 159039,
         "organizations_url": "https://api.github.com/users/krobi64/orgs",
         "login": "krobi64",
         "gists_url": "https://api.github.com/users/krobi64/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/krobi64/followers",
         "html_url": "https://github.com/krobi64"
      },
      "state": "closed",
      "closed_by": "29238",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29116",
      "updated_at": "2017-05-29T23:53:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29116/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 384913768,
            "url": "https://api.github.com/repos/rails/rails/labels/good-first-patch",
            "color": "0e8a16",
            "default": false,
            "name": "good-first-patch"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 6,
      "id": 229201691,
      "closed_at": "2017-05-26T21:58:12Z",
      "created_at": "2017-05-17T00:02:21Z",
      "title": "rails plugin new rails51test --mountable --webpack=react stops after basic directory creation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29116/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29116/comments",
      "html_url": "https://github.com/rails/rails/issues/29116"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "http://stackoverflow.com/questions/34776245/how-do-i-get-the-current-action-from-within-a-controller\r\n\r\n### Expected behavior\r\n`action_name` should show up in the search box here: http://api.rubyonrails.org/\r\n\r\n### Actual behavior\r\nNot there\r\n\r\n### System configuration\r\n**Rails version**: 5\r\n\r\n**Ruby version**:\r\n",
      "number": 29084,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/starrychloe/subscriptions",
         "received_events_url": "https://api.github.com/users/starrychloe/received_events",
         "url": "https://api.github.com/users/starrychloe",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1039276?v=4",
         "events_url": "https://api.github.com/users/starrychloe/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/starrychloe/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/starrychloe/following{/other_user}",
         "repos_url": "https://api.github.com/users/starrychloe/repos",
         "site_admin": false,
         "id": 1039276,
         "organizations_url": "https://api.github.com/users/starrychloe/orgs",
         "login": "starrychloe",
         "gists_url": "https://api.github.com/users/starrychloe/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/starrychloe/followers",
         "html_url": "https://github.com/starrychloe"
      },
      "state": "closed",
      "closed_by": "29134",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29084",
      "updated_at": "2017-05-19T13:32:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29084/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 384913768,
            "url": "https://api.github.com/repos/rails/rails/labels/good-first-patch",
            "color": "0e8a16",
            "default": false,
            "name": "good-first-patch"
         }
      ],
      "comments": 10,
      "id": 228615505,
      "closed_at": "2017-05-19T13:32:20Z",
      "created_at": "2017-05-15T06:17:57Z",
      "title": "#action_name is not in the docs",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29084/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29084/comments",
      "html_url": "https://github.com/rails/rails/issues/29084"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Not sure of IE9 support status re. rails-ujs, but unfortunately a tiny fraction of our users are still IE9. So:\r\n\r\n### Steps to reproduce\r\n\r\nUsing IE9, submit a `remote: true` link, that gets a server-generated JavaScript response.\r\n\r\n### Expected behavior\r\n\r\nrails-ujs should execute the JS received.\r\n\r\n### Actual behavior\r\n\r\nrails-ujs does not execute the JS received, I think because it is using `xhr.response`, which was not in XMLHttpRequest Level 1.\r\nPerhaps consider using `xhr.responseText` if `xhr.response` is `null`?\r\n\r\n### System configuration\r\n**Rails version**: 5.1\r\n\r\n**Ruby version**: 2.3.4p301\r\n\r\n",
      "number": 29069,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/inopinatus/subscriptions",
         "received_events_url": "https://api.github.com/users/inopinatus/received_events",
         "url": "https://api.github.com/users/inopinatus",
         "avatar_url": "https://avatars3.githubusercontent.com/u/938619?v=4",
         "events_url": "https://api.github.com/users/inopinatus/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/inopinatus/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/inopinatus/following{/other_user}",
         "repos_url": "https://api.github.com/users/inopinatus/repos",
         "site_admin": false,
         "id": 938619,
         "organizations_url": "https://api.github.com/users/inopinatus/orgs",
         "login": "inopinatus",
         "gists_url": "https://api.github.com/users/inopinatus/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/inopinatus/followers",
         "html_url": "https://github.com/inopinatus"
      },
      "state": "closed",
      "closed_by": "29108",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29069",
      "updated_at": "2017-07-05T01:57:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29069/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 603319189,
            "url": "https://api.github.com/repos/rails/rails/labels/rails-ujs",
            "color": "5319e7",
            "default": false,
            "name": "rails-ujs"
         }
      ],
      "comments": 5,
      "id": 228446589,
      "closed_at": "2017-07-05T01:57:41Z",
      "created_at": "2017-05-13T03:47:42Z",
      "title": "Server-generated JS is not executed by rails-ujs on IE9.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29069/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29069/comments",
      "html_url": "https://github.com/rails/rails/issues/29069"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "on 5.1.0\r\n\r\n```\r\n/gems/activesupport-5.1.0/lib/active_support/cache/strategy/local_cache.rb:47 in clear\r\n/gems/activesupport-5.1.0/lib/active_support/cache/strategy/local_cache.rb:90 in cleanup\r\n/gems/dalli-2.7.6/lib/active_support/cache/dalli_store.rb:310 in write_entry\r\n/gems/activesupport-5.1.0/lib/active_support/cache/strategy/local_cache.rb:119 in write_entry\r\n```\r\n\r\nlocal_cache calls clear with options ... which is clearly (ha!) not supported ... ok to just remove options ... or am I missing something ?",
      "number": 29067,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/grosser/subscriptions",
         "received_events_url": "https://api.github.com/users/grosser/received_events",
         "url": "https://api.github.com/users/grosser",
         "avatar_url": "https://avatars3.githubusercontent.com/u/11367?v=4",
         "events_url": "https://api.github.com/users/grosser/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/grosser/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/grosser/following{/other_user}",
         "repos_url": "https://api.github.com/users/grosser/repos",
         "site_admin": false,
         "id": 11367,
         "organizations_url": "https://api.github.com/users/grosser/orgs",
         "login": "grosser",
         "gists_url": "https://api.github.com/users/grosser/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/grosser/followers",
         "html_url": "https://github.com/grosser"
      },
      "state": "closed",
      "closed_by": "16a376",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29067",
      "updated_at": "2017-06-10T18:08:56Z",
      "milestone": {
         "closed_at": "2017-08-04T18:39:41Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/57",
         "description": "",
         "updated_at": "2017-08-04T18:39:41Z",
         "number": 57,
         "due_on": "2017-07-27T07:00:00Z",
         "id": 2470906,
         "open_issues": 0,
         "closed_issues": 14,
         "created_at": "2017-04-20T23:47:38Z",
         "title": "5.1.3",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/57/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/57",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/29067/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 228436155,
      "closed_at": "2017-06-10T18:08:55Z",
      "created_at": "2017-05-13T00:27:52Z",
      "title": "local_cache + cleanup = ArgumentError",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29067/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29067/comments",
      "html_url": "https://github.com/rails/rails/issues/29067"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It looks like currently the [Rails Guides ActiveSupport](http://guides.rubyonrails.org/active_support_core_extensions.html#stand-alone-active-support) page has broken links which are supposed to link to the methods used in the various examples.\r\n\r\nEx. http://guides.rubyonrails.org/active_support_core_extensions.html#blank-questionmark-and-present-questionmark The link to `active_support/core_ext/object/blank.rb.` returns a 404 from Github.\r\n\r\nMy understanding is that it's supposed to link to the ActiveSupport codebase with that method. \r\n\r\nUnless anyone has objections. I'll submit a PR for this in the coming hours. ",
      "number": 29055,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/juliusdelta/subscriptions",
         "received_events_url": "https://api.github.com/users/juliusdelta/received_events",
         "url": "https://api.github.com/users/juliusdelta",
         "avatar_url": "https://avatars1.githubusercontent.com/u/10285055?v=4",
         "events_url": "https://api.github.com/users/juliusdelta/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/juliusdelta/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/juliusdelta/following{/other_user}",
         "repos_url": "https://api.github.com/users/juliusdelta/repos",
         "site_admin": false,
         "id": 10285055,
         "organizations_url": "https://api.github.com/users/juliusdelta/orgs",
         "login": "juliusdelta",
         "gists_url": "https://api.github.com/users/juliusdelta/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/juliusdelta/followers",
         "html_url": "https://github.com/juliusdelta"
      },
      "state": "closed",
      "closed_by": "29056",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29055",
      "updated_at": "2017-05-16T13:23:36Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29055/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 228187588,
      "closed_at": "2017-05-16T13:23:36Z",
      "created_at": "2017-05-12T04:53:58Z",
      "title": "Broken links in Rails Guides ActiveSupport",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29055/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29055/comments",
      "html_url": "https://github.com/rails/rails/issues/29055"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I think the documentation is incorrect based on the behavior shown below and my review of the code but am not sure if this is desired behavior to be included vs just updating the documentation.\r\n\r\n### Steps to reproduce\r\n\r\nrails g mailer User invite\r\n\r\n### Expected behavior\r\nBased on the current documentation for [Testing Your Mailers](http://edgeguides.rubyonrails.org/testing.html#testing-your-mailers), stub out `test/fixtures/UserMailer/invite.html.erb`\r\n\r\n### Actual behavior\r\nNo fixtures are stubbed. Only `test/mailers/*` are created in the test directory.\r\n\r\n### System configuration\r\n**Rails version**: master and 4.2.8\r\n\r\n### Test case\r\nAdd the following test to `/rails/railties/test/generators/mailer_generator_test.rb`.\r\n\r\n```\r\ndef test_stubs_fixtures\r\n  assert_directory \"test/fixtures/notifier_mailer\"\r\nend\r\n```\r\n",
      "number": 29051,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/boykoc/subscriptions",
         "received_events_url": "https://api.github.com/users/boykoc/received_events",
         "url": "https://api.github.com/users/boykoc",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5031021?v=4",
         "events_url": "https://api.github.com/users/boykoc/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/boykoc/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/boykoc/following{/other_user}",
         "repos_url": "https://api.github.com/users/boykoc/repos",
         "site_admin": false,
         "id": 5031021,
         "organizations_url": "https://api.github.com/users/boykoc/orgs",
         "login": "boykoc",
         "gists_url": "https://api.github.com/users/boykoc/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/boykoc/followers",
         "html_url": "https://github.com/boykoc"
      },
      "state": "closed",
      "closed_by": "30286",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29051",
      "updated_at": "2017-05-13T13:38:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29051/events",
      "assignee": null,
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 228111846,
      "closed_at": "2017-05-12T20:33:57Z",
      "created_at": "2017-05-11T20:30:17Z",
      "title": "Update Testing Your Mailers docs to say fixtures are not stubbed.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29051/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29051/comments",
      "html_url": "https://github.com/rails/rails/issues/29051"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"activerecord\", \"5.1.0\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# Ensure backward compatibility with Minitest 4\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :users, force: true do |t|\r\n  end\r\n\r\n  create_table :hours, force: true do |t|\r\n    t.integer  \"user_id\"\r\n    t.float :hours\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_many :hours\r\nend\r\n\r\nclass Hour < ActiveRecord::Base\r\n  belongs_to :user\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  # This passes on Rails 5.0.x, fails on 5.1.x\r\n  def test_collection_with_plural_of_class_name_as_attribute_fails_typecasting\r\n    user = User.create!\r\n    hour = user.hours.build\r\n    assert hour.save\r\n  end\r\nend\r\n```\r\n### Expected behavior\r\nA new hour object is built, and saved with only the attribute user_id assigned.\r\n\r\n### Actual behavior\r\nAn error in typecasting attempted to convert the hash `{\"user_id\"=>1}` to a float.\r\n\r\n### System configuration\r\nUsing activerecord 5.1.0\r\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin16]\r\n",
      "number": 29045,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rposborne/subscriptions",
         "received_events_url": "https://api.github.com/users/rposborne/received_events",
         "url": "https://api.github.com/users/rposborne",
         "avatar_url": "https://avatars2.githubusercontent.com/u/243989?v=4",
         "events_url": "https://api.github.com/users/rposborne/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rposborne/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rposborne/following{/other_user}",
         "repos_url": "https://api.github.com/users/rposborne/repos",
         "site_admin": false,
         "id": 243989,
         "organizations_url": "https://api.github.com/users/rposborne/orgs",
         "login": "rposborne",
         "gists_url": "https://api.github.com/users/rposborne/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rposborne/followers",
         "html_url": "https://github.com/rposborne"
      },
      "state": "closed",
      "closed_by": "29058",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29045",
      "updated_at": "2017-08-11T18:37:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29045/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 257468118,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20work",
            "color": "000000",
            "default": false,
            "name": "needs work"
         }
      ],
      "comments": 3,
      "id": 227877567,
      "closed_at": "2017-08-11T18:37:44Z",
      "created_at": "2017-05-11T04:50:20Z",
      "title": "AR containing an attribute of it's pluralized name cause typecasting exceptions.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29045/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29045/comments",
      "html_url": "https://github.com/rails/rails/issues/29045"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-delete\r\n\r\n> Deletes and returns a key-value pair from Parameters whose key is equal to key. If the key is not found, returns the default value. If the optional code block is given and the key is not found, pass in the key and return the result of block.\r\n\r\nRails 4.2.8\r\n```ruby\r\n> ActionController::Parameters.new.delete('foo') { 'default' }\r\n=> \"default\"\r\n```\r\n\r\nRails 5.0.2\r\n```ruby\r\n> ActionController::Parameters.new.delete('foo') { 'default' }\r\n=> nil\r\n```\r\n\r\nRails 5.1.0\r\n```ruby\r\n> ActionController::Parameters.new.delete('foo') { 'default' }\r\n=> nil\r\n```\r\n\r\nI found [this commit](https://github.com/rails/rails/commit/dbf67b3a6f549769c5f581b70bc0c0d880d5d5d1), not sure if this is an intentional change. If so, the comment should be updated.",
      "number": 29037,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/JasonBarnabe/subscriptions",
         "received_events_url": "https://api.github.com/users/JasonBarnabe/received_events",
         "url": "https://api.github.com/users/JasonBarnabe",
         "avatar_url": "https://avatars3.githubusercontent.com/u/583995?v=4",
         "events_url": "https://api.github.com/users/JasonBarnabe/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/JasonBarnabe/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/JasonBarnabe/following{/other_user}",
         "repos_url": "https://api.github.com/users/JasonBarnabe/repos",
         "site_admin": false,
         "id": 583995,
         "organizations_url": "https://api.github.com/users/JasonBarnabe/orgs",
         "login": "JasonBarnabe",
         "gists_url": "https://api.github.com/users/JasonBarnabe/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/JasonBarnabe/followers",
         "html_url": "https://github.com/JasonBarnabe"
      },
      "state": "closed",
      "closed_by": "29040",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29037",
      "updated_at": "2017-05-11T21:02:14Z",
      "milestone": {
         "closed_at": "2017-08-04T18:39:41Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/57",
         "description": "",
         "updated_at": "2017-08-04T18:39:41Z",
         "number": 57,
         "due_on": "2017-07-27T07:00:00Z",
         "id": 2470906,
         "open_issues": 0,
         "closed_issues": 14,
         "created_at": "2017-04-20T23:47:38Z",
         "title": "5.1.3",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/57/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/57",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/29037/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 1,
      "id": 227797754,
      "closed_at": "2017-05-11T20:43:02Z",
      "created_at": "2017-05-10T20:16:39Z",
      "title": "ActionController::Parameters#delete does use default value",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29037/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29037/comments",
      "html_url": "https://github.com/rails/rails/issues/29037"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```sh\r\nrails new as_minitest\r\ncd !$\r\nrails g scaffold user name\r\nrails test\r\n```\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\n```\r\nRun options: --seed 38686\r\n\r\n# Running:\r\n\r\n.......\r\n\r\nFinished in 1.440191s, 4.8605 runs/s, 6.2492 assertions/s.\r\n\r\n7 runs, 9 assertions, 0 failures, 0 errors, 0 skips\r\n```\r\n\r\n### Actual behavior\r\n\r\n```\r\nRunning via Spring preloader in process 24376\r\nRun options: --seed 57160\r\n\r\n# Running:\r\n\r\n.......\r\n\r\nFinished in 2.190744s, 3.1953 runs/s, 4.1082 assertions/s.\r\n/usr/local/lib/ruby/gems/2.4.0/gems/railties-5.1.0/lib/rails/test_unit/minitest_plugin.rb:9:in `aggregated_results': wrong number of arguments (given 1, expected 0) (ArgumentError)\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/minitest-5.10.2/lib/minitest.rb:597:in `report'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/minitest-5.10.2/lib/minitest.rb:687:in `each'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/minitest-5.10.2/lib/minitest.rb:687:in `report'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/minitest-5.10.2/lib/minitest.rb:141:in `run'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/railties-5.1.0/lib/rails/test_unit/minitest_plugin.rb:77:in `run'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/minitest-5.10.2/lib/minitest.rb:63:in `block in autorun'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/spring-2.0.1/lib/spring/application.rb:161:in `fork'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/spring-2.0.1/lib/spring/application.rb:161:in `serve'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/spring-2.0.1/lib/spring/application.rb:131:in `block in run'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/spring-2.0.1/lib/spring/application.rb:125:in `loop'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/spring-2.0.1/lib/spring/application.rb:125:in `run'\r\n\tfrom /usr/local/lib/ruby/gems/2.4.0/gems/spring-2.0.1/lib/spring/application/boot.rb:19:in `<top (required)>'\r\n\tfrom /usr/local/Cellar/ruby/2.4.1_1/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:55:in `require'\r\n\tfrom /usr/local/Cellar/ruby/2.4.1_1/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb:55:in `require'\r\n\tfrom -e:1:in `<main>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: confirmed on 5.1.0 and 5.0.2\r\n\r\n**Ruby version**: 2.4.1p111\r\n\r\n### Patch\r\n\r\nProblem is in minitest 5.10.2. Downgrading to 5.10.1 fixes it.\r\n\r\n```\r\necho \"gem 'minitest', '5.10.1'\" >> Gemfile\r\nbundle update minitest\r\nrails test\r\n```",
      "number": 29031,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/eddroid/subscriptions",
         "received_events_url": "https://api.github.com/users/eddroid/received_events",
         "url": "https://api.github.com/users/eddroid",
         "avatar_url": "https://avatars0.githubusercontent.com/u/94497?v=4",
         "events_url": "https://api.github.com/users/eddroid/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eddroid/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eddroid/following{/other_user}",
         "repos_url": "https://api.github.com/users/eddroid/repos",
         "site_admin": false,
         "id": 94497,
         "organizations_url": "https://api.github.com/users/eddroid/orgs",
         "login": "eddroid",
         "gists_url": "https://api.github.com/users/eddroid/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eddroid/followers",
         "html_url": "https://github.com/eddroid"
      },
      "state": "closed",
      "closed_by": "84",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29031",
      "updated_at": "2017-05-10T20:49:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29031/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 227726895,
      "closed_at": "2017-05-10T16:39:07Z",
      "created_at": "2017-05-10T15:50:26Z",
      "title": "minitest 5.10.2 breaks rails test",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29031/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29031/comments",
      "html_url": "https://github.com/rails/rails/issues/29031"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nCreate a Rakefile like this:\r\n```\r\nraise \"Make sure RAILS_ENV is not set when you run this test\" if ENV['RAILS_ENV']\r\nrequire 'rails/all'\r\nraise \"is test env, expected dev\" if ENV['RAILS_ENV'] == \"test\"\r\n\r\ntask :lol do\r\n  raise \"is test env, expected dev\" if ENV['RAILS_ENV'] == \"test\"\r\n  puts \"All is ok\"\r\nend\r\n```\r\nThen run: `rake -T`\r\n\r\n### Expected behavior\r\nIt should not set test env when running `rake -T` just like it doesn't set it for lol task.\r\n\r\n### Actual behavior\r\nIt loads test env. This is not good because maybe you installed some gems that provide rake tasks just for development env because you don't need them in tests. Now these won't be shown. Or maybe you have a nasty gem that need some envs to work and crashes `rake -T` because you haven't set up test env.\r\n\r\n### System configuration\r\n**Rails version**:\r\nTested with 5.1.0 and 4.2.7.1 and looking at the source it's there for every version of rails\r\n\r\n**Ruby version**:\r\nShouldn't matter, tested with 2.3.3",
      "number": 29028,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/timolehto/subscriptions",
         "received_events_url": "https://api.github.com/users/timolehto/received_events",
         "url": "https://api.github.com/users/timolehto",
         "avatar_url": "https://avatars3.githubusercontent.com/u/491473?v=4",
         "events_url": "https://api.github.com/users/timolehto/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/timolehto/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/timolehto/following{/other_user}",
         "repos_url": "https://api.github.com/users/timolehto/repos",
         "site_admin": false,
         "id": 491473,
         "organizations_url": "https://api.github.com/users/timolehto/orgs",
         "login": "timolehto",
         "gists_url": "https://api.github.com/users/timolehto/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/timolehto/followers",
         "html_url": "https://github.com/timolehto"
      },
      "state": "closed",
      "closed_by": "29029",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29028",
      "updated_at": "2017-05-12T00:52:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29028/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 227676715,
      "closed_at": "2017-05-12T00:52:53Z",
      "created_at": "2017-05-10T13:17:16Z",
      "title": "rake -T loads test environment",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29028/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29028/comments",
      "html_url": "https://github.com/rails/rails/issues/29028"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Since Rails 5.1, this followed line make an eager loading for empty?.\r\n`\r\ncomments = SupplierComment.where(\"DATE(created_at) = ?\", Date.yesterday).includes(:supplier)\r\ncomments.empty?\r\n`\r\n\r\nFor the first line, the SQL generated is : \r\n`SELECT  `supplier_comments`.* FROM `supplier_comments` WHERE (DATE(created_at) = '2017-05-09') ORDER BY supplier_comments.created_at DESC LIMIT 11\r\n`\r\n\r\nFor the second the SQL is : \r\n\r\n\r\n` SELECT  `supplier_comments`.* FROM `supplier_comments` LEFT OUTER JOIN `suppliers` ON `suppliers`.`id` = `supplier_comments`.`supplier_id` WHERE (DATE(created_at) = '2017-05-09') ORDER BY supplier_comments.created_at DESC`\r\n\r\nIn my code this cause an ambiguous request because of created_at on the two table.\r\nIn Rails 5.0, not LEFT OUTER JOIN was made.\r\n\r\nI suspect this commit https://github.com/rails/rails/commit/02da8aea832485044fde1b94c021a66d37d54dec\r\n\r\nThe empty? method was redefine, with support of no eager loading, but seems to not work fine ?\r\n\r\nI use Rails 5.1.0 and Ruby 2.4.0 \r\n",
      "number": 29025,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kaluznyo/subscriptions",
         "received_events_url": "https://api.github.com/users/kaluznyo/received_events",
         "url": "https://api.github.com/users/kaluznyo",
         "avatar_url": "https://avatars2.githubusercontent.com/u/372462?v=4",
         "events_url": "https://api.github.com/users/kaluznyo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaluznyo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaluznyo/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaluznyo/repos",
         "site_admin": false,
         "id": 372462,
         "organizations_url": "https://api.github.com/users/kaluznyo/orgs",
         "login": "kaluznyo",
         "gists_url": "https://api.github.com/users/kaluznyo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaluznyo/followers",
         "html_url": "https://github.com/kaluznyo"
      },
      "state": "closed",
      "closed_by": "29043",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/29025",
      "updated_at": "2017-05-11T20:46:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29025/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 227583094,
      "closed_at": "2017-05-11T20:41:10Z",
      "created_at": "2017-05-10T06:52:51Z",
      "title": "Eager loading on empty?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29025/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29025/comments",
      "html_url": "https://github.com/rails/rails/issues/29025"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I wonder if this was ever to suppose to be valid, but used to be in Rails 4. If so, #19851 caused the regression (sorry :cold_sweat:).\r\n\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  # uncomment this to run with activerecord-4.2.8\r\n  # gem \"activerecord\", \"4.2.8\"\r\n\r\n  # comment this to run with activerecord-4.2.8\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :items, force: true do |t|\r\n    t.integer \"number\"\r\n  end\r\nend\r\n\r\nclass Item < ActiveRecord::Base\r\n  validates :number, numericality: { greater_than_or_equal_to: 0 }\r\n\r\n  def number\r\n    super.to_s.rjust(4, \"0\")\r\n  end\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_leading_zeros_and_validation\r\n    item = Item.new number: 2\r\n    assert item.save\r\n    assert_equal \"0002\", item.number\r\n  end\r\nend\r\n```\r\n\r\nIt returns using `ruby-2.3.0`:\r\n```\r\nBugTest#test_leading_zeros_and_validation:\r\nArgumentError: comparison of String with 0 failed\r\n    activemodel/lib/active_model/validations/numericality.rb:57:in `>='\r\n    activemodel/lib/active_model/validations/numericality.rb:57:in `block in validate_each'\r\n    active_model/validations/numericality.rb:43:in `each'\r\n    active_model/validations/numericality.rb:43:in `validate_each'\r\n```\r\n\r\n",
      "number": 29024,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/repinel/subscriptions",
         "received_events_url": "https://api.github.com/users/repinel/received_events",
         "url": "https://api.github.com/users/repinel",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1685896?v=4",
         "events_url": "https://api.github.com/users/repinel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/repinel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/repinel/following{/other_user}",
         "repos_url": "https://api.github.com/users/repinel/repos",
         "site_admin": false,
         "id": 1685896,
         "organizations_url": "https://api.github.com/users/repinel/orgs",
         "login": "repinel",
         "gists_url": "https://api.github.com/users/repinel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/repinel/followers",
         "html_url": "https://github.com/repinel"
      },
      "state": "closed",
      "closed_by": "29249",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29024",
      "updated_at": "2017-05-30T20:26:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29024/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 6,
      "id": 227529379,
      "closed_at": "2017-05-30T01:47:18Z",
      "created_at": "2017-05-09T23:46:16Z",
      "title": "Number with get method returning String failed to validate numerically",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29024/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29024/comments",
      "html_url": "https://github.com/rails/rails/issues/29024"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nLogSubscriberTest fails with ruby 2.5.0dev.\r\nlogger `0.0ms` expected but the actual output is `0ms`.\r\n\r\n```ruby\r\n$ cd activerecord\r\n$ bundle exec ruby -w -Itest test/cases/log_subscriber_test.rb\r\n```\r\n\r\n### Expected behavior\r\nIt should finish successfully.\r\n\r\n### Actual behavior\r\n```ruby\r\n$ ruby -v\r\nruby 2.5.0dev (2017-05-10 trunk 58644) [x86_64-linux]\r\n$ bundle exec ruby -w -Itest test/cases/log_subscriber_test.rb\r\nUsing sqlite3\r\nRun options: --seed 36977\r\n\r\n# Running:\r\n\r\n...F....F...FFF.\r\n\r\nFinished in 0.084047s, 190.3690 runs/s, 642.4953 assertions/s.\r\n\r\n  1) Failure:\r\nLogSubscriberTest#test_basic_payload_name_logging_coloration_generic_sql [test/cases/log_subscriber_test.rb:100]:\r\nExpected /\\x1B\\[1m\\x1B\\[35m \\(0\\.0ms\\)\\x1B\\[0m/i to match \"  \\e[1m\\e[35m (0ms)\\e[0m  \\e[1m\\e[34mSELECT\\e[0m\".\r\n\r\n\r\n  2) Failure:\r\nLogSubscriberTest#test_query_logging_coloration_with_lock [test/cases/log_subscriber_test.rb:155]:\r\nExpected /\\x1B\\[1m\\x1B\\[35m \\(0\\.0ms\\)\\x1B\\[0m  \\x1B\\[1m\\x1B\\[37m.*FOR UPDATE.*\\x1B\\[0m/mi to match \"  \\e[1m\\e[35m (0ms)\\e[0m  \\e[1m\\e[37m      SELECT * FROM\\n        (SELECT * FROM mytable FOR UPDATE) ss\\n      WHERE col1 = 5;\\n\\e[0m\".\r\n\r\n\r\n  3) Failure:\r\nLogSubscriberTest#test_query_logging_coloration_with_nested_select [test/cases/log_subscriber_test.rb:127]:\r\nExpected /\\x1B\\[1m\\x1B\\[35m \\(0\\.0ms\\)\\x1B\\[0m  \\x1B\\[1m\\x1B\\[34mSELECT WHERE ID IN SELECT\\x1B\\[0m/i to match \"  \\e[1m\\e[35m (0ms)\\e[0m  \\e[1m\\e[34mSELECT WHERE ID IN SELECT\\e[0m\".\r\n\r\n\r\n  4) Failure:\r\nLogSubscriberTest#test_basic_payload_name_logging_coloration_named_sql [test/cases/log_subscriber_test.rb:112]:\r\nExpected /\\x1B\\[1m\\x1B\\[36mModel Load \\(0\\.0ms\\)\\x1B\\[0m/i to match \"  \\e[1m\\e[36mModel Load (0ms)\\e[0m  \\e[1m\\e[34mSELECT\\e[0m\".\r\n\r\n\r\n  5) Failure:\r\nLogSubscriberTest#test_query_logging_coloration_with_multi_line_nested_select [test/cases/log_subscriber_test.rb:142]:\r\nExpected /\\x1B\\[1m\\x1B\\[35m \\(0\\.0ms\\)\\x1B\\[0m  \\x1B\\[1m\\x1B\\[34m.*SELECT.*\\x1B\\[0m/mi to match \"  \\e[1m\\e[35m (0ms)\\e[0m  \\e[1m\\e[34m        SELECT\\n        WHERE ID IN (\\n          SELECT ID FROM THINGS\\n        )\\n\\e[0m\".\r\n\r\n16 runs, 54 assertions, 5 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n\r\n### System configuration\r\n**Rails version**:master branch\r\n\r\n**Ruby version**:ruby 2.5.0dev (2017-05-10 trunk 58644) [x86_64-linux]\r\n\r\nBased on CI log file, these tests were working fine with `ruby 2.5.0dev (2017-05-05 trunk 58572) [x86_64-linux]` at https://travis-ci.org/rails/rails/builds/229493309 then getting failed with `ruby 2.5.0dev (2017-05-07 trunk 58586) [x86_64-linux]` at https://travis-ci.org/rails/rails/builds/229724707\r\n\r\nLooks like https://svn.ruby-lang.org/cgi-bin/viewvc.cgi?revision=58586&view=revision changed this behavior.",
      "number": 29021,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "29117",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/29021",
      "updated_at": "2017-05-17T03:04:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/29021/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 227497978,
      "closed_at": "2017-05-17T03:04:33Z",
      "created_at": "2017-05-09T21:06:07Z",
      "title": "LogSubscriberTest fails with ruby 2.5.0dev ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/29021/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/29021/comments",
      "html_url": "https://github.com/rails/rails/issues/29021"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nRun [this small self contained rails application](https://github.com/mijoharas/rails-dependency-autoloading-bug-ssce) keeping `config.eager_load = false`. Try to navigate to root path `/`. Observe error message:\r\n\r\n```\r\nNameError (uninitialized constant TestClass::ChildClass):\r\n  \r\napp/models/test_class.rb:4:in `foobar'\r\napp/controllers/test_controller.rb:3:in `test'\r\n```\r\nSee [README.md](https://github.com/mijoharas/rails-dependency-autoloading-bug-ssce/blob/master/README.md) for a short explanation of what's going on.\r\n\r\n### Expected behavior\r\nWhen run with `config.eager_load = true` there is no error message and the page is displayed.\r\n\r\n### Actual behavior\r\nConstant autoloading has failed to load the transitively included class `TestClass`.\r\n\r\nExplanation:\r\n\r\nWe have a class `TestClass` which includes a module `IncludeModule`. `IncludeModule` itself also includes a module called `ContainerModule` which contains a class `ChildClass`.\r\n\r\nWe simply want to access `ChildClass` from within `TestClass` to call a method on it. This does not seem to be allowed by rails constant autoloading.\r\n\r\n### System configuration\r\n**Rails version**: ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n\r\n**Ruby version**: Rails 5.1.0\r\n",
      "number": 28997,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mijoharas/subscriptions",
         "received_events_url": "https://api.github.com/users/mijoharas/received_events",
         "url": "https://api.github.com/users/mijoharas",
         "avatar_url": "https://avatars0.githubusercontent.com/u/4069743?v=4",
         "events_url": "https://api.github.com/users/mijoharas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mijoharas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mijoharas/following{/other_user}",
         "repos_url": "https://api.github.com/users/mijoharas/repos",
         "site_admin": false,
         "id": 4069743,
         "organizations_url": "https://api.github.com/users/mijoharas/orgs",
         "login": "mijoharas",
         "gists_url": "https://api.github.com/users/mijoharas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mijoharas/followers",
         "html_url": "https://github.com/mijoharas"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28997",
      "updated_at": "2017-08-29T14:12:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28997/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 11,
      "id": 226625478,
      "closed_at": "2017-08-26T12:05:14Z",
      "created_at": "2017-05-05T16:28:55Z",
      "title": "Rails constant autoloading fails to load modules transitively.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28997/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28997/comments",
      "html_url": "https://github.com/rails/rails/issues/28997"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nIf you add the module via yarn (or npm) - https://www.npmjs.com/package/rails-ujs and them run import 'rails-ujs'; it doesn't fire the the rails-ujs properly. After digging around in the source I realised because of the way your running the module.exports method you need to do the following:\r\n\r\n```javascript\r\nimport Rails from 'rails-ujs';\r\nif(Rails.fire(document, 'rails:attachBindings')){\r\n  Rails.start();\r\n}\r\n```\r\n\r\nWhile this isn't a massive problem it took a little bit of figuring out why it wasn't trigger.  My suggestion is either to tweak your js code so:\r\n\r\n```javascript\r\nif (typeof module === \"object\" && module.exports) {\r\n    module.exports = Rails;\r\n  } else if (typeof define === \"function\" && define.amd) {\r\n    define(Rails);\r\n  }\r\n```\r\n\r\nshould become:\r\n\r\n```javascript\r\nif (typeof module === \"object\" && module.exports) {\r\n    module.exports = ()=>{\r\n        if(Rails.fire(document, 'rails:attachBindings')){\r\n          Rails.start();\r\n        }\r\n        return Rails;\r\n    }\r\n  } else if (typeof define === \"function\" && define.amd) {\r\n    define(Rails);\r\n  }\r\n```\r\nThen you could just call to start it:\r\n\r\n```javascript\r\nimport Rails from 'rails-ujs';\r\nconst ujs =  Rails();\r\n```\r\n\r\nAlternatively it might be worth updating the readme for module so if someone wants to use rails-ujs through webpack it's clear what you need to do?\r\n\r\nHappy to issue a pull request on the JS updates if you want me too.",
      "number": 28992,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/djforth/subscriptions",
         "received_events_url": "https://api.github.com/users/djforth/received_events",
         "url": "https://api.github.com/users/djforth",
         "avatar_url": "https://avatars1.githubusercontent.com/u/199551?v=4",
         "events_url": "https://api.github.com/users/djforth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/djforth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/djforth/following{/other_user}",
         "repos_url": "https://api.github.com/users/djforth/repos",
         "site_admin": false,
         "id": 199551,
         "organizations_url": "https://api.github.com/users/djforth/orgs",
         "login": "djforth",
         "gists_url": "https://api.github.com/users/djforth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/djforth/followers",
         "html_url": "https://github.com/djforth"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28992",
      "updated_at": "2017-05-29T23:51:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28992/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 11,
      "id": 226595267,
      "closed_at": "2017-05-26T22:40:00Z",
      "created_at": "2017-05-05T14:43:50Z",
      "title": "Enhancement - rails_ujs node module doesn't fire without additional code",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28992/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28992/comments",
      "html_url": "https://github.com/rails/rails/issues/28992"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nOpen the rails console with simple-prompt:\r\n\r\n```\r\nrails c -- --simple-prompt\r\n```\r\n\r\n### Expected behavior\r\n\r\nRails console should open with just >> as the prompt.\r\n\r\n### Actual behavior\r\n\r\nUnrelated error message is thrown in the console. The flag `config.eager_load` is set in all environments.\r\n\r\n```\r\nconfig.eager_load is set to nil. Please update your config/environments/*.rb files accordingly:\r\n\r\n  * development - set it to false\r\n  * test - set it to false (unless you use a tool that preloads your test environment)\r\n  * production - set it to true\r\n\r\n/Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/connection_adapters/connection_specification.rb:246:in `resolve_symbol_connection': '--simple-prompt' database is not configured. Available: [\"development\", \"test\"] (ActiveRecord::AdapterNotSpecified)\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/connection_adapters/connection_specification.rb:227:in `resolve_connection'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/connection_adapters/connection_specification.rb:141:in `resolve'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/connection_handling.rb:55:in `establish_connection'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/railtie.rb:124:in `block (2 levels) in <class:Railtie>'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/lazy_load_hooks.rb:45:in `instance_eval'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/lazy_load_hooks.rb:45:in `execute_hook'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/lazy_load_hooks.rb:52:in `block in run_load_hooks'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/lazy_load_hooks.rb:51:in `each'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/lazy_load_hooks.rb:51:in `run_load_hooks'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/base.rb:326:in `<module:ActiveRecord>'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/base.rb:25:in `<top (required)>'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/dependencies.rb:292:in `require'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/dependencies.rb:292:in `block in require'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/dependencies.rb:258:in `load_dependency'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activesupport-5.1.0/lib/active_support/dependencies.rb:292:in `require'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/activerecord-5.1.0/lib/active_record/railtie.rb:52:in `block in <class:Railtie>'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/railtie.rb:228:in `block in run_console_blocks'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/railtie.rb:250:in `each'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/railtie.rb:250:in `each_registered_block'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/railtie.rb:228:in `run_console_blocks'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/application.rb:460:in `block in run_console_blocks'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/engine/railties.rb:13:in `each'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/engine/railties.rb:13:in `each'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/application.rb:460:in `run_console_blocks'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/engine.rb:442:in `load_console'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/commands/console/console_command.rb:27:in `initialize'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/commands/console/console_command.rb:17:in `new'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/commands/console/console_command.rb:17:in `start'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/commands/console/console_command.rb:85:in `perform'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/thor-0.19.4/lib/thor/command.rb:27:in `run'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/thor-0.19.4/lib/thor/invocation.rb:126:in `invoke_command'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/thor-0.19.4/lib/thor.rb:369:in `dispatch'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/command/base.rb:63:in `perform'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/command.rb:44:in `invoke'\r\n\tfrom /Users/bparanj/.rvm/gems/ruby-2.4.0@r51/gems/railties-5.1.0/lib/rails/commands.rb:16:in `<top (required)>'\r\n\tfrom bin/rails:4:in `require'\r\n\tfrom bin/rails:4:in `<main>'\r\n```\r\n\r\n\r\n### System configuration\r\n\r\n**Rails version**:\r\n\r\nRails 5.1.0\r\n\r\n**Ruby version**:\r\n\r\nruby 2.4.0p0 (2016-12-24 revision 57164) [x86_64-darwin13]\r\n",
      "number": 28988,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bparanj/subscriptions",
         "received_events_url": "https://api.github.com/users/bparanj/received_events",
         "url": "https://api.github.com/users/bparanj",
         "avatar_url": "https://avatars0.githubusercontent.com/u/12740?v=4",
         "events_url": "https://api.github.com/users/bparanj/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bparanj/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bparanj/following{/other_user}",
         "repos_url": "https://api.github.com/users/bparanj/repos",
         "site_admin": false,
         "id": 12740,
         "organizations_url": "https://api.github.com/users/bparanj/orgs",
         "login": "bparanj",
         "gists_url": "https://api.github.com/users/bparanj/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bparanj/followers",
         "html_url": "https://github.com/bparanj"
      },
      "state": "closed",
      "closed_by": "29010",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28988",
      "updated_at": "2017-08-14T22:15:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28988/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 226472483,
      "closed_at": "2017-05-14T00:32:40Z",
      "created_at": "2017-05-05T04:39:59Z",
      "title": "Rails Console Simple Prompt Option is Broken",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28988/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28988/comments",
      "html_url": "https://github.com/rails/rails/issues/28988"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "```\r\nRails 5.2.0.alpha\r\n```\r\n\r\n```\r\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin16]\r\n```\r\n\r\n```\r\nruby -Ilib:test test/core_ext/duration_test.rb\r\nRun options: --seed 6802\r\n\r\n# Running:\r\n\r\n...........................................F............\r\n\r\nFinished in 0.059317s, 944.0801 runs/s, 4754.1177 assertions/s.\r\n\r\n  1) Failure:\r\nDurationTest#test_implicit_coercion [test/core_ext/duration_test.rb:289]:\r\nExpected: Tue, 03 Jan 2017\r\n  Actual: 2017-01-03 00:00:00 +0800\r\n\r\n56 runs, 282 assertions, 1 failures, 0 errors, 0 skips\r\n```",
      "number": 28970,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ilyario/subscriptions",
         "received_events_url": "https://api.github.com/users/ilyario/received_events",
         "url": "https://api.github.com/users/ilyario",
         "avatar_url": "https://avatars2.githubusercontent.com/u/945905?v=4",
         "events_url": "https://api.github.com/users/ilyario/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ilyario/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ilyario/following{/other_user}",
         "repos_url": "https://api.github.com/users/ilyario/repos",
         "site_admin": false,
         "id": 945905,
         "organizations_url": "https://api.github.com/users/ilyario/orgs",
         "login": "ilyario",
         "gists_url": "https://api.github.com/users/ilyario/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ilyario/followers",
         "html_url": "https://github.com/ilyario"
      },
      "state": "closed",
      "closed_by": "29163",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28970",
      "updated_at": "2017-05-21T16:15:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28970/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 225943821,
      "closed_at": "2017-05-21T16:15:04Z",
      "created_at": "2017-05-03T10:34:43Z",
      "title": "Error DurationTest#test_implicit_coercion",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28970/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28970/comments",
      "html_url": "https://github.com/rails/rails/issues/28970"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Apologies if this has been reported (or closed!) before, I searched the issues but wasn't able to find something similar. I'm also not certain what the \"correct\" behavior should be, so if this is actually my own fault and not a bug, I'd be happy to hear that too. \ud83d\ude04 \r\n\r\n### Steps to reproduce\r\n\r\nCreate an scoped association that includes an array of enum values in the where clause. (See the `warm_comments` association below:\r\n\r\n```ruby\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\n  has_many :warm_comments, -> { where(comment_color: [:red, :orange, :yellow]) }, class_name: 'Comment'\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\n  enum comment_color: {\r\n    red: 0,\r\n    orange: 1,\r\n    yellow: 2,\r\n    green: 3,\r\n    indigo: 4,\r\n    blue: 5\r\n  }\r\nend\r\n```\r\n\r\nThen call that association:\r\n```ruby\r\n    post = Post.create!\r\n    post.comments.create(\r\n      [\r\n        { comment_color: :red },\r\n        { comment_color: :orange },\r\n        { comment_color: :indigo },\r\n        { comment_color: :blue },\r\n        { comment_color: :green }\r\n      ]\r\n    )\r\n\r\n    post.warm_comments \r\n```\r\n\r\n### Expected behavior\r\nComments are returned: \r\n```ruby\r\npost.warm_comments\r\n=> [#<Comment:0x007faecdb58640 id: 1, post_id: 1, comment_color: \"red\">, #<Comment:0x007faeca656eb0 id: 2, post_id: 1, comment_color: \"orange\">]\r\n```\r\nThe following SQL is generated (note the values `(0, 1, 2)` inside the `IN` condition)\r\n```sql\r\nSELECT \"comments\".* FROM \"comments\" WHERE \"comments\".\"post_id\" = ? AND \"comments\".\"comment_color\" IN (0, 1, 2)\r\n```\r\n\r\n### Actual behavior\r\nWith sqlite, an empty array is returned. With postgres, a `PG::InvalidTextRepresentation: ERROR: invalid input syntax for integer` error is thrown, as the column type is an integer.\r\n```ruby\r\npost.warm_comments\r\n=> []\r\n```\r\nThe following SQL is generated (note the values `('red', 'orange', 'yellow')` inside the `IN` condition)\r\n```sql\r\nSELECT \"comments\".* FROM \"comments\" WHERE \"comments\".\"post_id\" = ? AND \"comments\".\"comment_color\" IN ('red', 'orange', 'yellow')\r\n```\r\n\r\n### System configuration\r\n**Rails version**: \r\n* Expected behavior observed on v5.0.2\r\n* Actual behavior observed on v5.1.0\r\n\r\n**Ruby version**: v2.3.1p112\r\n\r\n### Test Case\r\nI used `git bisect` with the following executable test case. Assuming that I did it right (definitely an assumption! \ud83d\ude06), it seems that commit 111ccc8 is what introduced the actual behavior. \r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # gem \"rails\", '= 5.0.2'\r\n  gem \"rails\", '= 5.1.0'\r\n  # gem \"rails\", path: '~/src/rails'\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n    t.integer  :comment_color, default: 0, null: false\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\n  has_many :warm_comments, -> { where(comment_color: [:red, :orange, :yellow]) }, class_name: 'Comment'\r\n\r\n  def cool_comments\r\n    comments.where(comment_color: [:blue, :green, :indigo])\r\n  end\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\n  enum comment_color: {\r\n    red: 0,\r\n    orange: 1,\r\n    yellow: 2,\r\n    green: 3,\r\n    indigo: 4,\r\n    blue: 5\r\n  }\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def setup\r\n    @post = Post.create!\r\n    @post.comments.create(\r\n      [\r\n        { comment_color: :red },\r\n        { comment_color: :orange },\r\n        { comment_color: :indigo },\r\n        { comment_color: :blue },\r\n        { comment_color: :green }\r\n      ]\r\n    )\r\n  end\r\n\r\n  def test_cool_comments\r\n    # \u2705 Rails 5.0.2:\r\n    #   SELECT COUNT(*) FROM \"comments\" WHERE \"comments\".\"post_id\" = ? AND \"comments\".\"comment_color\" IN (5, 3, 4)  [[\"post_id\", 2]]\r\n    #\r\n    # \u2705 Rails 5.1.0:\r\n    #   SELECT COUNT(*) FROM \"comments\" WHERE \"comments\".\"post_id\" = ? AND \"comments\".\"comment_color\" IN (5, 3, 4)  [[\"post_id\", 2]]\r\n    assert_equal 3, @post.cool_comments.count\r\n  end\r\n\r\n  def test_warm_comments\r\n    # \u2705 Rails 5.0.2:\r\n    #   SELECT COUNT(*) FROM \"comments\" WHERE \"comments\".\"post_id\" = ? AND \"comments\".\"comment_color\" IN (0, 1, 2)  [[\"post_id\", 2]]\r\n    #\r\n    # \u26d4 Rails 5.1.0:\r\n    #   SELECT COUNT(*) FROM \"comments\" WHERE \"comments\".\"post_id\" = ? AND \"comments\".\"comment_color\" IN ('red', 'orange', 'yellow')  [[\"post_id\", 1]]\r\n    assert_equal 2, @post.warm_comments.count\r\n\r\n    # Git bisect suggests that this behavior changed as of commit: \r\n    #   https://github.com/rails/rails/commit/111ccc8\r\n    # Which was a fix for #27666:\r\n    #   https://github.com/rails/rails/issues/27666\r\n  end\r\nend\r\n```",
      "number": 28959,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/johnreilly/subscriptions",
         "received_events_url": "https://api.github.com/users/johnreilly/received_events",
         "url": "https://api.github.com/users/johnreilly",
         "avatar_url": "https://avatars2.githubusercontent.com/u/4545?v=4",
         "events_url": "https://api.github.com/users/johnreilly/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/johnreilly/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/johnreilly/following{/other_user}",
         "repos_url": "https://api.github.com/users/johnreilly/repos",
         "site_admin": false,
         "id": 4545,
         "organizations_url": "https://api.github.com/users/johnreilly/orgs",
         "login": "johnreilly",
         "gists_url": "https://api.github.com/users/johnreilly/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/johnreilly/followers",
         "html_url": "https://github.com/johnreilly"
      },
      "state": "closed",
      "closed_by": "28961",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28959",
      "updated_at": "2017-05-11T21:02:39Z",
      "milestone": {
         "closed_at": "2017-08-04T18:39:41Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/57",
         "description": "",
         "updated_at": "2017-08-04T18:39:41Z",
         "number": 57,
         "due_on": "2017-07-27T07:00:00Z",
         "id": 2470906,
         "open_issues": 0,
         "closed_issues": 14,
         "created_at": "2017-04-20T23:47:38Z",
         "title": "5.1.3",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/57/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/57",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28959/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 225741862,
      "closed_at": "2017-05-02T21:55:55Z",
      "created_at": "2017-05-02T16:01:16Z",
      "title": "5.1 Scoped associations generate SQL with enum strings instead of integers",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28959/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28959/comments",
      "html_url": "https://github.com/rails/rails/issues/28959"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Context and TL;DR\r\nI'm trying to put rails on top of a legacy DB.\r\nThis DB stores enumerated status information in the `tp_Measure.Disposal_Unit` column (as `Integer`).\r\nSome of these enum values are `NULL` instead of an `int`. When calling the class scope for the values that are `NULL`, the generated `WHERE` statement checks equality with `= NULL` instead of `IS NULL`.\r\n\r\nI am aware that this may be a very rare use case and would like to know if others have had this problem as well, or if the enum implementation is not supposed to handle this case.\r\n\r\nBelow you'll find code to describe the issue in more detail. If you think that this might really be a bug, I'll gladly prepare a test case and/or reproduction scenario.\r\n\r\n### Steps to reproduce\r\nCreate a class that has an enum where one enum value is `nil` instead of an int or string.\r\nCreate some records of this class that have `nil` as their enum value.\r\n```ruby\r\nclass Measure < ApplicationRecord\r\n  self.table_name = 'tp_Measure'\r\n\r\n  alias_attribute :disposal_unit, :Disposal_Unit\r\n\r\n  enum disposal_unit: {\r\n    cubic_meter: 1,\r\n    tons: 2,\r\n    no_data: 0,\r\n    nothing: nil\r\n  }\r\nend\r\n```\r\n\r\n### Expected behavior\r\nWhen calling the generated scopes, the generated SQL statement should consider the possibility that instead of a correctly set enum value, the DB value might be `nil`, and therefore generate the following `WHERE` condition:\r\n\r\n```ruby\r\nirb(main):017:0> Measure.nothing\r\n  Measure Load (1.4ms)  SELECT `tp_Measure`.* FROM `tp_Measure` WHERE `tp_Measure`.`Disposal_Unit` IS NULL\r\n=> #<ActiveRecord::Relation [#<Measure ... >, #<Measure ... >, ...]>\r\n```\r\n\r\n### Actual behavior\r\nCurrently, it is just assumed that the enum DB column only contains enum values and it is always possible to query the DB with the `=` operator.\r\n\r\nWhen calling the generated class scope `Measure.nothing`:\r\n```ruby\r\nirb(main):017:0> Measure.nothing\r\n  Measure Load (1.4ms)  SELECT `tp_Measure`.* FROM `tp_Measure` WHERE `tp_Measure`.`Disposal_Unit` = NULL\r\n=> #<ActiveRecord::Relation []>\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n**ActiveRecord version**: 5.0.2\r\n**Ruby version**: ruby 2.4.0p0 (2016-12-24 revision 57164) [x86_64-darwin16]\r\n",
      "number": 28945,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jugglinghobo/subscriptions",
         "received_events_url": "https://api.github.com/users/jugglinghobo/received_events",
         "url": "https://api.github.com/users/jugglinghobo",
         "avatar_url": "https://avatars2.githubusercontent.com/u/814278?v=4",
         "events_url": "https://api.github.com/users/jugglinghobo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jugglinghobo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jugglinghobo/following{/other_user}",
         "repos_url": "https://api.github.com/users/jugglinghobo/repos",
         "site_admin": false,
         "id": 814278,
         "organizations_url": "https://api.github.com/users/jugglinghobo/orgs",
         "login": "jugglinghobo",
         "gists_url": "https://api.github.com/users/jugglinghobo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jugglinghobo/followers",
         "html_url": "https://github.com/jugglinghobo"
      },
      "state": "closed",
      "closed_by": "29282",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28945",
      "updated_at": "2017-06-02T18:53:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28945/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 225433083,
      "closed_at": "2017-06-02T18:53:02Z",
      "created_at": "2017-05-01T13:17:53Z",
      "title": "enum scope generates wrong SQL WHERE condition when using nil as an enum value",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28945/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28945/comments",
      "html_url": "https://github.com/rails/rails/issues/28945"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```\r\ngem install activesupport -v 5.1.0\r\nirb\r\nrequire 'active_support/core_ext/date_time/compatibility'\r\n```\r\n\r\n### Expected behavior\r\n\r\nrequire operation should return true.\r\n\r\n### Actual behavior\r\n\r\n```\r\nNoMethodError: undefined method `remove_possible_method' for DateTime:Class\r\nDid you mean?  remove_method\r\nfrom /home/g_seux/.gem/ruby/2.4.0/gems/activesupport-5.1.0/lib/active_support/core_ext/date_time/compatibility.rb:6:in `<class:DateTime>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 28918,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kamaradclimber/subscriptions",
         "received_events_url": "https://api.github.com/users/kamaradclimber/received_events",
         "url": "https://api.github.com/users/kamaradclimber",
         "avatar_url": "https://avatars1.githubusercontent.com/u/503537?v=4",
         "events_url": "https://api.github.com/users/kamaradclimber/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kamaradclimber/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kamaradclimber/following{/other_user}",
         "repos_url": "https://api.github.com/users/kamaradclimber/repos",
         "site_admin": false,
         "id": 503537,
         "organizations_url": "https://api.github.com/users/kamaradclimber/orgs",
         "login": "kamaradclimber",
         "gists_url": "https://api.github.com/users/kamaradclimber/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kamaradclimber/followers",
         "html_url": "https://github.com/kamaradclimber"
      },
      "state": "closed",
      "closed_by": "28920",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28918",
      "updated_at": "2017-08-07T03:57:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28918/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 225019887,
      "closed_at": "2017-04-28T22:00:21Z",
      "created_at": "2017-04-28T08:58:42Z",
      "title": "Failure when requiring 'active_support/core_ext/date_time/compatibility'",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28918/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28918/comments",
      "html_url": "https://github.com/rails/rails/issues/28918"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nrails new blog --dev # pointing to 5-1-stable\r\nedit config/routes.rb and add `resources :articles`\r\nrails s\r\nvisit localhost:3000/articles/new\r\n\r\nShows error: http://take.ms/GSbZ9\r\n\r\nOn Rails 5.0.2, it shows proper routing error: https://monosnap.com/file/hDZjt99m2vkXe3kP9K1hxhz0uALq1f\r\n\r\nPuma version: 3.8.2\r\n\r\nStacktrace: https://gist.github.com/prathamesh-sonpatki/c2f97d0540adbc9562171b9a0787b39a\r\n\r\nLooks like it is rendering the [FAILSAFE response](https://github.com/rails/rails/blob/eac6f3690fd245b9d72aadcfa365ed16c4ef8b96/actionpack/lib/action_dispatch/middleware/show_exceptions.rb#L18) but not sure why.\r\n\r\nFound this while following the steps from getting started guide on the new app created from 5-1-stable branch.\r\n\r\ncc @rafaelfranca ",
      "number": 28892,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "state": "closed",
      "closed_by": "28897",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/28892",
      "updated_at": "2017-04-27T22:01:47Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28892/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 224601095,
      "closed_at": "2017-04-27T03:54:13Z",
      "created_at": "2017-04-26T21:13:07Z",
      "title": "Rails 5.1 showing wrong error message when routing error happens",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28892/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28892/comments",
      "html_url": "https://github.com/rails/rails/issues/28892"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n- Generate new app with default error pages\r\n- raise error (such as 404) in prod environment (e.g. Heroku)\r\n- click back button\r\n\r\n### Expected behavior\r\n- Error pages' styles should not bleed into app pages when going backwards from error pages\r\n\r\n### Actual behavior\r\n- Styles such as `body { text-align: center }` bleed into app pages when using the back button from an error page\r\n\r\n- Full repro visibile at https://rails-error-page-turbolinks.herokuapp.com/\r\n- Source for Repro at https://github.com/halfbyte/rails_error_page_turbolinks\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.rc1\r\n\r\n**Ruby version**: irrelevant, but tested with 2.3.4 on Heroku\r\n\r\n### Pull Request\r\n\r\nI have a pull request ready that fixes this issue by simply namespacing all selectors in the error pages.",
      "number": 28813,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/halfbyte/subscriptions",
         "received_events_url": "https://api.github.com/users/halfbyte/received_events",
         "url": "https://api.github.com/users/halfbyte",
         "avatar_url": "https://avatars0.githubusercontent.com/u/299?v=4",
         "events_url": "https://api.github.com/users/halfbyte/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/halfbyte/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/halfbyte/following{/other_user}",
         "repos_url": "https://api.github.com/users/halfbyte/repos",
         "site_admin": false,
         "id": 299,
         "organizations_url": "https://api.github.com/users/halfbyte/orgs",
         "login": "halfbyte",
         "gists_url": "https://api.github.com/users/halfbyte/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/halfbyte/followers",
         "html_url": "https://github.com/halfbyte"
      },
      "state": "closed",
      "closed_by": "28814",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28813",
      "updated_at": "2017-04-20T19:10:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28813/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 0,
      "id": 223132343,
      "closed_at": "2017-04-20T18:03:15Z",
      "created_at": "2017-04-20T16:53:14Z",
      "title": "Default error pages' CSS selectors bleed into application pages when back button is used",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28813/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28813/comments",
      "html_url": "https://github.com/rails/rails/issues/28813"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "#### Environment:\r\n```\r\n$ more /etc/redhat-release\r\nFedora release 25 (Twenty Five)\r\n```\r\n* Enable PostgreSQL 10 repository https://yum.postgresql.org/repopackages.php#pg10\r\n```\r\n$ rpm -qa |grep postgresql10\r\npostgresql10-devel-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-libs-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-server-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-contrib-10.0-20170418_1PGDG.f25.6.x86_64\r\n$\r\n```\r\n\r\n* Ruby and bundler version\r\n```\r\n$ ruby -v\r\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n```\r\n\r\n```ruby\r\n$ bundle show |grep pg\r\n  * pg (0.19.0)\r\n```\r\n\r\n#### Steps to reproduce:\r\n```\r\n$ git clone https://github.com/rails/rails.git\r\n$ cd rails/activerecord\r\n$ bundle exec rake db:postgresql:build\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/adapters/postgresql/postgresql_adapter_test.rb -n test_only_warn_on_first_encounter_of_unknown_oid\r\n```\r\n\r\n#### Results:\r\n\r\n```ruby\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/adapters/postgresql/postgresql_adapter_test.rb -n test_only_warn_on_first_encounter_of_unknown_oid\r\nUsing postgresql\r\nRun options: -n test_only_warn_on_first_encounter_of_unknown_oid --seed 53520\r\n\r\n# Running:\r\n\r\nF\r\n\r\nFinished in 0.005474s, 182.6917 runs/s, 365.3834 assertions/s.\r\n\r\n  1) Failure:\r\nActiveRecord::ConnectionAdapters::PostgreSQLAdapterTest#test_only_warn_on_first_encounter_of_unknown_oid [test/cases/adapters/postgresql/postgresql_adapter_test.rb:349]:\r\nExpected /\\Aunknown OID \\d+: failed to recognize type of 'anyelement'. It will be treated as String.\\n\\z/ to match \"\".\r\n\r\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n#### Additional information:\r\n\r\nDoing a puts debug and found `ftype` value differneces between PostgreSQL 9.5 and PostgreSQL 10(development).\r\nPostgreSQL 9.5 returns `705`.  PostgreSQL 10 returns `25`.\r\n\r\nhttps://github.com/yahonda/rails/commit/46b69af969825aa886465e42e3d166fb1689cd1b\r\n\r\n```ruby\r\n        def exec_query(sql, name = \"SQL\", binds = [], prepare: false)\r\n          execute_and_clear(sql, name, binds, prepare: prepare) do |result|\r\n            types = {}\r\n            fields = result.fields\r\n            fields.each_with_index do |fname, i|\r\n              ftype = result.ftype i\r\n              fmod  = result.fmod i\r\n              types[fname] = get_oid_type(ftype, fmod, fname)\r\n              puts '----------------------------------------------'\r\n              puts \"ftype: #{ftype}\"\r\n              puts \"fmod: #{fmod}\"\r\n              puts \"types[fname].class: #{types[fname].class}\"\r\n              puts '----------------------------------------------'\r\n            end\r\n            ActiveRecord::Result.new(fields, result.values, types)\r\n          end\r\n        end\r\n```\r\n\r\n* PostgreSQL 10devel : `ftype` returns 25\r\n\r\n```ruby\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/adapters/postgresql/postgresql_adapter_test.rb -n test_only_warn_on_first_encounter_of_unknown_oid\r\nUsing postgresql\r\nRun options: -n test_only_warn_on_first_encounter_of_unknown_oid --seed 62533\r\n\r\n# Running:\r\n\r\n----------------------------------------------\r\nftype: 25\r\nfmod: -1\r\ntypes[fname].class: ActiveRecord::Type::Text\r\n----------------------------------------------\r\n----------------------------------------------\r\nftype: 25\r\nfmod: -1\r\ntypes[fname].class: ActiveRecord::Type::Text\r\n----------------------------------------------\r\n----------------------------------------------\r\nftype: 25\r\nfmod: -1\r\ntypes[fname].class: ActiveRecord::Type::Text\r\n----------------------------------------------\r\nF\r\n\r\nFinished in 0.006237s, 160.3431 runs/s, 320.6862 assertions/s.\r\n\r\n  1) Failure:\r\nActiveRecord::ConnectionAdapters::PostgreSQLAdapterTest#test_only_warn_on_first_encounter_of_unknown_oid [test/cases/adapters/postgresql/postgresql_adapter_test.rb:349]:\r\nExpected /\\Aunknown OID \\d+: failed to recognize type of 'anyelement'. It will be treated as String.\\n\\z/ to match \"\".\r\n\r\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n\r\n* PostgreSQL 9.5.6 : `ftype` returns `705`\r\n\r\n```ruby\r\nubuntu@rails-dev-box:~/git/rails/activerecord$  ARCONN=postgresql bundle exec ruby -w -Itest test/cases/adapters/postgresql/postgresql_adapter_test.rb -n test_only_warn_on_first_encounter_of_unknown_oid\r\nUsing postgresql\r\nRun options: -n test_only_warn_on_first_encounter_of_unknown_oid --seed 57569\r\n\r\n# Running:\r\n\r\n----------------------------------------------\r\nftype: 705\r\nfmod: -1\r\ntypes[fname].class: ActiveModel::Type::Value\r\n----------------------------------------------\r\n----------------------------------------------\r\nftype: 705\r\nfmod: -1\r\ntypes[fname].class: ActiveModel::Type::Value\r\n----------------------------------------------\r\n----------------------------------------------\r\nftype: 705\r\nfmod: -1\r\ntypes[fname].class: ActiveModel::Type::Value\r\n----------------------------------------------\r\n.\r\n\r\nFinished in 0.006626s, 150.9141 runs/s, 301.8282 assertions/s.\r\n\r\n1 runs, 2 assertions, 0 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### System configuration\r\n**Rails version**: master branch\r\n\r\n**Ruby version**:ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n\r\n",
      "number": 28799,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "28868",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28799",
      "updated_at": "2017-06-06T19:33:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28799/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 257468118,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20work",
            "color": "000000",
            "default": false,
            "name": "needs work"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 8,
      "id": 222811524,
      "closed_at": "2017-06-06T19:33:56Z",
      "created_at": "2017-04-19T17:26:08Z",
      "title": "PostgreSQL 10 : test_only_warn_on_first_encounter_of_unknown_oid fails due to OID changes from 705 to 25",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28799/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28799/comments",
      "html_url": "https://github.com/rails/rails/issues/28799"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "#### Environment:\r\n```\r\n$ more /etc/redhat-release\r\nFedora release 25 (Twenty Five)\r\n```\r\n* Enable PostgreSQL 10 repository https://yum.postgresql.org/repopackages.php#pg10\r\n```\r\n$ rpm -qa |grep postgresql10\r\npostgresql10-devel-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-libs-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-server-10.0-20170418_1PGDG.f25.6.x86_64\r\npostgresql10-contrib-10.0-20170418_1PGDG.f25.6.x86_64\r\n$\r\n```\r\n\r\n* Ruby and bundler version\r\n```\r\n$ ruby -v\r\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n```\r\n\r\n```ruby\r\n$ bundle show |grep pg\r\n  * pg (0.19.0)\r\n```\r\n\r\n#### Steps to reproduce:\r\n```\r\n$ git clone https://github.com/rails/rails.git\r\n$ cd rails/activerecord\r\n$ bundle exec rake db:postgresql:build\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/defaults_test.rb -n test_schema_dump_includes_default_expression\r\n\r\n```\r\n#### Results:\r\n\r\n```ruby\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/defaults_test.rb -n test_schema_dump_includes_default_expression\r\nUsing postgresql\r\nRun options: -n test_schema_dump_includes_default_expression --seed 16977\r\n\r\n# Running:\r\n\r\nF\r\n\r\nFinished in 0.455051s, 2.1976 runs/s, 4.3951 assertions/s.\r\n\r\n  1) Failure:\r\nPostgresqlDefaultExpressionTest#test_schema_dump_includes_default_expression [test/cases/defaults_test.rb:90]:\r\nExpected /t\\.date\\s+\"modified_date\",\\s+default: -> { \"\\('now'::text\\)::date\" }/ to match \"# This file is auto-generated from the current state of the database. Instead\\n# of editing this file, please use the migrations feature of Active Record to\\n# incrementally modify your database, and then regenerate this schema definition.\\n#\\n# Note that this schema.rb definition is the authoritative source for your\\n# database schema. If you need to create the application database on another\\n# system, you should be using db:schema:load, not running all the migrations\\n# from scratch. The latter is a flawed and unsustainable approach (the more migrations\\n# you'll amass, the slower it'll run and the greater likelihood for issues).\\n#\\n# It's strongly recommended that you check this file into your version control system.\\n\\nActiveRecord::Schema.define(version: 0) do\\n\\n  # These are extensions that must be enabled in order to support this database\\n  enable_extension \\\"plpgsql\\\"\\n  enable_extension \\\"uuid-ossp\\\"\\n  enable_extension \\\"pgcrypto\\\"\\n  enable_extension \\\"ltree\\\"\\n\\n  create_table \\\"defaults\\\", force: :cascade do |t|\\n    t.date \\\"modified_date\\\"\\n    t.date \\\"modified_date_function\\\", default: -> { \\\"now()\\\" }\\n    t.date \\\"fixed_date\\\", default: \\\"2004-01-01\\\"\\n    t.datetime \\\"modified_time\\\"\\n    t.datetime \\\"modified_time_function\\\", default: -> { \\\"now()\\\" }\\n    t.datetime \\\"fixed_time\\\", default: \\\"2004-01-01 00:00:00\\\"\\n    t.string \\\"char1\\\", limit: 1, default: \\\"Y\\\"\\n    t.string \\\"char2\\\", limit: 50, default: \\\"a varchar field\\\"\\n    t.text \\\"char3\\\", default: \\\"a text field\\\"\\n    t.bigint \\\"bigint_default\\\", default: 0\\n    t.text \\\"multiline_default\\\", default: \\\"--- []\\\\n\\\\n\\\"\\n  end\\n\\nend\\n\".\r\n\r\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n#### Additional information:\r\n\r\nIt looks this behavior change is introduced by [psql: Split up \"Modifiers\" column in \\d and \\dD](https://github.com/postgres/postgres/commit/a0f357e570c)\r\n\r\n* PostgreSQL version\r\n\r\n```sql\r\nactiverecord_unittest=# select version();\r\n                                                  version\r\n-----------------------------------------------------------------------------------------------------------\r\n PostgreSQL 10devel on x86_64-pc-linux-gnu, compiled by gcc (GCC) 6.3.1 20161221 (Red Hat 6.3.1-1), 64-bit\r\n(1 row)\r\n\r\nactiverecord_unittest=#\r\n```\r\n\r\n#### Differences between PostgreSQL 9.5 and 10\r\n\r\n* Introduced `Collation` column.\r\n* Introduced `Nullable` column. `not null` information moved from `Modifiers` to `Nullable`\r\n* Introduced `Default` column. \r\n* `default` has gone. \r\n*  If the default value for `date` column set to `CURRENT_DATE`, it returns `CURRENT_DATE`. It used to return `default ('now'::text)::date`\r\n* If the default value for `timestamp` column set to `CURRENT_TIMESTAMP`, it returns `CURRENT_TIMESTAMP`. It used to return `default now()`\r\n\r\nif it set to `now()` \r\n\r\n\r\n#### Details\r\n\r\n* Create table statement executed by this unit test. Formatted by adding CRs.\r\n\r\n```sql\r\nCREATE TABLE \"defaults\" \r\n(\"id\" bigserial primary key,\r\n \"modified_date\" date DEFAULT CURRENT_DATE,\r\n \"modified_date_function\" date DEFAULT now(),\r\n \"fixed_date\" date DEFAULT '2004-01-01',\r\n \"modified_time\" timestamp DEFAULT CURRENT_TIMESTAMP,\r\n \"modified_time_function\" timestamp DEFAULT now(),\r\n \"fixed_time\" timestamp DEFAULT '2004-01-01 00:00:00.000000-00',\r\n \"char1\" char(1) DEFAULT 'Y',\r\n \"char2\" character varying(50) DEFAULT 'a varchar field',\r\n \"char3\" text DEFAULT 'a text field',\r\n \"bigint_default\" bigint DEFAULT 0::bigint,\r\n \"multiline_default\" text DEFAULT '--- []\r\n)\r\n```\r\n\r\n* PostgreSQL 10\r\n\r\n```sql\r\nactiverecord_unittest=# \\d defaults\r\n                                                     Table \"public.defaults\"\r\n         Column         |            Type             | Collation | Nullable |                      Default\r\n------------------------+-----------------------------+-----------+----------+----------------------------------------------------\r\n id                     | bigint                      |           | not null | nextval('defaults_id_seq'::regclass)\r\n modified_date          | date                        |           |          | CURRENT_DATE\r\n modified_date_function | date                        |           |          | now()\r\n fixed_date             | date                        |           |          | '2004-01-01'::date\r\n modified_time          | timestamp without time zone |           |          | CURRENT_TIMESTAMP\r\n modified_time_function | timestamp without time zone |           |          | now()\r\n fixed_time             | timestamp without time zone |           |          | '2004-01-01 00:00:00'::timestamp without time zone\r\n char1                  | character(1)                |           |          | 'Y'::bpchar\r\n char2                  | character varying(50)       |           |          | 'a varchar field'::character varying\r\n char3                  | text                        |           |          | 'a text field'::text\r\n bigint_default         | bigint                      |           |          | (0)::bigint\r\n multiline_default      | text                        |           |          | '--- []                                           +\r\n                        |                             |           |          |                                                   +\r\n                        |                             |           |          | '::text\r\nIndexes:\r\n    \"defaults_pkey\" PRIMARY KEY, btree (id)\r\n\r\nactiverecord_unittest=#\r\n```\r\n\r\n* PostgreSQL 9.5\r\n\r\n```sql\r\nactiverecord_unittest-# \\d defaults\r\n                                              Table \"public.defaults\"\r\n         Column         |            Type             |                         Modifiers\r\n------------------------+-----------------------------+------------------------------------------------------------\r\n id                     | bigint                      | not null default nextval('defaults_id_seq'::regclass)\r\n modified_date          | date                        | default ('now'::text)::date\r\n modified_date_function | date                        | default now()\r\n fixed_date             | date                        | default '2004-01-01'::date\r\n modified_time          | timestamp without time zone | default now()\r\n modified_time_function | timestamp without time zone | default now()\r\n fixed_time             | timestamp without time zone | default '2004-01-01 00:00:00'::timestamp without time zone\r\n char1                  | character(1)                | default 'Y'::bpchar\r\n char2                  | character varying(50)       | default 'a varchar field'::character varying\r\n char3                  | text                        | default 'a text field'::text\r\n bigint_default         | bigint                      | default (0)::bigint\r\n multiline_default      | text                        | default '--- []                                           +\r\n                        |                             |                                                           +\r\n                        |                             | '::text\r\nIndexes:\r\n    \"defaults_pkey\" PRIMARY KEY, btree (id)\r\n\r\nactiverecord_unittest-#\r\n```\r\n\r\n### System configuration\r\n**Rails version**: master branch\r\n\r\n**Ruby version**:ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n",
      "number": 28797,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "28883",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28797",
      "updated_at": "2017-04-27T05:25:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28797/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 2,
      "id": 222730437,
      "closed_at": "2017-04-27T05:25:11Z",
      "created_at": "2017-04-19T13:01:02Z",
      "title": "PostgreSQL 10 : Default value expression difference for `CURRENT_DATE` and `CURRENT_TIMESTAMP`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28797/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28797/comments",
      "html_url": "https://github.com/rails/rails/issues/28797"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "#### Environment:\r\n```\r\n$ more /etc/redhat-release\r\nFedora release 25 (Twenty Five)\r\n```\r\n* Enable PostgreSQL 10 repository https://yum.postgresql.org/repopackages.php#pg10\r\n```\r\n$ rpm -qa |grep postgresql10\r\npostgresql10-contrib-10.0-20170414_1PGDG.f25.2.x86_64\r\npostgresql10-10.0-20170414_1PGDG.f25.2.x86_64\r\npostgresql10-devel-10.0-20170414_1PGDG.f25.2.x86_64\r\npostgresql10-server-10.0-20170414_1PGDG.f25.2.x86_64\r\npostgresql10-libs-10.0-20170414_1PGDG.f25.2.x86_64\r\n$\r\n```\r\n\r\n* Ruby and bundler version\r\n```\r\n$ ruby -v\r\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n```\r\n\r\n```ruby\r\n$ bundle show |grep pg\r\n  * pg (0.19.0)\r\n```\r\n\r\n#### Steps to reproduce:\r\n```\r\n$ git clone https://github.com/rails/rails.git\r\n$ cd rails/activerecord\r\n$ bundle exec rake db:postgresql:build\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/primary_keys_test.rb -n test_read_attribute_with_custom_primary_key\r\n\r\n```\r\n#### Results:\r\n\r\n```ruby\r\n$ ARCONN=postgresql bundle exec ruby -w -Itest test/cases/primary_keys_test.rb -n test_read_attribute_with_custom_primary_key\r\n/home/yahonda/git/rails/activesupport/lib/active_support/core_ext/enumerable.rb:20: warning: method redefined; discarding old sum\r\nUsing postgresql\r\nRun options: -n test_read_attribute_with_custom_primary_key --seed 6500\r\n\r\n# Running:\r\n\r\nE\r\n\r\nFinished in 0.050451s, 19.8212 runs/s, 0.0000 assertions/s.\r\n\r\n  1) Error:\r\nPrimaryKeysTest#test_read_attribute_with_custom_primary_key:\r\nActiveRecord::StatementInvalid: PG::UndefinedColumn: ERROR:  column \"increment_by\" does not exist\r\nLINE 1: ...pics_id_seq\"', (SELECT COALESCE(MAX(\"id\")+(SELECT increment_...\r\n                                                             ^\r\n:               SELECT setval('\"public\".\"topics_id_seq\"', (SELECT COALESCE(MAX(\"id\")+(SELECT increment_by FROM \"public\".\"topics_id_seq\"), (SELECT min_value FROM \"public\".\"topics_id_seq\")) FROM \"topics\"), false)\r\n\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `async_exec'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:613:in `block (2 levels) in exec_no_cache'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:612:in `block in exec_no_cache'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:580:in `block (2 levels) in log'\r\n    /home/yahonda/.rbenv/versions/2.4.1/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:579:in `block in log'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:571:in `log'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:611:in `exec_no_cache'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:598:in `execute_and_clear'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql/database_statements.rb:182:in `select_result'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql/database_statements.rb:11:in `select_value'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql/schema_statements.rb:285:in `reset_pk_sequence!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:578:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:559:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:559:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'\r\n    /home/yahonda/.rbenv/versions/2.4.1/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:557:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql/referential_integrity.rb:41:in `block in disable_referential_integrity_with_alter_constraint'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:194:in `block in within_new_transaction'\r\n    /home/yahonda/.rbenv/versions/2.4.1/lib/ruby/2.4.0/monitor.rb:214:in `mon_synchronize'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:191:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql/referential_integrity.rb:38:in `disable_referential_integrity_with_alter_constraint'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/postgresql/referential_integrity.rb:12:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:1049:in `load_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:986:in `setup_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:870:in `before_setup'\r\n\r\n1 runs, 0 assertions, 0 failures, 1 errors, 0 skips\r\n$\r\n```\r\n\r\n#### Additional information:\r\n\r\nIt looks this behavior change is introduced by [Add pg_sequence system catalog](https://github.com/postgres/postgres/commit/1753b1b027035029c2a2a1649065762fafbf63f3)\r\n\r\n* PostgreSQL version\r\n\r\n```sql\r\nactiverecord_unittest=# select version();\r\n                                                  version\r\n-----------------------------------------------------------------------------------------------------------\r\n PostgreSQL 10devel on x86_64-pc-linux-gnu, compiled by gcc (GCC) 6.3.1 20161221 (Red Hat 6.3.1-1), 64-bit\r\n(1 row)\r\n```\r\n\r\n* Each sequence does not have `increment_by`\r\n\r\n```sql\r\nactiverecord_unittest=# select * FROM \"public\".\"topics_id_seq\";\r\n last_value | log_cnt | is_called\r\n------------+---------+-----------\r\n        100 |       0 | t\r\n(1 row)\r\n\r\nactiverecord_unittest=#\r\n```\r\n\r\n* Now `pg_sequences` has it\r\n\r\n```\r\nactiverecord_unittest=# select increment_by from pg_sequences where schemaname = 'public' and sequencename = 'topics_id_seq';\r\n increment_by\r\n--------------\r\n            1\r\n(1 row)\r\n\r\nactiverecord_unittest=#\r\n```\r\n",
      "number": 28780,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "28864",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28780",
      "updated_at": "2017-11-22T06:45:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28780/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 8,
      "id": 222132070,
      "closed_at": "2017-05-30T17:57:32Z",
      "created_at": "2017-04-17T13:25:50Z",
      "title": "PostgreSQL 10 : Each sequence does not have `increment_by` column, need to use `pg_sequences`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28780/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28780/comments",
      "html_url": "https://github.com/rails/rails/issues/28780"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n<I>I wasn't sure how to fit this into the bug report template.</I>\r\n\r\n1. Create a migration like this:\r\n\r\n    ```ruby\r\n    change_table :patches do |t|\r\n      t.belongs_to :old_path, foreign_key: { to_table: :git_paths }\r\n      t.belongs_to :new_path, foreign_key: { to_table: :git_paths }\r\n    end\r\n    ```\r\n\r\n2. Run the migration\r\n3. Attempt to roll the migration back\r\n\r\n### Expected behavior\r\nThe migration should be rolled back successfully.\r\n\r\n### Actual behavior\r\nRails successfully reverses the `:new_path` reference, but in doing so deletes _both_ foreign keys on the patches table. This means that when it comes to reverse the `:old_path` reference, it fails because it can't find the foreign key to delete.\r\n\r\nI think this happens because `ActiveRecord::ConnectionAdapters::SchemaStatements#remove_reference` [does not](https://github.com/rails/rails/blob/e7f45d370ab10ad86a748ff2ec8b34c54d87b0bf/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L861-L870) take into account the column the foreign key constraint is on.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 28762,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/alyssais/subscriptions",
         "received_events_url": "https://api.github.com/users/alyssais/received_events",
         "url": "https://api.github.com/users/alyssais",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2768870?v=4",
         "events_url": "https://api.github.com/users/alyssais/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/alyssais/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/alyssais/following{/other_user}",
         "repos_url": "https://api.github.com/users/alyssais/repos",
         "site_admin": false,
         "id": 2768870,
         "organizations_url": "https://api.github.com/users/alyssais/orgs",
         "login": "alyssais",
         "gists_url": "https://api.github.com/users/alyssais/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/alyssais/followers",
         "html_url": "https://github.com/alyssais"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28762",
      "updated_at": "2017-04-21T19:12:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28762/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 221886335,
      "closed_at": "2017-04-21T18:51:41Z",
      "created_at": "2017-04-14T20:35:00Z",
      "title": "Migrations adding multiple columns with foreign keys to the same table can't be reversed",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28762/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28762/comments",
      "html_url": "https://github.com/rails/rails/issues/28762"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Possibly due to the same reason as https://github.com/rails/rails/issues/27502 (for PostgreSQL's HStore columns).\r\n\r\n### Steps to reproduce\r\n\r\nThe test below fails on Rails master and 5.0.2, but passes on 4.2.\r\n\r\nNote, however, that it's possible it passes in Rails 4.2 due to other bugs related to in-place change detection of `jsonb` columns not working properly in 4.2.\r\n\r\n```ruby\r\nbegin\r\n  require 'bundler/inline'\r\nrescue LoadError => e\r\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source 'https://rubygems.org'\r\n  gem 'rails', github: 'rails/rails'\r\n  # gem 'rails', '5.0.2'\r\n  # gem 'rails', '~> 4.2'\r\n  gem 'pg'\r\nend\r\n\r\nrequire 'active_record'\r\nrequire 'minitest/autorun'\r\nrequire 'logger'\r\n\r\nActiveRecord::Base.establish_connection(adapter: 'postgresql', database: 'postgres')\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n    t.jsonb :data\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\nend\r\n\r\nclass JsonbChangeDetectionTest < Minitest::Test\r\n  def test_jsonb_not_changed\r\n    post = Post.create! data: {'one' => 1, 'two' => 2}\r\n    assert_equal({}, post.changes)\r\n\r\n    post.data = {'one' => 1, 'two' => 2}\r\n    assert_equal({}, post.changes)\r\n\r\n    post.save!\r\n    post.reload\r\n\r\n    post.data = {'two' => 2, 'one' => 1}\r\n    assert_equal({}, post.changes)\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nAssigning equal hashes to a `jsonb` column would not mark the record as changed, even if the key order differs between the two hashes.\r\n\r\n### Actual behavior\r\n\r\nThe `jsonb` attribute is marked as dirty when assigning an equal hash but with a different key order than the one stored in the DB.\r\n\r\nThe problem is that `jsonb` in PostgreSQL has an undefined order of object keys, but [`Jsonb#changed_in_place?` compares hashes in their serialized form](https://github.com/rails/rails/blob/8145880/activerecord/lib/active_record/connection_adapters/postgresql/oid/jsonb.rb#L16-L17) and for certain combinations of key ordering Rails will always consider the value as changed.\r\n\r\nThis seems to have been fixed for HStore in https://github.com/rails/rails/pull/27517.\r\n\r\n### System configuration\r\n\r\n**Rails version**: master and 5.0.2\r\n**Ruby version**: 2.3.3 on macOS\r\n**PostgreSQL version**: 9.6.2\r\n",
      "number": 28754,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mitio/subscriptions",
         "received_events_url": "https://api.github.com/users/mitio/received_events",
         "url": "https://api.github.com/users/mitio",
         "avatar_url": "https://avatars1.githubusercontent.com/u/129307?v=4",
         "events_url": "https://api.github.com/users/mitio/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mitio/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mitio/following{/other_user}",
         "repos_url": "https://api.github.com/users/mitio/repos",
         "site_admin": false,
         "id": 129307,
         "organizations_url": "https://api.github.com/users/mitio/orgs",
         "login": "mitio",
         "gists_url": "https://api.github.com/users/mitio/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mitio/followers",
         "html_url": "https://github.com/mitio"
      },
      "state": "closed",
      "closed_by": "29491",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28754",
      "updated_at": "2017-06-18T14:14:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28754/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 221790518,
      "closed_at": "2017-06-18T14:14:40Z",
      "created_at": "2017-04-14T11:11:20Z",
      "title": "Possible Rails 5 regression in PostgreSQL jsonb dirty check when key order changes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28754/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28754/comments",
      "html_url": "https://github.com/rails/rails/issues/28754"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nIn the controller:\r\n`@users = User.includes(:posts)`\r\n\r\nIn the view:\r\n`@users.each{ |user| user.posts.pluck(:title) }`\r\n\r\n### Expected behaviour\r\npluck shouldn't issue a database query to get the post title since posts have been preloaded by `includes`. It should behave in the same way as\r\n`@users.each{ |user| user.posts.map(&:title) }`\r\n\r\n### Actual behaviour\r\n`pluck` issues a new query for each user retrieving posts\r\n\r\n### System configuration\r\n**Rails version**: 4.2.6\r\n\r\n**Ruby version**: 2.3.0p0\r\n",
      "number": 28747,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/toby-1-kenobi/subscriptions",
         "received_events_url": "https://api.github.com/users/toby-1-kenobi/received_events",
         "url": "https://api.github.com/users/toby-1-kenobi",
         "avatar_url": "https://avatars1.githubusercontent.com/u/421950?v=4",
         "events_url": "https://api.github.com/users/toby-1-kenobi/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/toby-1-kenobi/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/toby-1-kenobi/following{/other_user}",
         "repos_url": "https://api.github.com/users/toby-1-kenobi/repos",
         "site_admin": false,
         "id": 421950,
         "organizations_url": "https://api.github.com/users/toby-1-kenobi/orgs",
         "login": "toby-1-kenobi",
         "gists_url": "https://api.github.com/users/toby-1-kenobi/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/toby-1-kenobi/followers",
         "html_url": "https://github.com/toby-1-kenobi"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28747",
      "updated_at": "2017-04-13T14:53:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28747/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 221479376,
      "closed_at": "2017-04-13T07:38:37Z",
      "created_at": "2017-04-13T07:20:41Z",
      "title": "`pluck` disregards preloaded data",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28747/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28747/comments",
      "html_url": "https://github.com/rails/rails/issues/28747"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I faced one unexpected behavior: when I have one new active record object and build second with first's attributes, attributes of first object will be frozen.\r\n\r\nFor example:\r\nI have ActiveRecord model 'User' with 2 attributes - 'first_name' and 'last_name'\r\n### Steps to reproduce\r\n```ruby\r\nuser = User.new(first_name: 'Alex', last_name: 'Kosh')\r\nuser.first_name.frozen? #=> false\r\nUser.new(user.attributes)\r\nuser.first_name.frozen? #=> true\r\n```\r\n\r\n### Expected behavior\r\nuser.attributes are not frozen\r\n\r\n### System configuration\r\nRails version: 5.0.2\r\nRuby version: 2.3.3\r\n",
      "number": 28718,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/skosh/subscriptions",
         "received_events_url": "https://api.github.com/users/skosh/received_events",
         "url": "https://api.github.com/users/skosh",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3090906?v=4",
         "events_url": "https://api.github.com/users/skosh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/skosh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/skosh/following{/other_user}",
         "repos_url": "https://api.github.com/users/skosh/repos",
         "site_admin": false,
         "id": 3090906,
         "organizations_url": "https://api.github.com/users/skosh/orgs",
         "login": "skosh",
         "gists_url": "https://api.github.com/users/skosh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/skosh/followers",
         "html_url": "https://github.com/skosh"
      },
      "state": "closed",
      "closed_by": "28729",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28718",
      "updated_at": "2017-04-11T22:03:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28718/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 13,
      "id": 220553857,
      "closed_at": "2017-04-11T22:03:12Z",
      "created_at": "2017-04-10T06:59:43Z",
      "title": "Freeze attributes when I create new Active record object with them",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28718/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28718/comments",
      "html_url": "https://github.com/rails/rails/issues/28718"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Expected behavior\r\nFollows code\r\n```ruby\r\nUser.first.emails.distinct.pluck(:position)\r\n```\r\nmust work in a same way as\r\n```ruby\r\nEmail.distinct.pluck(:position)\r\n```\r\nAnd both must contain `DISTINCT` operator in sql-query.\r\n\r\n### Actual behavior\r\n`Distinct` for relation doesn't works as expected:\r\n```ruby\r\nUser.first.emails.distinct.class\r\n=> Array\r\n\r\nUser.first.emails.distinct.pluck(:number)\r\n  User Load (0.3ms)  SELECT  \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT $1  [[\"LIMIT\", 1]]\r\n  Email Load (0.3ms)  SELECT \"emails\".* FROM \"emails\" WHERE \"emails\".\"user_id\" = $1  [[\"user_id\", 1]]\r\n=> [3, 3, 3, 3]\r\n```\r\n\r\nBut with `select` or with any other query method all works right:\r\n```ruby\r\nUser.first.emails.select(:position).distinct.pluck(:position)\r\n  User Load (0.5ms)  SELECT  \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT $1  [[\"LIMIT\", 1]]\r\n   (0.6ms)  SELECT DISTINCT \"emails\".\"position\" FROM \"emails\" WHERE \"emails\".\"user_id\" = $1  [[\"user_id\", 1]]\r\n=> [3]\r\n\r\nUser.first.emails.where('true').distinct.pluck(:position)\r\n  User Load (0.5ms)  SELECT  \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT $1  [[\"LIMIT\", 1]]\r\n   (0.6ms)  SELECT DISTINCT \"emails\".\"position\" FROM \"emails\" WHERE \"emails\".\"user_id\" = $1 AND (true)  [[\"user_id\", 1]]\r\n=> [3]\r\n``` \r\n\r\n`Distinct` for model works right too:\r\n```ruby\r\nEmail.distinct.pluck(:position)\r\n  (2.1ms)  SELECT DISTINCT \"emails\".\"position\" FROM \"emails\"\r\n=> [3, nil]\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n\r\n**Ruby version**:  2.3.3p222\r\n\r\n**RDBMS**: PostgreSQL 9.6.2",
      "number": 28717,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Loriowar/subscriptions",
         "received_events_url": "https://api.github.com/users/Loriowar/received_events",
         "url": "https://api.github.com/users/Loriowar",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2118479?v=4",
         "events_url": "https://api.github.com/users/Loriowar/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Loriowar/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Loriowar/following{/other_user}",
         "repos_url": "https://api.github.com/users/Loriowar/repos",
         "site_admin": false,
         "id": 2118479,
         "organizations_url": "https://api.github.com/users/Loriowar/orgs",
         "login": "Loriowar",
         "gists_url": "https://api.github.com/users/Loriowar/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Loriowar/followers",
         "html_url": "https://github.com/Loriowar"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28717",
      "updated_at": "2017-04-10T14:30:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28717/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 220549157,
      "closed_at": "2017-04-10T06:40:39Z",
      "created_at": "2017-04-10T06:29:37Z",
      "title": "Distinct method called on CollectionProxy returns Array instead of Relation and doesn't work as expected",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28717/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28717/comments",
      "html_url": "https://github.com/rails/rails/issues/28717"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n1. Have 3 models (e.g. User, Group, Membership). Groups can be `fancy` or not and have a scope to filter to only fancy groups. User `has_many :memberships` and also `has_many :groups, through: :memberships`. User _also_ `has_many :fancy_groups, -> { fancy }, through: :memberships`.\r\n2. Try to do `User.includes(:fancy_groups)`.\r\n\r\nI have uploaded examples demonstrating the error to this Gist: https://gist.github.com/aergonaut/7ebd847721f64087c99de7249767468c\r\n\r\nHere's the Rails 4.2 version inline:\r\n\r\n```ruby\r\n\r\nrequire 'bundler/inline'\r\n\r\ngemfile(true) do\r\n  source \"http://rubygems.org\"\r\n\r\n  gem \"activerecord\", \"~> 4.2\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :users, force: true do |t|\r\n  end\r\n\r\n  create_table :groups, force: true do |t|\r\n    t.boolean :fancy\r\n  end\r\n\r\n  create_table :memberships, force: true do |t|\r\n    t.integer :user_id\r\n    t.integer :group_id\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_many :memberships\r\n  has_many :groups, through: :memberships\r\n  has_many :fancy_groups, -> { fancy },\r\n    class_name: \"Group\",\r\n    through: :memberships,\r\n    source: :group\r\nend\r\n\r\nclass Group < ActiveRecord::Base\r\n  has_many :memberships\r\n  has_many :users, through: :memberships\r\n\r\n  scope :fancy, -> { where(fancy: true) }\r\nend\r\n\r\nclass Membership < ActiveRecord::Base\r\n  belongs_to :user\r\n  belongs_to :group\r\nend\r\n\r\nclass IssueTest < Minitest::Test\r\n  def setup\r\n    user = User.create!\r\n\r\n    group1 = Group.create!\r\n    group2 = Group.create!(fancy: true)\r\n\r\n    user.groups << group1\r\n    user.groups << group2\r\n    user.save!\r\n  end\r\n\r\n  def test_fancy_groups_includes\r\n    User.includes(:fancy_groups).to_a\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\n`User.include(:fancy_groups)` should execute successfully.\r\n\r\n### Actual behavior\r\n\r\nStatementInvalid error is thrown instead:\r\n\r\n```\r\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: groups.fancy: SELECT \"memberships\".* FROM \"memberships\" WHERE \"groups\".\"fancy\" = ? AND \"memberships\".\"user_id\" = 1\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 4.2 or 5\r\n\r\n**Ruby version**: ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\r\n",
      "number": 28703,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/aergonaut/subscriptions",
         "received_events_url": "https://api.github.com/users/aergonaut/received_events",
         "url": "https://api.github.com/users/aergonaut",
         "avatar_url": "https://avatars0.githubusercontent.com/u/284007?v=4",
         "events_url": "https://api.github.com/users/aergonaut/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/aergonaut/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/aergonaut/following{/other_user}",
         "repos_url": "https://api.github.com/users/aergonaut/repos",
         "site_admin": false,
         "id": 284007,
         "organizations_url": "https://api.github.com/users/aergonaut/orgs",
         "login": "aergonaut",
         "gists_url": "https://api.github.com/users/aergonaut/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/aergonaut/followers",
         "html_url": "https://github.com/aergonaut"
      },
      "state": "closed",
      "closed_by": "29413",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28703",
      "updated_at": "2017-07-04T20:26:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28703/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 220319046,
      "closed_at": "2017-07-04T20:26:24Z",
      "created_at": "2017-04-07T20:24:08Z",
      "title": "(Rails 4.2/5) StatementInvalid error when using includes() on a has_many :through with a custom scope",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28703/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28703/comments",
      "html_url": "https://github.com/rails/rails/issues/28703"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "[Edge Guides](http://edgeguides.rubyonrails.org/active_record_callbacks.html#halting-execution) say: `If any before callback method returns exactly false or raises an exception, the execution chain gets halted and a ROLLBACK is issued; after callbacks can only accomplish that by raising an exception.`. Whereas `ActiveRecord::Callback` docs say `If a before_* callback throws :abort, all the later callbacks and the associated action are cancelled.` with no reference to returning `false` whatsoever. The latter variant seems to be (currently?) true and the former, if no longer correct is highly misleading and can cause premature hair loss and other symptoms of a mental illness called `developer_in_despair`",
      "number": 28669,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/silverdr/subscriptions",
         "received_events_url": "https://api.github.com/users/silverdr/received_events",
         "url": "https://api.github.com/users/silverdr",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4529686?v=4",
         "events_url": "https://api.github.com/users/silverdr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/silverdr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/silverdr/following{/other_user}",
         "repos_url": "https://api.github.com/users/silverdr/repos",
         "site_admin": false,
         "id": 4529686,
         "organizations_url": "https://api.github.com/users/silverdr/orgs",
         "login": "silverdr",
         "gists_url": "https://api.github.com/users/silverdr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/silverdr/followers",
         "html_url": "https://github.com/silverdr"
      },
      "state": "closed",
      "closed_by": "28670",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28669",
      "updated_at": "2017-04-07T19:03:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28669/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 0,
      "id": 219409186,
      "closed_at": "2017-04-07T06:05:37Z",
      "created_at": "2017-04-04T22:50:59Z",
      "title": "Guide \"Active Record Callbacks\" contradicts with \"api\" documentation (Rails 5.0.2)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28669/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28669/comments",
      "html_url": "https://github.com/rails/rails/issues/28669"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When `model`'s accessor is overridden, `model.changes` method returns old value as the value taken from database and new value as a result of calling accessor method. This seems very inconsistent.\r\n\r\n```ruby\r\nclass Post < ActiveRecord::Base\r\n  def title\r\n    super.upcase\r\n  end\r\nend\r\n\r\npost = Post.create!(title: 'hey')\r\npost.title = 'ho'\r\n\r\npost.changes['title']\r\n# => ['hey', 'HO']\r\n```\r\nHere is the test case showing this problem:\r\nhttps://gist.github.com/lukesarnacki/de66d2a4b055cd9f1e19dd4ff8bebbd6\r\n\r\nIt seems to be the same both on 4.x and 5.x rails versions (haven't checked 3).",
      "number": 28660,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lukesarnacki/subscriptions",
         "received_events_url": "https://api.github.com/users/lukesarnacki/received_events",
         "url": "https://api.github.com/users/lukesarnacki",
         "avatar_url": "https://avatars0.githubusercontent.com/u/295545?v=4",
         "events_url": "https://api.github.com/users/lukesarnacki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lukesarnacki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lukesarnacki/following{/other_user}",
         "repos_url": "https://api.github.com/users/lukesarnacki/repos",
         "site_admin": false,
         "id": 295545,
         "organizations_url": "https://api.github.com/users/lukesarnacki/orgs",
         "login": "lukesarnacki",
         "gists_url": "https://api.github.com/users/lukesarnacki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lukesarnacki/followers",
         "html_url": "https://github.com/lukesarnacki"
      },
      "state": "closed",
      "closed_by": "28661",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28660",
      "updated_at": "2017-04-14T17:27:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28660/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 219285024,
      "closed_at": "2017-04-14T17:27:48Z",
      "created_at": "2017-04-04T15:14:05Z",
      "title": "ActiveRecord::AttributeMethods::Dirty#changes is inconsistent when overriding AR accessors",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28660/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28660/comments",
      "html_url": "https://github.com/rails/rails/issues/28660"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Our team discovered that iterating through a preloaded association has very poor performance compared to accessing the records directly via `target`.  Inspection into the issue shows lots of scope building that doesn't seem to be used as the cause.\r\n\r\n### Steps to reproduce\r\n\r\nCreate a simple schema with associations. Load the database with a large number of records. Then, preload all of the associations and iterate over them in two ways: 1) with `name.each` and with `association(:name).target.each`. Measure the performance in both cases.\r\n\r\nHere's a runnable example:\r\n\r\nhttps://gist.github.com/kevingriffin/29d7e4774d210a41116c063dfd430de0\r\n\r\n### Expected behavior\r\nTraversing the records of a pre-loaded association (e.g. via `each`) should have similar performance to first calling `target` on the association to access an array of the records before iterating.\r\n\r\n### Actual behavior\r\nUsing `each` on pre-loaded associations is many orders of magnitude slower than calling `target` to access, then iterate the array of records.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3",
      "number": 28656,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kevingriffin/subscriptions",
         "received_events_url": "https://api.github.com/users/kevingriffin/received_events",
         "url": "https://api.github.com/users/kevingriffin",
         "avatar_url": "https://avatars1.githubusercontent.com/u/209729?v=4",
         "events_url": "https://api.github.com/users/kevingriffin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kevingriffin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kevingriffin/following{/other_user}",
         "repos_url": "https://api.github.com/users/kevingriffin/repos",
         "site_admin": false,
         "id": 209729,
         "organizations_url": "https://api.github.com/users/kevingriffin/orgs",
         "login": "kevingriffin",
         "gists_url": "https://api.github.com/users/kevingriffin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kevingriffin/followers",
         "html_url": "https://github.com/kevingriffin"
      },
      "state": "closed",
      "closed_by": "29098",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28656",
      "updated_at": "2017-04-04T18:39:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28656/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 219119980,
      "closed_at": "2017-04-04T03:48:16Z",
      "created_at": "2017-04-04T01:58:24Z",
      "title": "Accessing records via CollectionProxy has poor performance compared to `target`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28656/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28656/comments",
      "html_url": "https://github.com/rails/rails/issues/28656"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nI am trying to add paperclip s3 config to my `production.rb`, e.g.\r\n\r\n```\r\nconfig.paperclip_defaults = {\r\n    storage: :s3,\r\n    s3_credentials: {\r\n      bucket: Rails.application.secrets.S3_BUCKET_NAME,\r\n      access_key_id: Rails.application.secrets.AWS_ACCESS_KEY_ID,\r\n      secret_access_key: Rails.application.secrets.AWS_SECRET_ACCESS_KEY,\r\n      s3_region: Rails.application.secrets.AWS_REGION\r\n    }\r\n  }\r\n```\r\nIn the command line I enter: `RAILS_ENV=production rails c` to get into the rails command, then I enter `Appname::Application.secrets`\r\n\r\n### Expected behavior\r\n\r\nThis should read the secrets in the `secrets.yaml.enc` and the paperclip configuration should be set up.\r\n\r\n### Actual behavior\r\n\r\nI only get the secrets from my `secrets.yml` file. I am just wondering if `config.paperclip_defaults = {` is a valid syntax for production.rb? \r\n\r\nI had another similar issue when I tried to set my send grid smtp settings in a similar way in the production.rb, I ended up having to move the code into environment.rb (adding this just in case it helps)\r\n\r\n```\r\nActionMailer::Base.smtp_settings = {\r\n  user_name: Rails.application.secrets.sendgrid_username,\r\n  password: Rails.application.secrets.sendgrid_password,\r\n  domain: 'app-name.herokuapp.com',\r\n  address: 'smtp.sendgrid.net',\r\n  port: 587, # 465 for ssl connections\r\n  authentication: :plain,\r\n  enable_starttls_auto: true\r\n}\r\n\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.rc1\r\n\r\n**Ruby version**: 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\r\n\r\n**Edit:**\r\n\r\nHere is the sample repo. \r\n\r\nhttps://github.com/hahmed/secretly\r\n\r\nInitial commit (with the paperclip config): https://github.com/hahmed/secretly/blob/5740b6bf95cbc6665ef124adcbaa1638a6adbf3f/config/environments/production.rb#L79\r\n\r\n```\r\nharoon-mbp:secretly haroon$ RAILS_ENV=production rails c\r\nRunning via Spring preloader in process 1567\r\nLoading production environment (Rails 5.1.0.rc1)\r\nirb(main):001:0> Secretly::Application.secrets\r\n=> {:api_key=>123, :secret_key_base=>nil, :secret_token=>nil}\r\nirb(main):002:0> quit\r\n\r\n```\r\nSecond commit (hide the paperclip config): \r\nhttps://github.com/hahmed/secretly/blob/master/config/environments/production.rb#L79\r\n\r\n```\r\nharoon-mbp:secretly haroon$ RAILS_ENV=production rails c\r\nRunning via Spring preloader in process 1722\r\nLoading production environment (Rails 5.1.0.rc1)\r\nirb(main):001:0> Secretly::Application.secrets\r\n=> {:api_key=>123, :secret_key_base=>nil, :external_api_key=>\"1466aac22e6a869134be3d09b9e89232fc2c2289\", :sky=>\"has_gots_to_fly\", :me=>\"the_admins_boy\", :secret_token=>nil}\r\nirb(main):002:0> \r\n```\r\n\r\nLet me know if there is anything else you need for this.",
      "number": 28618,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/hahmed/subscriptions",
         "received_events_url": "https://api.github.com/users/hahmed/received_events",
         "url": "https://api.github.com/users/hahmed",
         "avatar_url": "https://avatars2.githubusercontent.com/u/658005?v=4",
         "events_url": "https://api.github.com/users/hahmed/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/hahmed/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/hahmed/following{/other_user}",
         "repos_url": "https://api.github.com/users/hahmed/repos",
         "site_admin": false,
         "id": 658005,
         "organizations_url": "https://api.github.com/users/hahmed/orgs",
         "login": "hahmed",
         "gists_url": "https://api.github.com/users/hahmed/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/hahmed/followers",
         "html_url": "https://github.com/hahmed"
      },
      "state": "closed",
      "closed_by": "28631",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28618",
      "updated_at": "2017-11-23T01:42:06Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28618/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 11,
      "id": 218331694,
      "closed_at": "2017-04-16T14:17:07Z",
      "created_at": "2017-03-30T21:21:09Z",
      "title": "Secrets not being read because of issue with production.rb",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28618/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28618/comments",
      "html_url": "https://github.com/rails/rails/issues/28618"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nI have the following app\r\n\r\n```ruby\r\nclass Order < ApplicationRecord\r\n  has_many :details\r\n  validate :validate_name, if: lambda { |obj| obj.name_changed? }\r\n\r\n  def validate_name\r\n    puts \"validate_name\"\r\n  end\r\nend\r\n\r\nclass Detail < ApplicationRecord\r\n  belongs_to :order\r\n  before_save :update_order\r\n\r\n  def update_order\r\n    order.name += ' (updated)'\r\n    order.save\r\n  end\r\nend\r\n```\r\n\r\n(As you can see, `Detail#save` can be called from the before_save callback since `Order#save` saves its children.)\r\n\r\nNow, do\r\n\r\n```ruby\r\no = Order.create! name: 'An order'\r\no.details.create!\r\n```\r\n\r\n### Expected behavior\r\nI expect this to work without deprecation warnings.\r\n\r\n### Actual behavior\r\nI'm getting a deprecation warning that suggest the behavior of `attribute_changed?` changed from inside after callbacks, but this is not inside one (I could of course not use the deprecation warning's suggested fix of changing to `saved_change_to_attribute?` since it's not saved yet).\r\n\r\n> DEPRECATION WARNING: The behavior of `attribute_changed?` inside of after callbacks will be changing in the next version of Rails. The new return value will reflect the behavior of calling the method after `save` returned (e.g. the opposite of what it returns now). To maintain the current behavior, use `saved_change_to_attribute?` instead. (called from block in <class:MyModel> at /Users/magnus/Code/rails_test/api/app/models/my_model.rb:2)\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.rc1 and master\r\n\r\n**Ruby version**: 2.4.1\r\n",
      "number": 28599,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/hult/subscriptions",
         "received_events_url": "https://api.github.com/users/hult/received_events",
         "url": "https://api.github.com/users/hult",
         "avatar_url": "https://avatars3.githubusercontent.com/u/374824?v=4",
         "events_url": "https://api.github.com/users/hult/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/hult/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/hult/following{/other_user}",
         "repos_url": "https://api.github.com/users/hult/repos",
         "site_admin": false,
         "id": 374824,
         "organizations_url": "https://api.github.com/users/hult/orgs",
         "login": "hult",
         "gists_url": "https://api.github.com/users/hult/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/hult/followers",
         "html_url": "https://github.com/hult"
      },
      "state": "closed",
      "closed_by": "28640",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28599",
      "updated_at": "2017-04-20T23:33:48Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28599/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 217905669,
      "closed_at": "2017-04-20T23:33:48Z",
      "created_at": "2017-03-29T15:00:03Z",
      "title": "Double save plus attribute_changed? deprecation warning if save called from before_save",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28599/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28599/comments",
      "html_url": "https://github.com/rails/rails/issues/28599"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nI'm using rails **5.1.0.rc1** with **--webpack** option.\r\n\r\nSo, in this vein, I would like to avoid to use assets pipelines to load the dependencies and use only webpack for this.\r\nI'd configured the system and is working fine but, after I integrated with devise, I couldn't get the route`users/sign_out` working.\r\n\r\nAfter doing a research looks like I should add `rails-ujs` and maybe `turbolinks`. But, because I not working with assets pipelines anymore (and not getting rails-ujs and turbolinks from the gems), I added this two packages with yarn.\r\n\r\n`yarn add rails-ujs turbolinks`\r\n\r\nThe problem is when I require this libraries\r\n\r\n```\r\nlet railsUJS = require('rails-ujs');\r\nlet tubolinks = require('turbolinks');\r\n\r\n```\r\nthe `rails-ujs` throw an error:\r\n\r\n```\r\nrails-ujs.js:24 Uncaught ReferenceError: Rails is not defined\r\n    at Object.<anonymous> (rails-ujs.js:24)\r\n    at Object.topLevelTypes.topAbort (rails-ujs.js:50)\r\n    at __webpack_require__ (bootstrap da09793\u2026:19)\r\n    at Object.<anonymous> (index.js:151)\r\n    at Object.exports.byteLength (body.js:21627)\r\n    at __webpack_require__ (bootstrap da09793\u2026:19)\r\n    at Object.<anonymous> (body.js:2)\r\n    at __webpack_require__ (bootstrap da09793\u2026:19)\r\n    at Object.<anonymous> (body.js:21407)\r\n    at __webpack_require__ (bootstrap da09793\u2026:19)\r\n```\r\n\r\nFor now I have about 17 javascript dependencies loading and working (bootstrap, material components web, materialize-css, font-awesome, etc) but rails-ujs unfortunally not.\r\n\r\nI tried to open a issue on the [rails/rails-ujs](https://github.com/rails/rails-ujs) repository but the github send me a **page not found** error.\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\n```\r\nlet railsUJS = require('rails-ujs');\r\nlet tubolinks = require('turbolinks');\r\n```\r\nshould not thrown an error and the dependencies should be loaded.\r\n\r\n### Actual behavior\r\nTell us what happens instead\r\n\r\n`require('rails-ujs')` throw an error, like explained above.\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.0.rc1\r\n**Ruby version**:\r\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\r\n",
      "number": 28597,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions",
            "received_events_url": "https://api.github.com/users/guilleiguaran/received_events",
            "url": "https://api.github.com/users/guilleiguaran",
            "avatar_url": "https://avatars2.githubusercontent.com/u/160941?v=4",
            "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}",
            "repos_url": "https://api.github.com/users/guilleiguaran/repos",
            "site_admin": false,
            "id": 160941,
            "organizations_url": "https://api.github.com/users/guilleiguaran/orgs",
            "login": "guilleiguaran",
            "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/guilleiguaran/followers",
            "html_url": "https://github.com/guilleiguaran"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Danilo-Araujo-Silva/subscriptions",
         "received_events_url": "https://api.github.com/users/Danilo-Araujo-Silva/received_events",
         "url": "https://api.github.com/users/Danilo-Araujo-Silva",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1139202?v=4",
         "events_url": "https://api.github.com/users/Danilo-Araujo-Silva/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Danilo-Araujo-Silva/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Danilo-Araujo-Silva/following{/other_user}",
         "repos_url": "https://api.github.com/users/Danilo-Araujo-Silva/repos",
         "site_admin": false,
         "id": 1139202,
         "organizations_url": "https://api.github.com/users/Danilo-Araujo-Silva/orgs",
         "login": "Danilo-Araujo-Silva",
         "gists_url": "https://api.github.com/users/Danilo-Araujo-Silva/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Danilo-Araujo-Silva/followers",
         "html_url": "https://github.com/Danilo-Araujo-Silva"
      },
      "state": "closed",
      "closed_by": "28617",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28597",
      "updated_at": "2017-08-28T05:25:46Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28597/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions",
         "received_events_url": "https://api.github.com/users/guilleiguaran/received_events",
         "url": "https://api.github.com/users/guilleiguaran",
         "avatar_url": "https://avatars2.githubusercontent.com/u/160941?v=4",
         "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}",
         "repos_url": "https://api.github.com/users/guilleiguaran/repos",
         "site_admin": false,
         "id": 160941,
         "organizations_url": "https://api.github.com/users/guilleiguaran/orgs",
         "login": "guilleiguaran",
         "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/guilleiguaran/followers",
         "html_url": "https://github.com/guilleiguaran"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 217893322,
      "closed_at": "2017-03-30T19:19:07Z",
      "created_at": "2017-03-29T14:24:36Z",
      "title": "5.1.0.rc1 --webpack, problem with rails-ujs",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28597/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28597/comments",
      "html_url": "https://github.com/rails/rails/issues/28597"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In a threaded environment, it is possible that multiple threads may try to load schema for a model concurrently. This may lead to concurrency issues like `serialize`d columns not working correctly (example below).\r\n\r\n### Steps to reproduce\r\n\r\nI've created a [sample application](https://github.com/watchmanmonitoring/load-schema-thread-safety-issue) with steps to reproduce in the README.\r\n\r\n### Expected behavior\r\n\r\nIf `ExampleModel` class has `serialize :example_column`, I'd expect `example_column` to return the Ruby object that was saved to it. E.g., if I saved an Array instance in column `example_column`, it should return an Array instance next time I read it from database.\r\n\r\n### Actual behavior\r\n\r\nIn certain conditions, `example_column` returns the YAML dump stored in database instead of the Ruby object.\r\n\r\nThis happens because in threaded environment, a race-condition may occur, which causes type of column `example_column` to be evaluated as `ActiveModel::Type::Text` instead of `ActiveRecord::Type::Serialized`.\r\n\r\n### Possible solution\r\n\r\n[`ActiveRecord::ModelSchema::ClassMethods#load_schema`](https://github.com/rails/rails/blob/v5.0.2/activerecord/lib/active_record/model_schema.rb#L435) should be wrapped in a Mutex. I'm happy to make a PR if consensus is reached.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2 (also reproducible on 5.1.0rc1).\r\n\r\n**Ruby version**: 2.4.1\r\n\r\nPossibly related: https://github.com/rails/rails/issues/27418",
      "number": 28589,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nasa42/subscriptions",
         "received_events_url": "https://api.github.com/users/nasa42/received_events",
         "url": "https://api.github.com/users/nasa42",
         "avatar_url": "https://avatars2.githubusercontent.com/u/233999?v=4",
         "events_url": "https://api.github.com/users/nasa42/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nasa42/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nasa42/following{/other_user}",
         "repos_url": "https://api.github.com/users/nasa42/repos",
         "site_admin": false,
         "id": 233999,
         "organizations_url": "https://api.github.com/users/nasa42/orgs",
         "login": "nasa42",
         "gists_url": "https://api.github.com/users/nasa42/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nasa42/followers",
         "html_url": "https://github.com/nasa42"
      },
      "state": "closed",
      "closed_by": "29216",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28589",
      "updated_at": "2017-05-25T22:36:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28589/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 217710511,
      "closed_at": "2017-05-25T22:36:17Z",
      "created_at": "2017-03-28T22:23:12Z",
      "title": "load_schema is not thread-safe.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28589/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28589/comments",
      "html_url": "https://github.com/rails/rails/issues/28589"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Summary\r\n\r\nAccording to [documentation](https://github.com/rails/rails/blob/5307f8d49cc4d8a5fb331335be4f3b51d83c217d/actionview/lib/action_view/helpers/sanitize_helper.rb#L162) for `SanitizeHelper`, it should be possible to set a custom white list sanitizer using:\r\n\r\n```ruby\r\nclass Application < Rails::Application\r\n  config.action_view.white_list_sanitizer = MySpecialSanitizer.new\r\nend\r\n``` \r\n\r\nI would expect with the above setting, calling `sanitize` in Rails views would delegate to the `sanitize` method of `MySpecialSanitizer`. In practice, the default `Rails::Html::WhiteListSanitizer` is used instead. Similar behavior is observed for \"full\" and \"link\" sanitizer settings.\r\n\r\nUnless my interpretation of the documentation is incomplete, this is either a bug or the documentation does not currently reflect how the default sanitizers should be overridden.\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"rails\", \"4.2.8\"\r\nend\r\n\r\nrequire \"rack/test\"\r\nrequire \"action_controller/railtie\"\r\nrequire \"action_view/railtie\"\r\nrequire \"action_view/testing/resolvers\"\r\n\r\nclass FoobarSanitizer\r\n  def sanitize(html, options = {})\r\n    \"foobar\"\r\n  end\r\nend\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = File.dirname(__FILE__)\r\n  config.session_store :cookie_store, key: \"cookie_store_key\"\r\n  secrets.secret_token    = \"secret_token\"\r\n  secrets.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  config.eager_load = true\r\n\r\n  Rails.logger  = config.logger\r\n\r\n  config.action_view.white_list_sanitizer = FoobarSanitizer.new\r\n  config.action_view.full_sanitizer = FoobarSanitizer.new\r\n  config.action_view.link_sanitizer = FoobarSanitizer.new\r\n\r\n  config.after_initialize do\r\n    puts \"Initialized!\"\r\n  end\r\nend\r\n\r\nRails.application.initialize!\r\n\r\nRails.application.routes.draw do\r\n  root to: \"test#sanitize\"\r\n\r\n  get \"/sanitize\" => \"test#sanitize\"\r\n  get \"/strip_tags\" => \"test#strip_tags\"\r\n  get \"/strip_links\" => \"test#strip_links\"\r\nend\r\n\r\nclass TestController < ActionController::Base\r\n  self.view_paths = [ActionView::FixtureResolver.new(\r\n    \"sanitize.html.erb\" => %Q|<%= sanitize \"<script>console.log('Hacked!')</script> \"%>|,\r\n    \"strip_tags.html.erb\" => %Q|<%= strip_tags \"<p>Paragraph!</p>\" %>|,\r\n    \"strip_links.html.erb\" => %Q|<%= strip_links \"Not link / <a href='https://google.com'>Link</a>\" %>|,\r\n  )]\r\n\r\n  def sanitize\r\n    render template: \"sanitize\"\r\n  end\r\n\r\n  def strip_tags\r\n    render template: \"strip_tags\"\r\n  end\r\n\r\n  def strip_links\r\n    render template: \"strip_links\"\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"minitest/pride\"\r\n\r\n# Ensure backward compatibility with Minitest 4\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  # passes\r\n  def test_action_view_white_list_sanitizer\r\n    assert ActionView::Base.white_list_sanitizer.instance_of?(FoobarSanitizer)\r\n  end\r\n\r\n  def test_action_view_full_sanitizer\r\n    assert ActionView::Base.full_sanitizer.instance_of?(FoobarSanitizer)\r\n  end\r\n\r\n  def test_action_view_link_sanitizer\r\n    assert ActionView::Base.link_sanitizer.instance_of?(FoobarSanitizer)\r\n  end\r\n\r\n  # The following tests fail\r\n  #\r\n  # sanitize does not appear to use configured\r\n  # ActionView::Base.white_list_sanitizer\r\n  # instead uses instance of default Rails::Html::WhiteListSanitizer\r\n  #\r\n  # BugTest#test_custom_sanitizer_used [bug.rb:83]:\r\n  # Expected: \"foobar\"\r\n  #   Actual: \"console.log('Hacked!')\"\r\n  def test_custom_white_list_sanitizer_used\r\n    get \"/sanitize\"\r\n    actual = last_response.body\r\n\r\n    assert_equal \"foobar\", actual\r\n  end\r\n\r\n  def test_custom_full_sanitizer_used\r\n    get \"/strip_tags\"\r\n    actual = last_response.body\r\n\r\n    assert_equal \"foobar\", actual\r\n  end\r\n\r\n  def test_custom_link_sanitizer_used\r\n    get \"/strip_links\"\r\n    actual = last_response.body\r\n\r\n    assert_equal \"foobar\", actual\r\n  end\r\n\r\n  private\r\n    def app\r\n      Rails.application\r\n    end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nThe custom `FoobarSanitizer` should be used as the custom sanitizer for `sanitize`, `strip_tags`, and `strip_links` helper methods.\r\n\r\n### Actual behavior\r\nThe default Rails sanitizers are used by these methods instead.\r\n\r\n### System configuration\r\n**Rails version**:\r\n4.2.9, 5.0.2\r\n\r\n**Ruby version**:\r\n2.3.1",
      "number": 28587,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rossta/subscriptions",
         "received_events_url": "https://api.github.com/users/rossta/received_events",
         "url": "https://api.github.com/users/rossta",
         "avatar_url": "https://avatars1.githubusercontent.com/u/11673?v=4",
         "events_url": "https://api.github.com/users/rossta/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rossta/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rossta/following{/other_user}",
         "repos_url": "https://api.github.com/users/rossta/repos",
         "site_admin": false,
         "id": 11673,
         "organizations_url": "https://api.github.com/users/rossta/orgs",
         "login": "rossta",
         "gists_url": "https://api.github.com/users/rossta/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rossta/followers",
         "html_url": "https://github.com/rossta"
      },
      "state": "closed",
      "closed_by": "4114",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28587",
      "updated_at": "2017-07-17T13:08:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28587/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 217633554,
      "closed_at": "2017-07-17T13:08:03Z",
      "created_at": "2017-03-28T17:23:36Z",
      "title": "Sanitize view helper methods ignore `config.action_view.white_list_sanitizer` setting",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28587/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28587/comments",
      "html_url": "https://github.com/rails/rails/issues/28587"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\ncalling `[time1, time2].max` where both times are frozen throws:\r\nRuntimeError: can't modify frozen Time\r\nfrom /home/dog/.rbenv/versions/2.3.3/lib/ruby/gems/2.3.0/gems/activesupport-4.2.8/lib/active_support/core_ext/date_and_time/compatibility.rb:23:in `to_time'\r\n\r\n### Expected behavior\r\nThere should be no error\r\n\r\n### Actual behavior\r\nRuntimeError is thrown\r\n\r\n### System configuration\r\n**Rails version**: none\r\n\r\n**Ruby version**: ruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]\r\n",
      "number": 28585,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Goltergaul/subscriptions",
         "received_events_url": "https://api.github.com/users/Goltergaul/received_events",
         "url": "https://api.github.com/users/Goltergaul",
         "avatar_url": "https://avatars3.githubusercontent.com/u/34413?v=4",
         "events_url": "https://api.github.com/users/Goltergaul/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Goltergaul/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Goltergaul/following{/other_user}",
         "repos_url": "https://api.github.com/users/Goltergaul/repos",
         "site_admin": false,
         "id": 34413,
         "organizations_url": "https://api.github.com/users/Goltergaul/orgs",
         "login": "Goltergaul",
         "gists_url": "https://api.github.com/users/Goltergaul/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Goltergaul/followers",
         "html_url": "https://github.com/Goltergaul"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28585",
      "updated_at": "2017-03-28T22:31:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28585/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 217497166,
      "closed_at": "2017-03-28T15:26:26Z",
      "created_at": "2017-03-28T09:20:10Z",
      "title": "4.2.8 throws error when doing [time1, time2].max on frozen times",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28585/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28585/comments",
      "html_url": "https://github.com/rails/rails/issues/28585"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nBrand new project pulled from 5.1.0.rc1, can be find here:\r\nhttps://github.com/benoitongit/rails-ujs-issue\r\nJust added an edit and show page and home_controller.rb.\r\n\r\nshow.html.erb\r\n`<h1>Show</h1>`\r\n`<%= link_to 'Edit', edit_path %>`\r\n\r\nedit.html.erb\r\n`<%= form_tag '/test', remote: true do %>`\r\n   `<h1>Submit</h1>`\r\n    `<%= submit_tag 'submit' %>`\r\n`<% end %>`\r\n\r\nhome_controller.rb\r\n`  def update`\r\n    `redirect_to action: 'show'`\r\n  `end`\r\n\r\n### Expected behavior\r\n1/ Click on Edit link -> redirected to edit page\r\n2/ Click on Submit form -> redirected to show page\r\n3/ Click on edit link -> redirected to edit page\r\n\r\n### Actual behavior\r\n1/ Click on Edit link -> redirected to edit page\r\n2/ Click on Submit form -> redirected to show page\r\n3/ Click on edit link -> request is cancelled, staying on show page :/\r\n\r\nIf I replace rails-ujs with jquery-rails gem it then works correctly.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.rc1\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 28583,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/benoitongit/subscriptions",
         "received_events_url": "https://api.github.com/users/benoitongit/received_events",
         "url": "https://api.github.com/users/benoitongit",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2327074?v=4",
         "events_url": "https://api.github.com/users/benoitongit/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/benoitongit/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/benoitongit/following{/other_user}",
         "repos_url": "https://api.github.com/users/benoitongit/repos",
         "site_admin": false,
         "id": 2327074,
         "organizations_url": "https://api.github.com/users/benoitongit/orgs",
         "login": "benoitongit",
         "gists_url": "https://api.github.com/users/benoitongit/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/benoitongit/followers",
         "html_url": "https://github.com/benoitongit"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28583",
      "updated_at": "2017-07-28T19:28:25Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28583/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 217421018,
      "closed_at": "2017-04-14T19:21:52Z",
      "created_at": "2017-03-28T01:21:23Z",
      "title": "Rails 5.1.0.rc1 - rails-ujs cancel request when returning to edit page",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28583/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28583/comments",
      "html_url": "https://github.com/rails/rails/issues/28583"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Expected behavior\r\nI think it'll be better if we can notice the matter [latter chapter](http://edgeguides.rubyonrails.org/getting_started.html#installing-rails) shows some commands to check an environment in the [first chapter](http://edgeguides.rubyonrails.org/getting_started.html#guide-assumptions).\r\n\r\n### Actual behavior\r\nIn the [first chapter](http://edgeguides.rubyonrails.org/getting_started.html#guide-assumptions) of [Getting Started with Rails](http://edgeguides.rubyonrails.org/getting_started.html) page, it describes some prerequisites for installing rails.\r\nSince this chapter doesn't describe any commands to check an environment, I first thought I have to know them by googling it.\r\nBut it does describes some ways in the [third chapter](http://edgeguides.rubyonrails.org/getting_started.html#installing-rails). Once seeing it I noticed that my efforts were needless.\r\n\r\nIf this issue is reasonable, I can afford to open a pull request :)\r\nAny reviews would be thankful.",
      "number": 28565,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/keisei1092/subscriptions",
         "received_events_url": "https://api.github.com/users/keisei1092/received_events",
         "url": "https://api.github.com/users/keisei1092",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3320719?v=4",
         "events_url": "https://api.github.com/users/keisei1092/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/keisei1092/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/keisei1092/following{/other_user}",
         "repos_url": "https://api.github.com/users/keisei1092/repos",
         "site_admin": false,
         "id": 3320719,
         "organizations_url": "https://api.github.com/users/keisei1092/orgs",
         "login": "keisei1092",
         "gists_url": "https://api.github.com/users/keisei1092/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/keisei1092/followers",
         "html_url": "https://github.com/keisei1092"
      },
      "state": "closed",
      "closed_by": "29173",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28565",
      "updated_at": "2017-05-21T22:35:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28565/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 1,
      "id": 216954272,
      "closed_at": "2017-05-21T19:58:00Z",
      "created_at": "2017-03-25T06:34:38Z",
      "title": "Can't determine whether an environment is suitable for rails development in the first chapter of Rails Guide",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28565/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28565/comments",
      "html_url": "https://github.com/rails/rails/issues/28565"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Summary\r\nActiveRecord models using `default_scope` with *where conditions defined in array format* do not get initialized with the expected default scope attribute values.\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"activerecord\", \"~> 5.0.0\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# Ensure backward compatibility with Minitest 4\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :squares, force: true do |t|\r\n    t.integer :number\r\n  end\r\n\r\n  create_table :circles, force: true do |t|\r\n    t.integer :number\r\n  end\r\nend\r\n\r\nclass Square < ActiveRecord::Base\r\n  default_scope { where(number: 1) }\r\nend\r\n\r\nclass Circle < ActiveRecord::Base\r\n  default_scope { where(\"number = ?\", 1) }\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def setup\r\n    Square.delete_all\r\n    Circle.delete_all\r\n  end\r\n\r\n  def test_find_with_default_scope_hash_conditions\r\n    Square.create(number: 1)\r\n\r\n    # SELECT \"squares\".* FROM \"squares\" WHERE \"squares\".\"number\" = ?  [[\"number\", 1]]\r\n    assert_equal 1, Square.all.length\r\n  end\r\n\r\n  def test_initialize_with_default_scope_hash_conditions\r\n\r\n    # puts Square.new.attributes\r\n    # {\"id\"=>nil, \"number\"=>1}\r\n    assert_equal 1, Square.new.number\r\n  end\r\n\r\n  def test_find_with_default_scope_array_conditions\r\n    Circle.create(number: 1)\r\n\r\n    # SELECT \"circles\".* FROM \"circles\" WHERE (number = 1)\r\n    assert_equal 1, Circle.all.length\r\n  end\r\n\r\n  # This spec fails\r\n  def test_initialize_with_default_scope_array_conditions\r\n\r\n    # puts Circle.new.attributes\r\n    # {\"id\"=>nil, \"number\"=>nil}\r\n    assert_equal 1, Circle.new.number\r\n  end\r\nend\r\n```\r\n### Expected behavior\r\nAbove, I'd expect `Circle.new` to be initialized with its `:number` attribute set to 1, same as the `Square.new` example. The difference between the two models is the format of the where conditions.\r\n\r\n### Actual behavior\r\n`Circle.new` gets initialized with its `:number` attribute set to `nil`, unlike `Sqaure.new` which gets its `:number` attribute set to 1.\r\n\r\n### System configuration\r\n**Rails version**:\r\nOccurs in 4.1, 4.2, 5.0\r\n\r\n**Ruby version**:\r\n2.3.1",
      "number": 28561,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rossta/subscriptions",
         "received_events_url": "https://api.github.com/users/rossta/received_events",
         "url": "https://api.github.com/users/rossta",
         "avatar_url": "https://avatars1.githubusercontent.com/u/11673?v=4",
         "events_url": "https://api.github.com/users/rossta/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rossta/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rossta/following{/other_user}",
         "repos_url": "https://api.github.com/users/rossta/repos",
         "site_admin": false,
         "id": 11673,
         "organizations_url": "https://api.github.com/users/rossta/orgs",
         "login": "rossta",
         "gists_url": "https://api.github.com/users/rossta/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rossta/followers",
         "html_url": "https://github.com/rossta"
      },
      "state": "closed",
      "closed_by": "28629",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28561",
      "updated_at": "2017-04-01T16:28:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28561/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 216837779,
      "closed_at": "2017-03-27T22:36:30Z",
      "created_at": "2017-03-24T16:27:01Z",
      "title": "Missing default values from default_scope on ActiveRecord model initialization",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28561/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28561/comments",
      "html_url": "https://github.com/rails/rails/issues/28561"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In a brand new Rails 5.0.2 application, the default cache store is `memory_store` (as you can see [here](https://github.com/rails/rails/blob/5-0-stable/railties/lib/rails/generators/rails/app/templates/config/environments/development.rb.tt#L19)).\r\n\r\nHowever, there are two problems with this. The first is that (unless there is something wrong with my setup) because the cache memory is not shared across processes, you cannot for instance clear the cache by typing `Rails.cache.clear` from the Rails console. This is unexpected behavior and hard to diagnose.\r\n\r\nThe second problem is that the [documentation guide for caching](https://github.com/rails/rails/blob/master/guides/source/caching_with_rails.md) says that `:file_store` is the default implementation. This is incorrect, as the default implementation is actually `:memory_store`.\r\n\r\nIn my opinion, `:file_store` makes more sense as the default implementation because it allows a server process and a console process to interact in what (to me) seems like the expected manner. But there may be other considerations.\r\n\r\nSo in conclusion, it seems to me that we would need a PR that _either_:\r\n\r\n(a) Reverts the default to `:file_store`, _OR_\r\n\r\n(b) Updates the documentation to correctly indicate that `:memory_store` is the default implementation.\r\n\r\nI would be happy to submit either PR based on the preferred direction of those who might know more about this than I.",
      "number": 28535,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/brchristian/subscriptions",
         "received_events_url": "https://api.github.com/users/brchristian/received_events",
         "url": "https://api.github.com/users/brchristian",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2460418?v=4",
         "events_url": "https://api.github.com/users/brchristian/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/brchristian/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/brchristian/following{/other_user}",
         "repos_url": "https://api.github.com/users/brchristian/repos",
         "site_admin": false,
         "id": 2460418,
         "organizations_url": "https://api.github.com/users/brchristian/orgs",
         "login": "brchristian",
         "gists_url": "https://api.github.com/users/brchristian/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/brchristian/followers",
         "html_url": "https://github.com/brchristian"
      },
      "state": "closed",
      "closed_by": "28547",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28535",
      "updated_at": "2017-03-23T20:27:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28535/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 5,
      "id": 216237296,
      "closed_at": "2017-03-23T20:27:55Z",
      "created_at": "2017-03-22T23:18:57Z",
      "title": "Default cache store not correctly documented",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28535/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28535/comments",
      "html_url": "https://github.com/rails/rails/issues/28535"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The new [ cache hit/miss ] markers in the log when rendering partials can often be applied wrong when the partial is either not cached or nested. This is because the flag to track this is [stored on the view context](https://github.com/kaspth/rails/blob/843345cae59b73e50af685ac1303a419a06b4c91/actionview/lib/action_view/helpers/cache_helper.rb#L234), rather than attached to the specific partial.",
      "number": 28529,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "284",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/28529",
      "updated_at": "2017-07-31T19:01:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28529/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 216151013,
      "closed_at": "2017-07-31T19:01:33Z",
      "created_at": "2017-03-22T17:38:08Z",
      "title": "Cache hit/miss markers are applied to partials that aren't cached",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28529/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28529/comments",
      "html_url": "https://github.com/rails/rails/issues/28529"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nUse `begin .. rescue ActionDispatch::ParamsParser::ParseError` on Rails 5.1.0.rc1, e.g. in middleware to catch parse errors and handle them differently.\r\n\r\nReproducer: https://gist.github.com/domcleal/3444b61b89f8200e83a60b0f15d426e2\r\n\r\n### Expected behavior\r\nIt should catch `ActionDispatch::Http::Parameters::ParseError` exceptions.\r\n\r\n### Actual behavior\r\n\r\n    TypeError: class or module required for rescue clause\r\n        catch_parseerror.rb:24:in `rescue in test_catches_parseerror'\r\n\r\n### More information\r\n\r\nThe `ActionDispatch::ParamsParser::ParseError` constant was deprecated in b3d41ea, but the proxy object that replaced it isn't an exception and so Ruby throws the above error when trying to reference the proxy in a `rescue` clause.\r\n\r\nThe deprecation should work transparently - possibly through `const_missing` instead of replacing the exception itself.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.rc1\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 28525,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/domcleal/subscriptions",
         "received_events_url": "https://api.github.com/users/domcleal/received_events",
         "url": "https://api.github.com/users/domcleal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/482089?v=4",
         "events_url": "https://api.github.com/users/domcleal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/domcleal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/domcleal/following{/other_user}",
         "repos_url": "https://api.github.com/users/domcleal/repos",
         "site_admin": false,
         "id": 482089,
         "organizations_url": "https://api.github.com/users/domcleal/orgs",
         "login": "domcleal",
         "gists_url": "https://api.github.com/users/domcleal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/domcleal/followers",
         "html_url": "https://github.com/domcleal"
      },
      "state": "closed",
      "closed_by": "28528",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28525",
      "updated_at": "2017-03-22T23:26:45Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28525/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 216083240,
      "closed_at": "2017-03-22T23:26:44Z",
      "created_at": "2017-03-22T14:30:25Z",
      "title": "Rescuing ActionDispatch::ParamsParser::ParseError throws \"class or module required for rescue clause\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28525/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28525/comments",
      "html_url": "https://github.com/rails/rails/issues/28525"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nConsidering the following routes:\r\n\r\n```ruby\r\nclass TestApp < Rails::Application\r\n  routes.draw do\r\n    resources :formats do\r\n      resources :items\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nThe optional format part of the route `(.:format)` always gets stripped off by the router.\r\n\r\nRepro test: https://gist.github.com/pouellet/d5d2e9dd6879971ee3b24b0556468e2d \r\n\r\n### Expected behavior\r\n```\r\n=> rake routes\r\n    \r\n...\r\n    format_items GET      /formats/:format_id/items(.:format)              items#index\r\n                 POST     /formats/:format_id/items(.:format)              items#create\r\n new_format_item GET      /formats/:format_id/items/new(.:format)          items#new\r\nedit_format_item GET      /formats/:format_id/items/:id/edit(.:format)     items#edit\r\n     format_item GET      /formats/:format_id/items/:id(.:format)          items#show\r\n                 PATCH    /formats/:format_id/items/:id(.:format)          items#update\r\n                 PUT      /formats/:format_id/items/:id(.:format)          items#update\r\n                 DELETE   /formats/:format_id/items/:id(.:format)          items#destroy\r\n         formats GET      /formats(.:format)                               formats#index\r\n...\r\n\r\n```\r\n\r\n### Actual behavior\r\n```\r\n=> rake routes\r\n\r\n...\r\n    format_items GET      /formats/:format_id/items            items#index\r\n                 POST     /formats/:format_id/items            items#create\r\n new_format_item GET      /formats/:format_id/items/new        items#new\r\nedit_format_item GET      /formats/:format_id/items/:id/edit   items#edit\r\n     format_item GET      /formats/:format_id/items/:id        items#show\r\n                 PATCH    /formats/:format_id/items/:id        items#update\r\n                 PUT      /formats/:format_id/items/:id        items#update\r\n                 DELETE   /formats/:format_id/items/:id        items#destroy\r\n         formats GET      /formats(.:format)                   formats#index\r\n...\r\n```\r\n### Problem / suggested solution\r\nThe problem seems to be in this method:\r\n\r\n```ruby\r\nmodule ActionDispatch::Routing\r\n  class Mapper::Mapping\r\n    def optional_format?(path, format)\r\n      format != false && !path.include?(\":format\") && !path.end_with?(\"/\")\r\n    end\r\n  end \r\nend\r\n```\r\n\r\nWith the nested resource, the path passed in looks like `/formats/:format_id/items` which will match the `path.include?(\":format\")` check and always remove the optional `(.:format)`. I've changed it to the following against master to make the check more restrictive and it seems to solve the issue while not breaking tests.\r\n\r\n```ruby\r\nmodule ActionDispatch\r\n  module Routing\r\n    class Mapper\r\n      class Mapping\r\n        CONTAINS_FORMAT_REGEX = %r{:format(?!_id)}\r\n        \r\n        private\r\n\r\n        def optional_format?(path, format)\r\n          format != false && path !~ CONTAINS_FORMAT_REGEX && !path.end_with?('/')\r\n        end\r\n      end\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nThere might be an easier fix for this, but I'm not familiar enough with the Rails codebase to know if a more generic match wouldn't affect other stuff. I can submit a fix if you consider it's good enough.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.7.1 (also reproduced against master)\r\n**Ruby version**: 2.3.1\r\n",
      "number": 28517,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pouellet/subscriptions",
         "received_events_url": "https://api.github.com/users/pouellet/received_events",
         "url": "https://api.github.com/users/pouellet",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4390603?v=4",
         "events_url": "https://api.github.com/users/pouellet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pouellet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pouellet/following{/other_user}",
         "repos_url": "https://api.github.com/users/pouellet/repos",
         "site_admin": false,
         "id": 4390603,
         "organizations_url": "https://api.github.com/users/pouellet/orgs",
         "login": "pouellet",
         "gists_url": "https://api.github.com/users/pouellet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pouellet/followers",
         "html_url": "https://github.com/pouellet"
      },
      "state": "closed",
      "closed_by": "776a71",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28517",
      "updated_at": "2017-04-18T19:45:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28517/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 4,
      "id": 215932875,
      "closed_at": "2017-04-18T10:13:21Z",
      "created_at": "2017-03-22T02:13:11Z",
      "title": "Routing strip off optional (.:format) when nesting resources under a parent resource named :formats",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28517/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28517/comments",
      "html_url": "https://github.com/rails/rails/issues/28517"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n * Create a Rails 5.1 app (tried with 5.1.0.rc1).\r\n * At the command line, run `rails runner 'puts ARGV.inspect' x`\r\n\r\n### Expected behavior\r\nI expected this to output `[\"x\"]`, as it does in prior releases.\r\n\r\n### Actual behavior\r\nIt outputs `[\"puts ARGV.inspect\", \"x\"]`. If the code being run by `runner` looks at `ARGV`, and does not expect to see a copy of itself in the array, this can cause trouble.  So, if this is a deliberate change, it probably merits mention in the release notes.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.rc1\r\n\r\n**Ruby version**: 2.2.4\r\n",
      "number": 28515,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rst/subscriptions",
         "received_events_url": "https://api.github.com/users/rst/received_events",
         "url": "https://api.github.com/users/rst",
         "avatar_url": "https://avatars2.githubusercontent.com/u/246888?v=4",
         "events_url": "https://api.github.com/users/rst/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rst/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rst/following{/other_user}",
         "repos_url": "https://api.github.com/users/rst/repos",
         "site_admin": false,
         "id": 246888,
         "organizations_url": "https://api.github.com/users/rst/orgs",
         "login": "rst",
         "gists_url": "https://api.github.com/users/rst/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rst/followers",
         "html_url": "https://github.com/rst"
      },
      "state": "closed",
      "closed_by": "28527",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28515",
      "updated_at": "2017-03-22T23:19:17Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28515/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 3,
      "id": 215925606,
      "closed_at": "2017-03-22T23:19:17Z",
      "created_at": "2017-03-22T01:17:33Z",
      "title": "Rails 5.1 sets ARGV for `rails runner \"...code...\"` differently from earlier releases",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28515/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28515/comments",
      "html_url": "https://github.com/rails/rails/issues/28515"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n`rails new reproduce-js-wp --javascript=typescript --webpack`\r\n\r\n### Expected behavior\r\npackage.json should add typescript as a development dependency (and optionally, not include the coffee script one). \r\n\r\n### Actual behavior\r\nIt ignores --javascript option and includes coffee-script as a dependency instead. Contents of package.json here:\r\n```\r\n{\r\n  \"name\": \"reproduce-js-wp\",\r\n  \"private\": true,\r\n  \"dependencies\": {},\r\n  \"devDependencies\": {\r\n    \"babel-core\": \"^6.24.0\",\r\n    \"babel-loader\": \"^6.4.1\",\r\n    \"babel-preset-latest\": \"^6.24.0\",\r\n    \"coffee-loader\": \"^0.7.3\",\r\n    \"coffee-script\": \"^1.12.4\",\r\n    \"glob\": \"^7.1.1\",\r\n    \"path-complete-extname\": \"^0.1.0\",\r\n    \"rails-erb-loader\": \"^3.2.0\",\r\n    \"webpack\": \"^2.3.0\",\r\n    \"webpack-dev-server\": \"^2.4.2\",\r\n    \"webpack-merge\": \"^4.1.0\"\r\n  }\r\n}\r\n```\r\n\r\n### System configuration\r\nRails 5.1.0.rc1\r\nruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]\r\n",
      "number": 28512,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sunnyrjuneja/subscriptions",
         "received_events_url": "https://api.github.com/users/sunnyrjuneja/received_events",
         "url": "https://api.github.com/users/sunnyrjuneja",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1108341?v=4",
         "events_url": "https://api.github.com/users/sunnyrjuneja/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sunnyrjuneja/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sunnyrjuneja/following{/other_user}",
         "repos_url": "https://api.github.com/users/sunnyrjuneja/repos",
         "site_admin": false,
         "id": 1108341,
         "organizations_url": "https://api.github.com/users/sunnyrjuneja/orgs",
         "login": "sunnyrjuneja",
         "gists_url": "https://api.github.com/users/sunnyrjuneja/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sunnyrjuneja/followers",
         "html_url": "https://github.com/sunnyrjuneja"
      },
      "state": "closed",
      "closed_by": "28546",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28512",
      "updated_at": "2017-03-28T13:10:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28512/events",
      "assignee": null,
      "labels": [
         {
            "id": 128693,
            "url": "https://api.github.com/repos/rails/rails/labels/asset%20pipeline",
            "color": "d7e102",
            "default": false,
            "name": "asset pipeline"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 4,
      "id": 215903698,
      "closed_at": "2017-03-27T22:42:06Z",
      "created_at": "2017-03-21T22:56:59Z",
      "title": "rails new: webpack option doesn't consider javascript option",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28512/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28512/comments",
      "html_url": "https://github.com/rails/rails/issues/28512"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nDeploy Rails 5.1 RC1 app to Heroku.\r\n\r\n### Expected behavior\r\n\r\nDefault behavior used to be to bind to localhost, which works fine. Now appears to want to use HOST as the binding address, which does not work.\r\n\r\n### Actual behavior\r\n\r\nExample log output from my app. Note that -b option is specified, but ignored. I verified this same configuration works fine in 5.0.1\r\n\r\n```\r\nMar 20 20:20:07 ex-staging app/api:  Release v38 created by user obiefernandez \r\nMar 20 20:20:12 ex-staging heroku/web.1:  Starting process with command `bin/rails server -p 31079 -e production -b 0.0.0.0` \r\nMar 20 20:20:19 ex-staging app/web.1:  => Booting Puma \r\nMar 20 20:20:19 ex-staging app/web.1:  => Rails 5.1.0.rc1 application starting in production on http://staging.example.com:31079 \r\nMar 20 20:20:19 ex-staging app/web.1:  => Run `rails server -h` for more startup options \r\nMar 20 20:20:19 ex-staging app/web.1:  Puma starting in single mode... \r\nMar 20 20:20:19 ex-staging app/web.1:  * Version 3.8.2 (ruby 2.3.3-p222), codename: Sassy Salamander \r\nMar 20 20:20:19 ex-staging app/web.1:  * Min threads: 5, max threads: 5 \r\nMar 20 20:20:19 ex-staging app/web.1:  * Environment: production \r\nMar 20 20:20:19 ex-staging app/web.1:  * Listening on tcp://staging.example.com:31079 \r\nMar 20 20:20:19 ex-staging app/web.1:  Exiting \r\nMar 20 20:20:19 ex-staging app/web.1:  D, [2017-03-21T03:20:19.331584 #4] DEBUG -- : **Airbrake: {\"id\"=>\"...\", \"url\"=>\"https://airbrake.io/locate/00054b35-...\"} \r\nMar 20 20:20:19 ex-staging app/web.1:  /app/vendor/bundle/ruby/2.3.0/gems/puma-3.8.2/lib/puma/binder.rb:269:in `initialize': Cannot assign requested address - bind(2) for \"staging.example.com\" port 31079 \r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.0.rc1\r\n\r\n**Ruby version**:\r\n2.3.3-p222\r\n",
      "number": 28500,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/obie/subscriptions",
         "received_events_url": "https://api.github.com/users/obie/received_events",
         "url": "https://api.github.com/users/obie",
         "avatar_url": "https://avatars0.githubusercontent.com/u/3908?v=4",
         "events_url": "https://api.github.com/users/obie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/obie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/obie/following{/other_user}",
         "repos_url": "https://api.github.com/users/obie/repos",
         "site_admin": false,
         "id": 3908,
         "organizations_url": "https://api.github.com/users/obie/orgs",
         "login": "obie",
         "gists_url": "https://api.github.com/users/obie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/obie/followers",
         "html_url": "https://github.com/obie"
      },
      "state": "closed",
      "closed_by": "28513",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28500",
      "updated_at": "2017-03-23T12:16:51Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28500/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 5,
      "id": 215618960,
      "closed_at": "2017-03-22T23:17:24Z",
      "created_at": "2017-03-21T03:27:06Z",
      "title": "Rails 5.1 Doesn't Respect -b (bind) IP address, breaks Heroku/Puma deployments",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28500/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28500/comments",
      "html_url": "https://github.com/rails/rails/issues/28500"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nAdded this spec to `test/cases/relations_test.rb`\r\n\r\n``` ruby\r\ndef test_unscope_specific_where_value\r\n  posts = Post.where(title: \"Welcome to the weblog\", body: \"Such a lovely day\")\r\n\r\n  assert_equal 1, posts.count\r\n  assert_equal 1, posts.unscope(where: :title).count\r\n  assert_equal 1, posts.unscope(where: :body).count\r\nend\r\n```\r\n\r\nWhich fails on the final assertion with:\r\n\r\n```\r\nRelationTest#test_unscope_specific_where_value [test/cases/relations_test.rb:1978]:\r\nExpected: 1\r\n  Actual: 0\r\n```\r\n\r\nUnscoping the last argument should allow it to return the same record. We're only removing a condition so it shouldn't return _fewer_ record. AR is constructing the query incorrectly and returning no records.\r\n\r\n### What's going on?\r\n\r\nWhen unscoping the individual attribute it isn't treating binds correctly.\r\n\r\n``` ruby\r\nposts.to_sql\r\n# SELECT \"posts\".* FROM \"posts\" WHERE \"posts\".\"title\" = 'Welcome to the weblog'\r\n#                                 AND \"posts\".\"body\" = 'Such a lovely day'\r\n\r\nposts.unscope(where: :title).to_sql\r\n# SELECT \"posts\".* FROM \"posts\" WHERE \"posts\".\"body\" = 'Such a lovely day'\r\n\r\nposts.unscope(where: :body).to_sql\r\n# SELECT \"posts\".* FROM \"posts\" WHERE \"posts\".\"title\" = 'Such a lovely day'\r\n```\r\n\r\nSo the bind intended for the `title` is now being used on the `body`. Whoops!\r\n\r\n### Expected behavior\r\n\r\nBinds stay attached to the correct attribute.\r\n\r\n### Actual behavior\r\n\r\nBinds become messed up. And the resulting query is incorrect.\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.0.rc1\r\n\r\n**Ruby version**:\r\n2.3.3",
      "number": 28496,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jhawthorn/subscriptions",
         "received_events_url": "https://api.github.com/users/jhawthorn/received_events",
         "url": "https://api.github.com/users/jhawthorn",
         "avatar_url": "https://avatars3.githubusercontent.com/u/131752?v=4",
         "events_url": "https://api.github.com/users/jhawthorn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jhawthorn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jhawthorn/following{/other_user}",
         "repos_url": "https://api.github.com/users/jhawthorn/repos",
         "site_admin": false,
         "id": 131752,
         "organizations_url": "https://api.github.com/users/jhawthorn/orgs",
         "login": "jhawthorn",
         "gists_url": "https://api.github.com/users/jhawthorn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jhawthorn/followers",
         "html_url": "https://github.com/jhawthorn"
      },
      "state": "closed",
      "closed_by": "28497",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28496",
      "updated_at": "2017-03-21T10:55:11Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28496/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 7,
      "id": 215566291,
      "closed_at": "2017-03-21T10:55:11Z",
      "created_at": "2017-03-20T21:51:49Z",
      "title": "Rails 5.1 regression - unscope broken with a specific where value",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28496/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28496/comments",
      "html_url": "https://github.com/rails/rails/issues/28496"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Summary\r\n\r\nIf two tables with the same name exist in different schemas, `ActiveRecord::Base.connection.primary_keys` returns an array `['id', 'id']` instead of just `['id']`.\r\n\r\nWhen calling `find` Rails mistakes this as a composite primary key and subsequently prevents loading any model instances from any one of the tables.\r\n\r\nThis behaviour was introduced by #27961 \r\n\r\n### Steps to reproduce\r\n\r\n#### Ruby script:\r\n[Runnable demo with failing tests](https://gist.github.com/daniel-rikowski/316446a2116936225609c1c2a2e92da7) (Needs PostgreSQL and a database named `bugreport`)\r\n\r\n#### Manual:\r\n\r\n1. Use Rails 5.1 beta and PostgreSQL\r\n1. Create two schemas, for example `public` and `tenant1`\r\n1. Create two tables named `versions`, one in `public` and one in `tenant1`.\r\n1. Create a model `Version`\r\n1. Set the schema search path `ActiveRecord::Base.connection.schema_search_path = 'public, tenant1'`\r\n\r\nThen:\r\n1. Call ` ActiveRecord::Base.connection.primary_keys('versions')`\r\n1. Call `Version.find(1)` (no record needs to exist)\r\n\r\n\r\n### Expected behavior\r\n\r\n* `primary_keys('versions')` should return `['id']`\r\n* `Version.find(1)` should raise `ActiveRecord::RecordNotFound`\r\n\r\n(Works in Rails 5.0.1)\r\n\r\n### Actual behavior\r\n\r\n* `primary_keys('versions')` returns `['id', 'id']`\r\n* `Version.find(1)` raises `ActiveRecord::UnknownPrimaryKey`\r\n\r\n### Additional information\r\n\r\nThe SQL query from #27961 determines the table purely by string comparison, which cannot uniquely identify the correct table when there are multiple matches across all current schemas.\r\nThe original query performed a `::regclass` cast and compared oids. That automatically determined the right table by taking the current search path into account.\r\n\r\n```sql\r\nSET search_path = public, tenant1;\r\nSELECT 'versions'::regclass = 'public.versions'::regclass;    -- true\r\nSELECT 'versions'::regclass = 'tenant1.versions'::regclass;   -- false\r\n\r\nSET search_path = tenant1, public;\r\nSELECT 'versions'::regclass = 'public.versions'::regclass;    -- false\r\nSELECT 'versions'::regclass = 'tenant1.versions'::regclass;   -- true\r\n\r\n```\r\n\r\n",
      "number": 28470,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/daniel-rikowski/subscriptions",
         "received_events_url": "https://api.github.com/users/daniel-rikowski/received_events",
         "url": "https://api.github.com/users/daniel-rikowski",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1169363?v=4",
         "events_url": "https://api.github.com/users/daniel-rikowski/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/daniel-rikowski/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/daniel-rikowski/following{/other_user}",
         "repos_url": "https://api.github.com/users/daniel-rikowski/repos",
         "site_admin": false,
         "id": 1169363,
         "organizations_url": "https://api.github.com/users/daniel-rikowski/orgs",
         "login": "daniel-rikowski",
         "gists_url": "https://api.github.com/users/daniel-rikowski/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/daniel-rikowski/followers",
         "html_url": "https://github.com/daniel-rikowski"
      },
      "state": "closed",
      "closed_by": "28478",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28470",
      "updated_at": "2017-03-29T13:39:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28470/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 0,
      "id": 215140749,
      "closed_at": "2017-03-29T13:39:03Z",
      "created_at": "2017-03-17T22:48:31Z",
      "title": "Determining primary keys across multiple schemas",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28470/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28470/comments",
      "html_url": "https://github.com/rails/rails/issues/28470"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In Rails through 5.0, if a transactional `ActiveSupport::TestCase` starts a new Thread, that Thread gets its own `ActiveRecord::Base.connection`, outside the context of the test transaction.  The same applies if the code under test starts a thread which uses a separate Connection. This may be slightly odd, but the effects were repeatable and useful; in fact `default_scoping_test.rb` in the ActiveRecord tests did this.\r\n\r\nIn 5.1.0.beta1, all threads in a transactional test get the same connection object. The effects if they try to use it simultaneously can be very strange, and generally aren't useful. This behavior was introduced in commit d6466beb for acceptance tests (so the server and test-runner processes can share the same connection and transactional context), but it does have the unfortunate effect of breaking pre-existing test suites.  And the quickie work-around (`self.use_transactional_tests = false`) does have a performance penalty.\r\n\r\nThe simplest thing for users might be to limit the new behavior to acceptance tests, for which it was introduced. But if that's too awkward, or undesirable for some other reason, this may merit prominent mention in the release notes -- if only because it can otherwise be awfully hard to track down why a test suite that's been working since Rails 3.1 is suddenly hanging while trying to talk to the database!\r\n\r\nPutting this in the usual litany:\r\n\r\n### Steps to reproduce\r\n\r\nIn a transaction `ActiveSupport::TestCase`, do something like this\r\n\r\n```\r\n  def test_thread_connections\r\n    conn = ActiveRecord::Base.connection\r\n    Thread.new do\r\n      if conn == ActiveRecord::Base.connection\r\n        raise \"Connection pool no longer per thread!\"\r\n      end\r\n    end.join\r\n  end\r\n```\r\n\r\n### Expected behavior\r\nI expected this test case to pass without throwing exceptions, as in Rails 5.0 and earlier releases.  (The template says \"Tell us what should happen,\" and you may have intended to change the behavior here.  Nevertheless, that's what I expected!)\r\n\r\n### Actual behavior\r\nIt throws an uncaught exception.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.beta1\r\n\r\n**Ruby version**: 2.2.4\r\n",
      "number": 28466,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rst/subscriptions",
         "received_events_url": "https://api.github.com/users/rst/received_events",
         "url": "https://api.github.com/users/rst",
         "avatar_url": "https://avatars2.githubusercontent.com/u/246888?v=4",
         "events_url": "https://api.github.com/users/rst/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rst/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rst/following{/other_user}",
         "repos_url": "https://api.github.com/users/rst/repos",
         "site_admin": false,
         "id": 246888,
         "organizations_url": "https://api.github.com/users/rst/orgs",
         "login": "rst",
         "gists_url": "https://api.github.com/users/rst/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rst/followers",
         "html_url": "https://github.com/rst"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28466",
      "updated_at": "2017-04-26T00:57:24Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28466/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 7,
      "id": 215099752,
      "closed_at": "2017-04-26T00:57:24Z",
      "created_at": "2017-03-17T19:24:47Z",
      "title": "Rails 5.1 breaks transactional tests that use AR and Threads",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28466/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28466/comments",
      "html_url": "https://github.com/rails/rails/issues/28466"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nCreate a rails app with a page that outputs request.remote_ip. Set your X-Forwarded-For header to a private IP (ex. 10.1.0.1). The IP displayed will not match the X-Forwarded-For header unless it is a non-private IP.\r\n\r\n### Expected behavior\r\nThis should be configurable, I'm sure there are many instances of Rails being run internally as a service (behind a reverse proxy or load balancer). In these instances, all client IPs are being reported incorrectly as the IP of the proxy or load balancer.\r\n\r\n### Actual behavior\r\nThe remote_ip being reported is from the load balancer or proxy.\r\n\r\n### System configuration\r\n**Rails version**: 4.x, 5.x\r\n\r\n**Ruby version**:\r\n2.3.x",
      "number": 28436,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jkuchta/subscriptions",
         "received_events_url": "https://api.github.com/users/jkuchta/received_events",
         "url": "https://api.github.com/users/jkuchta",
         "avatar_url": "https://avatars1.githubusercontent.com/u/425863?v=4",
         "events_url": "https://api.github.com/users/jkuchta/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jkuchta/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jkuchta/following{/other_user}",
         "repos_url": "https://api.github.com/users/jkuchta/repos",
         "site_admin": false,
         "id": 425863,
         "organizations_url": "https://api.github.com/users/jkuchta/orgs",
         "login": "jkuchta",
         "gists_url": "https://api.github.com/users/jkuchta/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jkuchta/followers",
         "html_url": "https://github.com/jkuchta"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28436",
      "updated_at": "2017-03-19T17:01:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28436/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 7,
      "id": 214529917,
      "closed_at": "2017-03-17T17:31:14Z",
      "created_at": "2017-03-15T21:21:07Z",
      "title": "ActionDispatch remote_ip returns wrong client IP when deployed internally behind a load balancer/reverse proxy",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28436/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28436/comments",
      "html_url": "https://github.com/rails/rails/issues/28436"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n```\r\nActiveSupport::TimeZone.country_zones('GT')\r\nActiveSupport::TimeZone.country_zones('SV')\r\n```\r\n### Expected behavior\r\nGuatemala and El Salvador share the same time zone (\"Central America\") and should return the same TZInfo response array.\r\n\r\n### Actual behavior\r\n```\r\nActiveSupport::TimeZone.country_zones('GT')\r\n=> [#<ActiveSupport::TimeZone:0x007ff9f0c61c08 @name=\"Central America\", @utc_offset=nil, @tzinfo=#<TZInfo::DataTimezone: America/Guatemala>>]\r\nActiveSupport::TimeZone.country_zones('SV')\r\n=> []\r\n```\r\n\r\n### Cause\r\nhttps://github.com/rails/rails/blob/master/activesupport/lib/active_support/values/time_zone.rb\r\n\r\nThe underlying reason seems to be that ActiveSupport::TimeZone::MAPPING is only a partial mapping of TZinfo identifiers: \"Keys are Rails TimeZone names, values are TZInfo identifiers.\"   As a result, country_zones() will return the correct response only if a Rails TimeZone name is not shared by multiple countries.\r\n\r\n### Version\r\nruby 2.3.3p222\r\nactivesupport (= 5.0.2)\r\ntzinfo (1.2.2)",
      "number": 28431,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/darrennix/subscriptions",
         "received_events_url": "https://api.github.com/users/darrennix/received_events",
         "url": "https://api.github.com/users/darrennix",
         "avatar_url": "https://avatars1.githubusercontent.com/u/738245?v=4",
         "events_url": "https://api.github.com/users/darrennix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/darrennix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/darrennix/following{/other_user}",
         "repos_url": "https://api.github.com/users/darrennix/repos",
         "site_admin": false,
         "id": 738245,
         "organizations_url": "https://api.github.com/users/darrennix/orgs",
         "login": "darrennix",
         "gists_url": "https://api.github.com/users/darrennix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/darrennix/followers",
         "html_url": "https://github.com/darrennix"
      },
      "state": "closed",
      "closed_by": "28c482",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28431",
      "updated_at": "2017-07-12T15:09:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28431/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 11,
      "id": 214493914,
      "closed_at": "2017-03-28T12:35:33Z",
      "created_at": "2017-03-15T19:03:43Z",
      "title": "ActiveSupport::TimeZone.country_zones(country_code) fails to find valid Alpha2",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28431/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28431/comments",
      "html_url": "https://github.com/rails/rails/issues/28431"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n * Run [this test case](https://gist.github.com/rst/fa658e3e0791d36411ce749634750f76) and observe the failed assertion (with 5.1.0.beta1, though not 5.0.2):\r\n\r\n... or ...\r\n\r\n * Set up a blog/comment schema, with comments having a text attribute\r\n * Declare a method on the Blog#comments association like so: \r\n```\r\n    has_many :comments do\r\n      def with_text(text)\r\n        self.detect{ |c| c.text == text }\r\n      end\r\n    end\r\n```\r\n * Create a post\r\n * Do `post.comments.build text: \"a comment\"`\r\n * Invoke `post.comments.with_text(\"a comment\")`\r\n\r\n\r\n### Expected behavior\r\n`post.comments.with_text` returns the unsaved comment object (as it does in 5.0.2)\r\n\r\n### Actual behavior\r\nIt returns nil\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.beta1\r\n\r\n**Ruby version**: 2.2.4\r\n",
      "number": 28419,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rst/subscriptions",
         "received_events_url": "https://api.github.com/users/rst/received_events",
         "url": "https://api.github.com/users/rst",
         "avatar_url": "https://avatars2.githubusercontent.com/u/246888?v=4",
         "events_url": "https://api.github.com/users/rst/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rst/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rst/following{/other_user}",
         "repos_url": "https://api.github.com/users/rst/repos",
         "site_admin": false,
         "id": 246888,
         "organizations_url": "https://api.github.com/users/rst/orgs",
         "login": "rst",
         "gists_url": "https://api.github.com/users/rst/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rst/followers",
         "html_url": "https://github.com/rst"
      },
      "state": "closed",
      "closed_by": "28474",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28419",
      "updated_at": "2017-03-20T18:32:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28419/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 214248879,
      "closed_at": "2017-03-20T18:32:08Z",
      "created_at": "2017-03-15T00:37:38Z",
      "title": "Rails 5.1: 'detect' in association method does not find unsaved objects",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28419/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28419/comments",
      "html_url": "https://github.com/rails/rails/issues/28419"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nTell us what should happen\r\n\r\ncomment.post should be present, even if the post is soft deleted\r\n\r\n### Actual behavior\r\nTell us what happens instead\r\n\r\ncomment.post is nil\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n\r\n**Ruby version**: 2.4\r\n\r\nReference: https://github.com/rails/rails/pull/21550\r\n\r\nbug.rb\r\n\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n    t.string :name\r\n    t.datetime :deleted_at\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\n\r\n  scope :with_deleted, -> { unscope(where: :deleted_at) }\r\n\r\n  default_scope { where deleted_at: nil }\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post, -> { with_deleted }\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n\r\n  def setup!\r\n    post = Post.create!(name: 'test')\r\n\r\n    post.comments << Comment.create!\r\n\r\n    post.touch :deleted_at\r\n\r\n  end\r\n\r\n  # this should pass\r\n  def test_association_with_references\r\n    setup!\r\n\r\n    comments = Comment.includes(:post).references(:posts)\r\n    refute_nil comments.first.post\r\n  end\r\n\r\n  def test_association_without_references\r\n    setup!\r\n\r\n    comments = Comment.includes(:post)\r\n    refute_nil comments.first.post\r\n  end\r\n\r\n  def test_association_without_preloading\r\n    setup!\r\n\r\n    comments = Comment.all\r\n    refute_nil comments.first.post\r\n  end\r\n\r\nend\r\n```\r\n",
      "number": 28415,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jeffblake/subscriptions",
         "received_events_url": "https://api.github.com/users/jeffblake/received_events",
         "url": "https://api.github.com/users/jeffblake",
         "avatar_url": "https://avatars0.githubusercontent.com/u/620564?v=4",
         "events_url": "https://api.github.com/users/jeffblake/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeffblake/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeffblake/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeffblake/repos",
         "site_admin": false,
         "id": 620564,
         "organizations_url": "https://api.github.com/users/jeffblake/orgs",
         "login": "jeffblake",
         "gists_url": "https://api.github.com/users/jeffblake/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeffblake/followers",
         "html_url": "https://github.com/jeffblake"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28415",
      "updated_at": "2017-09-04T08:22:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28415/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 214194122,
      "closed_at": "2017-07-08T21:16:19Z",
      "created_at": "2017-03-14T20:19:26Z",
      "title": "includes(:association) is not respecting scope when eager loaded using .references()",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28415/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28415/comments",
      "html_url": "https://github.com/rails/rails/issues/28415"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`ActionDispatch::Routing::RouteSet#recognize_path` does not reset parameters between trying different constraints out. It only [adds](https://github.com/rails/rails/blob/11f10840936a323eda1a9eab02521eff9bdccedb/actionpack/lib/action_dispatch/routing/route_set.rb#L863-L864) parameters. Normal matching doesn't exhibit  the same behavior and there's [a test to make sure of it](https://github.com/rails/rails/blob/11f10840936a323eda1a9eab02521eff9bdccedb/actionpack/test/dispatch/routing_test.rb#L4177-L4195)\r\n\r\n### Steps to reproduce\r\n\r\nAdd the following code to `actionpack/test/controller/routing_test.rb`\r\n```ruby\r\n  def test_recognize_path_does_not_leak_params\r\n    rs.draw do\r\n      get ':foo/bar' => 'bar#foo', constraints: lambda { |*| false }\r\n      get 'foo/:bar' => 'foo#bar'\r\n    end\r\n\r\n    assert_equal({ :controller => \"foo\", :action => 'bar', :bar => 'bar' }, rs.recognize_path(\"/foo/bar\"))\r\n  end\r\n```\r\n\r\nAs you can see the `:foo` parameter was leaked from the first route with non-matching constraint.\r\n\r\n### Expected behavior\r\nNo failure\r\n\r\n### Actual behavior\r\n```\r\n  1) Failure:\r\nLegacyRouteSetTests#test_recognize_path_does_not_leak_params [test/controller/routing_test.rb:673]:\r\n--- expected\r\n+++ actual\r\n@@ -1 +1 @@\r\n-{:controller=>\"foo\", :action=>\"bar\", :bar=>\"bar\"}\r\n+{:controller=>\"foo\", :action=>\"bar\", :foo=>\"foo\", :bar=>\"bar\"}\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2, master\r\n\r\n**Ruby version**: 2.3.3",
      "number": 28398,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/libc/subscriptions",
         "received_events_url": "https://api.github.com/users/libc/received_events",
         "url": "https://api.github.com/users/libc",
         "avatar_url": "https://avatars0.githubusercontent.com/u/7838?v=4",
         "events_url": "https://api.github.com/users/libc/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/libc/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/libc/following{/other_user}",
         "repos_url": "https://api.github.com/users/libc/repos",
         "site_admin": false,
         "id": 7838,
         "organizations_url": "https://api.github.com/users/libc/orgs",
         "login": "libc",
         "gists_url": "https://api.github.com/users/libc/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/libc/followers",
         "html_url": "https://github.com/libc"
      },
      "state": "closed",
      "closed_by": "86085d",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28398",
      "updated_at": "2017-03-15T17:21:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28398/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 2,
      "id": 213743219,
      "closed_at": "2017-03-15T16:54:03Z",
      "created_at": "2017-03-13T11:45:48Z",
      "title": "ActionDispatch::Routing::RouteSet#recognize_path (assert_recognize) leaks parameters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28398/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28398/comments",
      "html_url": "https://github.com/rails/rails/issues/28398"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The [asset pipeline guide](https://github.com/rails/rails/blob/master/guides/source/asset_pipeline.md#coding-links-to-assets) has this line:\r\n\r\n> In regular views you can access images in the `public/assets/images` directory like this:\r\n\r\nTo my knowledge the asset pipeline never creates an \"images\" directory and puts all images, stylesheets, and javascripts into the top-level \"assets\" directory. Am I wrong or is the guide wrong?\r\n\r\nWhen I find out either way, I'll put in a PR to fix / make more clear.",
      "number": 28387,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jjb/subscriptions",
         "received_events_url": "https://api.github.com/users/jjb/received_events",
         "url": "https://api.github.com/users/jjb",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6097?v=4",
         "events_url": "https://api.github.com/users/jjb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jjb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jjb/following{/other_user}",
         "repos_url": "https://api.github.com/users/jjb/repos",
         "site_admin": false,
         "id": 6097,
         "organizations_url": "https://api.github.com/users/jjb/orgs",
         "login": "jjb",
         "gists_url": "https://api.github.com/users/jjb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jjb/followers",
         "html_url": "https://github.com/jjb"
      },
      "state": "closed",
      "closed_by": "28421",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28387",
      "updated_at": "2017-03-18T02:15:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28387/events",
      "assignee": null,
      "labels": [
         {
            "id": 128693,
            "url": "https://api.github.com/repos/rails/rails/labels/asset%20pipeline",
            "color": "d7e102",
            "default": false,
            "name": "asset pipeline"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 3,
      "id": 213560997,
      "closed_at": "2017-03-18T02:15:12Z",
      "created_at": "2017-03-11T21:34:15Z",
      "title": "guide incorrectly refers to public/assets/images ?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28387/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28387/comments",
      "html_url": "https://github.com/rails/rails/issues/28387"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n * Run test in gist [here](https://gist.github.com/rst/bd316b76edf2684b00157b1684e76a68), or...\r\n * Set up a blog/comment schema, where comments have a 'text'\r\n * Create a post\r\n * Do `post.comments.build(text: 'New text')`\r\n * Do `post.comments.select{ |x| x.text == 'New text' }`\r\n\r\n### Expected behavior\r\nI expect this to return an array containing the new, unsaved record returned by `build`, as it does in Rails 5.0.2. This is also what happens in 5.1.0.beta1 with `post.comments.to_a.select{ |x| x.text == 'New text' }` (note the `to_a`).\r\n\r\n### Actual behavior\r\nIt returns an empty array.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.beta1\r\n\r\n**Ruby version**: 2.2.4\r\n",
      "number": 28374,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rst/subscriptions",
         "received_events_url": "https://api.github.com/users/rst/received_events",
         "url": "https://api.github.com/users/rst",
         "avatar_url": "https://avatars2.githubusercontent.com/u/246888?v=4",
         "events_url": "https://api.github.com/users/rst/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rst/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rst/following{/other_user}",
         "repos_url": "https://api.github.com/users/rst/repos",
         "site_admin": false,
         "id": 246888,
         "organizations_url": "https://api.github.com/users/rst/orgs",
         "login": "rst",
         "gists_url": "https://api.github.com/users/rst/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rst/followers",
         "html_url": "https://github.com/rst"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28374",
      "updated_at": "2017-03-11T18:46:17Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28374/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 213428711,
      "closed_at": "2017-03-11T06:07:44Z",
      "created_at": "2017-03-10T19:21:42Z",
      "title": "Rails 5.1: 'select' on association proxy does not see new (unsaved) records",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28374/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28374/comments",
      "html_url": "https://github.com/rails/rails/issues/28374"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "actioncable@5.0.2 not support webpack2 now.\r\n\r\n```js\r\nimport ActionCable from 'actioncable'\r\n\r\nconsole.log(ActionCable) // undefined\r\n```\r\n\r\nplease support it, thx.\r\njust like this.\r\n```json\r\n...\r\n  \"main\": \"dist/vue.runtime.common.js\",\r\n  \"module\": \"dist/vue.runtime.esm.js\",\r\n  \"unpkg\": \"dist/vue.js\",\r\n  \"typings\": \"types/index.d.ts\",\r\n...\r\n```",
      "number": 28366,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/limichange/subscriptions",
         "received_events_url": "https://api.github.com/users/limichange/received_events",
         "url": "https://api.github.com/users/limichange",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1947344?v=4",
         "events_url": "https://api.github.com/users/limichange/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/limichange/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/limichange/following{/other_user}",
         "repos_url": "https://api.github.com/users/limichange/repos",
         "site_admin": false,
         "id": 1947344,
         "organizations_url": "https://api.github.com/users/limichange/orgs",
         "login": "limichange",
         "gists_url": "https://api.github.com/users/limichange/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/limichange/followers",
         "html_url": "https://github.com/limichange"
      },
      "state": "closed",
      "closed_by": "d2b302",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28366",
      "updated_at": "2017-03-13T15:13:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28366/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 257468118,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20work",
            "color": "000000",
            "default": false,
            "name": "needs work"
         }
      ],
      "comments": 10,
      "id": 213228029,
      "closed_at": "2017-03-13T15:13:08Z",
      "created_at": "2017-03-10T02:48:34Z",
      "title": "[Feature Request] webpack2 import actioncable ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28366/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28366/comments",
      "html_url": "https://github.com/rails/rails/issues/28366"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "**Steps to reproduce**\r\n\r\nOpen puma.rb and add SSL certificates:\r\n```\r\nssl_key = File.expand_path '../certificates/server.key', __FILE__\r\nssl_cert = File.expand_path '../certificates/server.crt', __FILE__\r\nbind \"ssl://127.0.0.1:3000?key=#{ssl_key}&cert=#{ssl_cert}\"\r\n# Set on development.rb to force SSL and allowed origin request for ActionCable:\r\n...\r\nconfig.force_ssl = true\r\nconfig.action_cable.allowed_request_origins = ['https://lvh.me:4000']\r\n```\r\nIn my settings I use redis:\r\n```\r\ndevelopment:\r\n  adapter: redis\r\n  url: redis://localhost:6379/1\r\n```\r\n**Expected behavior**\r\n\r\nThe connection using ActionCable works seamlessly with SSL, just as it does for non-SSL connections.\r\n\r\n**Actual behavior**\r\n\r\nIf I try to use SSL, this warning message is shown in the client's browser console:\r\n\r\n`WebSocket connection to 'wss://lvh.me:3000/cable' failed: WebSocket is closed before the connection is established.`\r\n\r\n**System configuration**\r\n\r\nRuby version: ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\r\nRails version: Rails 5.0.2 (also confirmed to be not working on 5.0.1, but did work fine in 5.0.0.1)\r\n\r\nBorrowed from https://github.com/puma/puma/issues/1189, seeing same issue as user there.\r\nRelated issues: #27625, #27421",
      "number": 28362,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/edwardmp/subscriptions",
         "received_events_url": "https://api.github.com/users/edwardmp/received_events",
         "url": "https://api.github.com/users/edwardmp",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1686739?v=4",
         "events_url": "https://api.github.com/users/edwardmp/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/edwardmp/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/edwardmp/following{/other_user}",
         "repos_url": "https://api.github.com/users/edwardmp/repos",
         "site_admin": false,
         "id": 1686739,
         "organizations_url": "https://api.github.com/users/edwardmp/orgs",
         "login": "edwardmp",
         "gists_url": "https://api.github.com/users/edwardmp/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/edwardmp/followers",
         "html_url": "https://github.com/edwardmp"
      },
      "state": "closed",
      "closed_by": "28757",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28362",
      "updated_at": "2017-08-04T05:41:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28362/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 131864,
            "url": "https://api.github.com/repos/rails/rails/labels/third%20party%20issue",
            "color": "02d7e1",
            "default": false,
            "name": "third party issue"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 19,
      "id": 213153313,
      "closed_at": "2017-04-20T02:41:32Z",
      "created_at": "2017-03-09T20:19:33Z",
      "title": "Rails 5.0.2/5.0.1 + Puma ActionCable connection issue",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28362/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28362/comments",
      "html_url": "https://github.com/rails/rails/issues/28362"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nWith pending migration files,\r\nrun `RAILS_ENV=production bundle exec rake db:migrate VERSION= `\r\nThis was the result of mistakenly copy pasting an empty line that contained a whitespace. (It may also have contained a newline  character). \r\n### Expected behavior\r\nThe migration should not be executed or should report a malformed version.\r\n\r\n### Actual behavior\r\nMigration was rollbacked and then executed as expected by looking at this code:\r\nhttps://github.com/rails/rails/blob/f47b4236e089b07cb683ee9b7ff8b06111a0ec10/activerecord/lib/active_record/railties/databases.rake#L63\r\n\r\n### System configuration\r\n**Rails version**:\r\n4.2.3\r\n\r\n**Ruby version**:\r\n2.1.5\r\n\r\n\r\n### Possible explanations.\r\nI am by no means a rake expert, but it seems like the check at this line: \r\nhttps://github.com/rails/rails/blob/f47b4236e089b07cb683ee9b7ff8b06111a0ec10/activerecord/lib/active_record/railties/databases.rake#L86 fails when we pass in an empty string. Namely,\r\n`\" \".to_i == 0 `\r\n",
      "number": 28359,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/quantumlicht/subscriptions",
         "received_events_url": "https://api.github.com/users/quantumlicht/received_events",
         "url": "https://api.github.com/users/quantumlicht",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2592320?v=4",
         "events_url": "https://api.github.com/users/quantumlicht/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/quantumlicht/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/quantumlicht/following{/other_user}",
         "repos_url": "https://api.github.com/users/quantumlicht/repos",
         "site_admin": false,
         "id": 2592320,
         "organizations_url": "https://api.github.com/users/quantumlicht/orgs",
         "login": "quantumlicht",
         "gists_url": "https://api.github.com/users/quantumlicht/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/quantumlicht/followers",
         "html_url": "https://github.com/quantumlicht"
      },
      "state": "closed",
      "closed_by": "28485",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28359",
      "updated_at": "2017-03-27T21:07:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28359/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 213095383,
      "closed_at": "2017-03-27T21:07:57Z",
      "created_at": "2017-03-09T16:42:22Z",
      "title": "Unexpected behavior with empty VERSION parameter",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28359/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28359/comments",
      "html_url": "https://github.com/rails/rails/issues/28359"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It seems that class eager loading in rake tasks [was disabled in 2013](https://github.com/rails/rails/commit/9cac69c602f57e397fe01d866cb24ce1781606d4#diff-580e183141be706162224ef696bdb6c7R294) due to an issue with precompilation (https://github.com/rails/rails/issues/11381) but as a result I'm seeing thread safety issues when running rake tasks in a production worker. \r\n\r\nShouldn't Rails users be given a choice (configuration option) as to whether their classes are eager loaded in rake tasks or not?",
      "number": 28358,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/olivierlacan/subscriptions",
         "received_events_url": "https://api.github.com/users/olivierlacan/received_events",
         "url": "https://api.github.com/users/olivierlacan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/65950?v=4",
         "events_url": "https://api.github.com/users/olivierlacan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/olivierlacan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/olivierlacan/following{/other_user}",
         "repos_url": "https://api.github.com/users/olivierlacan/repos",
         "site_admin": false,
         "id": 65950,
         "organizations_url": "https://api.github.com/users/olivierlacan/orgs",
         "login": "olivierlacan",
         "gists_url": "https://api.github.com/users/olivierlacan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/olivierlacan/followers",
         "html_url": "https://github.com/olivierlacan"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28358",
      "updated_at": "2017-03-10T19:08:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28358/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 213091287,
      "closed_at": "2017-03-10T14:03:30Z",
      "created_at": "2017-03-09T16:29:23Z",
      "title": "Allow rake task eager loading to be allowed in production",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28358/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28358/comments",
      "html_url": "https://github.com/rails/rails/issues/28358"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "#`reverse_merge` is useful for setting defaults in hashes (and also controller parameters). `Parameters` already implements `merge`, so it should likely implement `reverse_merge` as well.\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\nparams = ActionController::Parameters.new({ foo: :bar })\r\ndefaults = { baz: :bang }\r\nparams.reverse_merge(defaults)\r\n```\r\n\r\n### Expected behavior\r\n\r\nNo deprecations\r\n\r\n### Actual behavior\r\n\r\n> DEPRECATION WARNING: Method reverse_merge is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.0.1/classes/ActionController/Parameters.html\r\n\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.0.0.1\r\n**Ruby version**: 2.3.3\r\n",
      "number": 28353,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/derekprior/subscriptions",
         "received_events_url": "https://api.github.com/users/derekprior/received_events",
         "url": "https://api.github.com/users/derekprior",
         "avatar_url": "https://avatars0.githubusercontent.com/u/152152?v=4",
         "events_url": "https://api.github.com/users/derekprior/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/derekprior/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/derekprior/following{/other_user}",
         "repos_url": "https://api.github.com/users/derekprior/repos",
         "site_admin": false,
         "id": 152152,
         "organizations_url": "https://api.github.com/users/derekprior/orgs",
         "login": "derekprior",
         "gists_url": "https://api.github.com/users/derekprior/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/derekprior/followers",
         "html_url": "https://github.com/derekprior"
      },
      "state": "closed",
      "closed_by": "28355",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28353",
      "updated_at": "2017-03-10T23:10:52Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28353/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 212914913,
      "closed_at": "2017-03-10T23:10:52Z",
      "created_at": "2017-03-09T02:09:02Z",
      "title": "ActionController::Parameters should implement `reverse_merge`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28353/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28353/comments",
      "html_url": "https://github.com/rails/rails/issues/28353"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Select with block given for has_many association is broken in 5.1.0.beta1 and current master. It doesn't include newly built records. It looks like the regression is caused by #25877.\r\n\r\n### Steps to reproduce\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_select\r\n    post = Post.create!\r\n    post.comments.build\r\n    post.comments.build\r\n\r\n    assert_equal 2, post.comments.size\r\n    assert_equal 2, post.comments.select{ true }.size\r\n  end\r\n\r\n  def test_select_with_existing_item\r\n    post = Post.create!\r\n    post.comments.create!\r\n    post.comments.build\r\n    post.comments.build\r\n\r\n    assert_equal 3, post.comments.size\r\n    assert_equal 3, post.comments.select{ true }.size\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\nSelect with block given should select both newly built and existing items.\r\n\r\n### Actual behavior\r\nSelect returns only saved items.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.beta1\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 28348,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dkamenka/subscriptions",
         "received_events_url": "https://api.github.com/users/dkamenka/received_events",
         "url": "https://api.github.com/users/dkamenka",
         "avatar_url": "https://avatars0.githubusercontent.com/u/688063?v=4",
         "events_url": "https://api.github.com/users/dkamenka/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dkamenka/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dkamenka/following{/other_user}",
         "repos_url": "https://api.github.com/users/dkamenka/repos",
         "site_admin": false,
         "id": 688063,
         "organizations_url": "https://api.github.com/users/dkamenka/orgs",
         "login": "dkamenka",
         "gists_url": "https://api.github.com/users/dkamenka/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dkamenka/followers",
         "html_url": "https://github.com/dkamenka"
      },
      "state": "closed",
      "closed_by": "28354",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28348",
      "updated_at": "2017-03-09T16:23:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28348/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 212825302,
      "closed_at": "2017-03-09T16:23:33Z",
      "created_at": "2017-03-08T19:01:30Z",
      "title": "has_many association: select with block given doesn't return newly built records",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28348/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28348/comments",
      "html_url": "https://github.com/rails/rails/issues/28348"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```sh\r\nrails plugin new -O --mountable minimal_test_case\r\ncd minimal_test_case/\r\n# <remove TODOs from gemspec>\r\nbundle install\r\nrails test\r\n```\r\n\r\n[Minimal Test Case](https://github.com/jmmcduffie/rails-minimal-test-case)\r\n\r\n### Expected behavior\r\n\r\nThe test suite should pass.\r\n\r\n### Actual behavior\r\n\r\nThis error is thrown:\r\n```\r\n/usr/local/var/rbenv/versions/2.2.6/lib/ruby/gems/2.2.0/gems/railties-5.0.2/lib/rails/application/configuration.rb:143:in `database_configuration': Cannot load `Rails.application.database_configuration`: (RuntimeError)\r\nCould not load database configuration. No such file - [\"config/database.yml\"]\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n**Ruby version**: 2.2.6\r\n",
      "number": 28345,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jmmcduffie/subscriptions",
         "received_events_url": "https://api.github.com/users/jmmcduffie/received_events",
         "url": "https://api.github.com/users/jmmcduffie",
         "avatar_url": "https://avatars1.githubusercontent.com/u/714143?v=4",
         "events_url": "https://api.github.com/users/jmmcduffie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jmmcduffie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jmmcduffie/following{/other_user}",
         "repos_url": "https://api.github.com/users/jmmcduffie/repos",
         "site_admin": false,
         "id": 714143,
         "organizations_url": "https://api.github.com/users/jmmcduffie/orgs",
         "login": "jmmcduffie",
         "gists_url": "https://api.github.com/users/jmmcduffie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jmmcduffie/followers",
         "html_url": "https://github.com/jmmcduffie"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28345",
      "updated_at": "2017-08-11T21:50:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28345/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 212797575,
      "closed_at": "2017-08-11T21:50:53Z",
      "created_at": "2017-03-08T17:12:43Z",
      "title": "Mountable engines without ActiveRecord can't run the test suite",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28345/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28345/comments",
      "html_url": "https://github.com/rails/rails/issues/28345"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n1. `$ rails new issue_reproduction --database=postgresql`\r\n1. `$ rails g scaffold MyVeryLongExampleModelNameBecauseIThinkSchemaLoadBreaksSometimes title:string body:text`\r\n1. `$ rails db:create db:migrate`\r\n1. `$ rails db:drop db:create db:schema:load`\r\n\r\nExample repo: https://github.com/skiningham/issue_reproduction\r\nSingle-file reproduction: https://gist.github.com/skiningham/fb6f380c75ca5a6c65909958f5f52a31\r\n\r\n### Expected behavior\r\n`$ rails db:schema:load` should succeed without errors.\r\n\r\n### Actual behavior\r\nThe command fails with:\r\n```\r\nActiveRecord::StatementInvalid: PG::UndefinedTable: ERROR:  relation \"my_very_long_example_model_name_because_i_think_schema_l_id_seq\" does not exist\r\n: CREATE TABLE \"my_very_long_example_model_name_because_i_think_schema_load_bre\" (\"id\" bigint DEFAULT nextval('my_very_long_example_model_name_because_i_think_schema_l_id_seq'::regclass) NOT NULL PRIMARY KEY, \"title\" character varying, \"body\" text, \"created_at\" timestamp NOT NULL, \"updated_at\" timestamp NOT NULL)\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2, 5.1.0.beta1\r\n\r\n**Ruby version**: 2.2.3p173\r\n\r\n**Postgres version**: 9.5.4\r\n\r\n### Additional information\r\nI can reproduce this error with ActiveRecord 5.0.2 and 5.1.0.beta1. I did not try against master. I cannot reproduce this error against ActiveRecord 4.2.8. Apologies for the rough single-file reproduction; this error does not occur against SQLite so I made an attempt at adjusting the default template for Postgres. `$ rails db:structure:load` succeeds in the example application when a `structure.sql` is dumped. `$ rails db:drop db:create db:migrate` succeeds in the example application.\r\n",
      "number": 28332,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/skiningham/subscriptions",
         "received_events_url": "https://api.github.com/users/skiningham/received_events",
         "url": "https://api.github.com/users/skiningham",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1566582?v=4",
         "events_url": "https://api.github.com/users/skiningham/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/skiningham/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/skiningham/following{/other_user}",
         "repos_url": "https://api.github.com/users/skiningham/repos",
         "site_admin": false,
         "id": 1566582,
         "organizations_url": "https://api.github.com/users/skiningham/orgs",
         "login": "skiningham",
         "gists_url": "https://api.github.com/users/skiningham/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/skiningham/followers",
         "html_url": "https://github.com/skiningham"
      },
      "state": "closed",
      "closed_by": "28339",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28332",
      "updated_at": "2017-10-15T17:54:37Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28332/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 2,
      "id": 212466802,
      "closed_at": "2017-10-15T14:22:34Z",
      "created_at": "2017-03-07T15:30:19Z",
      "title": "Long model names break db:schema:load on Postgres",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28332/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28332/comments",
      "html_url": "https://github.com/rails/rails/issues/28332"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```rb\r\n# Stolen from @adamlogic on #26780\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"http://rubygems.org\"\r\n  gem \"activerecord\"#, \"5.0.0\"\r\n  gem \"sqlite3\"\r\n  gem \"pry\"\r\nend\r\n\r\nrequire \"pry\"\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :deals, force: true do |t|\r\n  end\r\n\r\n  create_table :deal_areas, force: true do |t|\r\n    t.integer :deal_id\r\n    t.integer :area_id\r\n  end\r\n\r\n  create_table :areas, force: true do |t|\r\n    t.boolean :deleted\r\n    t.integer :owner_id\r\n  end\r\n\r\n  create_table :owners, force: true do |t|\r\n    t.boolean :admin\r\n  end\r\nend\r\n\r\nclass Deal < ActiveRecord::Base\r\n  has_many :deal_areas\r\n  has_many :failing_areas, -> { with_admin }, through: :deal_areas, class_name: \"Area\", source: :area\r\n  has_many :working_areas, -> { not_deleted }, through: :deal_areas, class_name: \"Area\", source: :area\r\nend\r\n\r\nclass DealArea < ActiveRecord::Base\r\n  belongs_to :deal\r\n  belongs_to :area\r\nend\r\n\r\nclass Owner < ActiveRecord::Base\r\n  has_many :areas\r\nend\r\n\r\nclass Area < ActiveRecord::Base\r\n  belongs_to :owner\r\n\r\n  scope :with_admin, -> { joins(:owner).where(owner: { admin: true }) }\r\n  scope :not_deleted, -> { where(deleted: false) }\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def setup\r\n    owner = Owner.create!(admin: true)\r\n    @deal = Deal.create!\r\n    @deal.failing_areas.create!(owner: owner)\r\n  end\r\n\r\n  def teardown\r\n    @deal.destroy\r\n  end\r\n\r\n  def test_through_with_scope_no_joins\r\n    assert_equal [@deal.id], Deal.includes(:working_areas).references(:working_areas).map(&:id)\r\n  end\r\n\r\n  def test_through_with_scope_with_joins\r\n    assert_equal [@deal.id], Deal.includes(:failing_areas).references(:failing_areas).map(&:id)\r\n  end\r\nend\r\n```\r\n### Expected behavior\r\n\r\nThe failing areas relationship should be eager loaded\r\n\r\n### Actual behavior\r\n\r\nAn SQL error is raised because the join in the scope is not included in the query.\r\nThis is a variant of the bug fixed by 91e3dab804fffe0b1daebb438091418faa1fa256.\r\n\r\n### System configuration\r\n**ActiveRecord version**:  5.0.2\r\n\r\n**Ruby version**: 2.3.0p0\r\n",
      "number": 28324,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sshaw/subscriptions",
         "received_events_url": "https://api.github.com/users/sshaw/received_events",
         "url": "https://api.github.com/users/sshaw",
         "avatar_url": "https://avatars3.githubusercontent.com/u/17570?v=4",
         "events_url": "https://api.github.com/users/sshaw/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sshaw/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sshaw/following{/other_user}",
         "repos_url": "https://api.github.com/users/sshaw/repos",
         "site_admin": false,
         "id": 17570,
         "organizations_url": "https://api.github.com/users/sshaw/orgs",
         "login": "sshaw",
         "gists_url": "https://api.github.com/users/sshaw/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sshaw/followers",
         "html_url": "https://github.com/sshaw"
      },
      "state": "closed",
      "closed_by": "29413",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28324",
      "updated_at": "2017-07-04T20:26:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28324/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 212331138,
      "closed_at": "2017-07-04T20:26:00Z",
      "created_at": "2017-03-07T04:59:59Z",
      "title": "Cannot Eager Load has_many :through Relationships Defined by a Scope With Joins",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28324/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28324/comments",
      "html_url": "https://github.com/rails/rails/issues/28324"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n> str = \"i said 'the first word should be cap'.\"\r\n=> \"i said 'the first word should be cap'.\"\r\n> str.titleize\r\n=> \"I Said 'the First Word Should Be Cap'.\"\r\n\r\n### Expected behavior\r\n\"I Said 'The First Word Should Be Cap'.\"\r\n\r\n### Actual behavior\r\n\"I Said 'the First Word Should Be Cap'.\"\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3\r\n\r\nIt seems like [this](https://github.com/rails/rails/commit/4b685aad7b5edeb087968c42f815be2bec14b822) is the commit that introduced this behavior - the lookbehind operator added in the PR doesn't match any character behind a single quotation mark, even when there's whitespace before that quotation mark.\r\n \r\nI'm no expert in regex, but I can create a PR to revert to the previous behavior and add a test case for this.  \r\n",
      "number": 28312,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zinosama/subscriptions",
         "received_events_url": "https://api.github.com/users/zinosama/received_events",
         "url": "https://api.github.com/users/zinosama",
         "avatar_url": "https://avatars1.githubusercontent.com/u/9384600?v=4",
         "events_url": "https://api.github.com/users/zinosama/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zinosama/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zinosama/following{/other_user}",
         "repos_url": "https://api.github.com/users/zinosama/repos",
         "site_admin": false,
         "id": 9384600,
         "organizations_url": "https://api.github.com/users/zinosama/orgs",
         "login": "zinosama",
         "gists_url": "https://api.github.com/users/zinosama/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zinosama/followers",
         "html_url": "https://github.com/zinosama"
      },
      "state": "closed",
      "closed_by": "8b37f1",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28312",
      "updated_at": "2017-03-06T21:40:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28312/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 212170098,
      "closed_at": "2017-03-06T17:53:00Z",
      "created_at": "2017-03-06T16:11:51Z",
      "title": "Titleize doesn't capitalize first word in sub-string",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28312/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28312/comments",
      "html_url": "https://github.com/rails/rails/issues/28312"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It seems the current change on optimistic locking  broken its old behavior when use it across web request.\r\nI am not sure was it intended to do this way or a bug?\r\n\r\n### Steps to reproduce\r\nI use a simple rails application, only have a user model and controller.\r\nIn the form  of edit a user, I add lock_version as a hidden field to the form, as the document recommended.\r\n\r\n```ruby\r\n # schema.rb\r\nActiveRecord::Schema.define(version: 20170306092040) do\r\n  create_table \"users\", force: :cascade do |t|\r\n    t.string \"name\"\r\n    t.datetime \"created_at\", null: false\r\n    t.datetime \"updated_at\", null: false\r\n    t.integer \"lock_version\"\r\n  end\r\nend\r\n\r\n# model\r\nclass User < ApplicationRecord\r\nend\r\n\r\n# controller\r\nclass UsersController < ApplicationController\r\n  def edit\r\n  end\r\n\r\n  def update\r\n      if @user.update(user_params)\r\n         redirect_to @user, notice: 'User was successfully updated.' \r\n      else\r\n        render :edit \r\n    end\r\n  end\r\n\r\n    def user_params\r\n      params.require(:user).permit(:name, :lock_version)\r\n    end\r\n\r\nend\r\n\r\n# the edit view\r\n<%= form_for(user) do |f| %>\r\n  <%= f.hidden_field :lock_version %>\r\n\r\n  <div class=\"field\">\r\n    <%= f.label :name %>\r\n    <%= f.text_field :name %>\r\n  </div>\r\n\r\n  <div class=\"actions\">\r\n    <%= f.submit %>\r\n  </div>\r\n<% end %>\r\n\r\n```\r\nThen I open two page in browser both to edit the user and hit the update button\r\n### Expected behavior\r\nOnly the first update is success, the second should raise a exception.\r\n\r\n### Actual behavior\r\nThe second update success too.\r\n\r\n### My preliminary explanation\r\nThe code below is the current version of rails 5.1.0.beta1\r\nThis line `return super if attribute_names.include?(lock_col)` cause the problem.\r\nIf I add a hidden field of lock version to a form, then the attribute_names will include the lock_verion column, so it will not  execute code after it.\r\n\r\n```ruby\r\n        def _update_record(attribute_names = self.attribute_names)\r\n          return super unless locking_enabled?\r\n\r\n          lock_col = self.class.locking_column\r\n\r\n          return super if attribute_names.include?(lock_col)\r\n          return 0 if attribute_names.empty?\r\n         # other  code\r\nend\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.0.beta1\r\n**Ruby version**:\r\n2.4.0",
      "number": 28307,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nowherekai/subscriptions",
         "received_events_url": "https://api.github.com/users/nowherekai/received_events",
         "url": "https://api.github.com/users/nowherekai",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2285483?v=4",
         "events_url": "https://api.github.com/users/nowherekai/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nowherekai/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nowherekai/following{/other_user}",
         "repos_url": "https://api.github.com/users/nowherekai/repos",
         "site_admin": false,
         "id": 2285483,
         "organizations_url": "https://api.github.com/users/nowherekai/orgs",
         "login": "nowherekai",
         "gists_url": "https://api.github.com/users/nowherekai/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nowherekai/followers",
         "html_url": "https://github.com/nowherekai"
      },
      "state": "closed",
      "closed_by": "28318",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28307",
      "updated_at": "2017-03-17T15:28:50Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28307/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 212093990,
      "closed_at": "2017-03-17T15:28:50Z",
      "created_at": "2017-03-06T11:23:19Z",
      "title": "Optimistic locking does not work well across web requests",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28307/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28307/comments",
      "html_url": "https://github.com/rails/rails/issues/28307"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nAdd this to your `<head>`:\r\n`<meta name=\"referrer\" content=\"no-referrer\">`\r\n\r\nCreate a form with method='post' that points to a route on the same origin, go to the form in Google Chrome and click submit.\r\n\r\n\r\n### Expected behavior\r\nI'm reporting this as an issue instead of a PR because I'm not quite sure of the expected behavior.\r\n\r\nThe request is failing because Chrome sets the Origin header to the string \"null\"\r\n\r\nMy instinct is that the request should succeed, since the `valid_request_origin?` method allows for the Origin header to be missing altogether:\r\n\r\nhttps://github.com/rails/rails/blob/bc4781583d9db237dd928b01743c6db7596a36b3/actionpack/lib/action_controller/metal/request_forgery_protection.rb#L400\r\n```\r\n      def valid_request_origin? # :doc:\r\n        if forgery_protection_origin_check\r\n          # We accept blank origin headers because some user agents don't send it.\r\n          request.origin.nil? || request.origin == request.base_url\r\n        else\r\n          true\r\n        end\r\n      end\r\n```\r\n\r\nHowever, I'm not an expert in CSRF and recognize the proper solution might be not to utilize this meta tag in the `<head>`\r\n\r\n### Actual behavior\r\nThe request fails during the `valid_request_origin?` check\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n\r\n\r\n",
      "number": 28299,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sidot3291/subscriptions",
         "received_events_url": "https://api.github.com/users/sidot3291/received_events",
         "url": "https://api.github.com/users/sidot3291",
         "avatar_url": "https://avatars0.githubusercontent.com/u/614945?v=4",
         "events_url": "https://api.github.com/users/sidot3291/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sidot3291/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sidot3291/following{/other_user}",
         "repos_url": "https://api.github.com/users/sidot3291/repos",
         "site_admin": false,
         "id": 614945,
         "organizations_url": "https://api.github.com/users/sidot3291/orgs",
         "login": "sidot3291",
         "gists_url": "https://api.github.com/users/sidot3291/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sidot3291/followers",
         "html_url": "https://github.com/sidot3291"
      },
      "state": "closed",
      "closed_by": "30658",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28299",
      "updated_at": "2017-10-09T22:04:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28299/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 257468118,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20work",
            "color": "000000",
            "default": false,
            "name": "needs work"
         }
      ],
      "comments": 12,
      "id": 211985539,
      "closed_at": "2017-10-09T19:36:42Z",
      "created_at": "2017-03-05T21:23:18Z",
      "title": "Meta referrer=\"no-referrer\" causes all posts to fail in Chrome",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28299/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28299/comments",
      "html_url": "https://github.com/rails/rails/issues/28299"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello,\r\n\r\nI take the liberty to open this ticket to discuss about the future of the `new_framework_defaults.rb` file. We've discussed about that with @matthewd and came to the conclusion that this file shouldn't be generated as it is done at the moment.\r\n\r\nActually, it would be easier to generate a file on a version basis like `new_framework_defaults_51.rb` with only the new defaults for this version.\r\n\r\nAn important thing to consider with this approach though is that this file takes precedence over any file stored under `config/environments` and may take precedence over certain initializers since they are alphabetically required (AFAIK). So if people want to opt out from the default, we should maybe require initializers that match `new_framework_default_*.rb` first.\r\n\r\nBy the way, since 5.0, it looks like only [this option](https://github.com/rails/rails/blob/893035782d427b1fea3d1299417b507220752c3e/railties/lib/rails/generators/rails/app/templates/config/initializers/new_framework_defaults.rb.tt#L38) has been changed and [this one](https://github.com/rails/rails/commit/70e8fed5a36484ea602c318be74079b58dc543d0) has been removed.\r\n\r\nTo-do:\r\n\r\n* No longer generate this file for new 5.1 applications so properly set the configuration settings in the appropriate configuration files.\r\n* During the upgrade process (i.e. running `bin/rails app:upgrade`), generate a file tied to the current version with the new settings.\r\n\r\nHave a nice day !",
      "number": 28291,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/robin850/subscriptions",
         "received_events_url": "https://api.github.com/users/robin850/received_events",
         "url": "https://api.github.com/users/robin850",
         "avatar_url": "https://avatars0.githubusercontent.com/u/354185?v=4",
         "events_url": "https://api.github.com/users/robin850/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/robin850/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/robin850/following{/other_user}",
         "repos_url": "https://api.github.com/users/robin850/repos",
         "site_admin": false,
         "id": 354185,
         "organizations_url": "https://api.github.com/users/robin850/orgs",
         "login": "robin850",
         "gists_url": "https://api.github.com/users/robin850/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/robin850/followers",
         "html_url": "https://github.com/robin850"
      },
      "state": "closed",
      "closed_by": "28469",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/28291",
      "updated_at": "2017-03-19T00:59:14Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28291/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 4,
      "id": 211905246,
      "closed_at": "2017-03-18T23:01:02Z",
      "created_at": "2017-03-04T20:34:50Z",
      "title": "Remove new_framework_defaults.rb from newly generated apps",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28291/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28291/comments",
      "html_url": "https://github.com/rails/rails/issues/28291"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "After upgrading Rails from v5.0.1 to v5.0.2 one of specs in my app started to fail. After further investigation I discovered that a `jsonb` attribute which stores array of hashes doesn't behave in the same way as it used to in v5.0.1 and earlier versions.\r\n\r\nAfter creating a new model and passing an array of hashes to my `jsonb` attribute, I can access the value with no issues. The getter returns an array of hashes as expected. Right after calling `save` on the model the getter is no longer returning an array of hashes, but an array of stringified JSONs instead. The correct behavior is restored after calling `reload`. \r\n\r\nI looked at the diff in ActiveRecord gem between v5.0.1 and v5.0.2 and discovered that the commit 11cad58 which fixes #27514 is responsible for my problem. The issue disappeared after reverting this commit from v5.0.2 tag.\r\n\r\nMy database is Postgresql 9.5.2.\r\n\r\n### Steps to reproduce\r\n\r\n1. Create a new model: \r\n\r\n```bash\r\nbundle exec rails g model Thing col:jsonb\r\n```\r\n\r\n2. Edit the migration file and add `array: true` to the attribute:\r\n\r\n```ruby\r\nclass CreateThings < ActiveRecord::Migration[5.0]\r\n  def change\r\n    create_table :things do |t|\r\n      t.jsonb :col, array: true\r\n\r\n      t.timestamps\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n3. run the migration (the database needs to be **Postgresql**):\r\n\r\n```bash\r\nbundle exec rake db:migrate\r\n```\r\n\r\n4. open the console:\r\n\r\n```bash\r\nbundle exec rails c\r\n```\r\n\r\n5. In the console:\r\n\r\n```ruby\r\nirb(main):001:0> t = Thing.new(col: [{foo: \"bar\"}])\r\n=> #<Thing id: nil, col: [{\"foo\"=>\"bar\"}], created_at: nil, updated_at: nil>\r\n\r\nirb(main):003:0> t.col.first # OK\r\n=> {\"foo\"=>\"bar\"}\r\n\r\nirb(main):004:0> t.save\r\n=> true\r\n\r\nirb(main):003:0> t.col.first # ERROR: stringified JSON instead of Hash!\r\n=> \"{\\\"foo\\\":\\\"bar\\\"}\"\r\n\r\nirb(main):004:0> t.reload\r\n=> #<Thing id: 1,.....\r\n\r\n\r\nirb(main):003:0> t.col.first # OK again\r\n=> {\"foo\"=>\"bar\"}\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe `jsonb` attribute should contain an array of hashes after the object has been persisted.\r\n\r\n### Actual behavior\r\n\r\nThe `jsonb` attribute contains an array of stringified JSONs after the object has been persisted.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.2\r\n\r\n**Ruby version**: 2.3.3p222\r\n",
      "number": 28285,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/janaz/subscriptions",
         "received_events_url": "https://api.github.com/users/janaz/received_events",
         "url": "https://api.github.com/users/janaz",
         "avatar_url": "https://avatars0.githubusercontent.com/u/809314?v=4",
         "events_url": "https://api.github.com/users/janaz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/janaz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/janaz/following{/other_user}",
         "repos_url": "https://api.github.com/users/janaz/repos",
         "site_admin": false,
         "id": 809314,
         "organizations_url": "https://api.github.com/users/janaz/orgs",
         "login": "janaz",
         "gists_url": "https://api.github.com/users/janaz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/janaz/followers",
         "html_url": "https://github.com/janaz"
      },
      "state": "closed",
      "closed_by": "28295",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28285",
      "updated_at": "2017-03-06T11:00:47Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28285/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 3,
      "id": 211877044,
      "closed_at": "2017-03-06T11:00:47Z",
      "created_at": "2017-03-04T12:36:39Z",
      "title": "Rails 5.0.2 Jsonb attribute has incorrect value after save",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28285/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28285/comments",
      "html_url": "https://github.com/rails/rails/issues/28285"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If you make a new model object `foo` and manually set `foo.id` to a value that's already in use, then call `foo.save` or `foo.save!`, you'll get an `ActiveRecord::RecordNotUnique` error (as expected).\r\n\r\nHowever, if you then set `foo.id = nil` and call `foo.save!`, you'll get _another_ `ActiveRecord::RecordNotUnique` error. The SQL statements will show that Rails still uses the `id` from before.\r\n\r\nOn the other hand, if you set `foo.id = nil` and call `foo.save`, the record is saved with an automatically assigned `id` as expected.\r\n\r\nTest case:\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", '5.0.2'\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n\r\n  create_table \"foos\", force: :cascade do |t|\r\n    t.string \"name\"\r\n  end\r\n\r\nend\r\n\r\nclass Foo < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_save_with_duplicate_id\r\n    foo = Foo.create(name: \"Original\")\r\n    dup_foo = Foo.new(name: \"Duplicate\", id: foo.id)\r\n\r\n    assert_raises ActiveRecord::RecordNotUnique do\r\n      dup_foo.save\r\n    end\r\n\r\n    dup_foo.id = nil\r\n\r\n    assert_nil dup_foo.id\r\n\r\n    dup_foo.save\r\n\r\n    refute_equal dup_foo.id, foo.id\r\n  end\r\n\r\n  def test_save_bang_with_duplicate_id\r\n    foo = Foo.create(name: \"Original\")\r\n    dup_foo = Foo.new(name: \"Duplicate\", id: foo.id)\r\n\r\n    assert_raises ActiveRecord::RecordNotUnique do\r\n      dup_foo.save!\r\n    end\r\n\r\n    dup_foo.id = nil\r\n\r\n    assert_nil dup_foo.id\r\n\r\n    dup_foo.save!                    # Exception happens here\r\n\r\n    refute_equal dup_foo.id, foo.id  # If the second exception is rescued, this assertion fails.\r\n  end\r\nend\r\n```\r\n\r\nThe first test passes, but the second one fails.\r\n\r\nThis behavior happens on Rails 5.0.2 and on 5.1.0.beta1.",
      "number": 28274,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/wallyaltman/subscriptions",
         "received_events_url": "https://api.github.com/users/wallyaltman/received_events",
         "url": "https://api.github.com/users/wallyaltman",
         "avatar_url": "https://avatars2.githubusercontent.com/u/744486?v=4",
         "events_url": "https://api.github.com/users/wallyaltman/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/wallyaltman/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/wallyaltman/following{/other_user}",
         "repos_url": "https://api.github.com/users/wallyaltman/repos",
         "site_admin": false,
         "id": 744486,
         "organizations_url": "https://api.github.com/users/wallyaltman/orgs",
         "login": "wallyaltman",
         "gists_url": "https://api.github.com/users/wallyaltman/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/wallyaltman/followers",
         "html_url": "https://github.com/wallyaltman"
      },
      "state": "closed",
      "closed_by": "29453",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28274",
      "updated_at": "2017-06-15T12:03:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28274/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 211805019,
      "closed_at": "2017-06-15T12:03:42Z",
      "created_at": "2017-03-03T21:20:17Z",
      "title": "Inconsistent behavior between save and save! when unsetting object.id on a new record",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28274/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28274/comments",
      "html_url": "https://github.com/rails/rails/issues/28274"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nI have a test case:\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"activerecord\", \"5.0.0\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# Ensure backward compatibility with Minitest 4\r\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :authors, force: true do |t|\r\n  end\r\n\r\n  create_table :posts, force: true do |t|\r\n    t.integer :author_id\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Author < ActiveRecord::Base\r\n  has_many :posts, -> { left_joins(:comments).where('comments.id > 10') }\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  belongs_to :author\r\n  has_many :comments\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_left_joins_in_association_scope\r\n    Author.create\r\n    assert Author.preload(:posts).to_a\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nI expect it respects `left_joins` in association scope when do `preload` and include `LEFT OUTER JOIN` in preload sql. \r\n\r\n### Actual behavior\r\nIt ignores `left_joins` and raises exception:\r\n\r\n```\r\nno such column: comments.id: SELECT \"posts\".* FROM \"posts\" WHERE (comments.id > 10) AND \"posts\".\"author_id\" = 1\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.0.0\r\n\r\n**Ruby version**:\r\n2.3.1p112",
      "number": 28261,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Mik-die/subscriptions",
         "received_events_url": "https://api.github.com/users/Mik-die/received_events",
         "url": "https://api.github.com/users/Mik-die",
         "avatar_url": "https://avatars3.githubusercontent.com/u/426230?v=4",
         "events_url": "https://api.github.com/users/Mik-die/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Mik-die/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Mik-die/following{/other_user}",
         "repos_url": "https://api.github.com/users/Mik-die/repos",
         "site_admin": false,
         "id": 426230,
         "organizations_url": "https://api.github.com/users/Mik-die/orgs",
         "login": "Mik-die",
         "gists_url": "https://api.github.com/users/Mik-die/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Mik-die/followers",
         "html_url": "https://github.com/Mik-die"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28261",
      "updated_at": "2017-10-05T05:34:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28261/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 211631818,
      "closed_at": "2017-09-03T21:35:05Z",
      "created_at": "2017-03-03T09:05:35Z",
      "title": "Preload association ignores left_join in association scope.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28261/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28261/comments",
      "html_url": "https://github.com/rails/rails/issues/28261"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If you merge a scope which has `inner join` with another relation then the `inner join` becomes `left join`. It should stay as `inner join`. Below you can find an example test case that demonstrates the issue.\r\n\r\n### Steps to reproduce\r\n```ruby\r\nbegin\r\n  require 'bundler/inline'\r\nrescue LoadError => e\r\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source 'https://rubygems.org'\r\n  gem 'rails', github: 'rails/rails'\r\n  gem 'arel', github: 'rails/arel'\r\n  gem 'sqlite3'\r\nend\r\n\r\nrequire 'active_record'\r\nrequire 'minitest/autorun'\r\nrequire 'logger'\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :projects, force: true  do |t|\r\n    t.string :title\r\n  end\r\n\r\n  create_table :tasks, force: true do |t|\r\n    t.references :project\r\n    t.string :title\r\n  end\r\n\r\n  create_table :submissions, force: true do |t|\r\n    t.references :task\r\n  end\r\nend\r\n\r\nclass Project < ActiveRecord::Base\r\n  has_many :tasks\r\n\r\n  scope :with_some_logic, -> { joins(:tasks).merge(Task.with_some_logic) }\r\nend\r\n\r\nclass Task < ActiveRecord::Base\r\n  belongs_to :project\r\n  has_many :submissions\r\n\r\n  scope :with_some_logic, -> { joins(:submissions) }\r\nend\r\n\r\nclass Submission < ActiveRecord::Base\r\n  belongs_to :task\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_inner_join\r\n    project_1 = Project.create(title: 'Project 1')\r\n    task_1    = Task.create(title: 'Task 1', project: project_1)\r\n    project_2 = Project.create(title: 'Project 2')\r\n    task_2    = Task.create(title: 'Task 2', project: project_2)\r\n    Submission.create(task: task_1)\r\n\r\n    assert_equal 1, Project.with_some_logic.count\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nMerging relations should not change `inner join` to `left join`.\r\n\r\n### Actual behavior\r\nMerging relations changes `inner join` to `left join` on merged part.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.x, 5.x.x, master\r\n",
      "number": 28219,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/meinac/subscriptions",
         "received_events_url": "https://api.github.com/users/meinac/received_events",
         "url": "https://api.github.com/users/meinac",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1840945?v=4",
         "events_url": "https://api.github.com/users/meinac/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/meinac/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/meinac/following{/other_user}",
         "repos_url": "https://api.github.com/users/meinac/repos",
         "site_admin": false,
         "id": 1840945,
         "organizations_url": "https://api.github.com/users/meinac/orgs",
         "login": "meinac",
         "gists_url": "https://api.github.com/users/meinac/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/meinac/followers",
         "html_url": "https://github.com/meinac"
      },
      "state": "closed",
      "closed_by": "27063",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28219",
      "updated_at": "2017-03-12T09:29:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28219/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 210742762,
      "closed_at": "2017-03-12T09:29:34Z",
      "created_at": "2017-02-28T10:14:48Z",
      "title": "ActiveRecord changes inner join to left outer join with merge",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28219/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28219/comments",
      "html_url": "https://github.com/rails/rails/issues/28219"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```ruby\r\nhash = {foo: :bar}\r\n# => {:foo=>:bar}\r\n\r\nhash_with_indifferent_access = ActiveSupport::HashWithIndifferentAccess.new(foo: :bar)\r\n# => {\"foo\"=>:bar}\r\n\r\nhash.compact\r\n# => {:foo=>:bar}\r\n\r\nhash_with_indifferent_access.compact\r\n# => nil # NOTE: this case behaves differently from Hash#compact\r\n\r\nhash[:bar] = nil\r\nhash_with_indifferent_access[:bar] = nil\r\n\r\nhash_with_indifferent_access.compact\r\n# => {\"foo\"=>:bar}\r\n\r\nhash.compact\r\n# => {:foo=>:bar}\r\n```\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\n\r\nSame behavior with Ruby's Hash#compact\r\n\r\n### Actual behavior\r\n\r\nIt returns `nil` if nothing removed.\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.beta1\r\n\r\n**Ruby version**: 2.4.0\r\n",
      "number": 28194,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nov/subscriptions",
         "received_events_url": "https://api.github.com/users/nov/received_events",
         "url": "https://api.github.com/users/nov",
         "avatar_url": "https://avatars1.githubusercontent.com/u/27299?v=4",
         "events_url": "https://api.github.com/users/nov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nov/following{/other_user}",
         "repos_url": "https://api.github.com/users/nov/repos",
         "site_admin": false,
         "id": 27299,
         "organizations_url": "https://api.github.com/users/nov/orgs",
         "login": "nov",
         "gists_url": "https://api.github.com/users/nov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nov/followers",
         "html_url": "https://github.com/nov"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28194",
      "updated_at": "2017-03-05T17:38:39Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28194/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 210375376,
      "closed_at": "2017-02-27T02:53:54Z",
      "created_at": "2017-02-27T02:52:15Z",
      "title": "ActiveSupport::HashWithIndifferentAccess#compact behaves differently from Hash in Rails 5.1.0.beta1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28194/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28194/comments",
      "html_url": "https://github.com/rails/rails/issues/28194"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Expected behavior\r\nI was on Rails 5.0.1 and everything fine on my PC and on Heroku.\r\nToday I upgraded just my Gemfile like this:\r\n\r\n```\r\ngem 'rails', '~> 5.0.1'\r\ngem 'rails', '~> 5.1.0.beta1'\r\n```\r\n\r\nand in my local PC everything fine, but on my Heroku (cedar-14 or heroku-16 stack) I have this errors:\r\n\r\n```\r\nFeb 26 06:05:17 myApp heroku/web.1:  Starting process with command `bin/rails server -p 58126 -e production` \r\nFeb 26 06:05:22 myApp app/web.1:  => Booting Puma \r\nFeb 26 06:05:22 myApp app/web.1:  => Rails 5.1.0.beta1 application starting in production on http://localhost:58126 \r\nFeb 26 06:05:22 myApp app/web.1:  => Run `rails server -h` for more startup options \r\nFeb 26 06:05:22 myApp app/web.1:  Puma starting in single mode... \r\nFeb 26 06:05:22 myApp app/web.1:  * Version 3.7.1 (ruby 2.4.0-p0), codename: Snowy Sagebrush \r\nFeb 26 06:05:22 myApp app/web.1:  * Min threads: 5, max threads: 5 \r\nFeb 26 06:05:22 myApp app/web.1:  * Environment: production \r\nFeb 26 06:05:22 myApp app/web.1:  * Listening on tcp://localhost:58126 \r\nFeb 26 06:05:22 myApp app/web.1:  Use Ctrl-C to stop \r\nFeb 26 06:06:05 myApp app/heroku-redis:  source=REDIS sample#active-connections=2 sample#load-avg-1m=0.065 sample#load-avg-5m=0.05 sample#load-avg-15m=0.045 sample#read-iops=0 sample#write-iops=0 sample#memory-total=15664468.0kB sample#memory-free=12804672.0kB sample#memory-cached=966624kB sample#memory-redis=310128bytes sample#hit-rate=0 sample#evicted-keys=0 \r\nFeb 26 06:06:18 myApp heroku/web.1:  Error R10 (Boot timeout) -> Web process failed to bind to $PORT within 60 seconds of launch \r\nFeb 26 06:06:18 myApp heroku/web.1:  Stopping process with SIGKILL \r\nFeb 26 06:06:18 myApp heroku/web.1:  Process exited with status 137 \r\nFeb 26 06:06:18 myApp heroku/web.1:  State changed from starting to crashed \r\n```\r\n\r\nIf I revert the commit with my 5.0.1 Gemfile everything works.\r\n\r\nAlso this guy have the problem:\r\n\r\nhttp://es.stackoverflow.com/questions/51759/problemas-con-heroku-ruby\r\n\r\n**How to fix this?**\r\n\r\n**Ruby version**: 2.4\r\n",
      "number": 28184,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/johnunclesam/subscriptions",
         "received_events_url": "https://api.github.com/users/johnunclesam/received_events",
         "url": "https://api.github.com/users/johnunclesam",
         "avatar_url": "https://avatars3.githubusercontent.com/u/21275217?v=4",
         "events_url": "https://api.github.com/users/johnunclesam/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/johnunclesam/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/johnunclesam/following{/other_user}",
         "repos_url": "https://api.github.com/users/johnunclesam/repos",
         "site_admin": false,
         "id": 21275217,
         "organizations_url": "https://api.github.com/users/johnunclesam/orgs",
         "login": "johnunclesam",
         "gists_url": "https://api.github.com/users/johnunclesam/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/johnunclesam/followers",
         "html_url": "https://github.com/johnunclesam"
      },
      "state": "closed",
      "closed_by": "28196",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28184",
      "updated_at": "2017-03-16T15:42:49Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28184/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 9,
      "id": 210320836,
      "closed_at": "2017-02-27T14:49:49Z",
      "created_at": "2017-02-26T14:10:53Z",
      "title": "Rails 5.1.0.beta1 crashes on Heroku (cedar-14 or heroku-16). (v5.0.1 instead works fine). Error R10 (Boot timeout) -> Web process failed to bind to $PORT within 60 seconds of launch",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28184/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28184/comments",
      "html_url": "https://github.com/rails/rails/issues/28184"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Reporting this following @rafaelfranca's advice in https://github.com/erikhuda/thor/issues/538#issuecomment-279270777\r\n\r\n### Steps to reproduce\r\n\r\n```\r\nrails new sample_app\r\ncd sample_app\r\nbin/rails g --help\r\n```\r\n\r\n### Expected behavior\r\n\r\n```\r\nRunning via Spring preloader in process 8496\r\nUsage: rails generate GENERATOR [args] [options]\r\n\r\nGeneral options:\r\n  -h, [--help]     # Print generator's options and usage\r\n  -p, [--pretend]  # Run but do not make any changes\r\n  -f, [--force]    # Overwrite files that already exist\r\n  -s, [--skip]     # Skip files that already exist\r\n  -q, [--quiet]    # Suppress status output\r\n\r\nPlease choose a generator below.\r\n\r\nRails:\r\n  assets\r\n  channel\r\n  controller\r\n  generator\r\n  helper\r\n  integration_test\r\n  jbuilder\r\n  job\r\n  mailer\r\n  migration\r\n  model\r\n  resource\r\n  scaffold\r\n  scaffold_controller\r\n  task\r\n\r\nCoffee:\r\n  coffee:assets\r\n\r\nJs:\r\n  js:assets\r\n\r\nTestUnit:\r\n  test_unit:generator\r\n  test_unit:plugin\r\n\r\n```\r\n### Actual behavior\r\n\r\n```\r\nRunning via Spring preloader in process 8774\r\nUsage: rails generate GENERATOR [args] [options]\r\n\r\nGeneral options:\r\n  -h, [--help]     # Print generator's options and usage\r\n  -p, [--pretend]  # Run but do not make any changes\r\n  -f, [--force]    # Overwrite files that already exist\r\n  -s, [--skip]     # Skip files that already exist\r\n  -q, [--quiet]    # Suppress status output\r\n\r\nPlease choose a generator below.\r\n\r\nExpected string default value for '--helper'; got true (boolean)\r\nExpected string default value for '--assets'; got true (boolean)\r\nRails:\r\n  assets\r\n  channel\r\n  controller\r\n  generator\r\n  helper\r\n  integration_test\r\n  jbuilder\r\n  job\r\n  mailer\r\n  migration\r\n  model\r\n  resource\r\n  scaffold\r\n  scaffold_controller\r\n  task\r\n\r\nCoffee:\r\n  coffee:assets\r\n\r\nJs:\r\n  js:assets\r\n\r\nTestUnit:\r\n  test_unit:generator\r\n  test_unit:plugin\r\n\r\n```\r\n\r\n### System configuration\r\n**Rails version**: Rails 5.0.2.rc1\r\n\r\n**Ruby version**: Ruby 2.4.0p0\r\n\r\nIt seems that backporting a36ef6ee3ed44e6ce1636f12da59c473dddd94bb would fix it.",
      "number": 28163,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/deivid-rodriguez/subscriptions",
         "received_events_url": "https://api.github.com/users/deivid-rodriguez/received_events",
         "url": "https://api.github.com/users/deivid-rodriguez",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2887858?v=4",
         "events_url": "https://api.github.com/users/deivid-rodriguez/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/deivid-rodriguez/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/deivid-rodriguez/following{/other_user}",
         "repos_url": "https://api.github.com/users/deivid-rodriguez/repos",
         "site_admin": false,
         "id": 2887858,
         "organizations_url": "https://api.github.com/users/deivid-rodriguez/orgs",
         "login": "deivid-rodriguez",
         "gists_url": "https://api.github.com/users/deivid-rodriguez/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/deivid-rodriguez/followers",
         "html_url": "https://github.com/deivid-rodriguez"
      },
      "state": "closed",
      "closed_by": "28226",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28163",
      "updated_at": "2017-03-01T20:05:38Z",
      "milestone": {
         "closed_at": "2017-03-01T23:57:28Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/55",
         "description": "",
         "updated_at": "2017-03-01T23:57:28Z",
         "number": 55,
         "due_on": "2017-03-01T08:00:00Z",
         "id": 2353828,
         "open_issues": 0,
         "closed_issues": 2,
         "created_at": "2017-02-28T17:00:53Z",
         "title": "5.0.2",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/55/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/55",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28163/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 210235487,
      "closed_at": "2017-03-01T20:05:38Z",
      "created_at": "2017-02-25T13:45:00Z",
      "title": "Warnings in `rails g --help`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28163/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28163/comments",
      "html_url": "https://github.com/rails/rails/issues/28163"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using the postgresql database adapter, run `rake db:structure:dump`. Note that the full version number is included in `db/structure.sql`:\r\n\r\n```\r\n-- Dumped from database version 9.5.4\r\n-- Dumped by pg_dump version 9.5.4\r\n```\r\n\r\n If we check it into git, that means that anyone with a different minor version of PostgreSQL server would have differences in the file after running `rake db:migrate`. Would you accept a pull request to remove all \"--\" comments from the resulting structure.sql?",
      "number": 28153,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/aripollak/subscriptions",
         "received_events_url": "https://api.github.com/users/aripollak/received_events",
         "url": "https://api.github.com/users/aripollak",
         "avatar_url": "https://avatars3.githubusercontent.com/u/451345?v=4",
         "events_url": "https://api.github.com/users/aripollak/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/aripollak/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/aripollak/following{/other_user}",
         "repos_url": "https://api.github.com/users/aripollak/repos",
         "site_admin": false,
         "id": 451345,
         "organizations_url": "https://api.github.com/users/aripollak/orgs",
         "login": "aripollak",
         "gists_url": "https://api.github.com/users/aripollak/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/aripollak/followers",
         "html_url": "https://github.com/aripollak"
      },
      "state": "closed",
      "closed_by": "28154",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28153",
      "updated_at": "2017-03-17T17:19:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28153/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 1,
      "id": 210082169,
      "closed_at": "2017-03-17T17:19:02Z",
      "created_at": "2017-02-24T15:46:43Z",
      "title": "Remove comments from structure.sql for PostgreSQL adapter",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28153/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28153/comments",
      "html_url": "https://github.com/rails/rails/issues/28153"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I am facing an issue with malformed url of assets when rendering a partial template through ActionController::Renderer.\r\n\r\n1. Put an image inside app/assets/images folder, let's name it noavatar.jpg\r\n2. Create a _test.text.erb partial under app/views/shared folder (shared is a new folder)\r\n\r\nThis partial contains the following code:\r\n`<%= asset_url('noavatar.jpg') %>` or it can be `<%= path_url('noavatar.jpg') %>`\r\n\r\nNow open a rails console and run the following code:\r\n\r\n`ApplicationController.render(partial: 'shared/test')`\r\n\r\nYou will get the following result:\r\n\r\n> http://://example.org:80/assets/noavatar-04b48dfebdd9a9ec5971b22b3bfe8144c04e2de8909adbb5a52897a881dea8df.jpg\r\n\r\nNotice that not only the protocol inside the url is malformed but also we are getting and a non relevant 80 port.\r\n\r\nNow lets set the https parameter to true\r\n\r\n`renderer = ApplicationController.renderer.new(https: true)`\r\n`renderer.render(partial: 'shared/test')` \r\n\r\nNow everything seems to be working perfectly!\r\n\r\n> https://example.org/assets/noavatar-04b48dfebdd9a9ec5971b22b3bfe8144c04e2de8909adbb5a52897a881dea8df.jpg\r\n\r\nNotice: This malfunction is not happening with normal page urls. For example if you insert the following code inside 'test' partial:\r\n\r\n`<%= url_for(action: 'index', controller: 'products', only_path: false) %>`\r\n\r\nand run in console once again\r\n\r\n`ApplicationController.render(partial: 'shared/test')`\r\n\r\nyou will get the expected result\r\n\r\n> http://example.org/products\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.beta1\r\n\r\n**Ruby version**: 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\r\n",
      "number": 28151,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tzabaman/subscriptions",
         "received_events_url": "https://api.github.com/users/tzabaman/received_events",
         "url": "https://api.github.com/users/tzabaman",
         "avatar_url": "https://avatars1.githubusercontent.com/u/22303333?v=4",
         "events_url": "https://api.github.com/users/tzabaman/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tzabaman/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tzabaman/following{/other_user}",
         "repos_url": "https://api.github.com/users/tzabaman/repos",
         "site_admin": false,
         "id": 22303333,
         "organizations_url": "https://api.github.com/users/tzabaman/orgs",
         "login": "tzabaman",
         "gists_url": "https://api.github.com/users/tzabaman/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tzabaman/followers",
         "html_url": "https://github.com/tzabaman"
      },
      "state": "closed",
      "closed_by": "28250",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28151",
      "updated_at": "2017-03-06T12:26:09Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28151/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 210074639,
      "closed_at": "2017-03-06T12:26:09Z",
      "created_at": "2017-02-24T15:18:28Z",
      "title": "Malformed asset url when rendering a view partial with ActionController::Renderer",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28151/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28151/comments",
      "html_url": "https://github.com/rails/rails/issues/28151"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "https://github.com/rails/jbuilder/issues/388",
      "number": 28140,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "state": "closed",
      "closed_by": "ails/jbuilder#389",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/28140",
      "updated_at": "2017-02-24T02:35:47Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28140/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 131864,
            "url": "https://api.github.com/repos/rails/rails/labels/third%20party%20issue",
            "color": "02d7e1",
            "default": false,
            "name": "third party issue"
         }
      ],
      "comments": 1,
      "id": 209915433,
      "closed_at": "2017-02-24T02:35:47Z",
      "created_at": "2017-02-23T23:24:55Z",
      "title": "Add support in jbuilder",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28140/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28140/comments",
      "html_url": "https://github.com/rails/rails/issues/28140"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "        def new_cipher\r\n          OpenSSL::Cipher.new(\"aes-256-cbc\")\r\n        end\r\n\r\n        def cipher(mode, data)\r\n          cipher = new_cipher.public_send(mode)\r\n          cipher.key = key\r\n          cipher.update(data) << cipher.final\r\n        end\r\n\r\n\r\nUnauthenticated CBC mode with a constant IV. This is not up to the minimum standards of how a modern cryptosystem should be designed. *Please* use an authenticated mode (GCM, or if unavailable, derive an authentication key and HMAC the ciphertext) and generate an unpredictable, random IV *each and every time* an encryption is performed.",
      "number": 28135,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/stouset/subscriptions",
         "received_events_url": "https://api.github.com/users/stouset/received_events",
         "url": "https://api.github.com/users/stouset",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4338?v=4",
         "events_url": "https://api.github.com/users/stouset/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/stouset/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/stouset/following{/other_user}",
         "repos_url": "https://api.github.com/users/stouset/repos",
         "site_admin": false,
         "id": 4338,
         "organizations_url": "https://api.github.com/users/stouset/orgs",
         "login": "stouset",
         "gists_url": "https://api.github.com/users/stouset/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/stouset/followers",
         "html_url": "https://github.com/stouset"
      },
      "state": "closed",
      "closed_by": "28139",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28135",
      "updated_at": "2017-03-02T18:12:14Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28135/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 91966972,
            "url": "https://api.github.com/repos/rails/rails/labels/security",
            "color": "D94A4A",
            "default": false,
            "name": "security"
         }
      ],
      "comments": 9,
      "id": 209899404,
      "closed_at": "2017-03-02T18:12:14Z",
      "created_at": "2017-02-23T22:09:01Z",
      "title": "New Secrets feature uses poor cryptography",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28135/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28135/comments",
      "html_url": "https://github.com/rails/rails/issues/28135"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When running system tests using a CI, there should be an option to not display the screenshot inline : https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb#L42\r\n\r\nCurrently you can set `ENV[\"CAPYBARA_INLINE_SCREENSHOT\"] = \"artifact\"` but this is not documented.\r\n\r\nI would suggest an environment variable to control this behaviour, with a \"simple\" option to just display the screenshot path, \"artifact\" to display it using the artifact protocol (supported by some CI), and \"inline\".\r\n\r\nThe default could be \"inline\" (a terminal/platform detection may be better here to avoid big Base64 outputs in basic terminals), and I would strongly advise to have \"simple\" or \"artifact\" defined if `ENV[\"CI\"]` is set to provide a sane default.\r\n\r\n@eileencodes what do you prefer? I can send a PR with the implementation you want.",
      "number": 28133,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "url": "https://api.github.com/users/eileencodes",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "site_admin": true,
            "id": 1080678,
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "login": "eileencodes",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "html_url": "https://github.com/eileencodes"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/renchap/subscriptions",
         "received_events_url": "https://api.github.com/users/renchap/received_events",
         "url": "https://api.github.com/users/renchap",
         "avatar_url": "https://avatars3.githubusercontent.com/u/42070?v=4",
         "events_url": "https://api.github.com/users/renchap/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/renchap/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/renchap/following{/other_user}",
         "repos_url": "https://api.github.com/users/renchap/repos",
         "site_admin": false,
         "id": 42070,
         "organizations_url": "https://api.github.com/users/renchap/orgs",
         "login": "renchap",
         "gists_url": "https://api.github.com/users/renchap/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/renchap/followers",
         "html_url": "https://github.com/renchap"
      },
      "state": "closed",
      "closed_by": "28185",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28133",
      "updated_at": "2017-03-13T12:01:04Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28133/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
         "received_events_url": "https://api.github.com/users/eileencodes/received_events",
         "url": "https://api.github.com/users/eileencodes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
         "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
         "repos_url": "https://api.github.com/users/eileencodes/repos",
         "site_admin": true,
         "id": 1080678,
         "organizations_url": "https://api.github.com/users/eileencodes/orgs",
         "login": "eileencodes",
         "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eileencodes/followers",
         "html_url": "https://github.com/eileencodes"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 209893775,
      "closed_at": "2017-03-13T12:01:04Z",
      "created_at": "2017-02-23T21:45:54Z",
      "title": "Screenshots in system testing should not always be displayed",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28133/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28133/comments",
      "html_url": "https://github.com/rails/rails/issues/28133"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is probably for @eileencodes. As the title says, it looks like Puma is started when the first system test is ran, which can happen after other tests ran. When it is the case, the Puma startup message is outputted in the middle of the test results.\r\n\r\nFYI it looks like `capybara-rails` suppresses the Puma startup message, hence avoiding this issue.\r\n\r\n### Steps to reproduce\r\n\r\nAdd system tests to your application, run `rails test`\r\n\r\n### Expected behavior\r\nTests output is a continuous line of dots : \r\n```\r\n$ rails test\r\n# Running tests with run options --seed 58345:\r\n..................\r\nFinished tests in 3.501496s, 5.1407 tests/s, 10.2813 assertions/s.\r\n18 tests, 36 assertions, 0 failures, 0 errors, 0 skips\r\n```\r\n\r\n### Actual behavior\r\nThe puma starting message appears in the middle of all of those nice dots\r\n```\r\n$ rails test\r\n# Running tests with run options --seed 58345:\r\n.............Puma starting in single mode...\r\n* Version 3.7.1 (ruby 2.3.3-p222), codename: Snowy Sagebrush\r\n* Min threads: 0, max threads: 1\r\n* Environment: test\r\n* Listening on tcp://0.0.0.0:53594\r\nUse Ctrl-C to stop\r\n.....\r\nFinished tests in 3.501496s, 5.1407 tests/s, 10.2813 assertions/s.\r\n18 tests, 36 assertions, 0 failures, 0 errors, 0 skips\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.1.0 from master\r\n\r\n**Ruby version**:\r\n2.3.3p222",
      "number": 28109,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "url": "https://api.github.com/users/eileencodes",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "site_admin": true,
            "id": 1080678,
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "login": "eileencodes",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "html_url": "https://github.com/eileencodes"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/renchap/subscriptions",
         "received_events_url": "https://api.github.com/users/renchap/received_events",
         "url": "https://api.github.com/users/renchap",
         "avatar_url": "https://avatars3.githubusercontent.com/u/42070?v=4",
         "events_url": "https://api.github.com/users/renchap/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/renchap/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/renchap/following{/other_user}",
         "repos_url": "https://api.github.com/users/renchap/repos",
         "site_admin": false,
         "id": 42070,
         "organizations_url": "https://api.github.com/users/renchap/orgs",
         "login": "renchap",
         "gists_url": "https://api.github.com/users/renchap/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/renchap/followers",
         "html_url": "https://github.com/renchap"
      },
      "state": "closed",
      "closed_by": "28283",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28109",
      "updated_at": "2017-07-07T08:30:30Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/28109/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
         "received_events_url": "https://api.github.com/users/eileencodes/received_events",
         "url": "https://api.github.com/users/eileencodes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
         "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
         "repos_url": "https://api.github.com/users/eileencodes/repos",
         "site_admin": true,
         "id": 1080678,
         "organizations_url": "https://api.github.com/users/eileencodes/orgs",
         "login": "eileencodes",
         "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eileencodes/followers",
         "html_url": "https://github.com/eileencodes"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 209495251,
      "closed_at": "2017-03-05T14:11:21Z",
      "created_at": "2017-02-22T15:53:16Z",
      "title": "Puma startup message breaks the test results",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28109/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28109/comments",
      "html_url": "https://github.com/rails/rails/issues/28109"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Calling `reload!` invokes `to_prepare` callbacks twice. This is asserted [in the tests](https://github.com/rails/rails/blob/a92bd65e37bb08a08fd0aaf4d12c7c6cb92c2c17/activesupport/test/reloader_test.rb#L58-L59) but seems undesirable from a consistency and performance standpoint. This also differs from the Rails server behavior, which calls the `to_prepare` callbacks only once when reloading.\r\n\r\n### Steps to reproduce\r\n```ruby\r\n# test.rb\r\n\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\nend\r\n\r\nrequire \"active_support\"\r\nrequire \"active_support/core_ext/object/blank\"\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_reloader_calls_to_prepare_once\r\n    to_prepare_call_count = 0\r\n    reloader = Class.new(ActiveSupport::Reloader)\r\n    reloader.to_prepare { to_prepare_call_count += 1 }\r\n    reloader.reload!\r\n    assert_equal 1, to_prepare_call_count\r\n  end\r\nend\r\n```\r\n\r\n```sh\r\n$ ruby test.rb\r\n<SNIP>\r\n# Running:\r\n\r\nF\r\n\r\nFinished in 0.006512s, 153.5627 runs/s, 153.5627 assertions/s.\r\n\r\n  1) Failure:\r\nBugTest#test_reloader_calls_to_prepare_once [test.rb:25]:\r\nExpected: 1\r\n  Actual: 2\r\n\r\n1 runs, 1 assertions, 1 failures, 0 errors, 0 skips\r\n```\r\n\r\n### Expected behavior\r\nThe `to_prepare` callback should be invoked once\r\n\r\n### Actual behavior\r\nThe `to_prepare` callback is invoked twice\r\n\r\n### System configuration\r\n**Rails version**:\r\nmaster (also reproduced in 5.0.1)\r\n\r\n**Ruby version**:\r\n2.4.0",
      "number": 28108,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/f1sherman/subscriptions",
         "received_events_url": "https://api.github.com/users/f1sherman/received_events",
         "url": "https://api.github.com/users/f1sherman",
         "avatar_url": "https://avatars0.githubusercontent.com/u/349804?v=4",
         "events_url": "https://api.github.com/users/f1sherman/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/f1sherman/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/f1sherman/following{/other_user}",
         "repos_url": "https://api.github.com/users/f1sherman/repos",
         "site_admin": false,
         "id": 349804,
         "organizations_url": "https://api.github.com/users/f1sherman/orgs",
         "login": "f1sherman",
         "gists_url": "https://api.github.com/users/f1sherman/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/f1sherman/followers",
         "html_url": "https://github.com/f1sherman"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28108",
      "updated_at": "2017-03-09T15:06:09Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28108/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 209493921,
      "closed_at": "2017-03-09T15:06:09Z",
      "created_at": "2017-02-22T15:49:01Z",
      "title": "ActiveSupport::Reloader#reload! invokes `to_prepare` callbacks twice",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28108/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28108/comments",
      "html_url": "https://github.com/rails/rails/issues/28108"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nCreate a frozen instance of ActiveSupport::TimeWithZone and then call `to_datetime` on it. For example: `Time.zone.now.freeze.to_datetime`.\r\n\r\n### Expected behavior\r\nReturns an instance of DateTime with the timezone's UTC offset; this should not modify the TimeWithZone instance.\r\n\r\n### Actual behavior\r\n> RuntimeError: can't modify frozen ActiveSupport::TimeWithZone\r\n> from /Users/arice/dev/rails/activesupport/lib/active_support/time_with_zone.rb:412:in `to_datetime'\r\n\r\nThis appears to be related to `8c402ef` which stores the value to an instance variable as a form of caching.\r\n\r\n### System configuration\r\n**Rails version**: 4.2.8\r\n\r\n**Ruby version**: 2.4.0p0\r\n",
      "number": 28101,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/HashNotAdam/subscriptions",
         "received_events_url": "https://api.github.com/users/HashNotAdam/received_events",
         "url": "https://api.github.com/users/HashNotAdam",
         "avatar_url": "https://avatars3.githubusercontent.com/u/902714?v=4",
         "events_url": "https://api.github.com/users/HashNotAdam/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/HashNotAdam/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/HashNotAdam/following{/other_user}",
         "repos_url": "https://api.github.com/users/HashNotAdam/repos",
         "site_admin": false,
         "id": 902714,
         "organizations_url": "https://api.github.com/users/HashNotAdam/orgs",
         "login": "HashNotAdam",
         "gists_url": "https://api.github.com/users/HashNotAdam/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/HashNotAdam/followers",
         "html_url": "https://github.com/HashNotAdam"
      },
      "state": "closed",
      "closed_by": "28104",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28101",
      "updated_at": "2017-05-13T04:55:52Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28101/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 209319868,
      "closed_at": "2017-02-22T08:26:07Z",
      "created_at": "2017-02-22T00:53:38Z",
      "title": "Calling to_datetime on a frozen ActiveSupport::TimeWithZone causes a RuntimeError",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28101/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28101/comments",
      "html_url": "https://github.com/rails/rails/issues/28101"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Expected behavior\r\n`strip_tags` does not encode special chars. \r\n\r\n```\r\n>>> strip_tags(\"&\")\r\n>>> \"&\"\r\n```\r\n\r\n`strip_tags` uses the option `encode_special_chars: false` which rails-html-sanitizer ignores since v1.0.3 in response to CVE-2015-7579. \r\n\r\nThe commit that removes support for `encode_special_chars` https://github.com/rails/rails-html-sanitizer/commit/49dfc1584c5b8e35a4ffabf8356ba3df025e8d3f\r\n\r\n### Actual behavior\r\n`strip_tags` encodes special chars. \r\n\r\n```\r\n>>> strip_tags(\"&\")\r\n>>> \"&amp;\"\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3\r\n\r\n### Restoring previous behaviour rails-html-sanitizer<v1.0.3\r\n\r\n If you want to allow special chars you should use [Loofa](https://github.com/flavorjones/loofah) directly. \r\n\r\n```\r\nLoofah.fragment(value).text(encode_special_chars: false)\r\n```\r\n\r\n --- \r\n\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\nend\r\n\r\nrequire 'action_view'\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include ::ActionView::Helpers::SanitizeHelper\r\n  def test_stuff\r\n    assert(\"&amp;\" == strip_tags(\"&\"))\r\n\r\n    full_sanitizer = Rails::Html::FullSanitizer.new\r\n    assert(\"&amp;\" == full_sanitizer.sanitize(\"&\", encode_special_chars: true))\r\n    assert(\"&amp;\" == full_sanitizer.sanitize(\"&\", encode_special_chars: false))\r\n  end\r\nend\r\n```\r\n\r\n### Related issues\r\n  - https://github.com/rails/rails-html-sanitizer/issues/28\r\n",
      "number": 28060,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/andrewhood125/subscriptions",
         "received_events_url": "https://api.github.com/users/andrewhood125/received_events",
         "url": "https://api.github.com/users/andrewhood125",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1624718?v=4",
         "events_url": "https://api.github.com/users/andrewhood125/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/andrewhood125/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/andrewhood125/following{/other_user}",
         "repos_url": "https://api.github.com/users/andrewhood125/repos",
         "site_admin": false,
         "id": 1624718,
         "organizations_url": "https://api.github.com/users/andrewhood125/orgs",
         "login": "andrewhood125",
         "gists_url": "https://api.github.com/users/andrewhood125/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/andrewhood125/followers",
         "html_url": "https://github.com/andrewhood125"
      },
      "state": "closed",
      "closed_by": "28061",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/28060",
      "updated_at": "2017-02-27T23:13:09Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28060/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 208604646,
      "closed_at": "2017-02-27T23:13:09Z",
      "created_at": "2017-02-18T02:24:18Z",
      "title": "strip_tags is encoding special chars",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28060/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28060/comments",
      "html_url": "https://github.com/rails/rails/issues/28060"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## Steps to reproduce\r\nAdd a controller method called `location`. Have another method in the controller call `redirect_to`.\r\n\r\nMinimum reproducible bug code can be seen here: https://github.com/tylerdiaz/rails-redirect-bug\r\n\r\n## Expected behavior\r\nI expect `location` to not be called. It might have models that expect `params` or other request information that a redirect wouldn't provide and cause it to raise an exception. For example, with the following code:\r\n\r\n```\r\nclass TestController < ApplicationController\r\n  def index\r\n    redirect_to test_destination_path\r\n  end\r\n\r\n  def destination\r\n    render text: \"What I expect to see\"\r\n  end\r\n\r\n  def location\r\n    raise 'Error for some reason'\r\n  end\r\nend\r\n```\r\nIf I visit `/test/index`, I expect to see the destination text. Instead, the `#location` exception is raised.\r\n\r\n## Actual behavior\r\nThe `location` method is exectued when I use the `redirect_to` method. If it raises an exception, the `redirect_to` fails and it isn't immediately apparent why that method was called.\r\n\r\n## System configuration\r\n\r\n**Rails version**:\r\n\r\n```\r\n$ rails -v\r\nRails 5.0.1\r\n```\r\n\r\n**Ruby version**:\r\n\r\n```\r\n$ ruby -v\r\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin16]\r\n```\r\n",
      "number": 28033,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tylerdiaz/subscriptions",
         "received_events_url": "https://api.github.com/users/tylerdiaz/received_events",
         "url": "https://api.github.com/users/tylerdiaz",
         "avatar_url": "https://avatars0.githubusercontent.com/u/584182?v=4",
         "events_url": "https://api.github.com/users/tylerdiaz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tylerdiaz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tylerdiaz/following{/other_user}",
         "repos_url": "https://api.github.com/users/tylerdiaz/repos",
         "site_admin": false,
         "id": 584182,
         "organizations_url": "https://api.github.com/users/tylerdiaz/orgs",
         "login": "tylerdiaz",
         "gists_url": "https://api.github.com/users/tylerdiaz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tylerdiaz/followers",
         "html_url": "https://github.com/tylerdiaz"
      },
      "state": "closed",
      "closed_by": "28081",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28033",
      "updated_at": "2017-02-21T02:28:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28033/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 208120993,
      "closed_at": "2017-02-21T02:28:55Z",
      "created_at": "2017-02-16T13:27:50Z",
      "title": "redirect_to fails when controller has a `location` method",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28033/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28033/comments",
      "html_url": "https://github.com/rails/rails/issues/28033"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In short, an `after_commit` `:if` option is still triggered after the destroy lifecycle even if the `after_commit` is limited to, say, `[:create, :update]`. This doesn't seem like it should be expected behavior.\r\n\r\n### Steps to reproduce\r\n[Here is a gist.](https://gist.github.com/niborg/39214bd8d088eacd1ffb296b6232060d)\r\n\r\n### Expected behavior\r\nSince the `after_commit` is limited to being triggered on the create and update events, and therefore never be triggered on destroy events, it seems counter-intuitive for ActiveRecord to bother processing the `:if` option, and can cause errors if the code within the `:if` option assumes that it will only be run when the model is valid and existing.\r\n\r\n### Actual behavior\r\nThe `after_commit` `:if` option is triggered on destroy.\r\n\r\n### System configuration\r\n**Rails version**: Gist reproduces this in 5.0.1. I discovered this issue in 4.2.7.\r\n\r\n**Ruby version**: 2.3.1\r\n",
      "number": 28019,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/niborg/subscriptions",
         "received_events_url": "https://api.github.com/users/niborg/received_events",
         "url": "https://api.github.com/users/niborg",
         "avatar_url": "https://avatars2.githubusercontent.com/u/11550412?v=4",
         "events_url": "https://api.github.com/users/niborg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/niborg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/niborg/following{/other_user}",
         "repos_url": "https://api.github.com/users/niborg/repos",
         "site_admin": false,
         "id": 11550412,
         "organizations_url": "https://api.github.com/users/niborg/orgs",
         "login": "niborg",
         "gists_url": "https://api.github.com/users/niborg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/niborg/followers",
         "html_url": "https://github.com/niborg"
      },
      "state": "closed",
      "closed_by": "28063",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/28019",
      "updated_at": "2017-02-28T20:23:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28019/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 207871223,
      "closed_at": "2017-02-28T20:23:55Z",
      "created_at": "2017-02-15T17:25:15Z",
      "title": ":if option in after_commit on: :create processed during destroy",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28019/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28019/comments",
      "html_url": "https://github.com/rails/rails/issues/28019"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Not sure how important this is, but it seems inconsistent with everything else.\r\n\r\nSee https://github.com/rails/rails/blob/master/railties/lib/rails/generators/test_unit/integration/templates/integration_test.rb\r\n\r\n...vs...\r\n\r\nhttps://github.com/rails/rails/blob/master/railties/lib/rails/generators/test_unit/model/templates/unit_test.rb#L3\r\n",
      "number": 28011,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "state": "closed",
      "closed_by": "28013",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/28011",
      "updated_at": "2017-02-19T18:21:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28011/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 384913768,
            "url": "https://api.github.com/repos/rails/rails/labels/good-first-patch",
            "color": "0e8a16",
            "default": false,
            "name": "good-first-patch"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 0,
      "id": 207678029,
      "closed_at": "2017-02-19T18:21:49Z",
      "created_at": "2017-02-15T00:37:55Z",
      "title": "test_unit integration tests generator is missing the namespace wrapper ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28011/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28011/comments",
      "html_url": "https://github.com/rails/rails/issues/28011"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails version: 5.0.1\r\n\r\n### Steps to reproduce\r\n\r\nGenerate an engine with >1 levels nested namespaces, e.g.\r\n\r\n```bash\r\n$ rails plugin new foo-bar --mountable\r\n      create\r\n      create  README.md\r\n      create  Rakefile\r\n      create  foo-bar.gemspec\r\n      create  MIT-LICENSE\r\n      create  .gitignore\r\n      create  Gemfile\r\n      create  app\r\n      create  app/controllers/foo/bar/application_controller.rb\r\n      create  app/helpers/foo/bar/application_helper.rb\r\n      create  app/jobs/foo/bar/application_job.rb\r\n      create  app/mailers/foo/bar/application_mailer.rb\r\n      create  app/models/foo/bar/application_record.rb\r\n      create  app/views/layouts/foo/bar/application.html.erb\r\n      create  app/assets/images/foo/bar\r\n      create  app/assets/images/foo/bar/.keep\r\n      create  config/routes.rb\r\n      create  lib/foo/bar.rb\r\n      create  lib/tasks/foo/bar_tasks.rake\r\n      create  lib/foo/bar/version.rb\r\n      create  lib/foo/bar/engine.rb\r\n      create  app/assets/config/foo_bar_manifest.js\r\n      create  app/assets/stylesheets/foo/bar/application.css\r\n      create  app/assets/javascripts/foo/bar/application.js\r\n      create  bin/rails\r\n      create  test/test_helper.rb\r\n      create  test/foo/bar_test.rb\r\n      append  Rakefile\r\n      create  test/integration/navigation_test.rb\r\n  vendor_app  test/dummy\r\n```\r\n\r\nThat works as expected. However, when you run a generator inside this folder, it doesn't nest everything correctly, for example:\r\n\r\n```\r\n$ rails generate controller dashboard\r\n      create  app/controllers/foo/dashboard_controller.rb\r\n      invoke  erb\r\n      create    app/views/foo/dashboard\r\n      invoke  test_unit\r\n      create    test/controllers/foo/dashboard_controller_test.rb\r\n      invoke  helper\r\n      create    app/helpers/foo/dashboard_helper.rb\r\n      invoke    test_unit\r\n      invoke  assets\r\n      invoke    js\r\n      create      app/assets/javascripts/foo/dashboard.js\r\n      invoke    css\r\n      create      app/assets/stylesheets/foo/dashboard.css\r\n```\r\n\r\nAs you can see, it is supposed to generate `app/controllers/foo/bar/dashboard_controller.rb`, but it dropped the \"bar\" from the generated output.\r\n",
      "number": 28010,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/28010",
      "updated_at": "2017-02-15T01:25:46Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/28010/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 207663574,
      "closed_at": "2017-02-15T00:35:48Z",
      "created_at": "2017-02-14T23:07:31Z",
      "title": "Missing namespace folders when using generators inside an engine",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/28010/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/28010/comments",
      "html_url": "https://github.com/rails/rails/issues/28010"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Given this class:\r\n\r\n```\r\nclass Product\r\n  include ActiveModel::Validations\r\n\r\n  attr_accessor :retail, :wholesale\r\n  validates :retail, numericality: {greater_than: :wholesale}\r\nend\r\n```\r\nWhen `wholesale` is nil or non-numeric, the validator throws an `ArgumentError: comparison of Fixnum with nil failed`.  It should cause a validation error instead.\r\n\r\nExample:\r\n```\r\nirb(main):001:0> p = Product.new\r\n=> #<Product:0x0055625336c8a0>\r\nirb(main):002:0> p.retail = 10\r\n=> 10\r\nirb(main):003:0> p.valid?\r\nArgumentError: comparison of Fixnum with nil failed\r\n```\r\nIt fails when `wholesale` is nil or non-numeric, but works fine in cases where `wholesale` is numeric.\r\n\r\nThis test added to activemodel/test/cases/validations/numericality_validation_test.rb exposes the issue (in a basic way)\r\n```\r\n  def test_validates_numericality_with_invalid_types\r\n    Topic.validates_numericality_of :approved, greater_than: :returns_nil\r\n    Topic.send(:define_method, :returns_nil, lambda { nil })\r\n    t = Topic.new\r\n    t.approved = 50\r\n    t.valid?\r\n  ensure\r\n    Topic.send(:remove_method, :returns_nil)\r\n  end\r\n\r\n```\r\n\r\nI'd like to write a patch and PR to turn this into a validation error rather than an exception, but I'm unsure of how to structure the validation message since the error involves another attribute.  Advice is appreciated.",
      "number": 27968,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lostapathy/subscriptions",
         "received_events_url": "https://api.github.com/users/lostapathy/received_events",
         "url": "https://api.github.com/users/lostapathy",
         "avatar_url": "https://avatars2.githubusercontent.com/u/437470?v=4",
         "events_url": "https://api.github.com/users/lostapathy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lostapathy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lostapathy/following{/other_user}",
         "repos_url": "https://api.github.com/users/lostapathy/repos",
         "site_admin": false,
         "id": 437470,
         "organizations_url": "https://api.github.com/users/lostapathy/orgs",
         "login": "lostapathy",
         "gists_url": "https://api.github.com/users/lostapathy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lostapathy/followers",
         "html_url": "https://github.com/lostapathy"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27968",
      "updated_at": "2017-10-06T03:20:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27968/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 206929686,
      "closed_at": "2017-10-06T03:20:06Z",
      "created_at": "2017-02-10T23:07:55Z",
      "title": "validates numericality: {greater_than: :other_method} fails with non-numeric comparison values",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27968/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27968/comments",
      "html_url": "https://github.com/rails/rails/issues/27968"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Failing Test\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", github: \"rails/rails\"\r\n  gem \"arel\", github: \"rails/arel\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :users, force: true do |t|\r\n    t.string :name\r\n  end\r\n\r\n  create_table :posts, force: true do |t|\r\n    t.integer :user_id\r\n    t.text :body\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_many :posts\r\n  accepts_nested_attributes_for :posts\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  attr_accessor :virtual_input_attribute\r\n\r\n  belongs_to :user\r\n  before_save :set_post_body\r\n\r\n  def virtual_input_attribute=(value)\r\n    attribute_will_change!(:virtual_input_attribute) unless value.blank?\r\n    @virtual_input_attribute = value\r\n  end\r\n\r\n  def set_post_body\r\n    self.body = virtual_input_attribute\r\n  end\r\nend\r\n\r\np ActiveRecord::VERSION::STRING\r\n\r\nclass BugTest < Minitest::Test\r\n  # Fails on edge Rails. Passes on 5.0.1\r\n  def test_nested_resource_dirty\r\n    user = User.create! name: 'Ruby'\r\n    post = Post.create!(user_id: user.id, body: nil)\r\n\r\n    user.update(posts_attributes: { '0' => { id: post.id, virtual_input_attribute: '1' } })\r\n\r\n    assert_equal '1', post.reload.body\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nattribute_will_change! should make nested resources dirty, and the post's body should be updated.\r\n\r\n### Actual behavior\r\nattribute_will_change! has no effect for nested resources. The post's body remains nil.\r\n\r\nIt still works when directly updating the resource. This test passes:\r\n\r\n```ruby\r\n  def test_resource_dirty\r\n    user = User.create! name: 'Ruby'\r\n    post = Post.create!(user_id: user.id, body: nil)\r\n    \r\n    post.update(virtual_input_attribute: '1')\r\n\r\n    assert_equal '1', post.reload.body\r\n  end\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\nEdge Rails cabb212976703dac46bacc36addf70a232e96e71\r\n**Ruby version**:\r\nruby 2.4.0p0\r\n\r\n\r\nI tracked it down to this commit: https://github.com/rails/rails/commit/16ae3db5a5c6a08383b974ae6c96faac5b4a3c81\r\n",
      "number": 27956,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/alse/subscriptions",
         "received_events_url": "https://api.github.com/users/alse/received_events",
         "url": "https://api.github.com/users/alse",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1160249?v=4",
         "events_url": "https://api.github.com/users/alse/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/alse/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/alse/following{/other_user}",
         "repos_url": "https://api.github.com/users/alse/repos",
         "site_admin": false,
         "id": 1160249,
         "organizations_url": "https://api.github.com/users/alse/orgs",
         "login": "alse",
         "gists_url": "https://api.github.com/users/alse/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/alse/followers",
         "html_url": "https://github.com/alse"
      },
      "state": "closed",
      "closed_by": "fed08f",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27956",
      "updated_at": "2017-02-11T22:49:33Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27956/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 2,
      "id": 206654540,
      "closed_at": "2017-02-11T22:49:32Z",
      "created_at": "2017-02-09T22:53:17Z",
      "title": "Regression - attribute_will_change! doesn't work for nested resources",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27956/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27956/comments",
      "html_url": "https://github.com/rails/rails/issues/27956"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nBy default all Rails apps are created with an initializer called filter_parameter_logging.rb and its default contents are:\r\n\r\n```ruby\r\nRails.application.config.filter_parameters += [:password]\r\n```\r\n\r\nThis is enough to change the class of `request.filtered_parameters` from `ActiveSupport::HashWithIndifferentAccess` to `Hash`. Omitting this line (defaults to `[]`) returns a duplicate of parameters which is a `ActiveSupport::HashWithIndifferentAccess`.\r\n\r\n### Expected behavior\r\n`ParameterFilter` should return the a hash with the same class than the parameters it is filtering.\r\n\r\n### Actual behavior\r\nWhen filtering, `ParameterFilter` creates a new copy of the hash but looses its indifferent access property.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.1\r\n\r\n### Failing Test\r\n```ruby\r\nbegin\r\n  require 'bundler/inline'\r\nrescue LoadError => e\r\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source 'https://rubygems.org'\r\n  gem 'rails', github: 'rails/rails', branch: '5-0-stable'\r\n  gem 'arel', github: 'rails/arel', branch: '7-1-stable'\r\n  gem 'byebug'\r\nend\r\n\r\nrequire 'action_controller/railtie'\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = File.dirname(__FILE__)\r\n  config.session_store :cookie_store, key: 'cookie_store_key'\r\n  secrets.secret_token    = 'secret_token'\r\n  secrets.secret_key_base = 'secret_key_base'\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get '/' => 'test#index'\r\n  end\r\nend\r\n\r\nclass TestController < ActionController::Base\r\n  include Rails.application.routes.url_helpers\r\n\r\n  def index\r\n    render plain: 'Home'\r\n  end\r\nend\r\n\r\nrequire 'minitest/autorun'\r\nrequire 'rack/test'\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def test_returns_success\r\n    get '/'\r\n    assert last_response.ok?\r\n  end\r\n\r\n  def test_parameter_filter_class\r\n    [\r\n      [{'foo'=>'bar'}.with_indifferent_access, %w'bar'],\r\n      [{'bar'=>'foo'}.with_indifferent_access, []]\r\n    ].each do |before_filter, filter_words|\r\n      parameter_filter = ActionDispatch::Http::ParameterFilter.new(filter_words)\r\n      assert_instance_of ActiveSupport::HashWithIndifferentAccess,\r\n                         parameter_filter.filter(before_filter)\r\n    end\r\n  end\r\n\r\n  private\r\n    def app\r\n      Rails.application\r\n    end\r\nend\r\n```\r\n\r\n```\r\n  1) Failure:\r\nBugTest#test_parameter_filter_class [failing_test.rb:56]:\r\nExpected {\"foo\"=>\"bar\"} to be an instance of ActiveSupport::HashWithIndifferentAccess, not Hash.\r\n```\r\n",
      "number": 27944,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/leonelgalan/subscriptions",
         "received_events_url": "https://api.github.com/users/leonelgalan/received_events",
         "url": "https://api.github.com/users/leonelgalan",
         "avatar_url": "https://avatars3.githubusercontent.com/u/727774?v=4",
         "events_url": "https://api.github.com/users/leonelgalan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/leonelgalan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/leonelgalan/following{/other_user}",
         "repos_url": "https://api.github.com/users/leonelgalan/repos",
         "site_admin": false,
         "id": 727774,
         "organizations_url": "https://api.github.com/users/leonelgalan/orgs",
         "login": "leonelgalan",
         "gists_url": "https://api.github.com/users/leonelgalan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/leonelgalan/followers",
         "html_url": "https://github.com/leonelgalan"
      },
      "state": "closed",
      "closed_by": "27990",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27944",
      "updated_at": "2017-06-19T23:53:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27944/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 206225320,
      "closed_at": "2017-06-19T23:53:47Z",
      "created_at": "2017-02-08T15:10:31Z",
      "title": "Use of ParameterFilter changes `request.filtered_parameters` class to Hash",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27944/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27944/comments",
      "html_url": "https://github.com/rails/rails/issues/27944"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n```\r\nrails new test\r\ncd test\r\nrails g model post body:string\r\nrake db:migrate\r\nrails console\r\nPost.connection.select_all('SELECT id FROM posts WHERE id > $1', 'SQL', [[nil, 0]])\r\n```\r\n\r\n### Expected behavior\r\nThis normally work in Rails 4.2.7.1\r\n\r\n### Actual behavior\r\n```\r\nNoMethodError: undefined method `value_for_database' for [nil, 0]:Array\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.1/lib/active_record/connection_adapters/sqlite3_adapter.rb:191:in `block in exec_query'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.1/lib/active_record/connection_adapters/sqlite3_adapter.rb:191:in `map'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.1/lib/active_record/connection_adapters/sqlite3_adapter.rb:191:in `exec_query'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:373:in `select'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.1/lib/active_record/connection_adapters/abstract/database_statements.rb:41:in `select_all'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.1/lib/active_record/connection_adapters/abstract/query_cache.rb:95:in `select_all'\r\n        from (irb):1\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/railties-5.0.1/lib/rails/commands/console.rb:65:in `start'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/railties-5.0.1/lib/rails/commands/console_helper.rb:9:in `start'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/railties-5.0.1/lib/rails/commands/commands_tasks.rb:78:in `console'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/railties-5.0.1/lib/rails/commands/commands_tasks.rb:49:in `run_command!'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/railties-5.0.1/lib/rails/commands.rb:18:in `<top (required)>'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:293:in `require'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:293:in `block in require'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:259:in `load_dependency'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:293:in `require'\r\n... 1 levels...\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:287:in `load'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:287:in `block in load'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:259:in `load_dependency'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.1/lib/active_support/dependencies.rb:287:in `load'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/commands/rails.rb:6:in `call'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/command_wrapper.rb:38:in `call'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application.rb:191:in `block in serve'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application.rb:161:in `fork'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application.rb:161:in `serve'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application.rb:131:in `block in run'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application.rb:125:in `loop'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application.rb:125:in `run'\r\n        from ~/.rvm/gems/ruby-2.3.1/gems/spring-2.0.1/lib/spring/application/boot.rb:19:in `<top (required)>'\r\n        from ~/.rvm/rubies/ruby-2.3.1/lib/ruby/site_ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\r\n        from ~/.rvm/rubies/ruby-2.3.1/lib/ruby/site_ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\r\n        from -e:1:in `<main>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.0.1\r\n**Ruby version**:\r\nruby 2.3.1",
      "number": 27923,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/RustamF1/subscriptions",
         "received_events_url": "https://api.github.com/users/RustamF1/received_events",
         "url": "https://api.github.com/users/RustamF1",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6199548?v=4",
         "events_url": "https://api.github.com/users/RustamF1/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/RustamF1/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/RustamF1/following{/other_user}",
         "repos_url": "https://api.github.com/users/RustamF1/repos",
         "site_admin": false,
         "id": 6199548,
         "organizations_url": "https://api.github.com/users/RustamF1/orgs",
         "login": "RustamF1",
         "gists_url": "https://api.github.com/users/RustamF1/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/RustamF1/followers",
         "html_url": "https://github.com/RustamF1"
      },
      "state": "closed",
      "closed_by": "27939",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27923",
      "updated_at": "2017-03-20T15:47:25Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27923/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 11,
      "id": 205576816,
      "closed_at": "2017-03-20T15:47:25Z",
      "created_at": "2017-02-06T13:00:41Z",
      "title": "connection.select_all binds regression",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27923/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27923/comments",
      "html_url": "https://github.com/rails/rails/issues/27923"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The `ignored_columns` list is ignored after you do `reload` on a record:\r\n\r\nOn master:\r\n\r\n```ruby\r\nrequire 'bundler/setup'\r\nrequire 'active_record'\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table \"users\" do |t|\r\n    t.string \"name\"\r\n    t.integer \"age\"\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  self.ignored_columns = [\"age\"]\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_association_stuff\r\n    user = User.create!\r\n    refute user.respond_to?(:age) # passes\r\n    refute user.respond_to?(:age=) # passes\r\n    user.reload\r\n    refute user.respond_to?(:age) # test fails here because `age` is not available\r\n  end\r\nend\r\n```\r\n\r\nI guess this happens because on reload we do `SELECT *`.\r\nDo we consider it as a bug?\r\n\r\n@sgrif @matthewd ",
      "number": 27914,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kirs/subscriptions",
         "received_events_url": "https://api.github.com/users/kirs/received_events",
         "url": "https://api.github.com/users/kirs",
         "avatar_url": "https://avatars3.githubusercontent.com/u/522155?v=4",
         "events_url": "https://api.github.com/users/kirs/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kirs/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kirs/following{/other_user}",
         "repos_url": "https://api.github.com/users/kirs/repos",
         "site_admin": false,
         "id": 522155,
         "organizations_url": "https://api.github.com/users/kirs/orgs",
         "login": "kirs",
         "gists_url": "https://api.github.com/users/kirs/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kirs/followers",
         "html_url": "https://github.com/kirs"
      },
      "state": "closed",
      "closed_by": "30980",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/27914",
      "updated_at": "2017-11-13T20:28:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27914/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 205433741,
      "closed_at": "2017-11-13T20:28:00Z",
      "created_at": "2017-02-05T15:59:30Z",
      "title": "AR::Base#reload and ignored_columns",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27914/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27914/comments",
      "html_url": "https://github.com/rails/rails/issues/27914"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nUser.create!([])\r\n[]\r\n\r\n### Expected behavior\r\nUser.create!([])\r\nActiveRecord::RecordInvalid: Validation failed: Email can't be blank, Password can't be blank\r\n\r\n### Actual behavior\r\nUser.create!([])\r\n[]\r\n\r\n### System configuration\r\n**Rails version**:  5.0.1\r\n**Ruby version**: 2.3.1p112\r\n",
      "number": 27910,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/azbshiri/subscriptions",
         "received_events_url": "https://api.github.com/users/azbshiri/received_events",
         "url": "https://api.github.com/users/azbshiri",
         "avatar_url": "https://avatars0.githubusercontent.com/u/15009059?v=4",
         "events_url": "https://api.github.com/users/azbshiri/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/azbshiri/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/azbshiri/following{/other_user}",
         "repos_url": "https://api.github.com/users/azbshiri/repos",
         "site_admin": false,
         "id": 15009059,
         "organizations_url": "https://api.github.com/users/azbshiri/orgs",
         "login": "azbshiri",
         "gists_url": "https://api.github.com/users/azbshiri/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/azbshiri/followers",
         "html_url": "https://github.com/azbshiri"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27910",
      "updated_at": "2017-02-06T15:04:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27910/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 205408927,
      "closed_at": "2017-02-06T15:04:03Z",
      "created_at": "2017-02-05T07:50:33Z",
      "title": "Validations are not applied when an empty array is passed to #create!",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27910/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27910/comments",
      "html_url": "https://github.com/rails/rails/issues/27910"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## Summary\r\n\r\nIt looks like ActiveRecord::Relation lost some methods such as `to_sentence`, `to_formatted_s` and `to_xml`. All of the methods are in activesupport/lib/active_support/core_ext/array/conversions.rb.\r\n\r\nLet's say there is a `Blog` model which has three records on DB, and try to call `Blog.all.to_formatted_s(:db)`.\r\n\r\n## Expected behavior\r\n`Blog.all.to_formatted_s(:db)`  returns `\"1,2,3\"`\r\n\r\n## Actual behavior\r\n`Blog.all.to_formatted_s(:db)` raises a `NoMethodError`\r\n\r\n\r\nI found that those methods work fine on 4-2-stable.\r\n\r\non 4-2-stable:\r\n```\r\nBlog.all.to_formatted_s(:db) # => \"1,2,3\"\r\nBlog Load (10.7ms)  SELECT \"blogs\".* FROM \"blogs\"\r\n=> \"1,2,3\"\r\n```\r\n\r\non master(and on 5-0-stable as well):\r\n```\r\nBlog.all.to_formatted_s(:db) \r\nNoMethodError:   Blog Load (11.8ms)  SELECT \"blogs\".* FROM \"blogs\"\r\nundefined method `to_formatted_s' for #<ActiveRecord::Relation []>\r\n```\r\n",
      "number": 27901,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kenta-s/subscriptions",
         "received_events_url": "https://api.github.com/users/kenta-s/received_events",
         "url": "https://api.github.com/users/kenta-s",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6219390?v=4",
         "events_url": "https://api.github.com/users/kenta-s/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kenta-s/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kenta-s/following{/other_user}",
         "repos_url": "https://api.github.com/users/kenta-s/repos",
         "site_admin": false,
         "id": 6219390,
         "organizations_url": "https://api.github.com/users/kenta-s/orgs",
         "login": "kenta-s",
         "gists_url": "https://api.github.com/users/kenta-s/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kenta-s/followers",
         "html_url": "https://github.com/kenta-s"
      },
      "state": "closed",
      "closed_by": "27904",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27901",
      "updated_at": "2017-02-10T19:05:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27901/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 205342278,
      "closed_at": "2017-02-10T19:05:54Z",
      "created_at": "2017-02-04T11:26:38Z",
      "title": "Methods defined in array/conversions not working when called by ActiveRecord::Relation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27901/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27901/comments",
      "html_url": "https://github.com/rails/rails/issues/27901"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```ruby\r\nActiveRecord::Schema.define do\r\n  create_table :roles, force: true do |t|\r\n  end\r\n\r\n  create_table :users, force: true do |t|\r\n    t.integer :role_id\r\n    t.string :email\r\n  end\r\nend\r\n\r\nclass Role < ActiveRecord::Base\r\n  has_one :user\r\n  accepts_nested_attributes_for :user\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  belongs_to :role\r\n  validates :email, presence: true\r\nend\r\n\r\nclass TestController < ActionController::Base\r\n  def new\r\n    @role = Role.new\r\n    @role.build_user\r\n  end\r\nend\r\n```\r\n\r\n`new.erb`\r\n```erb\r\n<%= form_for @role, url: '' do |f| %>\r\n  <%= f.fields_for @role.user do |uf| %>\r\n    <%= uf.email_field :email %>\r\n  <% end %>\r\n<% end %>\r\n```\r\n\r\n### Expected behavior\r\nemail field tag should have name `role[user_attributes][email]`\r\n\r\n### Actual behavior\r\nemail field tag name is `role[user][email]`\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.4.0p0\r\n\r\n**NOTE**:\r\nIf I use `f.fields_for :user, @role.user`, then tag name renders properly. But in case record name is omitted, Rails infers appropriate record name from given record object, according to Rails guide, doesn't it?\r\n",
      "number": 27892,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/artificis/subscriptions",
         "received_events_url": "https://api.github.com/users/artificis/received_events",
         "url": "https://api.github.com/users/artificis",
         "avatar_url": "https://avatars1.githubusercontent.com/u/14348482?v=4",
         "events_url": "https://api.github.com/users/artificis/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/artificis/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/artificis/following{/other_user}",
         "repos_url": "https://api.github.com/users/artificis/repos",
         "site_admin": false,
         "id": 14348482,
         "organizations_url": "https://api.github.com/users/artificis/orgs",
         "login": "artificis",
         "gists_url": "https://api.github.com/users/artificis/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/artificis/followers",
         "html_url": "https://github.com/artificis"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27892",
      "updated_at": "2017-02-07T02:38:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27892/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 205085212,
      "closed_at": "2017-02-06T22:41:03Z",
      "created_at": "2017-02-03T06:53:18Z",
      "title": "fields_for with/without record name",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27892/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27892/comments",
      "html_url": "https://github.com/rails/rails/issues/27892"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The docs say that a `NoMethodError` will be raised, but I think the error is actually `Module::DelegationError`.\r\n\r\n```\r\nclass C\r\n  delegate :a, to: :b\r\n  def b\r\n    nil\r\n  end\r\nend\r\nC.new.a\r\n# Module::DelegationError: C#a delegated to b.a, but b is nil: #<C:0x007feddf07f768>\r\n```\r\n\r\nBut, I wasn't confident enough to make a PR :)\r\n\r\nThe docs mention `NoMethodError` in a few different places. Here are some examples:\r\n\r\nExample 1:\r\n\r\n> :allow_nil - if set to true, prevents a NoMethodError from being raised\r\n\r\nExample 2:\r\n\r\n> Foo.new.goodbye # => NoMethodError: undefined method `goodbye' for #<Foo:0x1af30c>\r\n",
      "number": 27873,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jaredbeck/subscriptions",
         "received_events_url": "https://api.github.com/users/jaredbeck/received_events",
         "url": "https://api.github.com/users/jaredbeck",
         "avatar_url": "https://avatars2.githubusercontent.com/u/380809?v=4",
         "events_url": "https://api.github.com/users/jaredbeck/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jaredbeck/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jaredbeck/following{/other_user}",
         "repos_url": "https://api.github.com/users/jaredbeck/repos",
         "site_admin": false,
         "id": 380809,
         "organizations_url": "https://api.github.com/users/jaredbeck/orgs",
         "login": "jaredbeck",
         "gists_url": "https://api.github.com/users/jaredbeck/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jaredbeck/followers",
         "html_url": "https://github.com/jaredbeck"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27873",
      "updated_at": "2017-02-04T03:33:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27873/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 204641620,
      "closed_at": "2017-02-03T22:30:30Z",
      "created_at": "2017-02-01T16:58:36Z",
      "title": "Docs: Potentially incorrect docs for `Module#delegate` re: NoMethodError",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27873/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27873/comments",
      "html_url": "https://github.com/rails/rails/issues/27873"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I will make a PR for this in a few minutes\r\n\r\n### Steps to reproduce\r\n\r\nhttps://gist.github.com/composerinteralia/a551dc391258dd2bfeeb983956a37a49\r\n\r\n### Expected behavior\r\n\r\n`collection_singular_ids=` should be able to handle an array of strings regardless of whether the primary key was set as a symbol or as a string\r\n\r\n### Actual behavior\r\n\r\n- `AssociationReflection#association_primary_key_type` and `ThroughReflection#association_primary_key_type` return the incorrect type, since `ModelSchema.type_for_attribute` only accepts a string\r\n- `CollectionAssociation#ids_writer` fails to cast the ids to integers\r\n- results in `ActiveRecord::RecordNotFound`\r\n\r\nhttps://github.com/rails/rails/pull/26718 introduced this while fixing another problem.\r\n\r\n### System configuration\r\n**Rails version**: 5.0\r\n\r\n**Ruby version**: 2.3.1\r\n",
      "number": 27864,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/composerinteralia/subscriptions",
         "received_events_url": "https://api.github.com/users/composerinteralia/received_events",
         "url": "https://api.github.com/users/composerinteralia",
         "avatar_url": "https://avatars3.githubusercontent.com/u/13696143?v=4",
         "events_url": "https://api.github.com/users/composerinteralia/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/composerinteralia/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/composerinteralia/following{/other_user}",
         "repos_url": "https://api.github.com/users/composerinteralia/repos",
         "site_admin": false,
         "id": 13696143,
         "organizations_url": "https://api.github.com/users/composerinteralia/orgs",
         "login": "composerinteralia",
         "gists_url": "https://api.github.com/users/composerinteralia/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/composerinteralia/followers",
         "html_url": "https://github.com/composerinteralia"
      },
      "state": "closed",
      "closed_by": "27865",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27864",
      "updated_at": "2017-02-03T15:16:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27864/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 204438010,
      "closed_at": "2017-02-03T15:16:54Z",
      "created_at": "2017-01-31T22:07:00Z",
      "title": "collection_singular_ids= broken with symbol primary keys",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27864/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27864/comments",
      "html_url": "https://github.com/rails/rails/issues/27864"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n    class FooJob < ActiveJob::Base\r\n      def perform\r\n        puts \"FooJob executed\"\r\n      end\r\n    end\r\n\r\n    class BarJob < ActiveJob::Base\r\n      def perform\r\n        puts \"BarJob executed\"\r\n      end\r\n    end\r\n\r\n    ActiveJob::Base.queue_adapter = :test\r\n    include ActiveJob::TestHelper\r\n\r\n    perform_enqueued_jobs only: FooJob do\r\n      FooJob.perform_later\r\n      BarJob.perform_later\r\n    end\r\n\r\n    puts \"Number of enqueued jobs: #{enqueued_jobs.count}\"\r\n    puts \"Enqueued job: #{enqueued_jobs.first.try(:[], :job).inspect}\"\r\n\r\n### Expected behavior\r\nPersonally, I'd expected the `FooJob` to be executed and the `BarJob` to be not executed but queued instead. I'd expect something like this:\r\n\r\n    FooJob executed\r\n    Number of enqueued jobs: 1\r\n    Enqueued job: BarJob\r\n\r\n### Actual behavior\r\nInstead, when a filter is present, every job is skipped completely if it is not included in the filter:\r\n\r\n    FooJob executed\r\n    Number of enqueued jobs: 0\r\n    Enqueued job: nil\r\n\r\n### System configuration\r\n**Rails version**:\r\nrails-5.0.0.1\r\n\r\n**Ruby version**:\r\n=> ruby-2.2.3 [ x86_64 ]\r\n\r\n### Discussion\r\n\r\nAssuming that this is not the intended behavior, I could think of two possible solutions that would not break existing implementations:\r\n\r\na) The `perform_enqueued_jobs` method could take an additional options like this:\r\n\r\n    perform_enqueued_jobs only: FooJob, queue_filtered: true do\r\n      # FooJob will be executed, all other Jobs will be added to `enqueued_jobs`\r\n    end\r\n\r\nb) Store filtered jobs instead of ignoring them so that we can verify that they have been enqueued:\r\n\r\n    perform_enqueued_jobs only: FooJob do\r\n      # FooJob will be executed, all other Jobs will be added to a seperate array, e.g. `skipped_jobs`\r\n    end\r\n\r\n\r\n",
      "number": 27848,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/apauly/subscriptions",
         "received_events_url": "https://api.github.com/users/apauly/received_events",
         "url": "https://api.github.com/users/apauly",
         "avatar_url": "https://avatars2.githubusercontent.com/u/442248?v=4",
         "events_url": "https://api.github.com/users/apauly/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/apauly/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/apauly/following{/other_user}",
         "repos_url": "https://api.github.com/users/apauly/repos",
         "site_admin": false,
         "id": 442248,
         "organizations_url": "https://api.github.com/users/apauly/orgs",
         "login": "apauly",
         "gists_url": "https://api.github.com/users/apauly/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/apauly/followers",
         "html_url": "https://github.com/apauly"
      },
      "state": "closed",
      "closed_by": "28427",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27848",
      "updated_at": "2017-03-15T16:21:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27848/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 204069272,
      "closed_at": "2017-01-31T20:45:40Z",
      "created_at": "2017-01-30T17:04:14Z",
      "title": "ActiceJob::TestHelper behaves unintended when using a filter",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27848/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27848/comments",
      "html_url": "https://github.com/rails/rails/issues/27848"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```\r\n$ rails generate model blog::post title:string post:text\r\n$ rails s\r\n```\r\n\r\nCreate a controller to load `Blog::Post.all`\r\n\r\n### Expected behavior\r\n`Blog::Post.table_name` should be `blog_posts`\r\n\r\n### Actual behavior\r\n`Blog::Post.table_name` appears to be `posts` from time to time, but not consistently. It's almost as if the `Blog` module that was generated is loaded before `blog/post.rb` or not at all.\r\n\r\nInterestingly, calling `Blog::Post.table_name` always yields the correct result in `rails console`\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: ruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-darwin16]\r\n",
      "number": 27841,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/simmerz/subscriptions",
         "received_events_url": "https://api.github.com/users/simmerz/received_events",
         "url": "https://api.github.com/users/simmerz",
         "avatar_url": "https://avatars0.githubusercontent.com/u/24327?v=4",
         "events_url": "https://api.github.com/users/simmerz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/simmerz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/simmerz/following{/other_user}",
         "repos_url": "https://api.github.com/users/simmerz/repos",
         "site_admin": false,
         "id": 24327,
         "organizations_url": "https://api.github.com/users/simmerz/orgs",
         "login": "simmerz",
         "gists_url": "https://api.github.com/users/simmerz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/simmerz/followers",
         "html_url": "https://github.com/simmerz"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27841",
      "updated_at": "2017-02-05T02:20:52Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27841/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 9,
      "id": 203901849,
      "closed_at": "2017-01-31T12:15:12Z",
      "created_at": "2017-01-29T22:33:08Z",
      "title": "Intermittent failure to recognise table_name_prefix in namespaced model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27841/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27841/comments",
      "html_url": "https://github.com/rails/rails/issues/27841"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "There is an issue where YAML keys `true` and `false` cannot be located by I18n. I don't see any documentation capturing this.\r\n\r\nThe following conditions create the issue:\r\n\r\n1. [YAML (see language independent scalars section)](http://www.yaml.org/refcard.html) treats `true` as `TrueClass`, not `\"true\"`, and instantiates the objects accordingly. (It also treats `yes`, `no` as true/false as well)\r\n2. `I18n::Backend::Simple#store_translations` calls `Hash#deep_symbolize_keys`.\r\n3. `Hash#deep_symbolize_keys`  keeps the key unless the key respond to `to_sym`. \r\n4. `true` and `false` do not respond to `to_sym`.\r\n5. `I18n::Backend::Simple#lookup` does not have logic redirecting true/yes keys to `true`.\r\n\r\nAs a result, the key is for that tree is `true` instead of the expected `'true'`, and I18n is not able to find the translation.\r\n\r\nI'm thinking there's a number of possible solutions:\r\n\r\n### Update I18n Backends\r\n\r\n1. Update `I18n::Backend::Simple#lookup` and `KeyValue#lookup` logic to  match the YAML keys for true and false to their corresponding boolean value, and proceed with that key.\r\n\r\nThis has the benefit of being more or less transparent to the user and does not extend a core class in ways that may break existing code. Docs should be updated to capture that the boolean keys are all equivalent to each other for the purpose of I18n.\r\n\r\n### Extend Hash\r\n\r\n2. Create `TrueClass#to_sym` and `FalseClass#to_sym` so that they return `:true` and `:false`. respectively.\r\n\r\nEven easier to implement, but may break existing code because we're making a core class symbolizable(sp?) where it was not before. Docs should be updated to capture that the boolean keys are all equivalent to each other for the purpose of I18n.\r\n\r\n### Documentation Only\r\n\r\n3. Update the guide and API documentation with a warning that these keys are reserved.\r\n\r\nDoesn't really solve the problem, but at least it's documented.\r\n\r\nThoughts?\r\n\r\n## Issue Template\r\n\r\n### Steps to reproduce\r\n\r\n1. Create translation entry in {lang}.yml as follows:\r\n\r\n```\r\nkey_name:\r\n  true: 'True Result'\r\n  false: 'False Result'\r\n\r\n```\r\n2. Call `I18n.t 'key_name.true'`.\r\n\r\n(Guidelines for creating a bug report are [available\r\nhere](http://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report))\r\n\r\n### Expected behavior\r\nShould return `True Result`.\r\n\r\n### Actual behavior\r\nReturns `translation missing: en.key_name.true`.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3",
      "number": 27829,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/richseviora/subscriptions",
         "received_events_url": "https://api.github.com/users/richseviora/received_events",
         "url": "https://api.github.com/users/richseviora",
         "avatar_url": "https://avatars3.githubusercontent.com/u/8601555?v=4",
         "events_url": "https://api.github.com/users/richseviora/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/richseviora/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/richseviora/following{/other_user}",
         "repos_url": "https://api.github.com/users/richseviora/repos",
         "site_admin": false,
         "id": 8601555,
         "organizations_url": "https://api.github.com/users/richseviora/orgs",
         "login": "richseviora",
         "gists_url": "https://api.github.com/users/richseviora/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/richseviora/followers",
         "html_url": "https://github.com/richseviora"
      },
      "state": "closed",
      "closed_by": "27842",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27829",
      "updated_at": "2017-01-30T01:16:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27829/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 202293,
            "url": "https://api.github.com/repos/rails/rails/labels/i18n",
            "color": "e102d8",
            "default": false,
            "name": "i18n"
         }
      ],
      "comments": 4,
      "id": 203773830,
      "closed_at": "2017-01-28T12:16:32Z",
      "created_at": "2017-01-28T00:36:50Z",
      "title": "I18n - 'true', 'false' are not accepted as valid key names.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27829/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27829/comments",
      "html_url": "https://github.com/rails/rails/issues/27829"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n```\r\n$ cd activerecord\r\n$ bundle\r\n$ ARCONN=sqlite3_mem bundle exec ruby -w -Itest test/cases/query_cache_test.rb -n test_cache_is_not_available_when_using_a_not_connected_connection\r\n```\r\n### Expected behavior\r\nIt should finish without errors.\r\n\r\n### Actual behavior\r\n```ruby\r\n$ ARCONN=sqlite3_mem bundle exec ruby -w -Itest test/cases/query_cache_test.rb -n test_cache_is_not_available_when_using_a_not_connected_connection\r\n/home/yahonda/git/rails/activesupport/lib/active_support/core_ext/enumerable.rb:20: warning: method redefined; discarding old sum\r\nUsing sqlite3_mem\r\nRun options: -n test_cache_is_not_available_when_using_a_not_connected_connection --seed 34410\r\n\r\n# Running:\r\n\r\nE\r\n\r\nFinished in 0.083480s, 11.9788 runs/s, 11.9788 assertions/s.\r\n\r\n  1) Error:\r\nQueryCacheTest#test_cache_is_not_available_when_using_a_not_connected_connection:\r\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: tasks: SELECT  \"tasks\".* FROM \"tasks\" WHERE \"tasks\".\"id\" = ? LIMIT ?\r\n    /home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize'\r\n    /home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new'\r\n    /home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:235:in `block (2 levels) in exec_query'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:220:in `block in exec_query'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:600:in `block in log'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:593:in `log'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:219:in `exec_query'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:365:in `select_prepared'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:40:in `select_all'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:95:in `select_all'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/querying.rb:39:in `find_by_sql'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/statement_cache.rb:107:in `execute'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/core.rb:187:in `find'\r\n    test/cases/query_cache_test.rb:297:in `block (2 levels) in test_cache_is_not_available_when_using_a_not_connected_connection'\r\n    /home/yahonda/git/rails/activerecord/test/cases/test_case.rb:50:in `assert_queries'\r\n    test/cases/query_cache_test.rb:297:in `block in test_cache_is_not_available_when_using_a_not_connected_connection'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/query_cache.rb:11:in `cache'\r\n    test/cases/query_cache_test.rb:295:in `test_cache_is_not_available_when_using_a_not_connected_connection'\r\n\r\n1 runs, 1 assertions, 0 failures, 1 errors, 0 skips\r\n$\r\n```\r\n### System configuration\r\n**Rails version**: master branch\r\n\r\n**Ruby version**: ruby 2.4.0p0 (2016-12-24 revision 57164) [x86_64-linux] and ruby 2.5.0dev (2017-01-28 trunk 57443) [x86_64-linux]\r\n\r\n### Additional errors \r\nDepending on when `QueryCacheTest#test_cache_is_not_available_when_using_a_not_connected_connection` executed, if it executed first it causes additional 8 errors: By changing the file order to move `test/cases/query_cache_test.rb` to the end of this test, these addional 8 errors are gone.\r\n\r\n```ruby\r\n$ ARCONN=sqlite3_mem bundle exec ruby -w -I\"lib:test\" -I\"/home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rake-12.0.0/lib\" \"/home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/rake-12.0.0/lib/rake/rake_test_loader.rb\" \\\r\n   \"test/cases/query_cache_test.rb\" \\\r\n   \"test/cases/associations/has_many_associations_test.rb\" \\\r\n   \"test/cases/associations/has_and_belongs_to_many_associations_test.rb\" \\\r\n   \"test/cases/fixtures_test.rb\"\r\n```\r\n\r\n```ruby\r\n/home/yahonda/git/rails/activesupport/lib/active_support/core_ext/enumerable.rb:20: warning: method redefined; discarding old sum\r\nUsing sqlite3_mem\r\nRun options: --seed 28474\r\n\r\n# Running:\r\n\r\n....E.............................................................................................................................................................................................................................................E.................................................................................E........................................................................E..................................EEEE............................................E\r\n\r\nFinished in 13.742775s, 35.0002 runs/s, 135.0528 assertions/s.\r\n\r\n  1) Error:\r\nQueryCacheTest#test_cache_is_not_available_when_using_a_not_connected_connection:\r\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: tasks: SELECT  \"tasks\".* FROM \"tasks\" WHERE \"tasks\".\"id\" = ? LIMIT ?\r\n    /home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `initialize'\r\n    /home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `new'\r\n    /home/yahonda/.rbenv/versions/2.4.0/lib/ruby/gems/2.4.0/gems/sqlite3-1.3.13/lib/sqlite3/database.rb:91:in `prepare'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:223:in `block (2 levels) in exec_query'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/dependencies/interlock.rb:46:in `block in permit_concurrent_loads'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/concurrency/share_lock.rb:185:in `yield_shares'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/dependencies/interlock.rb:45:in `permit_concurrent_loads'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:220:in `block in exec_query'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:600:in `block in log'\r\n    /home/yahonda/git/rails/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:593:in `log'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:219:in `exec_query'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:361:in `select'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:42:in `select_all'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:95:in `select_all'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/querying.rb:39:in `find_by_sql'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/statement_cache.rb:107:in `execute'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/core.rb:187:in `find'\r\n    /home/yahonda/git/rails/activerecord/test/cases/query_cache_test.rb:297:in `block (2 levels) in test_cache_is_not_available_when_using_a_not_connected_connection'\r\n    /home/yahonda/git/rails/activerecord/test/cases/test_case.rb:50:in `assert_queries'\r\n    /home/yahonda/git/rails/activerecord/test/cases/query_cache_test.rb:297:in `block in test_cache_is_not_available_when_using_a_not_connected_connection'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/query_cache.rb:11:in `cache'\r\n    /home/yahonda/git/rails/activerecord/test/cases/query_cache_test.rb:295:in `test_cache_is_not_available_when_using_a_not_connected_connection'\r\n\r\n\r\n  2) Error:\r\nHasManyAssociationsTest#test_has_many_build_with_options:\r\nActiveRecord::StatementInvalid: Could not find table 'colleges'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/schema_cache.rb:67:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/schema_cache.rb:73:in `columns_hash'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/model_schema.rb:450:in `load_schema!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/attributes.rb:233:in `load_schema!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/attribute_decorators.rb:50:in `load_schema!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/model_schema.rb:445:in `load_schema'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/model_schema.rb:349:in `attribute_types'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/attribute_methods.rb:179:in `has_attribute?'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/inheritance.rb:55:in `new'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/persistence.rb:33:in `create'\r\n    /home/yahonda/git/rails/activerecord/test/cases/associations/has_many_associations_test.rb:162:in `test_has_many_build_with_options'\r\n\r\n\r\n  3) Error:\r\nHasAndBelongsToManyAssociationsTest#test_alternate_database:\r\nActiveRecord::StatementInvalid: Could not find table 'professors'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/schema_cache.rb:67:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/schema_cache.rb:73:in `columns_hash'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/model_schema.rb:450:in `load_schema!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/attributes.rb:233:in `load_schema!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/attribute_decorators.rb:50:in `load_schema!'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/model_schema.rb:445:in `load_schema'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/model_schema.rb:349:in `attribute_types'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/attribute_methods.rb:179:in `has_attribute?'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/inheritance.rb:55:in `new'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/persistence.rb:33:in `create'\r\n    /home/yahonda/git/rails/activerecord/test/cases/associations/has_and_belongs_to_many_associations_test.rb:961:in `test_alternate_database'\r\n\r\n\r\n  4) Error:\r\nFixturesTest#test_create_symbol_fixtures:\r\nActiveRecord::StatementInvalid: Could not find table 'courses'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:770:in `column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:762:in `timestamp_column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:640:in `block in table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `map'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:186:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:538:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:201:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:523:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/test/cases/fixtures_test.rb:86:in `test_create_symbol_fixtures'\r\n\r\n\r\n  5) Error:\r\nCustomConnectionFixturesTest#test_it_twice_in_whatever_order_to_check_for_fixture_leakage:\r\nActiveRecord::StatementInvalid: Could not find table 'courses'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:770:in `column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:762:in `timestamp_column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:640:in `block in table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `map'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:186:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:538:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:201:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:523:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:1025:in `load_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:997:in `setup_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:851:in `before_setup'\r\n\r\n\r\n  6) Error:\r\nCustomConnectionFixturesTest#test_leaky_destroy:\r\nActiveRecord::StatementInvalid: Could not find table 'courses'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:770:in `column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:762:in `timestamp_column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:640:in `block in table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `map'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:186:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:538:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:201:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:523:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:1025:in `load_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:997:in `setup_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:851:in `before_setup'\r\n\r\n\r\n  7) Error:\r\nTransactionalFixturesOnCustomConnectionTest#test_it_twice_in_whatever_order_to_check_for_fixture_leakage:\r\nActiveRecord::StatementInvalid: Could not find table 'courses'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:770:in `column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:762:in `timestamp_column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:640:in `block in table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `map'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:186:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:538:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:201:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:523:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:1025:in `load_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:965:in `setup_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:851:in `before_setup'\r\n\r\n\r\n  8) Error:\r\nTransactionalFixturesOnCustomConnectionTest#test_leaky_destroy:\r\nActiveRecord::StatementInvalid: Could not find table 'courses'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:770:in `column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:762:in `timestamp_column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:640:in `block in table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `map'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:186:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:538:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:201:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:523:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:1025:in `load_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:965:in `setup_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:851:in `before_setup'\r\n\r\n\r\n  9) Error:\r\nSameNameDifferentDatabaseFixturesTest#test_fixtures_are_properly_loaded:\r\nActiveRecord::StatementInvalid: Could not find table 'dogs'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:463:in `table_structure'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:167:in `columns'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:770:in `column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:762:in `timestamp_column_names'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:640:in `block in table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `map'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:634:in `table_rows'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:542:in `block (3 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `each'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:540:in `block (2 levels) in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `block in transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:186:in `within_new_transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:225:in `transaction'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:538:in `block in create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb:201:in `disable_referential_integrity'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:523:in `create_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:1025:in `load_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:965:in `setup_fixtures'\r\n    /home/yahonda/git/rails/activerecord/lib/active_record/fixtures.rb:851:in `before_setup'\r\n\r\n481 runs, 1856 assertions, 0 failures, 9 errors, 0 skips\r\n$\r\n```\r\ncc @koic who originally blogged this failure.\r\n",
      "number": 27826,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "27859",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27826",
      "updated_at": "2017-01-31T22:00:14Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27826/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 203708386,
      "closed_at": "2017-01-31T21:01:37Z",
      "created_at": "2017-01-27T18:39:55Z",
      "title": "test_cache_is_not_available_when_using_a_not_connected_connection gets error with sqlite3_mem",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27826/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27826/comments",
      "html_url": "https://github.com/rails/rails/issues/27826"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nOn Rails 5.0.0 or higher, execute `rake test:units test:functionals TESTOPTS=-v` and see only the functional tests will be run.\r\n\r\n* Reproducer (Rails master @ c6f7c18e): https://github.com/domcleal/bug_rails_rake_chain\r\n* Working example (4.2.7.1): https://github.com/domcleal/bug_rails_rake_chain/tree/4.2\r\n\r\n### Expected behavior\r\n\r\nBoth groups should be run, both unit tests (models, helpers) and functional tests (controllers, mailers).\r\n\r\nOutput: https://github.com/domcleal/bug_rails_rake_chain/tree/4.2#readme\r\n\r\n### Actual behavior\r\n\r\nOnly the _last_ argument is run, i.e. functional tests (controllers, mailers).\r\n\r\nOutput: https://github.com/domcleal/bug_rails_rake_chain/tree/master#readme\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1, master @ c6f7c18e (works on 4.2.7.1)\r\n\r\n**Ruby version**: 2.3.0\r\n",
      "number": 27801,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/domcleal/subscriptions",
         "received_events_url": "https://api.github.com/users/domcleal/received_events",
         "url": "https://api.github.com/users/domcleal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/482089?v=4",
         "events_url": "https://api.github.com/users/domcleal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/domcleal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/domcleal/following{/other_user}",
         "repos_url": "https://api.github.com/users/domcleal/repos",
         "site_admin": false,
         "id": 482089,
         "organizations_url": "https://api.github.com/users/domcleal/orgs",
         "login": "domcleal",
         "gists_url": "https://api.github.com/users/domcleal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/domcleal/followers",
         "html_url": "https://github.com/domcleal"
      },
      "state": "closed",
      "closed_by": "27802",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27801",
      "updated_at": "2017-02-05T16:02:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27801/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 0,
      "id": 203137244,
      "closed_at": "2017-02-05T16:02:59Z",
      "created_at": "2017-01-25T15:39:40Z",
      "title": "Calling `rake test:units test:functionals` etc. only runs one group of tests",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27801/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27801/comments",
      "html_url": "https://github.com/rails/rails/issues/27801"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n- In a controller, create a heterogeneous array of objects responding to `to_partial_path`, such as a set of ActiveRecord models in an STI hierarchy, and assign it to `@collection`\r\n- Render the collection using `render @collection` or `render partial: @collection`\r\n- Attempt to use `<template_name>_iteration` in the rendered partial, and find that it isn't defined\r\n\r\nSee https://github.com/meagar/partial-iteration-test for a simple POC, specifically [the commit that introduces the bug](https://github.com/meagar/partial-iteration-test/commit/23933afccfac2e1ea82edc6de5ee57614165221b) and [screenshots of the broken/expected behavior](https://github.com/meagar/partial-iteration-test/blob/master/README.md).\r\n\r\n### Expected behavior\r\nA variable named `<partial_name>_iteration` should be set to an instance of [`ActionView::PartialIteration`](http://api.rubyonrails.org/classes/ActionView/PartialIteration.html)\r\n\r\n### Actual behavior\r\nThe variable is unset\r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\nRails 5.0.1\r\n\r\n**Ruby version**:\r\n\r\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\r\n",
      "number": 27794,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/meagar/subscriptions",
         "received_events_url": "https://api.github.com/users/meagar/received_events",
         "url": "https://api.github.com/users/meagar",
         "avatar_url": "https://avatars0.githubusercontent.com/u/242474?v=4",
         "events_url": "https://api.github.com/users/meagar/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/meagar/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/meagar/following{/other_user}",
         "repos_url": "https://api.github.com/users/meagar/repos",
         "site_admin": false,
         "id": 242474,
         "organizations_url": "https://api.github.com/users/meagar/orgs",
         "login": "meagar",
         "gists_url": "https://api.github.com/users/meagar/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/meagar/followers",
         "html_url": "https://github.com/meagar"
      },
      "state": "closed",
      "closed_by": "27795",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27794",
      "updated_at": "2017-01-31T23:18:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27794/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 202949877,
      "closed_at": "2017-01-31T23:18:32Z",
      "created_at": "2017-01-24T21:48:41Z",
      "title": "The `<partial_name>_iteration` local is missing when rendering heterogeneous collections",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27794/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27794/comments",
      "html_url": "https://github.com/rails/rails/issues/27794"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nIn a ActionController::TestCase, calling `get` first with a `format` and then without causes the second test request to use the first's format instead of resetting to HTML, e.g.\r\n\r\n    get :type, format: 'json'\r\n    get :type\r\n\r\nThe second request is made with a JSON format, not HTML.\r\n\r\n**Reproducer:** https://gist.github.com/domcleal/a3cd06d542ab8e23b98eb2f67b81e10d\r\n\r\n### Expected behavior\r\n\r\nRequest 1 should have PATH_INFO of `/test/type.json` and format `application/json`, request 2 should have PATH_INFO of `/test/type` and format `text/html`.\r\n\r\n    I, [2017-01-23T11:55:29.570428 #6711]  INFO -- : --------------------------------------------------\r\n    I, [2017-01-23T11:55:29.570474 #6711]  INFO -- : BugTest: test_missing_format_defaults_back_to_html\r\n    I, [2017-01-23T11:55:29.570488 #6711]  INFO -- : --------------------------------------------------\r\n    I, [2017-01-23T11:55:29.658395 #6711]  INFO -- : PATH_INFO=\"/test/type.json\", format=application/json\r\n    I, [2017-01-23T11:55:29.658978 #6711]  INFO -- : PATH_INFO=\"/test/type\", format=text/html\r\n\r\n### Actual behavior\r\n\r\n    I, [2017-01-23T11:54:59.901240 #6557]  INFO -- : --------------------------------------------------\r\n    I, [2017-01-23T11:54:59.901286 #6557]  INFO -- : BugTest: test_missing_format_defaults_back_to_html\r\n    I, [2017-01-23T11:54:59.901299 #6557]  INFO -- : --------------------------------------------------\r\n    I, [2017-01-23T11:54:59.975079 #6557]  INFO -- : PATH_INFO=\"/test/type.json\", format=application/json\r\n    I, [2017-01-23T11:54:59.978533 #6557]  INFO -- : PATH_INFO=\"/test/type.json\", format=application/json\r\n    F\r\n\r\n    Finished in 0.078783s, 12.6931 runs/s, 25.3862 assertions/s.\r\n\r\n      1) Failure:\r\n    BugTest#test_missing_format_defaults_back_to_html [/home/dcleal/code/rails/rails/actionpack/format_reset.rb:61]:\r\n    Expected: \"text/html\"\r\n      Actual: \"application/json\"\r\n\r\nBoth the PATH_INFO and format are incorrect (format is derived from PATH_INFO since 84e8acc I think).\r\n\r\n### System configuration\r\n**Rails version**: both 5.0.1 and master at 2d61745 (works correctly on 4.2.7.1, regression)\r\n\r\n**Ruby version**: 2.3.0\r\n",
      "number": 27774,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/domcleal/subscriptions",
         "received_events_url": "https://api.github.com/users/domcleal/received_events",
         "url": "https://api.github.com/users/domcleal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/482089?v=4",
         "events_url": "https://api.github.com/users/domcleal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/domcleal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/domcleal/following{/other_user}",
         "repos_url": "https://api.github.com/users/domcleal/repos",
         "site_admin": false,
         "id": 482089,
         "organizations_url": "https://api.github.com/users/domcleal/orgs",
         "login": "domcleal",
         "gists_url": "https://api.github.com/users/domcleal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/domcleal/followers",
         "html_url": "https://github.com/domcleal"
      },
      "state": "closed",
      "closed_by": "27775",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27774",
      "updated_at": "2017-01-23T21:33:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27774/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 202515358,
      "closed_at": "2017-01-23T21:33:43Z",
      "created_at": "2017-01-23T11:59:05Z",
      "title": "`get` in AC::TestCase resets to the first format used from PATH_INFO, not HTML",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27774/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27774/comments",
      "html_url": "https://github.com/rails/rails/issues/27774"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Seems related to #15357\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\n# db/schema.rb\r\n\r\nActiveRecord::Schema.define(version: 20170118083959) do\r\n\r\n  # These are extensions that must be enabled in order to support this database\r\n  enable_extension \"plpgsql\"\r\n\r\n  create_table \"posts\", force: :cascade do |t|\r\n    t.datetime \"created_at\", null: false\r\n    t.datetime \"updated_at\", null: false\r\n  end\r\n\r\n  create_table \"taggings\", force: :cascade do |t|\r\n    t.integer  \"tag_id\"\r\n    t.string   \"taggable_type\"\r\n    t.integer  \"taggable_id\"\r\n    t.datetime \"created_at\",    null: false\r\n    t.datetime \"updated_at\",    null: false\r\n    t.index [\"tag_id\"], name: \"index_taggings_on_tag_id\", using: :btree\r\n    t.index [\"taggable_type\", \"taggable_id\"], name: \"index_taggings_on_taggable_type_and_taggable_id\", using: :btree\r\n  end\r\n\r\n  create_table \"tags\", force: :cascade do |t|\r\n    t.string   \"name\"\r\n    t.datetime \"created_at\", null: false\r\n    t.datetime \"updated_at\", null: false\r\n  end\r\n\r\n  add_foreign_key \"taggings\", \"tags\"\r\nend\r\n```\r\n\r\n```ruby\r\n# app/models/post.rb\r\n\r\nclass Post < ApplicationRecord\r\n\r\n  has_many :taggings, -> { rewhere(taggable_type: 'OtherModel') },                     as: :taggable, dependent: :destroy\r\n  has_many :tags,                                                  through: :taggings\r\n\r\nend\r\n```\r\n\r\n```ruby\r\n# app/models/tag.rb\r\n\r\nclass Tag < ApplicationRecord\r\n\r\n  has_many :taggings, inverse_of: :tag, dependent: :destroy\r\n\r\nend\r\n```\r\n\r\n```ruby\r\n# app/models/tagging.rb\r\n\r\nclass Tagging < ApplicationRecord\r\n\r\n  belongs_to :tag,                         inverse_of: :taggings\r\n  belongs_to :taggable, polymorphic: true\r\n\r\nend\r\n```\r\n\r\n### Expected behavior\r\n```ruby\r\nPost.preload(:tags).first\r\n```\r\n\r\nGenerated SQL\r\n```sql\r\nSELECT \"taggings\".* FROM \"taggings\" WHERE \"taggings\".\"taggable_type\" = $1 AND \"taggings\".\"taggable_id\" = 1  [[\"taggable_type\", \"OtherModel\"]]\r\n```\r\n\r\n### Actual behavior\r\n```ruby\r\nPost.preload(:tags).first\r\n```\r\n\r\nGenerated SQL\r\n```sql\r\nSELECT \"taggings\".* FROM \"taggings\" WHERE \"taggings\".\"taggable_type\" = $1 AND \"taggings\".\"taggable_type\" = $2 AND \"taggings\".\"taggable_id\" = 1  [[\"taggable_type\", \"OtherModel\"], [\"taggable_type\", \"Post\"]]\r\n```\r\n\r\nThe condition stated in `rewhere` is appended instead of overwritten.\r\n\r\nNote that it does work when used without `preload`ing.\r\n\r\n```ruby\r\nPost.first.tags\r\n```\r\n\r\n```sql\r\nSELECT \"tags\".* FROM \"tags\" INNER JOIN \"taggings\" ON \"tags\".\"id\" = \"taggings\".\"tag_id\" WHERE \"taggings\".\"taggable_id\" = $1 AND \"taggings\".\"taggable_type\" = $2  [[\"taggable_id\", 1], [\"taggable_type\", \"OtherModel\"]]\r\n```\r\n\r\n```ruby\r\nPost.first.taggings\r\n```\r\n\r\n```sql\r\nSELECT \"taggings\".* FROM \"taggings\" WHERE \"taggings\".\"taggable_id\" = $1 AND \"taggings\".\"taggable_type\" = $2  [[\"taggable_id\", 1], [\"taggable_type\", \"OtherModel\"]]\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3\r\n",
      "number": 27724,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/backspac/subscriptions",
         "received_events_url": "https://api.github.com/users/backspac/received_events",
         "url": "https://api.github.com/users/backspac",
         "avatar_url": "https://avatars2.githubusercontent.com/u/8981640?v=4",
         "events_url": "https://api.github.com/users/backspac/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/backspac/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/backspac/following{/other_user}",
         "repos_url": "https://api.github.com/users/backspac/repos",
         "site_admin": false,
         "id": 8981640,
         "organizations_url": "https://api.github.com/users/backspac/orgs",
         "login": "backspac",
         "gists_url": "https://api.github.com/users/backspac/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/backspac/followers",
         "html_url": "https://github.com/backspac"
      },
      "state": "closed",
      "closed_by": "29679",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27724",
      "updated_at": "2017-07-15T19:09:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27724/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 201520667,
      "closed_at": "2017-07-15T19:09:59Z",
      "created_at": "2017-01-18T09:34:10Z",
      "title": "rewhere does not overwrite the existing condition on preloaded relations",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27724/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27724/comments",
      "html_url": "https://github.com/rails/rails/issues/27724"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "given this route:\r\n\r\n```ruby\r\nget \"/user/sign-in\", to: redirect(\"/sign-in\")\r\n```\r\n\r\n`/user/sign-in?foo=bar` will redirect to `/sign-in`\r\n\r\ngiven this route:\r\n\r\n```ruby\r\nget \"/user/sign-in\", to: redirect(path: \"/sign-in\")\r\n```\r\n\r\n`/user/sign-in?foo=bar` will redirect to `/sign-in?foo=bar`\r\n\r\n[This test](https://github.com/rails/rails/blob/master/actionpack/test/dispatch/routing_test.rb#L291-L298) is the closest thing which might suggest this is the intended behavior in the `path:` case. Although the name suggests that it's testing something else and the params are an afterthought. In fact from reading that test one might imagine that params are only carried over by default when the host is being changed in the redirect.\r\n\r\nWhat's the intended behavior? I would have expected those two routes to have identical behavior.\r\n\r\nThe fact that the `path:` case behaves as such doesn't seem to be documented ([ActionDispatch::Routing::Redirection](http://api.rubyonrails.org/classes/ActionDispatch/Routing/Redirection.html)). I'd like to contribute some documentation, but I don't know the rationale.\r\n\r\nThanks,\r\nJohn",
      "number": 27715,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jjb/subscriptions",
         "received_events_url": "https://api.github.com/users/jjb/received_events",
         "url": "https://api.github.com/users/jjb",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6097?v=4",
         "events_url": "https://api.github.com/users/jjb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jjb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jjb/following{/other_user}",
         "repos_url": "https://api.github.com/users/jjb/repos",
         "site_admin": false,
         "id": 6097,
         "organizations_url": "https://api.github.com/users/jjb/orgs",
         "login": "jjb",
         "gists_url": "https://api.github.com/users/jjb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jjb/followers",
         "html_url": "https://github.com/jjb"
      },
      "state": "closed",
      "closed_by": "27730",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27715",
      "updated_at": "2017-03-25T20:57:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27715/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 3,
      "id": 201433450,
      "closed_at": "2017-01-21T14:54:58Z",
      "created_at": "2017-01-17T23:11:57Z",
      "title": "redirect behavior change with path: not documented",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27715/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27715/comments",
      "html_url": "https://github.com/rails/rails/issues/27715"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "> In English there are only one singular and one plural form for a given string, e.g. \"1 message\" and \"2 messages\". Other languages (Arabic, Japanese, Russian and many more) have different grammars that have additional or fewer plural forms. Thus, the I18n API provides a flexible [pluralization](http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html) feature.\r\n\r\nThe link to unicode.org is no longer valid and should be should be http://cldr.unicode.org/index/cldr-spec/plural-rules ",
      "number": 27711,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/maxcal/subscriptions",
         "received_events_url": "https://api.github.com/users/maxcal/received_events",
         "url": "https://api.github.com/users/maxcal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/765647?v=4",
         "events_url": "https://api.github.com/users/maxcal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maxcal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maxcal/following{/other_user}",
         "repos_url": "https://api.github.com/users/maxcal/repos",
         "site_admin": false,
         "id": 765647,
         "organizations_url": "https://api.github.com/users/maxcal/orgs",
         "login": "maxcal",
         "gists_url": "https://api.github.com/users/maxcal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maxcal/followers",
         "html_url": "https://github.com/maxcal"
      },
      "state": "closed",
      "closed_by": "27723",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27711",
      "updated_at": "2017-01-21T01:13:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27711/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 202293,
            "url": "https://api.github.com/repos/rails/rails/labels/i18n",
            "color": "e102d8",
            "default": false,
            "name": "i18n"
         }
      ],
      "comments": 3,
      "id": 201314879,
      "closed_at": "2017-01-21T01:13:50Z",
      "created_at": "2017-01-17T15:15:20Z",
      "title": "Guides: Rails Internationalization (I18n) API - 4.2 Pluralization - broken link",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27711/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27711/comments",
      "html_url": "https://github.com/rails/rails/issues/27711"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nYou can find a reproducible test case [here](https://gist.github.com/cmrd-senya/98fc3b9f8c7fcebb170b0f8e7428c068).\r\n\r\nConstruct a query with:\r\n1. select with custom SQL\r\n2. limit\r\n3. count\r\n\r\nFor instance:\r\n```ruby\r\nPost.select(\"id, some_property IS NOT NULL AS with_comment\").limit(5).count\r\n```\r\n\r\n### Expected behavior\r\nThe query is executed properly\r\n\r\n### Actual behavior\r\nThe query fails because the constructed SQL is broken:\r\n```sql\r\nSELECT COUNT(count_column) FROM (SELECT  id, some_property IS NOT NULL AS with_comment AS count_column FROM \"posts\" LIMIT ?) subquery_for_count\r\n```\r\n\r\n### System configuration\r\n**Rails version**: master\r\n\r\n**Ruby version**: ruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux-gnu]",
      "number": 27676,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cmrd-senya/subscriptions",
         "received_events_url": "https://api.github.com/users/cmrd-senya/received_events",
         "url": "https://api.github.com/users/cmrd-senya",
         "avatar_url": "https://avatars2.githubusercontent.com/u/10187586?v=4",
         "events_url": "https://api.github.com/users/cmrd-senya/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cmrd-senya/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cmrd-senya/following{/other_user}",
         "repos_url": "https://api.github.com/users/cmrd-senya/repos",
         "site_admin": false,
         "id": 10187586,
         "organizations_url": "https://api.github.com/users/cmrd-senya/orgs",
         "login": "cmrd-senya",
         "gists_url": "https://api.github.com/users/cmrd-senya/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cmrd-senya/followers",
         "html_url": "https://github.com/cmrd-senya"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27676",
      "updated_at": "2017-01-18T03:55:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27676/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 200705934,
      "closed_at": "2017-01-18T03:55:17Z",
      "created_at": "2017-01-13T19:07:21Z",
      "title": "Wrong SQL syntax is generated when count is called on limit and custom select",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27676/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27676/comments",
      "html_url": "https://github.com/rails/rails/issues/27676"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```\r\n# user.rb\r\n\r\nclass User\r\n  has_one :family, through: :family_tree\r\n  has_one :family_tree, -> { rewhere(token: nil) }, foreign_key: 'member_id'\r\n  has_many :family_members, through: :family, source: 'members'\r\nend\r\n```\r\n\r\n```\r\n# family.rb\r\n\r\nclass Family < ActiveRecord::Base\r\n  has_many :family_trees, -> { rewhere(token: nil) }\r\n  has_many :members, through: :family_trees\r\nend\r\n```\r\n\r\n```\r\n# family_tree.rb\r\n#\r\n#  id        :integer          not null, primary key\r\n#  family_id :integer\r\n#  member_id :integer\r\n#  token     :string\r\n#\r\n\r\nclass FamilyTree < ActiveRecord::Base\r\n  belongs_to :member, class_name: 'User', foreign_key: 'member_id'\r\n  belongs_to :family, class_name: 'Family'\r\n\r\n  validates :member, uniqueness: { scope: :family }\r\nend\r\n\r\n```\r\n\r\n`user.family_members` makes the below query\r\n\r\n```\r\nSELECT \"users\".\"id\" FROM \"users\" \r\nINNER JOIN \"family_trees\" ON \"users\".\"id\" = \"family_trees\".\"member_id\" \r\nINNER JOIN \"families\" ON \"family_trees\".\"family_id\" = \"families\".\"id\" \r\nINNER JOIN \"family_trees\" \"family_trees_family_members_join\" ON \"families\".\"id\" = \"family_trees_family_members_join\".\"family_id\" \r\n\r\nWHERE \"family_trees_family_members_join\".\"member_id\" = $1 AND \"family_trees\".\"token\" IS NULL  [[\"member_id\", 3363]]\r\n```\r\n\r\nIn the result, it is different with `user.family_members` and `user.family.members`\r\n\r\n### Expected behavior\r\n\r\nI wrote the method named `family_members` instead of association like this\r\n\r\n```\r\ndef family_members\r\n  User.where(id: FamilyTree.where(family: family, token: nil).pluck(:member_id))\r\nend\r\n```\r\n\r\nThis is exactly what I expected.\r\n\r\n### Actual behavior\r\n\r\n`user.family_members` got the records which have a `family_tree` with `token` is not NULL\r\n\r\n### System configuration\r\n\r\nI'm using Rails 4.2.0 with Ruby 2.3.0",
      "number": 27666,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/hjinu/subscriptions",
         "received_events_url": "https://api.github.com/users/hjinu/received_events",
         "url": "https://api.github.com/users/hjinu",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1785774?v=4",
         "events_url": "https://api.github.com/users/hjinu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/hjinu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/hjinu/following{/other_user}",
         "repos_url": "https://api.github.com/users/hjinu/repos",
         "site_admin": false,
         "id": 1785774,
         "organizations_url": "https://api.github.com/users/hjinu/orgs",
         "login": "hjinu",
         "gists_url": "https://api.github.com/users/hjinu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/hjinu/followers",
         "html_url": "https://github.com/hjinu"
      },
      "state": "closed",
      "closed_by": "27836",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27666",
      "updated_at": "2017-01-31T22:06:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27666/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 200544854,
      "closed_at": "2017-01-31T22:06:18Z",
      "created_at": "2017-01-13T04:22:48Z",
      "title": "Wrong query produced when through association duplicated.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27666/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27666/comments",
      "html_url": "https://github.com/rails/rails/issues/27666"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```ruby\r\nclass A\r\n  class B\r\n  end\r\nend\r\n\r\nA::B.freeze\r\nA::B.parent_name\r\n```\r\n\r\n### Expected behavior\r\n\r\nShould return `\"A\"`, and not try to cache the parent_name into an instance variable on the frozen class\r\n\r\n### Actual behavior\r\n\r\n`RuntimeError: can't modify frozen #<Class:A::B>`\r\n\r\n### System configuration\r\n**Rails version**: 4.2.7.1 (though the code hasn't changed in 5.0 or master)\r\n**Ruby version**: 2.3.1\r\n",
      "number": 27637,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ccutrer/subscriptions",
         "received_events_url": "https://api.github.com/users/ccutrer/received_events",
         "url": "https://api.github.com/users/ccutrer",
         "avatar_url": "https://avatars2.githubusercontent.com/u/191320?v=4",
         "events_url": "https://api.github.com/users/ccutrer/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ccutrer/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ccutrer/following{/other_user}",
         "repos_url": "https://api.github.com/users/ccutrer/repos",
         "site_admin": false,
         "id": 191320,
         "organizations_url": "https://api.github.com/users/ccutrer/orgs",
         "login": "ccutrer",
         "gists_url": "https://api.github.com/users/ccutrer/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ccutrer/followers",
         "html_url": "https://github.com/ccutrer"
      },
      "state": "closed",
      "closed_by": "27713",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27637",
      "updated_at": "2017-01-18T04:21:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27637/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 199886995,
      "closed_at": "2017-01-18T04:21:20Z",
      "created_at": "2017-01-10T17:40:43Z",
      "title": "Module#parent_name broken for frozen classes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27637/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27637/comments",
      "html_url": "https://github.com/rails/rails/issues/27637"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n1. Installed:\r\nsqlite-3.16.2-1.fc26.x86_64\r\n\r\n2. run the railties tests, f.e.:\r\n`ruby -Itest -- 'test/application/rake/dbs_test.rb'`\r\n\r\n### Expected behavior\r\nWith older sqlite version(the only difference):\r\nsqlite-3.14.2-1.fc26.x86_64\r\n\r\n```\r\n[ . . . ]\r\n\r\nFinished in 30.720527s, 0.6510 runs/s, 2.2461 assertions/s.\r\n\r\n20 runs, 69 assertions, 0 failures, 0 errors, 0 skips\r\n```\r\n\r\n### Actual behavior\r\n```\r\n[ . . . ]\r\n\r\nFinished in 30.459241s, 0.6566 runs/s, 2.0683 assertions/s.\r\n\r\n  1) Failure:\r\nApplicationTests::RakeTests::RakeDbsTest#test_db:structure:dump_and_db:structure:load_with_database_url [test/application/rake/dbs_test.rb:179]:\r\nExpected /CREATE TABLE \\\"books\\\"/ to match \"CREATE TABLE IF NOT EXISTS \\\"schema_migrations\\\" (\\\"version\\\" varchar NOT NULL PRIMARY KEY);\\nCREATE TABLE IF NOT EXISTS \\\"ar_internal_metadata\\\" (\\\"key\\\" varchar NOT NULL PRIMARY KEY, \\\"value\\\" varchar, \\\"created_at\\\" datetime NOT NULL, \\\"updated_at\\\" datetime NOT NULL);\\nCREATE TABLE IF NOT EXISTS \\\"books\\\" (\\\"id\\\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \\\"title\\\" varchar, \\\"created_at\\\" datetime NOT NULL, \\\"updated_at\\\" datetime NOT NULL);\\nINSERT INTO schema_migrations (version) VALUES\\n('20170110160814');\\n\\n\\n\".\r\n\r\n\r\n  2) Failure:\r\nApplicationTests::RakeTests::RakeDbsTest#test_db:structure:dump_and_db:structure:load_without_database_url [test/application/rake/dbs_test.rb:179]:\r\nExpected /CREATE TABLE \\\"books\\\"/ to match \"CREATE TABLE IF NOT EXISTS \\\"schema_migrations\\\" (\\\"version\\\" varchar NOT NULL PRIMARY KEY);\\nCREATE TABLE IF NOT EXISTS \\\"ar_internal_metadata\\\" (\\\"key\\\" varchar NOT NULL PRIMARY KEY, \\\"value\\\" varchar, \\\"created_at\\\" datetime NOT NULL, \\\"updated_at\\\" datetime NOT NULL);\\nCREATE TABLE IF NOT EXISTS \\\"books\\\" (\\\"id\\\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \\\"title\\\" varchar, \\\"created_at\\\" datetime NOT NULL, \\\"updated_at\\\" datetime NOT NULL);\\nINSERT INTO schema_migrations (version) VALUES\\n('20170110160824');\\n\\n\\n\".\r\n\r\n\r\n  3) Failure:\r\nApplicationTests::RakeTests::RakeDbsTest#test_db:structure:dump_does_not_dump_schema_information_when_no_migrations_are_used [test/application/rake/dbs_test.rb:207]:\r\nExpected /CREATE TABLE \\\"posts\\\"/ to match \"CREATE TABLE IF NOT EXISTS \\\"posts\\\" (\\\"id\\\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \\\"title\\\" varchar);\\n\".\r\n\r\n20 runs, 63 assertions, 3 failures, 0 errors, 0 skips\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\nrubygem-rails-5.0.1-1.fc26.noarch\r\n\r\n**Ruby version**:\r\nruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]\r\n\r\n### Note\r\nThis was tested on the rawhide version of Fedora",
      "number": 27635,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pvalena/subscriptions",
         "received_events_url": "https://api.github.com/users/pvalena/received_events",
         "url": "https://api.github.com/users/pvalena",
         "avatar_url": "https://avatars2.githubusercontent.com/u/15652483?v=4",
         "events_url": "https://api.github.com/users/pvalena/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pvalena/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pvalena/following{/other_user}",
         "repos_url": "https://api.github.com/users/pvalena/repos",
         "site_admin": false,
         "id": 15652483,
         "organizations_url": "https://api.github.com/users/pvalena/orgs",
         "login": "pvalena",
         "gists_url": "https://api.github.com/users/pvalena/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pvalena/followers",
         "html_url": "https://github.com/pvalena"
      },
      "state": "closed",
      "closed_by": "27734",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27635",
      "updated_at": "2017-01-19T18:29:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27635/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 199864895,
      "closed_at": "2017-01-19T17:33:44Z",
      "created_at": "2017-01-10T16:16:59Z",
      "title": "test/application/rake/dbs_test.rb failing with newer sqlite",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27635/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27635/comments",
      "html_url": "https://github.com/rails/rails/issues/27635"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "For some ungodly reason, some libraries like Rubyzip subclass Ruby's built in `Time` class. This is a problem when `travel_to` stubs `Time.now`, because the value returned from then calling `now` on a `Time` subclass, such as `Zip::DOSTime` would return an instance of `Time` instead of returning an instance of `Zip::DOSTime`.\r\n\r\nI'm unsure of how to best solve this problem. The current implementation of `TimeHelpers` assumes that simply returning a static value is adequate, and this implementation is correct for the classes itself, but does not work when subclassing. Of course one could make a case that core classes shouldn't be subclassed, like Aaron wrote on his blog a while ago, but code like this is out there, and in my case caused breakage in the app I was working on, and it seems like tracking down and fixing such broken code would be a game of whack-a-mole.\r\n\r\nTimecop has had the same issue, documented [here](https://github.com/travisjeffery/timecop/issues/25) and applied a [fix](https://github.com/travisjeffery/timecop/commit/da726032513d0d3bc72ceab0bea08e05f3944234) to work around this issue. However, looking at this fix it seems that the way it is implemented is by being aware of the workings of `Time` in the actual stubbing. The [`SimpleStubs`](https://github.com/rails/rails/blob/7f19f30819dd5a5a788ad9d8b12b5dda76559a12/activesupport/lib/active_support/testing/time_helpers.rb#L6) class that Rails uses is a very basic generic stubbing class, but it would need to be much more aware of the internal workings of `Time` to apply such a fix. This class is `#:nodoc:` so changing it should be okay, I think?\r\n\r\n### Steps to reproduce\r\n\r\n``` ruby\r\nirb(main):015:0> Zip::DOSTime.now.class\r\n=> Zip::DOSTime\r\nirb(main):016:0> travel_to 1.day.ago\r\n=> nil\r\nirb(main):017:0> Zip::DOSTime.now.class\r\n=> Time\r\n```\r\n\r\nI also wrote a test case for this within the rails test suite [here](https://github.com/rails/rails/compare/master...jnicklas:time-travel-now-test). [Here](https://gist.github.com/jnicklas/88b3f06ab395c904f48b736ecdd8c0ea) it is using the template.\r\n\r\n### Expected behavior\r\n\r\nCalling `now` on a subclass of `Time` after time traveling should return an instance of the subclass.\r\n\r\n### Actual behavior\r\n\r\nCalling `now` on a subclass of `Time` after time traveling returns an instance of `Time`.\r\n\r\n### System configuration\r\n**Rails version**: affects all Rails versions since the addition of `travel_to`, verified against `master`.\r\n**Ruby version**: `2.3.3`\r\n",
      "number": 27614,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jnicklas/subscriptions",
         "received_events_url": "https://api.github.com/users/jnicklas/received_events",
         "url": "https://api.github.com/users/jnicklas",
         "avatar_url": "https://avatars2.githubusercontent.com/u/134?v=4",
         "events_url": "https://api.github.com/users/jnicklas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jnicklas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jnicklas/following{/other_user}",
         "repos_url": "https://api.github.com/users/jnicklas/repos",
         "site_admin": false,
         "id": 134,
         "organizations_url": "https://api.github.com/users/jnicklas/orgs",
         "login": "jnicklas",
         "gists_url": "https://api.github.com/users/jnicklas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jnicklas/followers",
         "html_url": "https://github.com/jnicklas"
      },
      "state": "closed",
      "closed_by": "27616",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27614",
      "updated_at": "2017-01-10T11:40:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27614/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 199525600,
      "closed_at": "2017-01-10T11:40:05Z",
      "created_at": "2017-01-09T11:01:36Z",
      "title": "Time travel using TimeHelpers breaks subclasses of Time",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27614/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27614/comments",
      "html_url": "https://github.com/rails/rails/issues/27614"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "there is teh not so well documented `scope_for_create()` on teh docs which i suppose is used to create stuff into teh current scope:\r\n\r\nhttp://api.rubyonrails.org/classes/ActiveRecord/Relation.html#method-i-scope_for_create\r\n\r\n\r\ni was gonna use it in a `new` link containing default values based on teh current search, but then all my STI child models have `type` key duplicated:\r\n\r\n```\r\nirb(main):019:0> [Entity, Person, Company].each {|x| p x.all.scope_for_create}\r\n{}\r\n{\"type\"=>[\"Person\"], :type=>\"Person\"}\r\n{\"type\"=>[\"Company\"], :type=>\"Company\"}\r\n```\r\n\r\nbecause\r\n\r\n```\r\n# File activerecord/lib/active_record/relation.rb, line 632\r\ndef scope_for_create\r\n  @scope_for_create ||= where_values_hash.merge(create_with_value)\r\nend\r\n```\r\n\r\nand\r\n\r\n```\r\nirb(main):036:0> Person.all.create_with_value\r\n=> {:type=>\"Person\"}\r\nirb(main):037:0> Person.all.where_values_hash\r\n=> {\"type\"=>[\"Person\"]}\r\n```\r\n\r\nbut this probably isnt much of a problem right now, since\r\n\r\n```\r\nirb(main):038:0> Person.all.scope_for_create.with_indifferent_access\r\n=> {\"type\"=>\"Person\"}\r\n```\r\n\r\nseems to yield nice results.\r\n\r\nCopy of but this could return `with_indifferent_access`, or just `symbolize_keys` before teh merge and save us from surprises ;o3\r\n\r\ndescribing teh function would be nice too!\r\n\r\nwhat do you think? =O3",
      "number": 27600,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ayghor/subscriptions",
         "received_events_url": "https://api.github.com/users/ayghor/received_events",
         "url": "https://api.github.com/users/ayghor",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1148648?v=4",
         "events_url": "https://api.github.com/users/ayghor/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ayghor/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ayghor/following{/other_user}",
         "repos_url": "https://api.github.com/users/ayghor/repos",
         "site_admin": false,
         "id": 1148648,
         "organizations_url": "https://api.github.com/users/ayghor/orgs",
         "login": "ayghor",
         "gists_url": "https://api.github.com/users/ayghor/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ayghor/followers",
         "html_url": "https://github.com/ayghor"
      },
      "state": "closed",
      "closed_by": "27680",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27600",
      "updated_at": "2017-01-14T17:25:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27600/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 199338244,
      "closed_at": "2017-01-14T17:25:22Z",
      "created_at": "2017-01-07T03:35:36Z",
      "title": "`scope_for_create()`: STI model `type` key glitch",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27600/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27600/comments",
      "html_url": "https://github.com/rails/rails/issues/27600"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm not sure this is a bug but this has worked in previous versions of rails and stopped working in rails 5.0.1. It was a huge pain to track down so if nothing else maybe someone will find this if they're running into a similar issue.\r\n\r\nIf a has_many :through join model includes Comparable then creating join records through the association does not set the foreign key for all but the first record. For example, in the test below, `Event.create(user_ids: [user1.id, user2.id])` will create two Invite join records but only the first one is assigned an event_id.\r\n \r\n### Steps to reproduce\r\n\r\n```\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"activerecord\", \"5.0.1\"\r\n  #gem \"activerecord\", \"5.0.0.1\"\r\n  gem \"pg\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection adapter: \"postgresql\"\r\nActiveRecord::Base.connection.drop_database \"test_has_many_through_with_comparable\"\r\nActiveRecord::Base.connection.create_database \"test_has_many_through_with_comparable\"\r\nActiveRecord::Base.establish_connection adapter: \"postgresql\", database: \"test_has_many_through_with_comparable\"\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :events, force: true do |t|\r\n  end\r\n\r\n  create_table :invites, force: true do |t|\r\n    t.integer :event_id\r\n    t.integer :user_id\r\n  end\r\n\r\n  create_table :users, force: true do |t|\r\n  end\r\nend\r\n\r\nclass Event < ActiveRecord::Base\r\n  has_many :invites\r\n\r\n  has_many :users, :through => :invites\r\nend\r\n\r\nclass Invite < ActiveRecord::Base\r\n  include Comparable\r\n\r\n  belongs_to :event\r\n  belongs_to :user\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_has_many_through_with_comparable\r\n    user1 = User.create\r\n    user2 = User.create\r\n\r\n    event = Event.create(user_ids: [user1.id, user2.id]) # Invite#event_id does not get set for user2\r\n\r\n    assert_equal event.invites.count, 2\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nCorrectly create joins records with foreign_keys correctly populated\r\n\r\n### Actual behavior\r\n\r\nforeign_keys are nil\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3\r\n",
      "number": 27595,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jnimety/subscriptions",
         "received_events_url": "https://api.github.com/users/jnimety/received_events",
         "url": "https://api.github.com/users/jnimety",
         "avatar_url": "https://avatars1.githubusercontent.com/u/70484?v=4",
         "events_url": "https://api.github.com/users/jnimety/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jnimety/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jnimety/following{/other_user}",
         "repos_url": "https://api.github.com/users/jnimety/repos",
         "site_admin": false,
         "id": 70484,
         "organizations_url": "https://api.github.com/users/jnimety/orgs",
         "login": "jnimety",
         "gists_url": "https://api.github.com/users/jnimety/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jnimety/followers",
         "html_url": "https://github.com/jnimety"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27595",
      "updated_at": "2017-01-08T19:25:39Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27595/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 12,
      "id": 199262959,
      "closed_at": "2017-01-08T19:25:39Z",
      "created_at": "2017-01-06T18:57:48Z",
      "title": "has_many :through with `include Comparable`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27595/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27595/comments",
      "html_url": "https://github.com/rails/rails/issues/27595"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n```bash\r\nrails new myapp\r\ncd myapp\r\nrails g model todo title:string\r\nrails db:migrate\r\nrails g scaffold_controller api::todo --api\r\n```\r\n\r\n### Expected behavior\r\nThe steps above should only create jbuilder views\r\n\r\n### Actual behavior\r\nCreates both jbuilder and html views\r\n\r\n![screen shot 2017-01-06 at 13 10 00](https://cloud.githubusercontent.com/assets/615/21718767/7703f346-d411-11e6-9a72-b3ebe85af85b.png)\r\n\r\n### System configuration\r\n**Rails version**: Rails 5.0.1\r\n\r\n**Ruby version**: ruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-darwin16]\r\n",
      "number": 27591,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/codehugger/subscriptions",
         "received_events_url": "https://api.github.com/users/codehugger/received_events",
         "url": "https://api.github.com/users/codehugger",
         "avatar_url": "https://avatars3.githubusercontent.com/u/615?v=4",
         "events_url": "https://api.github.com/users/codehugger/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/codehugger/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/codehugger/following{/other_user}",
         "repos_url": "https://api.github.com/users/codehugger/repos",
         "site_admin": false,
         "id": 615,
         "organizations_url": "https://api.github.com/users/codehugger/orgs",
         "login": "codehugger",
         "gists_url": "https://api.github.com/users/codehugger/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/codehugger/followers",
         "html_url": "https://github.com/codehugger"
      },
      "state": "closed",
      "closed_by": "27604",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27591",
      "updated_at": "2017-01-08T18:31:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27591/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 0,
      "id": 199193609,
      "closed_at": "2017-01-08T18:31:04Z",
      "created_at": "2017-01-06T13:10:37Z",
      "title": "Rails 5 scaffold_controller generates html files when --api flag is used",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27591/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27591/comments",
      "html_url": "https://github.com/rails/rails/issues/27591"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hola \ud83d\udc4b \r\n\r\nIt took me a while to track this bug down and finding a way to reproduce it but finally I have it! I will try to explain my findings as best as I can.\r\n\r\nAfter switching from 5.0.0.1 to 5.0.1 an `ActiveRecord::StatementInvalid` exception is raised in my tests and it looks like that `ActiveRecord` is not building the query as expected when doing a `mininum` \u2013 and per extension `maximum`, `average` and others \u2013 calculation. I couldn't figure which was the problem out until I used `git bisect` and I detected that the commit that introduced the regression is https://github.com/rails/rails/pull/25976\r\n\r\nThen I tried to reproduce the issue so I could open a PR to fix it and that took me a long time and I still can not explain why the `ActiveRecord::StatementInvalid` is happening because the issue gets weirder hahaha. I could fix the issue on my side when I read http://api.rubyonrails.org/classes/ActiveRecord/AutosaveAssociation.html and specifically `Placing your callbacks after associations is usually a good practice.`\r\n\r\nI'll tell you what I've found out and let the experts try to solve it. Check the test case example first, please https://gist.github.com/yukideluxe/36b4092748310bc8ec020f5e4dad8ea9\r\n\r\n1. This happens only when the callbacks are specified before the `has_many` association and when we try to autosave associated records.\r\n2. In the test case, the error is raised when running the `after_touch` callback but only if the `after_create` has been also run.  In the `after_create` the SQL query is ```SELECT MIN(`comments`.`id`) FROM `comments` WHERE `comments`.`post_id` IS NULL``` I would understand this for the `before_create` but in the `after_create` we already have a `post_id` \ud83d\ude2e \r\n3. `bound_attributes` of the `comments` association for `ActiveRecord::Associations::CollectionProxy` and its scope `ActiveRecord::AssociationRelation` are empty but I've seen that for associations they should have the `foreign_key` of the relation (maybe not related but just saying... you cannot imagine how much I've debugged here \ud83d\ude02)\r\n4. It does not happen using `sqlite`!!! All the queries look as expected.\r\n\r\nMy first idea about how to fix this was just reverting this https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/collection_proxy.rb#L753-L755 because if doesn't save any call which was the idea of introducing that lines in the first place but I prefer you too have a look in case this is a more serious issue or not issue at all \u270c\ufe0f \r\n\r\nIn my opinion, even if the callbacks are run before the autosave callbacks and the results we get are not the expected ones, the SQL query should be valid? What do you think?\r\n\r\n### Steps to reproduce it\r\n\r\nRun this test case https://gist.github.com/yukideluxe/36b4092748310bc8ec020f5e4dad8ea9\r\n\r\n#### Using sqlite \r\n`ruby test_case.rb` \r\n\r\nNo exception\r\n\r\n#### Using mysql2\r\n`ARCONN=mysql2 ruby test_case.rb`\r\n\r\nRaises the exception\r\n```\r\nActiveRecord::StatementInvalid: Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1: SELECT MIN(`comments`.`id`) FROM `comments` WHERE `comments`.`post_id` =\r\n```\r\n\r\n#### Using postgresql\r\n`ARCONN=postgresql ruby test_case.rb`\r\n\r\nRaises the exception\r\n```\r\nActiveRecord::StatementInvalid: PG::ProtocolViolation: ERROR:  bind message supplies 0 parameters, but prepared statement \"\" requires 1\r\n: SELECT MIN(\"comments\".\"id\") FROM \"comments\" WHERE \"comments\".\"post_id\" = $1\r\n```\r\n\r\nThis issue is also happening in the master branch, you can check that out here https://github.com/rails/rails/compare/master...yukideluxe:callbacks-calculation-bug\r\n\r\nSorry for the long post, I didn't want to miss anything! I hope I explained myself. If you have any questions, let me know! \u2764\ufe0f ",
      "number": 27582,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yukideluxe/subscriptions",
         "received_events_url": "https://api.github.com/users/yukideluxe/received_events",
         "url": "https://api.github.com/users/yukideluxe",
         "avatar_url": "https://avatars0.githubusercontent.com/u/792820?v=4",
         "events_url": "https://api.github.com/users/yukideluxe/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yukideluxe/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yukideluxe/following{/other_user}",
         "repos_url": "https://api.github.com/users/yukideluxe/repos",
         "site_admin": false,
         "id": 792820,
         "organizations_url": "https://api.github.com/users/yukideluxe/orgs",
         "login": "yukideluxe",
         "gists_url": "https://api.github.com/users/yukideluxe/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yukideluxe/followers",
         "html_url": "https://github.com/yukideluxe"
      },
      "state": "closed",
      "closed_by": "28246",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27582",
      "updated_at": "2017-02-20T18:56:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27582/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 198962990,
      "closed_at": "2017-02-20T18:56:23Z",
      "created_at": "2017-01-05T14:04:47Z",
      "title": "ActiveRecord::StatementInvalid in after_touch callback when using associations.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27582/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27582/comments",
      "html_url": "https://github.com/rails/rails/issues/27582"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "```\r\nBenchmark.realtime { ActiveRecord::Base.connection.foreign_keys('users') }\r\n=> 26.654776551004034\r\n```\r\n\r\nmakes our `rake db:schema:dump` take 5 minutes\r\n\r\ncan try out with https://github.com/zendesk/samson\r\n\r\nI'd think https://github.com/rails/rails/pull/25307 is responsible\r\n\r\nFYI flamegraph\r\n\r\n<img width=\"913\" alt=\"screen shot 2017-01-04 at 7 54 09 pm\" src=\"https://cloud.githubusercontent.com/assets/11367/21668530/a25596ae-d2b7-11e6-9075-f210beb1cd5d.png\">\r\n",
      "number": 27579,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kamipo/subscriptions",
            "received_events_url": "https://api.github.com/users/kamipo/received_events",
            "url": "https://api.github.com/users/kamipo",
            "avatar_url": "https://avatars0.githubusercontent.com/u/12642?v=4",
            "events_url": "https://api.github.com/users/kamipo/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kamipo/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kamipo/following{/other_user}",
            "repos_url": "https://api.github.com/users/kamipo/repos",
            "site_admin": false,
            "id": 12642,
            "organizations_url": "https://api.github.com/users/kamipo/orgs",
            "login": "kamipo",
            "gists_url": "https://api.github.com/users/kamipo/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kamipo/followers",
            "html_url": "https://github.com/kamipo"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/grosser/subscriptions",
         "received_events_url": "https://api.github.com/users/grosser/received_events",
         "url": "https://api.github.com/users/grosser",
         "avatar_url": "https://avatars3.githubusercontent.com/u/11367?v=4",
         "events_url": "https://api.github.com/users/grosser/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/grosser/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/grosser/following{/other_user}",
         "repos_url": "https://api.github.com/users/grosser/repos",
         "site_admin": false,
         "id": 11367,
         "organizations_url": "https://api.github.com/users/grosser/orgs",
         "login": "grosser",
         "gists_url": "https://api.github.com/users/grosser/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/grosser/followers",
         "html_url": "https://github.com/grosser"
      },
      "state": "closed",
      "closed_by": "27580",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27579",
      "updated_at": "2017-01-05T13:37:02Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27579/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kamipo/subscriptions",
         "received_events_url": "https://api.github.com/users/kamipo/received_events",
         "url": "https://api.github.com/users/kamipo",
         "avatar_url": "https://avatars0.githubusercontent.com/u/12642?v=4",
         "events_url": "https://api.github.com/users/kamipo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kamipo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kamipo/following{/other_user}",
         "repos_url": "https://api.github.com/users/kamipo/repos",
         "site_admin": false,
         "id": 12642,
         "organizations_url": "https://api.github.com/users/kamipo/orgs",
         "login": "kamipo",
         "gists_url": "https://api.github.com/users/kamipo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kamipo/followers",
         "html_url": "https://github.com/kamipo"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 8,
      "id": 198870863,
      "closed_at": "2017-01-05T06:12:26Z",
      "created_at": "2017-01-05T03:53:10Z",
      "title": "5.0.0 -> 5.0.1 mysql foreign_keys is crazy slow",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27579/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27579/comments",
      "html_url": "https://github.com/rails/rails/issues/27579"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In the Active Record Associations page of the Rails Guides, section [3.5 Bi-directional Associations](http://guides.rubyonrails.org/association_basics.html#bi-directional-associations), it appears there is conflicting information.\r\n\r\nFirst, the section states that given two models, one with a `belongs_to` and another with a `has_many`, ActiveRecord will not know about the connection between the two. The example shows an instantiation of each, and the two getting out of sync. This is resolved by calling `:inverse_of` on both sides of the association.\r\n\r\nHowever, a few paragraphs later, the section states that, \"For belongs_to associations, has_many inverse associations are ignored.\" If that's true, why is `:inverse_of` called on both sides of the association in the example?\r\n\r\nMoreover, the section further states, \"Every association will attempt to automatically find the inverse association and set the :inverse_of option heuristically (based on the association name).\" Indeed, setting up the associations in the example mentioned above yields a single object in memory without the `:inverse_of` call required.\r\n\r\nIt seems, then, that ActiveRecord _will_ know about the connection between two well-named models without `:inverse_of`, even though the section states otherwise. This seemingly conflict of information within the section will likely lead to confusion amongst readers new to Rails.\r\n\r\nThanks!\r\n\r\n",
      "number": 27516,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/davidsherline/subscriptions",
         "received_events_url": "https://api.github.com/users/davidsherline/received_events",
         "url": "https://api.github.com/users/davidsherline",
         "avatar_url": "https://avatars2.githubusercontent.com/u/4708681?v=4",
         "events_url": "https://api.github.com/users/davidsherline/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/davidsherline/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/davidsherline/following{/other_user}",
         "repos_url": "https://api.github.com/users/davidsherline/repos",
         "site_admin": false,
         "id": 4708681,
         "organizations_url": "https://api.github.com/users/davidsherline/orgs",
         "login": "davidsherline",
         "gists_url": "https://api.github.com/users/davidsherline/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/davidsherline/followers",
         "html_url": "https://github.com/davidsherline"
      },
      "state": "closed",
      "closed_by": "27538",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27516",
      "updated_at": "2017-02-28T20:40:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27516/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 4,
      "id": 198197870,
      "closed_at": "2017-02-28T20:40:17Z",
      "created_at": "2016-12-30T21:43:35Z",
      "title": "Rails Guides Active Record Associations Conflicting Information",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27516/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27516/comments",
      "html_url": "https://github.com/rails/rails/issues/27516"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nThis passes on Rails 4.2.7.1 but fails on Rails 5.0.1:\r\n\r\n```ruby\r\nbegin\r\n  require \"bundler/inline\"\r\nrescue LoadError => e\r\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\r\n  raise e\r\nend\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"activerecord\", \"5.0.1\"       # Fails\r\n  #gem \"activerecord\", \"4.2.7.1\"    # Passes\r\n  gem \"pg\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# PostgreSQL Specific Issue\r\nActiveRecord::Base.establish_connection(adapter: 'postgresql', database: 'hstore_dirty')\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  enable_extension 'hstore' unless extension_enabled?('hstore')\r\n  create_table :posts, force: true do |t|\r\n    t.hstore 'settings'\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def setup\r\n    @settings = { \"alongkey\" => \"anything\", \"key\" => \"value\" }\r\n    @post = Post.create!(settings: @settings)\r\n  end\r\n\r\n  def test_hstore_dirty_from_user_no_change\r\n    # @post.settings is: {\"alongkey\"=>\"anything\", \"key\"=>\"value\"}\r\n    assert_equal @settings, @post.settings\r\n    @post.settings = @settings\r\n    refute @post.changed?\r\n  end\r\n\r\n  def test_hstore_dirty_from_user_no_equality_change\r\n    # @post.settings is: {\"alongkey\"=>\"anything\", \"key\"=>\"value\"}\r\n    assert_equal @settings, @post.settings\r\n    @post.settings = { \"key\" => \"value\", \"alongkey\" => \"anything\" }\r\n    assert_equal @settings, @post.settings\r\n    refute @post.changed?\r\n  end\r\n\r\n  def test_hstore_dirty_from_database\r\n    @post.reload\r\n    # The value of @post.settings is dependent on how the database decides to\r\n    # return the HStore. For my system on PostgreSQL 9.5.4 it seems to place\r\n    # shorter keys before longer ones.\r\n    #\r\n    # At this point @post.settings is: {\"key\"=>\"value\", \"alongkey\"=>\"anything\"}\r\n    assert_equal @settings, @post.settings\r\n    @post.settings = @settings\r\n    refute @post.changed?\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe record has no changes and should not be saved or marked as dirty.\r\n\r\n### Actual behavior\r\n\r\nThe record thinks the HStore has changed. This is causing it to be saved resulting in a cascade of effects which should be avoided (e.g. updates the `updated_at` timestamp, causing `touch` association updates, busting caches and ETags).\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.0.1\r\n\r\n**Ruby version**: 2.3.3\r\n\r\n**PostgreSQL version**: 9.5.4",
      "number": 27502,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cupakromer/subscriptions",
         "received_events_url": "https://api.github.com/users/cupakromer/received_events",
         "url": "https://api.github.com/users/cupakromer",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1524496?v=4",
         "events_url": "https://api.github.com/users/cupakromer/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cupakromer/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cupakromer/following{/other_user}",
         "repos_url": "https://api.github.com/users/cupakromer/repos",
         "site_admin": false,
         "id": 1524496,
         "organizations_url": "https://api.github.com/users/cupakromer/orgs",
         "login": "cupakromer",
         "gists_url": "https://api.github.com/users/cupakromer/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cupakromer/followers",
         "html_url": "https://github.com/cupakromer"
      },
      "state": "closed",
      "closed_by": "27517",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27502",
      "updated_at": "2017-01-03T21:12:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27502/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 198064956,
      "closed_at": "2017-01-03T21:12:47Z",
      "created_at": "2016-12-29T20:36:07Z",
      "title": "Regression in PostgreSQL HStore dirty check when key order changes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27502/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27502/comments",
      "html_url": "https://github.com/rails/rails/issues/27502"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "At the moment the Rails 4.2 branch does not work on Ruby 2.4.0 due to\r\n\r\n- Active Support has an explicit dependency on json gem version 1.x and json gem in 2.4.0 is at 2.0.2 \r\n- Fixnum/Bignum unification means that some of the internal fixes in later versions of active support need to be backported\r\n\r\n@dhh  was open to back-porting support provided it is not too much work and someone is willing to take it. \r\n\r\nSince we are looking at dropping sprockets at Discourse and sprockets 4 upgrade is chewing up more memory than current 3 branch we are in a bit of a bind when it come to upgrading to Rails 5 but really want to get some of the perf benefits of Ruby 2.4. \r\n\r\n@rafaelfranca  @matthewd  thoughts? \r\n\r\nsee also: https://github.com/rails/rails/pull/27458 \r\n\r\n",
      "number": 27489,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/SamSaffron/subscriptions",
         "received_events_url": "https://api.github.com/users/SamSaffron/received_events",
         "url": "https://api.github.com/users/SamSaffron",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5213?v=4",
         "events_url": "https://api.github.com/users/SamSaffron/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/SamSaffron/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/SamSaffron/following{/other_user}",
         "repos_url": "https://api.github.com/users/SamSaffron/repos",
         "site_admin": false,
         "id": 5213,
         "organizations_url": "https://api.github.com/users/SamSaffron/orgs",
         "login": "SamSaffron",
         "gists_url": "https://api.github.com/users/SamSaffron/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/SamSaffron/followers",
         "html_url": "https://github.com/SamSaffron"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27489",
      "updated_at": "2016-12-29T14:52:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27489/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 197957437,
      "closed_at": "2016-12-29T05:56:42Z",
      "created_at": "2016-12-29T05:54:58Z",
      "title": "Backport Ruby 2.4 support into Rails 4.2",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27489/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27489/comments",
      "html_url": "https://github.com/rails/rails/issues/27489"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Bug\r\n\r\nAdding a manipulated Activesupport::Duration to dates gives unexpected result\r\n\r\n### Steps to reproduce:\r\n\r\n```ruby\r\n[1] pry(main)> pry(main)> d = Date.parse('1 Jan 2017')\r\n=> Sun, 01 Jan 2017\r\n[2] pry(main)> d + 12.hours == d + 2 * 6.hours\r\n=> false\r\n[3] pry(main)> d + 12.hours\r\n=> Sun, 01 Jan 2017 12:00:00 UTC +00:00\r\n[4] pry(main)> d + 2 * 6.hours\r\n=> Wed, 13 Apr 2135\r\n```\r\n\r\n### Expected behavior\r\n\r\nI think it's safe to expect that `date + 2 * 12.hours` gives the same result as `date + 24.hours`\r\n\r\n### Actual behavior\r\n\r\nThis is not equal. However this works fine with time/time with zone when not around daylight saving, else the same bug is present.\r\n\r\n### Suspect\r\n\r\n`2 * 12.hours` is converted to a number of seconds as an integer and then added to the date. The date coerce/convert the integer into a number of days and then add it.\r\n\r\n\r\n### System configuration\r\n\r\nRails version: 5.0.0\r\n\r\nRuby version: 2.3.1",
      "number": 27457,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vmeyet/subscriptions",
         "received_events_url": "https://api.github.com/users/vmeyet/received_events",
         "url": "https://api.github.com/users/vmeyet",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2462303?v=4",
         "events_url": "https://api.github.com/users/vmeyet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vmeyet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vmeyet/following{/other_user}",
         "repos_url": "https://api.github.com/users/vmeyet/repos",
         "site_admin": false,
         "id": 2462303,
         "organizations_url": "https://api.github.com/users/vmeyet/orgs",
         "login": "vmeyet",
         "gists_url": "https://api.github.com/users/vmeyet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vmeyet/followers",
         "html_url": "https://github.com/vmeyet"
      },
      "state": "closed",
      "closed_by": "28204",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27457",
      "updated_at": "2017-03-05T16:58:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27457/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 257468118,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20work",
            "color": "000000",
            "default": false,
            "name": "needs work"
         }
      ],
      "comments": 6,
      "id": 197592043,
      "closed_at": "2017-03-03T10:48:42Z",
      "created_at": "2016-12-26T14:13:33Z",
      "title": "Adding a manipulated Activesupport::Duration to dates gives unexpected result",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27457/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27457/comments",
      "html_url": "https://github.com/rails/rails/issues/27457"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Expected behavior\r\nRoute generator should hide parameter if it is equal to default.\r\n\r\n### Actual behavior\r\nRoute generator doesn't hide parameter\r\n\r\n>   get '(:param1)/test(/:param2)' => \"index#index\", \r\n     :defaults => {\r\n       :param1 => 1,\r\n       :param2 => 2\r\n    },\r\n     :constraints => {\r\n       :param1 => /\\d*/,\r\n       :param2 => /\\d+/\r\n     }\r\n\r\n> url_for(:controller => \"index\", :param1 => \"1\")\r\n => \"http://127.0.0.1:3000/1/test\"\r\n\r\n_(should be http://127.0.0.1:3000/test)_\r\n\r\n**BUT**\r\n> get '(:param1)/test' => \"index#index\", \r\n     :defaults => {\r\n      :param1 => 1\r\n    },\r\n    :constraints => {\r\n      :param1 => /\\d*/\r\n    }\r\n\r\n> url_for(:controller => \"index\", :param1 => \"1\")\r\n => \"http://127.0.0.1:3000/test\"\r\n\r\nI think here https://github.com/rails/rails/blob/v5.0.1/actionpack/lib/action_dispatch/journey/formatter.rb#L38 should be next instead of break\r\n\r\n### System configuration\r\n5.0.1\r\n\r\n**Ruby version**:\r\n2.3.3",
      "number": 27454,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/benone/subscriptions",
         "received_events_url": "https://api.github.com/users/benone/received_events",
         "url": "https://api.github.com/users/benone",
         "avatar_url": "https://avatars0.githubusercontent.com/u/111381?v=4",
         "events_url": "https://api.github.com/users/benone/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/benone/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/benone/following{/other_user}",
         "repos_url": "https://api.github.com/users/benone/repos",
         "site_admin": false,
         "id": 111381,
         "organizations_url": "https://api.github.com/users/benone/orgs",
         "login": "benone",
         "gists_url": "https://api.github.com/users/benone/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/benone/followers",
         "html_url": "https://github.com/benone"
      },
      "state": "closed",
      "closed_by": "27499",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27454",
      "updated_at": "2016-12-29T17:50:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27454/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 197514959,
      "closed_at": "2016-12-29T17:50:37Z",
      "created_at": "2016-12-25T20:58:35Z",
      "title": "Not hidden routing default parameters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27454/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27454/comments",
      "html_url": "https://github.com/rails/rails/issues/27454"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have a rake task which imports 38242 rows from a local CSV file. Even though it might not be the most efficient way, for each row `create!` is executed to create a new record. Just by updating Rails to 5.0.1, without changing anything else, the time to create these records increased tremendously. I couldn't find anything in the changelog that would indicate such an increase. \r\n\r\nAny ideas?\r\n\r\n### The rake task basically looks like this\r\n\r\n```\r\nrequire 'csv'\r\n\r\nnamespace :csv do\r\n  desc 'Import records from CSV file'\r\n  task import: :environment do\r\n    puts \"#{Time.now}: Loading ...\"\r\n\r\n    csv_file = File.read(Rails.root.join('lib', 'assets', \"data.csv\"), encoding: Encoding::UTF_8)\r\n    csv = CSV.parse(csv_file, headers: true)\r\n\r\n    count = 0\r\n\r\n    csv.each do |row|\r\n      Record.create!(\r\n        attribute1: row['attribute1'],\r\n        attribute2: row['attribute2'],\r\n        attribute3: row['attribute3'],\r\n        attribute4: row['attribute4'],\r\n        attribute5: row['attribute5']\r\n      )\r\n\r\n      count += 1\r\n    end\r\n\r\n    puts \"#{Time.now}: Loaded #{count} rows.\"\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Rails 5.0.0.1\r\nImport in less than 3 minutes.\r\n```\r\n$ rake csv:import\r\n2016-12-21 22:59:49 +0100: Loading ...\r\n2016-12-21 23:02:37 +0100: Loaded 38242 rows.\r\n```\r\n\r\n### Rails 5.0.1\r\nImport in almost 94 minutes.\r\n```\r\n$ rake csv:import\r\n2016-12-22 08:32:49 +0100: Loading ...\r\n2016-12-22 10:06:26 +0100: Loaded 38242 rows.\r\n```\r\n\r\n### System configuration\r\n- Ruby 2.3.3\r\n- Rails 5.0.1\r\n- Puma 3.6.2\r\n- Postgres 9.6\r\n- Mac OS Sierra 10.12.2\r\n",
      "number": 27434,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/stefankp/subscriptions",
         "received_events_url": "https://api.github.com/users/stefankp/received_events",
         "url": "https://api.github.com/users/stefankp",
         "avatar_url": "https://avatars0.githubusercontent.com/u/3661203?v=4",
         "events_url": "https://api.github.com/users/stefankp/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/stefankp/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/stefankp/following{/other_user}",
         "repos_url": "https://api.github.com/users/stefankp/repos",
         "site_admin": false,
         "id": 3661203,
         "organizations_url": "https://api.github.com/users/stefankp/orgs",
         "login": "stefankp",
         "gists_url": "https://api.github.com/users/stefankp/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/stefankp/followers",
         "html_url": "https://github.com/stefankp"
      },
      "state": "closed",
      "closed_by": "27442",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27434",
      "updated_at": "2016-12-27T20:45:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27434/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 197137962,
      "closed_at": "2016-12-27T15:41:26Z",
      "created_at": "2016-12-22T10:06:28Z",
      "title": "Upgrading from Rails 5.0.0.1 to 5.0.1 increases import from local CSV from 3 to 94 minutes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27434/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27434/comments",
      "html_url": "https://github.com/rails/rails/issues/27434"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "All of its namespace children are `:nodoc:`, and it contains no methods or constants.\r\n\r\nNo reason to have it appear in normal docs, which, at [api.rubyonrails.org](http://api.rubyonrails.org/classes/ActiveModel/Type/Helpers.html), shows all the files the namespace is defined in.\r\n\r\nSee also [ActiveModel::Type::Helpers](https://msp-greg.github.io/rails_master/ActiveModel/Type/Helpers.html)",
      "number": 27385,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/MSP-Greg/subscriptions",
         "received_events_url": "https://api.github.com/users/MSP-Greg/received_events",
         "url": "https://api.github.com/users/MSP-Greg",
         "avatar_url": "https://avatars3.githubusercontent.com/u/15081176?v=4",
         "events_url": "https://api.github.com/users/MSP-Greg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/MSP-Greg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/MSP-Greg/following{/other_user}",
         "repos_url": "https://api.github.com/users/MSP-Greg/repos",
         "site_admin": false,
         "id": 15081176,
         "organizations_url": "https://api.github.com/users/MSP-Greg/orgs",
         "login": "MSP-Greg",
         "gists_url": "https://api.github.com/users/MSP-Greg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/MSP-Greg/followers",
         "html_url": "https://github.com/MSP-Greg"
      },
      "state": "closed",
      "closed_by": "27387",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27385",
      "updated_at": "2016-12-16T20:25:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27385/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 196076675,
      "closed_at": "2016-12-16T18:02:42Z",
      "created_at": "2016-12-16T14:54:03Z",
      "title": "[DOCS] Change ActiveModel::Type::Helpers to :nodoc: ?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27385/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27385/comments",
      "html_url": "https://github.com/rails/rails/issues/27385"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I was testing something with Rails 5 master and noticed the change to use bigint at primary keys has caused an issue when using the schema dump, for example in CI or in a bin/setup script.\r\n\r\nIf the application is created previous to upgrading to Rails 5 the schema dump does not properly handle the primary key. Because the migration itself has a compatibility layer the `auto_increment` is correctly applied.\r\n\r\n```ruby\r\n#https://github.com/rails/rails/blob/master/activerecord/lib/active_record/migration/compatibility.rb#L106-L122\r\nclass V5_0 < V5_1\r\n  def create_table(table_name, options = {}) \r\n    if adapter_name == \"PostgreSQL\"\r\n      if options[:id] == :uuid && !options[:default]\r\n        options[:default] = \"uuid_generate_v4()\"\r\n      end \r\n    end \r\n\r\n    # Since 5.1 Postgres adapter uses bigserial type for primary\r\n    # keys by default and MySQL uses bigint. This compat layer makes old migrations utilize\r\n    # serial/int type instead -- the way it used to work before 5.1.\r\n    if options[:id].blank?\r\n      options[:id] = :integer\r\n      options[:auto_increment] = true\r\n    end \r\n\r\n    super\r\n  end \r\nend \r\n```\r\n\r\nThe schema dumper code, however, does not go through the compatibility layer and Active Record sees the `:id` has a type of `:integer` and has no `auto_increment` set so it gets set in the schema to a regular `:id`. Mysql though still knows it's a primary key so it will blow up when trying to insert data into the tables created.\r\n\r\n```ruby\r\n#https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/mysql/schema_definitions.rb#L5-L11\r\ndef primary_key(name, type = :primary_key, **options)\r\n  if type == :primary_key && !options.key?(:default)\r\n    options[:auto_increment] = true\r\n    options[:limit] = 8 \r\n  end \r\n  super\r\nend \r\n```\r\n\r\n[I've created a test application](https://github.com/eileencodes/migration_bug_demo). First clone the repo and run bin/setup. Then checkout the Rails master branch and try to do bin/setup again.\r\n\r\nYou'll see the following error because AR didn'tmark the primary key as auto incrementing, the ID is set to nil:\r\n\r\n```\r\nActiveRecord::NotNullViolation: Mysql2::Error: Field 'id' doesn't have a default value: INSERT INTO `posts` (`title`, `created_at`, `updated_at`) VALUES ('This is a title', '2016-12-15 19:22:00', '2016-12-15 19:22:00')\r\n```\r\n\r\nIn the output you should also see the migration properly adds the `auto_increment` option because it's going through the compatibility layer\r\n\r\n```\r\ncreate_table(:posts, {:id=>:integer, :auto_increment=>true})`\r\n```\r\n\r\nbut the schema dump version does not:\r\n\r\n```\r\ncreate_table(\"posts\", {:id=>:integer, :force=>:cascade, :options=>\"ENGINE=InnoDB DEFAULT CHARSET=utf8\"})\r\n```\r\n\r\nI can try to look into this more this weekend but thought possibly someone else may know offhand how to fix this.\r\n\r\ncc/ @jmccartie @sgrif @matthewd ",
      "number": 27374,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
         "received_events_url": "https://api.github.com/users/eileencodes/received_events",
         "url": "https://api.github.com/users/eileencodes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
         "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
         "repos_url": "https://api.github.com/users/eileencodes/repos",
         "site_admin": true,
         "id": 1080678,
         "organizations_url": "https://api.github.com/users/eileencodes/orgs",
         "login": "eileencodes",
         "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eileencodes/followers",
         "html_url": "https://github.com/eileencodes"
      },
      "state": "closed",
      "closed_by": "14",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/27374",
      "updated_at": "2017-02-11T01:43:42Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27374/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 195893080,
      "closed_at": "2017-02-10T19:36:06Z",
      "created_at": "2016-12-15T19:25:04Z",
      "title": "Regression: Bigint change doesn't work for schema dump's of previous created application",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27374/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27374/comments",
      "html_url": "https://github.com/rails/rails/issues/27374"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nI'm not entirely sure if this is a bug or a fix in 5.0.1.rc2, but since I couldn't find a deprecation warning or similar I thought I'd report anyway, since this happens in an update in a patch version.\r\n\r\nI *think* it's similar or the same as in https://github.com/rails/rails/issues/23573. I haven't yet tried with `git bisect` but so far my best bet would be that it has been introduced in https://github.com/rails/rails/pull/26317 and also a discussion here: https://github.com/rails/rails/issues/26298.\r\n\r\nI have the following code in a controller:\r\n```Ruby\r\nsend_file thumb.path, type: mime_type\r\n```\r\n\r\nand the following test case:\r\n```Ruby\r\nexpect(response['Content-Type']).to eq image.thumb.content_type\r\n```\r\n\r\n### Expected behavior\r\nThe test should be successful, like in v5.0.0.1.\r\n\r\n### Actual behavior\r\nI get the following error:\r\n```\r\nFailure/Error: expect(response['Content-Type']).to eq image.thumb.content_type\r\n\r\nexpected: \"image/png\"\r\n     got: \"image/png; charset=utf-8\"\r\n\r\n(compared using ==)\r\n# ./spec/api/image_thumbs_api_spec.rb:26:in `block (3 levels) in <top (required)>'\r\n# -e:1:in `<main>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n5.0.1.rc2\r\n**Ruby version**:\r\n2.3.1",
      "number": 27344,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         },
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/aried3r/subscriptions",
         "received_events_url": "https://api.github.com/users/aried3r/received_events",
         "url": "https://api.github.com/users/aried3r",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1301152?v=4",
         "events_url": "https://api.github.com/users/aried3r/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/aried3r/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/aried3r/following{/other_user}",
         "repos_url": "https://api.github.com/users/aried3r/repos",
         "site_admin": false,
         "id": 1301152,
         "organizations_url": "https://api.github.com/users/aried3r/orgs",
         "login": "aried3r",
         "gists_url": "https://api.github.com/users/aried3r/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/aried3r/followers",
         "html_url": "https://github.com/aried3r"
      },
      "state": "closed",
      "closed_by": "27408",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27344",
      "updated_at": "2016-12-20T11:04:22Z",
      "milestone": {
         "closed_at": "2017-01-05T05:00:22Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/54",
         "description": "",
         "updated_at": "2017-01-05T05:00:22Z",
         "number": 54,
         "due_on": null,
         "id": 2169844,
         "open_issues": 0,
         "closed_issues": 5,
         "created_at": "2016-12-01T20:47:21Z",
         "title": "5.0.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/54/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/54",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27344/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 2,
      "id": 195276940,
      "closed_at": "2016-12-20T11:04:22Z",
      "created_at": "2016-12-13T15:05:49Z",
      "title": "`Content-Type` regression in 5.0.1.rc2?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27344/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27344/comments",
      "html_url": "https://github.com/rails/rails/issues/27344"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nI attach two files which are identical except one uses Rails 5.0 and one Rails 4.2.\r\n\r\nThe Rails 5.0 version fails since the before_update callback is called for the `User` while in Rails 4.2 is not.\r\n\r\nIs not clear to me why this is happening and I could solve it setting `has_many :users, through: :followers, autosave: false` in the `Article` model.\r\n\r\nI think this is not documented in Rails migration from 4.2 to 5.0  or at least not clear enough.\r\n\r\nFrom my point of view can even be considered a bug.\r\n\r\nActiverecord5: https://gist.github.com/coorasse/cf58fbb17535f440b6b86ae5175cdacf\r\nActiverecord4: https://gist.github.com/coorasse/edba0c40e1a5b060c7bb3754be2e7bfa\r\n",
      "number": 27338,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/coorasse/subscriptions",
         "received_events_url": "https://api.github.com/users/coorasse/received_events",
         "url": "https://api.github.com/users/coorasse",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1319150?v=4",
         "events_url": "https://api.github.com/users/coorasse/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/coorasse/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/coorasse/following{/other_user}",
         "repos_url": "https://api.github.com/users/coorasse/repos",
         "site_admin": false,
         "id": 1319150,
         "organizations_url": "https://api.github.com/users/coorasse/orgs",
         "login": "coorasse",
         "gists_url": "https://api.github.com/users/coorasse/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/coorasse/followers",
         "html_url": "https://github.com/coorasse"
      },
      "state": "closed",
      "closed_by": "27490",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27338",
      "updated_at": "2017-04-04T08:55:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27338/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 195001037,
      "closed_at": "2016-12-29T08:11:58Z",
      "created_at": "2016-12-12T15:21:50Z",
      "title": "before_update called for children during parent creation with no reason",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27338/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27338/comments",
      "html_url": "https://github.com/rails/rails/issues/27338"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nSince PR #26672 has been merged, variable `block` in partial view doesn't work, which previously worked.\r\n\r\nIn erb file:\r\n\r\n```erb\r\n<%= render @blocks >\r\n```\r\n\r\n`app/views/blocks/_block.html.erb`\r\n\r\n```erb\r\n<%= block %>\r\n```\r\n\r\nThis raises following error:\r\n\r\n```\r\nActionView::Template::Error: undefined local variable or method `block' for #<ActionView::Base:0x00xxxxx>\r\n```\r\n\r\n### Expected behavior\r\n\r\n`block` variable can be used in view. (can be used In Rails v5.0.0)\r\n\r\n### Actual behavior\r\n\r\n`block` variable raises `ActionView::Template::Error`.\r\n\r\n### System configuration\r\n\r\n**Rails version**:\r\n\r\nLatest version.\r\n\r\n**Ruby version**:\r\n\r\nruby 2.3.3",
      "number": 27302,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/toshimaru/subscriptions",
         "received_events_url": "https://api.github.com/users/toshimaru/received_events",
         "url": "https://api.github.com/users/toshimaru",
         "avatar_url": "https://avatars0.githubusercontent.com/u/803398?v=4",
         "events_url": "https://api.github.com/users/toshimaru/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/toshimaru/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/toshimaru/following{/other_user}",
         "repos_url": "https://api.github.com/users/toshimaru/repos",
         "site_admin": false,
         "id": 803398,
         "organizations_url": "https://api.github.com/users/toshimaru/orgs",
         "login": "toshimaru",
         "gists_url": "https://api.github.com/users/toshimaru/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/toshimaru/followers",
         "html_url": "https://github.com/toshimaru"
      },
      "state": "closed",
      "closed_by": "27303",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27302",
      "updated_at": "2016-12-08T23:20:54Z",
      "milestone": {
         "closed_at": "2017-01-05T05:00:22Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/54",
         "description": "",
         "updated_at": "2017-01-05T05:00:22Z",
         "number": 54,
         "due_on": null,
         "id": 2169844,
         "open_issues": 0,
         "closed_issues": 5,
         "created_at": "2016-12-01T20:47:21Z",
         "title": "5.0.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/54/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/54",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27302/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 0,
      "id": 194412292,
      "closed_at": "2016-12-08T23:20:54Z",
      "created_at": "2016-12-08T18:42:44Z",
      "title": "Variable `block` can't be used in view",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27302/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27302/comments",
      "html_url": "https://github.com/rails/rails/issues/27302"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Summary\r\n\r\nIn #27126, @kamipo updated the regex matcher for `unsigned?` to exclude enum and set types. There was a discussion on why the change was necessary, and I thought it might be worthwhile to include the reasoning in with the code for future readers.\r\n",
      "number": 27286,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "url": "https://api.github.com/users/eileencodes",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "site_admin": true,
            "id": 1080678,
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "login": "eileencodes",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "html_url": "https://github.com/eileencodes"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/alexcameron89/subscriptions",
         "received_events_url": "https://api.github.com/users/alexcameron89/received_events",
         "url": "https://api.github.com/users/alexcameron89",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5634381?v=4",
         "events_url": "https://api.github.com/users/alexcameron89/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/alexcameron89/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/alexcameron89/following{/other_user}",
         "repos_url": "https://api.github.com/users/alexcameron89/repos",
         "site_admin": false,
         "id": 5634381,
         "organizations_url": "https://api.github.com/users/alexcameron89/orgs",
         "login": "alexcameron89",
         "gists_url": "https://api.github.com/users/alexcameron89/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/alexcameron89/followers",
         "html_url": "https://github.com/alexcameron89"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/27286",
      "updated_at": "2016-12-06T20:38:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27286/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
         "received_events_url": "https://api.github.com/users/eileencodes/received_events",
         "url": "https://api.github.com/users/eileencodes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
         "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
         "repos_url": "https://api.github.com/users/eileencodes/repos",
         "site_admin": true,
         "id": 1080678,
         "organizations_url": "https://api.github.com/users/eileencodes/orgs",
         "login": "eileencodes",
         "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eileencodes/followers",
         "html_url": "https://github.com/eileencodes"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 309390193,
            "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
            "color": "fef2c0",
            "default": false,
            "name": "MySQL"
         }
      ],
      "comments": 2,
      "id": 193842764,
      "closed_at": "2016-12-06T20:22:14Z",
      "created_at": "2016-12-06T18:03:20Z",
      "title": "[ci skip] Document regex change",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27286/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27286/comments",
      "pull_request": {
         "patch_url": "https://github.com/rails/rails/pull/27286.patch",
         "url": "https://api.github.com/repos/rails/rails/pulls/27286",
         "diff_url": "https://github.com/rails/rails/pull/27286.diff",
         "html_url": "https://github.com/rails/rails/pull/27286"
      },
      "html_url": "https://github.com/rails/rails/pull/27286"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Since 191facc857bb4fb52078fb544c6bc1613a81cc80 (particularly: https://github.com/rails/rails/commit/191facc857bb4fb52078fb544c6bc1613a81cc80#diff-eba6b59bacb9a1d88646145ed1ff4c86L34) the SQL runtime is not instrumented under the `INFO` log level. I guess this is a bug as I see no logical reason why this information is considered too verbose for the `INFO` log level. Indeed, this is still reported/emitted but as `0`.\r\n\r\nMoving that line back above the `logger.debug?` guard corrects the issue.\r\n\r\nI'm happy to submit a fix but wanted first to assess whether this was the expected behaviour.\r\n\r\n### Steps to reproduce\r\n\r\nhttps://gist.github.com/benlovell/3bd9093a6761d3b399517da517c8bdd8\r\n\r\n### Expected behavior\r\n\r\nThe SQL runtime counter should be instrumented in all log levels.\r\n\r\n### Actual behavior\r\n\r\nThe SQL runtime counter isn't instrumented correctly under the `INFO` log level.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.0.1\r\n\r\n**Ruby version**: 2.3.3\r\n",
      "number": 27263,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/benlovell/subscriptions",
         "received_events_url": "https://api.github.com/users/benlovell/received_events",
         "url": "https://api.github.com/users/benlovell",
         "avatar_url": "https://avatars2.githubusercontent.com/u/41963?v=4",
         "events_url": "https://api.github.com/users/benlovell/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/benlovell/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/benlovell/following{/other_user}",
         "repos_url": "https://api.github.com/users/benlovell/repos",
         "site_admin": false,
         "id": 41963,
         "organizations_url": "https://api.github.com/users/benlovell/orgs",
         "login": "benlovell",
         "gists_url": "https://api.github.com/users/benlovell/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/benlovell/followers",
         "html_url": "https://github.com/benlovell"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27263",
      "updated_at": "2016-12-07T20:01:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27263/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 193361901,
      "closed_at": "2016-12-07T18:24:37Z",
      "created_at": "2016-12-04T17:05:04Z",
      "title": "Correctly instrument SQL runtime in the `INFO` log level",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27263/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27263/comments",
      "html_url": "https://github.com/rails/rails/issues/27263"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nI can not use `5.1.0.alpha` to start a rails server with options.\r\n\r\n### Expected behavior\r\nwork well.\r\n\r\n### Actual behavior\r\n\r\n<img width=\"1204\" alt=\"2016-12-03 11 11 00\" src=\"https://cloud.githubusercontent.com/assets/5362640/20860244/51e89972-b9ae-11e6-887e-ac57f22c26e8.png\">\r\n\r\n\r\n### System configuration\r\n**Rails version**: 5.1.0.alpha\r\n\r\n**Ruby version**: 2.3.3\r\n",
      "number": 27260,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/FlowerWrong/subscriptions",
         "received_events_url": "https://api.github.com/users/FlowerWrong/received_events",
         "url": "https://api.github.com/users/FlowerWrong",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5362640?v=4",
         "events_url": "https://api.github.com/users/FlowerWrong/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/FlowerWrong/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/FlowerWrong/following{/other_user}",
         "repos_url": "https://api.github.com/users/FlowerWrong/repos",
         "site_admin": false,
         "id": 5362640,
         "organizations_url": "https://api.github.com/users/FlowerWrong/orgs",
         "login": "FlowerWrong",
         "gists_url": "https://api.github.com/users/FlowerWrong/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/FlowerWrong/followers",
         "html_url": "https://github.com/FlowerWrong"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27260",
      "updated_at": "2016-12-03T15:42:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27260/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 193292655,
      "closed_at": "2016-12-03T15:41:56Z",
      "created_at": "2016-12-03T15:15:47Z",
      "title": "Rails 5.1.0.alpha can not start server with options",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27260/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27260/comments",
      "html_url": "https://github.com/rails/rails/issues/27260"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "With rails 5.0.1.rc1, I'm seeing failures to create indexes in MySQL with `length` options specified.  It looks like the `length` options are being ignored.\r\n\r\n### Steps to reproduce\r\n\r\n- Executable reproduction script: https://gist.github.com/seanwalbran/03939f95c9dd2ba2c02fadc99698fe52#file-active_record_gem-rb\r\n- Log of failure under 5.0.1.rc1: https://gist.github.com/seanwalbran/03939f95c9dd2ba2c02fadc99698fe52#file-5-0-1-rc1-log\r\n- Log of success under 5.0.0.1: https://gist.github.com/seanwalbran/03939f95c9dd2ba2c02fadc99698fe52#file-5-0-0-1-log\r\n\r\n[Line that breaks](https://gist.github.com/seanwalbran/03939f95c9dd2ba2c02fadc99698fe52#file-active_record_gem-rb-L30): ```t.index [\"user_id\", \"uri\"], name: \"index_posts_on_user_id_and_uri\", length: {\"user_id\"=>nil, \"uri\"=>255}, using: :btree```\r\n\r\nError message: ```Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE TABLE `posts` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` int NOT NULL, `uri` varchar(4096) NOT NULL,  INDEX `index_posts_on_user_id_and_uri` USING btree (`user_id`, `uri`)) ENGINE=InnoDB (ActiveRecord::StatementInvalid)```\r\n\r\n### Expected behavior\r\n\r\nIndex `length` options should be applied when the index is created\r\n\r\n### Actual behavior\r\n\r\nIndex `length` options are ignored, resulting in the failure to create the index if underlying length limits are exceeded.  Note in particular that the create table USING clause differs as follows:\r\n- 5.0.1.rc1 (failure): USING btree (`user_id`, `uri`))\r\n- 5.0.0.1 (success): USING btree (`user_id`, `uri`(255)))\r\n\r\n### System configuration\r\n**Rails version**: 5.0.1.rc1\r\n\r\n**Ruby version**: 2.3.1\r\n\r\n**Database**: mysql 5.6.22",
      "number": 27243,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/seanwalbran/subscriptions",
         "received_events_url": "https://api.github.com/users/seanwalbran/received_events",
         "url": "https://api.github.com/users/seanwalbran",
         "avatar_url": "https://avatars0.githubusercontent.com/u/398045?v=4",
         "events_url": "https://api.github.com/users/seanwalbran/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/seanwalbran/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/seanwalbran/following{/other_user}",
         "repos_url": "https://api.github.com/users/seanwalbran/repos",
         "site_admin": false,
         "id": 398045,
         "organizations_url": "https://api.github.com/users/seanwalbran/orgs",
         "login": "seanwalbran",
         "gists_url": "https://api.github.com/users/seanwalbran/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/seanwalbran/followers",
         "html_url": "https://github.com/seanwalbran"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27243",
      "updated_at": "2016-12-06T00:43:18Z",
      "milestone": {
         "closed_at": "2017-01-05T05:00:22Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/54",
         "description": "",
         "updated_at": "2017-01-05T05:00:22Z",
         "number": 54,
         "due_on": null,
         "id": 2169844,
         "open_issues": 0,
         "closed_issues": 5,
         "created_at": "2016-12-01T20:47:21Z",
         "title": "5.0.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/54/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/54",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/27243/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 309390193,
            "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
            "color": "fef2c0",
            "default": false,
            "name": "MySQL"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 192886494,
      "closed_at": "2016-12-06T00:43:18Z",
      "created_at": "2016-12-01T15:59:57Z",
      "title": "database index creation with length options failing in 5.0.1.rc1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27243/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27243/comments",
      "html_url": "https://github.com/rails/rails/issues/27243"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\n1. create two rails app with a basic chat\r\n2. Setup ChatChannel for both app with `stream_from \"chat_channel\"`\r\n3. Run both app and two differents actioncable server (using redis)\r\n4. send a message from app 1\r\n\r\n### Expected behavior\r\n\r\nThe message is saved in app 1 and broadcasted to **app 1** websocket\r\n\r\n### Actual behavior\r\n\r\nThe message is saved in app 1 and broadcasted to **both app** websocket\r\n",
      "number": 27224,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/StephaneRob/subscriptions",
         "received_events_url": "https://api.github.com/users/StephaneRob/received_events",
         "url": "https://api.github.com/users/StephaneRob",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4135765?v=4",
         "events_url": "https://api.github.com/users/StephaneRob/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/StephaneRob/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/StephaneRob/following{/other_user}",
         "repos_url": "https://api.github.com/users/StephaneRob/repos",
         "site_admin": false,
         "id": 4135765,
         "organizations_url": "https://api.github.com/users/StephaneRob/orgs",
         "login": "StephaneRob",
         "gists_url": "https://api.github.com/users/StephaneRob/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/StephaneRob/followers",
         "html_url": "https://github.com/StephaneRob"
      },
      "state": "closed",
      "closed_by": "27425",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27224",
      "updated_at": "2017-01-18T05:00:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27224/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 192528498,
      "closed_at": "2017-01-18T05:00:50Z",
      "created_at": "2016-11-30T10:27:20Z",
      "title": "Scope channel if multiple actioncable server using redis",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27224/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27224/comments",
      "html_url": "https://github.com/rails/rails/issues/27224"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here:\r\n\r\nhttp://guides.rubyonrails.org/form_helpers.html\r\n\r\nit writes:\r\n\r\n`The second argument to options_for_select must be exactly equal to the desired internal value. In particular if the value is the integer 2 you cannot pass \"2\" to options_for_select - you must pass 2. Be aware of values extracted from the params hash as they are all strings.`\r\n\r\nHowever, I tried doing exactly this in Rails 5 and it worked. So you might want to remove this or specify it applies for older versions of Rails.",
      "number": 27202,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dare05/subscriptions",
         "received_events_url": "https://api.github.com/users/dare05/received_events",
         "url": "https://api.github.com/users/dare05",
         "avatar_url": "https://avatars3.githubusercontent.com/u/5405850?v=4",
         "events_url": "https://api.github.com/users/dare05/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dare05/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dare05/following{/other_user}",
         "repos_url": "https://api.github.com/users/dare05/repos",
         "site_admin": false,
         "id": 5405850,
         "organizations_url": "https://api.github.com/users/dare05/orgs",
         "login": "dare05",
         "gists_url": "https://api.github.com/users/dare05/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dare05/followers",
         "html_url": "https://github.com/dare05"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27202",
      "updated_at": "2016-11-30T20:41:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27202/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 3,
      "id": 192038345,
      "closed_at": "2016-11-30T20:12:28Z",
      "created_at": "2016-11-28T15:41:24Z",
      "title": "Second arg for 'options for select' works in Rails 5",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27202/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27202/comments",
      "html_url": "https://github.com/rails/rails/issues/27202"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nGiven a case when `Pet.has_many :toys`, the following delete_all and update_all fails:\r\n\r\n```ruby\r\nPet.left_joins(:toys).where(:toys => {:name => 'Bone'}).update_all(name: \"Bob\")\r\nPet.left_joins(:toys).where(:toys => {:name => 'Bone'}).delete_all\r\n```\r\n\r\nBecause current Arel implementation ignores left joins when checking if it should join tables.\r\n\r\n### Expected behavior\r\nThe relation should be update/deleted\r\n\r\n### Actual behavior\r\nThe generated query is invalid\r\n\r\n### System configuration\r\n**Rails version**: 5\r\n**Ruby version**: any\r\n",
      "number": 27192,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/plentz/subscriptions",
         "received_events_url": "https://api.github.com/users/plentz/received_events",
         "url": "https://api.github.com/users/plentz",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4867?v=4",
         "events_url": "https://api.github.com/users/plentz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/plentz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/plentz/following{/other_user}",
         "repos_url": "https://api.github.com/users/plentz/repos",
         "site_admin": false,
         "id": 4867,
         "organizations_url": "https://api.github.com/users/plentz/orgs",
         "login": "plentz",
         "gists_url": "https://api.github.com/users/plentz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/plentz/followers",
         "html_url": "https://github.com/plentz"
      },
      "state": "closed",
      "closed_by": "27193",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27192",
      "updated_at": "2016-11-28T02:21:14Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27192/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 191887850,
      "closed_at": "2016-11-28T02:21:14Z",
      "created_at": "2016-11-27T21:47:33Z",
      "title": "update_all and delete_all doesn't work when chained with left_joins",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27192/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27192/comments",
      "html_url": "https://github.com/rails/rails/issues/27192"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\nAs in the start of the guide, change the article_edit view's form to like \r\n```ruby\r\n<%= form_for(:post, url: post_path(@post), method: :patch) do |f| %>\r\n```\r\n\r\nTry to submit the edit form with the title length less than 5\r\n\r\n### Expected behavior\r\nOn submitting the form the following error will be raised\r\nActionController::UrlGenerationError in Articles#update\r\n\r\nthe full traceback\r\n```\r\nActionController::UrlGenerationError in Posts#update\r\nShowing D:/SourceCodesAll/ruby/rails_starter/blog/app/views/posts/edit.erb where line #3 raised:\r\n\r\nNo route matches {:action=>\"show\", :controller=>\"posts\", :id=>nil} missing required keys: [:id]\r\nRails.root: D:/SourceCodesAll/ruby/rails_starter/blog\r\n\r\nApplication Trace | Framework Trace | Full Trace\r\napp/views/posts/edit.erb:3:in `_app_views_posts_edit_erb__9863216_77879280'\r\napp/controllers/posts_controller.rb:32:in `update'\r\nRequest\r\n\r\nParameters:\r\n\r\n{\"utf8\"=>\"\u2713\",\r\n \"_method\"=>\"patch\",\r\n \"authenticity_token\"=>\"S7tRNCapaUmzxi4w4B1i5/kV2aAya6GbpSF/40vMiwk1d7ONkw054I8mqk8ZV8XzDrdUFN9CW1bi/pxuvqNQfA==\",\r\n \"post\"=>{\"title\"=>\"erer\",\r\n \"body\"=>\"cgccgfg\"},\r\n \"commit\"=>\"Save Post\",\r\n \"id\"=>\"4\"}\r\n```\r\n\r\n### Actual behavior\r\nIt should show the edit form again with error message that the title length should have length 5 or more\r\n\r\n### System configuration\r\n**Rails version**:\r\n4.2.5.1\r\n**Ruby version**:\r\n2.2.0",
      "number": 27189,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jnoortheen/subscriptions",
         "received_events_url": "https://api.github.com/users/jnoortheen/received_events",
         "url": "https://api.github.com/users/jnoortheen",
         "avatar_url": "https://avatars1.githubusercontent.com/u/6702219?v=4",
         "events_url": "https://api.github.com/users/jnoortheen/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jnoortheen/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jnoortheen/following{/other_user}",
         "repos_url": "https://api.github.com/users/jnoortheen/repos",
         "site_admin": false,
         "id": 6702219,
         "organizations_url": "https://api.github.com/users/jnoortheen/orgs",
         "login": "jnoortheen",
         "gists_url": "https://api.github.com/users/jnoortheen/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jnoortheen/followers",
         "html_url": "https://github.com/jnoortheen"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27189",
      "updated_at": "2016-11-28T02:37:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27189/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 5,
      "id": 191871565,
      "closed_at": "2016-11-27T22:40:45Z",
      "created_at": "2016-11-27T16:53:46Z",
      "title": "Getting Started Guide: ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27189/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27189/comments",
      "html_url": "https://github.com/rails/rails/issues/27189"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n i'm using rails without migration.\r\nThe problem occurs in table like:\r\n``` sql\r\n# table definition\r\nCREATE TABLE `samples` (\r\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\r\n  `problem_column` mediumint(7) unsigned zerofill DEFAULT NULL,\r\n   PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB  DEFAULT CHARSET=utf8;\r\n```\r\n\r\nproblem_column is unsigned, but Rails treat it as signed\r\n\r\n``` ruby\r\n# model\r\nclass Sample < ApplicationRecord\r\nend\r\n```\r\n### Expected behavior\r\nrecognize unsigned column as so not only case it is at the end of sentence.\r\n\r\n### Actual behavior\r\nrecognize unsigned column as so \"only\" case it is at the end of sentence(because of https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L694 and https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/mysql/column.rb#L7).\r\n\r\n``` ruby\r\nSample.columns[-1]\r\n#=> #<ActiveRecord::ConnectionAdapters::MySQL::Column:0x007fd91a3a9328 @name=\"problem_column\", @table_name=\"samples\", @sql_type_metadata=#<ActiveRecord::ConnectionAdapters::SqlTypeMetadata:0x007fd91a3a9580 @sql_type=\"mediumint(7) unsigned zerofill\", @type=:integer, @limit=3, @precision=nil, @scale=nil>, @null=true, @default=nil, @default_function=nil, @collation=nil, @comment=nil>\r\n\r\nSample.columns[-1].unsigned?\r\n#=> false\r\n\r\nSample.create(problem_column: 16777215)\r\n# ActiveModel::RangeError: 16777215 is out of range for ActiveModel::Type::Integer with limit 3\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 5.0\r\n\r\n**Ruby version**: 2.3.0",
      "number": 27125,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/SaxtonDrey/subscriptions",
         "received_events_url": "https://api.github.com/users/SaxtonDrey/received_events",
         "url": "https://api.github.com/users/SaxtonDrey",
         "avatar_url": "https://avatars2.githubusercontent.com/u/12193811?v=4",
         "events_url": "https://api.github.com/users/SaxtonDrey/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/SaxtonDrey/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/SaxtonDrey/following{/other_user}",
         "repos_url": "https://api.github.com/users/SaxtonDrey/repos",
         "site_admin": false,
         "id": 12193811,
         "organizations_url": "https://api.github.com/users/SaxtonDrey/orgs",
         "login": "SaxtonDrey",
         "gists_url": "https://api.github.com/users/SaxtonDrey/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/SaxtonDrey/followers",
         "html_url": "https://github.com/SaxtonDrey"
      },
      "state": "closed",
      "closed_by": "27126",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27125",
      "updated_at": "2016-11-29T16:10:39Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27125/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 309390193,
            "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
            "color": "fef2c0",
            "default": false,
            "name": "MySQL"
         }
      ],
      "comments": 0,
      "id": 190624674,
      "closed_at": "2016-11-29T16:10:39Z",
      "created_at": "2016-11-21T05:45:38Z",
      "title": "MySQL unsigned column is treated as signed column  when column is like 'unsigned zerofill'",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27125/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27125/comments",
      "html_url": "https://github.com/rails/rails/issues/27125"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "On the [security](http://guides.rubyonrails.org/security.html) section of the Rails guide, it can be read:\r\n\r\n\"_However, it can easily happen that the programmer forgets to use it, so _it is recommended to use the SafeErb gem. SafeErb reminds you to escape strings from external sources._\"\r\n\r\nThe repository of the gem [SafeErb](https://github.com/abedra/safe-erb) doesn't show activity since 2012. I think that is a good idea to remove the part where the recommendation to use this gem is mentioned.\r\n\r\nAlso one of the authors of the gem [recommend not to use it](https://github.com/abedra/safe-erb/issues/1).\r\n",
      "number": 27085,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
            "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
            "url": "https://api.github.com/users/vipulnsward",
            "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
            "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
            "repos_url": "https://api.github.com/users/vipulnsward/repos",
            "site_admin": false,
            "id": 567626,
            "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
            "login": "vipulnsward",
            "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/vipulnsward/followers",
            "html_url": "https://github.com/vipulnsward"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nisevi/subscriptions",
         "received_events_url": "https://api.github.com/users/nisevi/received_events",
         "url": "https://api.github.com/users/nisevi",
         "avatar_url": "https://avatars0.githubusercontent.com/u/3024789?v=4",
         "events_url": "https://api.github.com/users/nisevi/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nisevi/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nisevi/following{/other_user}",
         "repos_url": "https://api.github.com/users/nisevi/repos",
         "site_admin": false,
         "id": 3024789,
         "organizations_url": "https://api.github.com/users/nisevi/orgs",
         "login": "nisevi",
         "gists_url": "https://api.github.com/users/nisevi/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nisevi/followers",
         "html_url": "https://github.com/nisevi"
      },
      "state": "closed",
      "closed_by": "27086",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27085",
      "updated_at": "2016-11-17T20:10:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27085/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
         "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
         "url": "https://api.github.com/users/vipulnsward",
         "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
         "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
         "repos_url": "https://api.github.com/users/vipulnsward/repos",
         "site_admin": false,
         "id": 567626,
         "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
         "login": "vipulnsward",
         "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vipulnsward/followers",
         "html_url": "https://github.com/vipulnsward"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 91966972,
            "url": "https://api.github.com/repos/rails/rails/labels/security",
            "color": "D94A4A",
            "default": false,
            "name": "security"
         }
      ],
      "comments": 0,
      "id": 190114198,
      "closed_at": "2016-11-17T18:41:48Z",
      "created_at": "2016-11-17T17:38:33Z",
      "title": "Update Rails security guide by removing SafeErb suggestion.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27085/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27085/comments",
      "html_url": "https://github.com/rails/rails/issues/27085"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nThe definition of `get_multi` in Dalli at https://github.com/petergoldstein/dalli/blob/master/lib/dalli/client.rb#L65 is:\r\n\r\n```ruby\r\ndef get_multi(*keys)\r\n```\r\n\r\nthe implementation of `read_multi` in `ActiveSupport::MemCacheStore` at https://github.com/rails/rails/blob/master/activesupport/lib/active_support/cache/mem_cache_store.rb#L100 is:\r\n\r\n```ruby\r\nraw_values = @data.get_multi(keys_to_names.keys, raw: true)\r\n```\r\n\r\nwhat's happening is that every call to `read_multi` is also adding a key called `\"{:raw=>true}\"`. We discovered this because this issue has been causing an incredible cache miss rate for us on one of our memcached servers. We run with 9 memcached servers and 8 of the 9 get about 1.5k misses per second. The server that `\"{:raw => true}\"` is supposed to reside on is getting about 40k misses per second and the incoming packets per second is now starting to overload the box.\r\n\r\nI think the `raw: true` should be removed, unless other drives require it, in which case it should only be removed for Dalli.\r\n\r\n### System configuration\r\n**Rails version**:\r\n4.2.7.1\r\n\r\n**Ruby version**:\r\n2.2.3p173",
      "number": 27066,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jonhyman/subscriptions",
         "received_events_url": "https://api.github.com/users/jonhyman/received_events",
         "url": "https://api.github.com/users/jonhyman",
         "avatar_url": "https://avatars2.githubusercontent.com/u/832655?v=4",
         "events_url": "https://api.github.com/users/jonhyman/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jonhyman/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jonhyman/following{/other_user}",
         "repos_url": "https://api.github.com/users/jonhyman/repos",
         "site_admin": false,
         "id": 832655,
         "organizations_url": "https://api.github.com/users/jonhyman/orgs",
         "login": "jonhyman",
         "gists_url": "https://api.github.com/users/jonhyman/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jonhyman/followers",
         "html_url": "https://github.com/jonhyman"
      },
      "state": "closed",
      "closed_by": "27070",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27066",
      "updated_at": "2016-11-17T23:19:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27066/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 189759835,
      "closed_at": "2016-11-17T23:19:47Z",
      "created_at": "2016-11-16T16:29:45Z",
      "title": "Memcached read_multi always looks up key of \"raw => true\" when using Dalli",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27066/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27066/comments",
      "html_url": "https://github.com/rails/rails/issues/27066"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When I test a method with an unregistered content responder, such as this common use case \ud83d\ude05 \r\n\r\n    get foo_path, params: {...}, as: :xml\r\n\r\nThis will maddeningly request with text/html, because RequestEncoder always reverts back to WWWFormEncoder\r\n\r\n         # ActionDispatch::IntegrationTest::Session::RequestEncoder\r\n          def self.encoder(name)\r\n            @encoders[name] || WWWFormEncoder\r\n          end\r\n\r\nThe only inbuilt `@encoders` is `:json` - if someone is using another argument to `:as`, it should raise an error or at least show a deprecation-style warning instead of silently falling back so people know to register their custom encoder.\r\n\r\nGiven that trying to register invalid mime types also gives a nice warning, I think it's appropriate to show the same thing here.\r\n\r\n          unless @mime\r\n              raise ArgumentError, \"Can't register a request encoder for \" \\\r\n                \"unregistered MIME Type: #{mime_name}. See `Mime::Type.register`.\"\r\n            end\r\n\r\n**Rails version**: 5.0.1, probably also 4.x",
      "number": 27059,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/courtenay/subscriptions",
         "received_events_url": "https://api.github.com/users/courtenay/received_events",
         "url": "https://api.github.com/users/courtenay",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2939?v=4",
         "events_url": "https://api.github.com/users/courtenay/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/courtenay/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/courtenay/following{/other_user}",
         "repos_url": "https://api.github.com/users/courtenay/repos",
         "site_admin": false,
         "id": 2939,
         "organizations_url": "https://api.github.com/users/courtenay/orgs",
         "login": "courtenay",
         "gists_url": "https://api.github.com/users/courtenay/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/courtenay/followers",
         "html_url": "https://github.com/courtenay"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27059",
      "updated_at": "2016-11-15T22:25:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27059/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 189520522,
      "closed_at": "2016-11-15T22:25:23Z",
      "created_at": "2016-11-15T22:05:30Z",
      "title": "IntegrationTest should raise on missing `:as` content type",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27059/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27059/comments",
      "html_url": "https://github.com/rails/rails/issues/27059"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Running `railties/test/initializable_test.rb`:\r\n\r\n```ruby\r\n/home/travis/.rvm/rubies/jruby-9.1.5.0/bin/jruby -w -Itest:lib:/home/travis/build/kirs/rails-1/railties/../activesupport/lib:/home/travis/build/kirs/rails-1/railties/../actionpack/lib:/home/travis/build/kirs/rails-1/railties/../activemodel/lib test/initializable_test.rb\r\n# Running:\r\n.......sh: 1: Syntax error: Unterminated quoted string\r\nArgumentError: marshal data too short\r\n                 load at org/jruby/RubyMarshal.java:147\r\n                  run at /home/travis/build/kirs/rails-1/activesupport/lib/active_support/testing/isolation.rb:21\r\n       run_one_method at /home/travis/build/kirs/rails-1/vendor/bundle/jruby/2.3.0/gems/minitest-5.3.3/lib/minitest.rb:759\r\n  block in initialize at /home/travis/build/kirs/rails-1/vendor/bundle/jruby/2.3.0/gems/minitest-5.3.3/lib/minitest/parallel.rb:14\r\nrake aborted!\r\n```\r\n\r\n`Marshal.load` gets an empty string from here: https://github.com/rails/rails/blob/master/activesupport/lib/active_support/testing/isolation.rb#L17\r\n\r\nLooks like there's something wrong with `Subprocess.run_in_isolation` method ( https://github.com/rails/rails/blob/master/activesupport/lib/active_support/testing/isolation.rb#L63)\r\n\r\ncc @guilleiguaran @headius ",
      "number": 27050,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kirs/subscriptions",
         "received_events_url": "https://api.github.com/users/kirs/received_events",
         "url": "https://api.github.com/users/kirs",
         "avatar_url": "https://avatars3.githubusercontent.com/u/522155?v=4",
         "events_url": "https://api.github.com/users/kirs/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kirs/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kirs/following{/other_user}",
         "repos_url": "https://api.github.com/users/kirs/repos",
         "site_admin": false,
         "id": 522155,
         "organizations_url": "https://api.github.com/users/kirs/orgs",
         "login": "kirs",
         "gists_url": "https://api.github.com/users/kirs/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kirs/followers",
         "html_url": "https://github.com/kirs"
      },
      "state": "closed",
      "closed_by": "27056",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/27050",
      "updated_at": "2016-11-16T03:05:15Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27050/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 5944892,
            "url": "https://api.github.com/repos/rails/rails/labels/JRuby",
            "color": "02d7e1",
            "default": false,
            "name": "JRuby"
         }
      ],
      "comments": 2,
      "id": 189283778,
      "closed_at": "2016-11-16T03:05:15Z",
      "created_at": "2016-11-15T02:33:49Z",
      "title": "JRuby: broken ActiveSupport::Testing::Isolation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27050/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27050/comments",
      "html_url": "https://github.com/rails/rails/issues/27050"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "During updating one of our apps to Rails 5, we tried to enable api mode and hit a stack level too deep error inside tests, which was caused by some gems using `ActiveSupport.on_load(:action_controller)` to redefine methods via `alias_method`. See https://github.com/skaes/logjam_agent/blob/d20305a91b1cf9c398701e687e14f02f105d7530/lib/logjam_agent/railtie.rb#L80-L94 for an example.\r\n\r\nDuring investigation we found out, that the on_load was triggered twice, if we used `ActionController::API` as base class. Here are some smaller steps to reproduce it:\r\n\r\n### Steps to reproduce\r\n- `rails new my_api --api`\r\n- `rails g controller Users show`\r\n- Put the following code into Users controller:\r\n```\r\nActiveSupport.on_load(:action_controller) do\r\n  puts 'INSIDE ON_LOAD'\r\nend\r\n\r\nclass UsersController < ActionController::API\r\n  def show\r\n    head :ok\r\n  end\r\nend\r\n```\r\n- `bundle exec rake test`\r\n\r\n### Expected behavior\r\n`ActiveSupport.on_load(:action_controller)` should only be triggered once.\r\n\r\n### Actual behavior\r\nThe `INSIDE ON_LOAD` output is printed twice. If I replace `ActionController::API` with `ActionController::Base` it's only printed once.\r\n\r\n### System configuration\r\n**Rails version**: 5.0.0.1\r\n\r\n**Ruby version**: 2.3.1",
      "number": 27013,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Aqualon/subscriptions",
         "received_events_url": "https://api.github.com/users/Aqualon/received_events",
         "url": "https://api.github.com/users/Aqualon",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4507945?v=4",
         "events_url": "https://api.github.com/users/Aqualon/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Aqualon/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Aqualon/following{/other_user}",
         "repos_url": "https://api.github.com/users/Aqualon/repos",
         "site_admin": false,
         "id": 4507945,
         "organizations_url": "https://api.github.com/users/Aqualon/orgs",
         "login": "Aqualon",
         "gists_url": "https://api.github.com/users/Aqualon/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Aqualon/followers",
         "html_url": "https://github.com/Aqualon"
      },
      "state": "closed",
      "closed_by": "28402",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/27013",
      "updated_at": "2017-04-11T22:24:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27013/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 188736859,
      "closed_at": "2017-04-11T22:24:32Z",
      "created_at": "2016-11-11T11:07:36Z",
      "title": "ActiveSupport.on_load(:action_controller) triggered twice in API mode",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27013/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27013/comments",
      "html_url": "https://github.com/rails/rails/issues/27013"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I don't want my application to ever generate a cookie (compliance requirements), so I disable the session store.  This causes `force_ssl` to crash.\r\n\r\nThis seems to be a version 5 issue.  This worked through the Rails 4 series.\r\n\r\nI'm happy to submit a PR but I don't know what the correct fix would be...  Prevent the Metal::Flash concern from being loaded maybe?\r\n\r\n### Steps to reproduce\r\n\r\nReproduction app is here: https://github.com/bronson/force-ssl-repro-app\r\n\r\n- rails new\r\n- disable the session store: `Rails.application.config.session_store :disabled`\r\n- call an action: http://localhost:3001/stuffs\r\n\r\nCrash!\r\n\r\nIf it didn't crash, add force_ssl to your controller.  That makes it crash every time.\r\n\r\n### Backtrace\r\n\r\nactionpack (5.0.0.1) lib/action_controller/metal/flash.rb:9:in `flash'\r\nactionpack (5.0.0.1) lib/action_controller/metal/force_ssl.rb:92:in `force_ssl_redirect'\r\nactionpack (5.0.0.1) lib/action_controller/metal/force_ssl.rb:66:in `block in force_ssl'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:396:in `instance_exec'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:396:in `block in make_lambda'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:169:in `call'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:169:in `block (2 levels) in halting'\r\nactionpack (5.0.0.1) lib/abstract_controller/callbacks.rb:12:in `call'\r\nactionpack (5.0.0.1) lib/abstract_controller/callbacks.rb:12:in `block (2 levels) in <module:Callbacks>'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:170:in `call'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:170:in `block in halting'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:454:in `call'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:454:in `block in call'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:454:in `each'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:454:in `call'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:101:in `__run_callbacks__'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'\r\nactionpack (5.0.0.1) lib/abstract_controller/callbacks.rb:19:in `process_action'\r\nactionpack (5.0.0.1) lib/action_controller/metal/rescue.rb:20:in `process_action'\r\nactionpack (5.0.0.1) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'\r\nactivesupport (5.0.0.1) lib/active_support/notifications.rb:164:in `block in instrument'\r\nactivesupport (5.0.0.1) lib/active_support/notifications/instrumenter.rb:21:in `instrument'\r\nactivesupport (5.0.0.1) lib/active_support/notifications.rb:164:in `instrument'\r\nactionpack (5.0.0.1) lib/action_controller/metal/instrumentation.rb:30:in `process_action'\r\nactionpack (5.0.0.1) lib/action_controller/metal/params_wrapper.rb:248:in `process_action'\r\nactiverecord (5.0.0.1) lib/active_record/railties/controller_runtime.rb:18:in `process_action'\r\nactionpack (5.0.0.1) lib/abstract_controller/base.rb:126:in `process'\r\nactionview (5.0.0.1) lib/action_view/rendering.rb:30:in `process'\r\nactionpack (5.0.0.1) lib/action_controller/metal.rb:190:in `dispatch'\r\nactionpack (5.0.0.1) lib/action_controller/metal.rb:262:in `dispatch'\r\nactionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'\r\nactionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:32:in `serve'\r\nactionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:39:in `block in serve'\r\nactionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `each'\r\nactionpack (5.0.0.1) lib/action_dispatch/journey/router.rb:26:in `serve'\r\nactionpack (5.0.0.1) lib/action_dispatch/routing/route_set.rb:725:in `call'\r\nrack (2.0.1) lib/rack/etag.rb:25:in `call'\r\nrack (2.0.1) lib/rack/conditional_get.rb:25:in `call'\r\nrack (2.0.1) lib/rack/head.rb:12:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/cookies.rb:613:in `call'\r\nactiverecord (5.0.0.1) lib/active_record/migration.rb:552:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:97:in `__run_callbacks__'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'\r\nactivesupport (5.0.0.1) lib/active_support/callbacks.rb:90:in `run_callbacks'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/callbacks.rb:36:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'\r\nweb-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'\r\nweb-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'\r\nweb-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'\r\nweb-console (3.4.0) lib/web_console/middleware.rb:18:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'\r\nrailties (5.0.0.1) lib/rails/rack/logger.rb:36:in `call_app'\r\nrailties (5.0.0.1) lib/rails/rack/logger.rb:24:in `block in call'\r\nactivesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `block in tagged'\r\nactivesupport (5.0.0.1) lib/active_support/tagged_logging.rb:26:in `tagged'\r\nactivesupport (5.0.0.1) lib/active_support/tagged_logging.rb:70:in `tagged'\r\nrailties (5.0.0.1) lib/rails/rack/logger.rb:24:in `call'\r\nsprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/request_id.rb:24:in `call'\r\nrack (2.0.1) lib/rack/method_override.rb:22:in `call'\r\nrack (2.0.1) lib/rack/runtime.rb:22:in `call'\r\nactivesupport (5.0.0.1) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/executor.rb:12:in `call'\r\nactionpack (5.0.0.1) lib/action_dispatch/middleware/static.rb:136:in `call'\r\nrack (2.0.1) lib/rack/sendfile.rb:111:in `call'\r\nrailties (5.0.0.1) lib/rails/engine.rb:522:in `call'\r\npuma (3.6.0) lib/puma/configuration.rb:225:in `call'\r\npuma (3.6.0) lib/puma/server.rb:578:in `handle_request'\r\npuma (3.6.0) lib/puma/server.rb:415:in `process_client'\r\npuma (3.6.0) lib/puma/server.rb:275:in `block in run'\r\npuma (3.6.0) lib/puma/thread_pool.rb:116:in `call'\r\npuma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'\r\n\r\n### System configuration\r\n**Rails version**: 5.0.0.1\r\n**Ruby version**: 2.2.5p319\r\n",
      "number": 27009,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
            "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
            "url": "https://api.github.com/users/prathamesh-sonpatki",
            "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
            "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
            "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
            "site_admin": false,
            "id": 621238,
            "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
            "login": "prathamesh-sonpatki",
            "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
            "html_url": "https://github.com/prathamesh-sonpatki"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bronson/subscriptions",
         "received_events_url": "https://api.github.com/users/bronson/received_events",
         "url": "https://api.github.com/users/bronson",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1776?v=4",
         "events_url": "https://api.github.com/users/bronson/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bronson/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bronson/following{/other_user}",
         "repos_url": "https://api.github.com/users/bronson/repos",
         "site_admin": false,
         "id": 1776,
         "organizations_url": "https://api.github.com/users/bronson/orgs",
         "login": "bronson",
         "gists_url": "https://api.github.com/users/bronson/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bronson/followers",
         "html_url": "https://github.com/bronson"
      },
      "state": "closed",
      "closed_by": "27140",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/27009",
      "updated_at": "2016-11-25T09:55:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/27009/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 188671939,
      "closed_at": "2016-11-25T09:55:33Z",
      "created_at": "2016-11-11T02:40:42Z",
      "title": "actions crash when the session_store is disabled",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/27009/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/27009/comments",
      "html_url": "https://github.com/rails/rails/issues/27009"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails' autoloading does not work correctly in combination with Single Table Inheritance when having subclasses more than one level deep. This is a known problem described in the Rails guides here: http://guides.rubyonrails.org/autoloading_and_reloading_constants.html#autoloading-and-sti. There is a fix mentioned, but applying this leads to a circular dependency RuntimeError.\r\n\r\n### Steps to reproduce\r\nTo ease reproduction I have created a demo application following the example from the guides: https://github.com/kreintjes/rails-autoloading-sti-demo.\r\n\r\n- Checkout the branch [guides fix](https://github.com/kreintjes/rails-autoloading-sti-demo/tree/guides-fix) of the demo application.\r\n- Run bundler, migrations, etc.\r\n- Execute `Rectangle.all` in a Rails console.\r\n\r\n### Expected behavior\r\nI expected the command to return all Rectangles, i.e:\r\n\r\n```\r\nirb(main):002:0> Rectangle.all\r\n  Rectangle Load (0.1ms)  SELECT \"polygons\".* FROM \"polygons\" WHERE \"polygons\".\"type\" IN ('Rectangle', 'Square')\r\n=> #<ActiveRecord::Relation [#<Square id: 1, type: \"Square\", created_at: \"2016-11-07 08:56:42\", updated_at: \"2016-11-07 08:56:42\">]>\r\n```\r\n\r\n### Actual behavior\r\nAn error is raised: \"RuntimeError: Circular dependency detected while autoloading constant Rectangle\" \r\n\r\n### System configuration\r\n**Rails version**: 5.0.0.1\r\n\r\n**Ruby version**: ruby 2.3.0p0\r\n\r\n### Possible fix\r\nI have managed to create an alternative fix that does work, namely by requiring all direct sub classes for all intermediate classes. I am happy to update the guides with this new fix, but I am wondering if this is the way to go. It could also be possible there is an underlying problem with the autoloading feature, but I am not sure. Any suggestions on how to proceed would be appreciated.\r\n\r\nAn example of the working fix can be found in the [working fix](https://github.com/kreintjes/rails-autoloading-sti-demo/tree/working-fix) branch.",
      "number": 26994,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kreintjes/subscriptions",
         "received_events_url": "https://api.github.com/users/kreintjes/received_events",
         "url": "https://api.github.com/users/kreintjes",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3602336?v=4",
         "events_url": "https://api.github.com/users/kreintjes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kreintjes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kreintjes/following{/other_user}",
         "repos_url": "https://api.github.com/users/kreintjes/repos",
         "site_admin": false,
         "id": 3602336,
         "organizations_url": "https://api.github.com/users/kreintjes/orgs",
         "login": "kreintjes",
         "gists_url": "https://api.github.com/users/kreintjes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kreintjes/followers",
         "html_url": "https://github.com/kreintjes"
      },
      "state": "closed",
      "closed_by": "28240",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26994",
      "updated_at": "2017-05-08T19:53:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26994/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 187970604,
      "closed_at": "2017-05-08T16:04:48Z",
      "created_at": "2016-11-08T11:41:54Z",
      "title": "require_dependency fix for autoloading and STI causes circular dependency error",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26994/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26994/comments",
      "html_url": "https://github.com/rails/rails/issues/26994"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If an active record object has a json[] property that includes a special character, then `changed?` will be true even when nothing has changed.\r\n\r\n### Steps to reproduce\r\n\r\n * Create an active record class that has a column of type `json[]`\r\n * Store a value in that array that includes a special character like `\u046c`\r\n * Load the row in active record\r\n * call `attributes` on the active record instance\r\n * `changed?` will be true, even before you make any changes\r\n\r\nHere is a test showing this behavior\r\n\r\n````\r\nit \"should not be changed once it is loaded up\" do\r\n    instance = MyModel.new\r\n    instance.assign_attributes({\r\n        \"my_json_array\" => [{\"description\"=>\"\u046c\"}]\r\n    })\r\n    instance.save!\r\n    reloaded = MyModel.find(instance.id)\r\n\r\n    expect(reloaded.changed?).to be(false) # this will pass\r\n    reloaded.attributes\r\n    expect(reloaded.changed?).to be(false) # this will fail\r\nend\r\n````\r\n\r\nHere is a test showing that this behavior is coming from `ActiveRecord::ConnectionAdapters::PostgreSQL::OID::Array`\r\n\r\n````\r\nit \"should not change in serialization in rails 5\" do\r\n    instance = ActiveRecord::ConnectionAdapters::PostgreSQL::OID::Array.new(ActiveRecord::ConnectionAdapters::PostgreSQL::OID::Json.new)\r\n    str = \"{\\\"{\\\\\\\"description\\\\\\\":\\\\\\\"\u046c\\\\\\\"}\\\"}\"\r\n    deserialized = instance.deserialize(str)\r\n    expect(instance.serialize(deserialized)).to eq(str) # this fails\r\nend\r\n````\r\n\r\nAnd here is a test showing what I think is the analogous code from rails 4, which passes\r\n````\r\nit \"should not have a broken array class in rails 4\" do\r\n    instance = ActiveRecord::ConnectionAdapters::PostgreSQL::OID::Array.new(ActiveRecord::ConnectionAdapters::PostgreSQL::OID::Json.new)\r\n    str = \"{\\\"{\\\\\\\"description\\\\\\\":\\\\\\\"\u046c\\\\\\\"}\\\"}\"\r\n    deserialized = instance.type_cast_from_database(str)\r\n    expect(instance.type_cast_for_database(deserialized)).to eq(str) # this passes\r\nend\r\n````\r\n\r\n### Expected behavior\r\nWhen I load an instance from the database with a special character inside of a column of the `json[]` type, `changed?` should be false when I haven't made any changes\r\n\r\n### Actual behavior\r\nWhen I load an instance from the database with a special character inside of a column of the `json[]` type, `changed?` is true once I have called `attributes`\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 5.0.0.1\r\n\r\n**Ruby version**:\r\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin15]",
      "number": 26991,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nbrustein/subscriptions",
         "received_events_url": "https://api.github.com/users/nbrustein/received_events",
         "url": "https://api.github.com/users/nbrustein",
         "avatar_url": "https://avatars3.githubusercontent.com/u/82556?v=4",
         "events_url": "https://api.github.com/users/nbrustein/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nbrustein/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nbrustein/following{/other_user}",
         "repos_url": "https://api.github.com/users/nbrustein/repos",
         "site_admin": false,
         "id": 82556,
         "organizations_url": "https://api.github.com/users/nbrustein/orgs",
         "login": "nbrustein",
         "gists_url": "https://api.github.com/users/nbrustein/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nbrustein/followers",
         "html_url": "https://github.com/nbrustein"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26991",
      "updated_at": "2017-01-21T16:14:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26991/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 21,
      "id": 187827287,
      "closed_at": "2016-11-17T20:02:59Z",
      "created_at": "2016-11-07T21:01:54Z",
      "title": "Unchanged activerecord object has changed? = true with rails5 + postgres json[] column + special characters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26991/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26991/comments",
      "html_url": "https://github.com/rails/rails/issues/26991"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "rails server -b 0.0.0.0 -p 4000 -e development\r\n\r\nERROR: \"rails server\" was called with arguments [\"-b\", \"0.0.0.0\", \"-p\", \"4000\", \"-e\", \"development\"] (Thor::InvocationError)\r\nUsage: \"bin/rails server [options]\"\r\n\r\n",
      "number": 26964,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/guolijun/subscriptions",
         "received_events_url": "https://api.github.com/users/guolijun/received_events",
         "url": "https://api.github.com/users/guolijun",
         "avatar_url": "https://avatars1.githubusercontent.com/u/631586?v=4",
         "events_url": "https://api.github.com/users/guolijun/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/guolijun/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/guolijun/following{/other_user}",
         "repos_url": "https://api.github.com/users/guolijun/repos",
         "site_admin": false,
         "id": 631586,
         "organizations_url": "https://api.github.com/users/guolijun/orgs",
         "login": "guolijun",
         "gists_url": "https://api.github.com/users/guolijun/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/guolijun/followers",
         "html_url": "https://github.com/guolijun"
      },
      "state": "closed",
      "closed_by": "26977",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26964",
      "updated_at": "2016-11-07T07:03:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26964/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 187265173,
      "closed_at": "2016-11-07T07:03:19Z",
      "created_at": "2016-11-04T06:52:20Z",
      "title": "handle_argument_error",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26964/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26964/comments",
      "html_url": "https://github.com/rails/rails/issues/26964"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\r\n\r\nCreate params object and pass it to a path helper\r\n\r\n```ruby\r\n    params = ActionController::Parameters.new\r\n    params[:test] = {}\r\n    params[:test][:truthy] = \"1\"\r\n    params[:test][:falsey] = \"0\"\r\n\r\nexample_path(params: { params[:test] })\r\n```\r\n\r\n### Expected behavior\r\nNo deprecation messages\r\n\r\n### Actual behavior\r\nDeprecation warning as to_param method is a Hash thing\r\n\r\n```bash\r\nMethod to_param is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.0.1/classes/ActionController/Parameters.html\r\n```\r\n\r\n### Some background\r\n\r\nWe're using Ransack gem to handle search in our data tables. The query string ends up being params[:q] With this being now ActionController::Parameters, instead of hash it results in deprecation warning when passing params[:q] to path helper as an argument (as it's trying to call to_param on params[:q]) i.e.:\r\n\r\n```ruby\r\nsearch_path(format: \"csv\", params: { data_table_id: params[:data_table_id], q: params[:q] })\r\n```\r\n\r\nGives a deprecation warning and will break in Rails 5.1\r\n\r\n\r\n### System configuration\r\n**Rails version**: From 5-0-stable branch\r\n\r\n**Ruby version**: 2.3.1p112\r\n",
      "number": 26958,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tomdracz/subscriptions",
         "received_events_url": "https://api.github.com/users/tomdracz/received_events",
         "url": "https://api.github.com/users/tomdracz",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6048970?v=4",
         "events_url": "https://api.github.com/users/tomdracz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tomdracz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tomdracz/following{/other_user}",
         "repos_url": "https://api.github.com/users/tomdracz/repos",
         "site_admin": false,
         "id": 6048970,
         "organizations_url": "https://api.github.com/users/tomdracz/orgs",
         "login": "tomdracz",
         "gists_url": "https://api.github.com/users/tomdracz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tomdracz/followers",
         "html_url": "https://github.com/tomdracz"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26958",
      "updated_at": "2017-04-20T08:57:10Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/26958/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 186999997,
      "closed_at": "2017-04-20T08:57:10Z",
      "created_at": "2016-11-03T08:27:48Z",
      "title": "to_param method being deprecated gives warnings when params passed in a path helper",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26958/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26958/comments",
      "html_url": "https://github.com/rails/rails/issues/26958"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I stumbled across this when I tracked the reason why I have so many fsevent_watch processes running: after starting a rails server in development mode I see a lot of fsevent_watch processes watching directories that are in gems. Since these are not supposed to change anyways they should not be watched:\r\n\r\n```\r\n/Users/eno/projects/--redacted-- [master] > ps -xf | grep fs[e]vent_watch\r\n  501  2309  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.0.1/lib/active_support/locale\r\n  501  2310  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/activemodel-5.0.0.1/lib/active_model/locale\r\n  501  2311  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/activerecord-5.0.0.1/lib/active_record/locale\r\n  501  2312  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/actionview-5.0.0.1/lib/action_view/locale\r\n  501  2313  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/responders-2.3.0/lib/responders/locales\r\n  501  2314  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/devise-4.2.0/config/locales\r\n  501  2315  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/kaminari-0.17.0/config/locales\r\n  501  2316  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/projects/--redacted--/config/locales\r\n  501  2317  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/actioncable-5.0.0.1\r\n  501  2318  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/jquery-rails-4.2.1\r\n  501  2319  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/foundation-rails-6.2.3.0/config\r\n  501  2320  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rails-timeago-2.15.0\r\n  501  2321  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/cloudinary-1.2.3\r\n  501  2322  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/foundation-rails-6.2.3.0/app/controllers\r\n  501  2323  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/devise-4.2.0/app/controllers\r\n  501  2324  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/devise-4.2.0/app/helpers\r\n  501  2325  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/.rvm/gems/ruby-2.3.1/gems/devise-4.2.0/app/mailers\r\n  501  2326  2307   0  5:40PM ttys000    0:00.01 /Users/eno/.rvm/gems/ruby-2.3.1/gems/rb-fsevent-0.9.7/bin/fsevent_watch --latency 0.1 /Users/eno/projects/--redacted--\r\n```\r\n\r\nThe culprit here seems to be in railsties' lib/rails/application.rb file, which loads all the ActiveSupport::Dependencies.autoload_paths\r\nas paths to watch. In my case config.watchable_files and config.watchable_dirs is empty.\r\n\r\n    # API.\r\n    def watchable_args #:nodoc:\r\n      files, dirs = config.watchable_files.dup, config.watchable_dirs.dup\r\n\r\n      ActiveSupport::Dependencies.autoload_paths.each do |path|\r\n        dirs[path.to_s] = [:rb]\r\n      end\r\n\r\n      [files, dirs]\r\n    end\r\n\r\nI guess for the reason that also autoload_paths should not include paths from inside gems, but maybe I am wrong there.\r\n\r\nIn any case fixing this could also help with https://github.com/rails/rails/issues/26158 and https://github.com/jonleighton/spring-watcher-listen/issues/13\r\n\r\n\r\n### Expected behavior\r\n\r\nWatchers should only start for the app directories itself.\r\n\r\n### Actual behavior\r\n\r\nWatchers start for a number of directories outside of the app directory itself.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 5.0.0.1\r\n**Ruby version**: 2.3.1\r\n**OS**: Mac OS 10.11\r\n",
      "number": 26955,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/radiospiel/subscriptions",
         "received_events_url": "https://api.github.com/users/radiospiel/received_events",
         "url": "https://api.github.com/users/radiospiel",
         "avatar_url": "https://avatars0.githubusercontent.com/u/29153?v=4",
         "events_url": "https://api.github.com/users/radiospiel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/radiospiel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/radiospiel/following{/other_user}",
         "repos_url": "https://api.github.com/users/radiospiel/repos",
         "site_admin": false,
         "id": 29153,
         "organizations_url": "https://api.github.com/users/radiospiel/orgs",
         "login": "radiospiel",
         "gists_url": "https://api.github.com/users/radiospiel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/radiospiel/followers",
         "html_url": "https://github.com/radiospiel"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26955",
      "updated_at": "2017-03-28T22:32:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26955/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 26,
      "id": 186867660,
      "closed_at": "2017-03-28T20:32:48Z",
      "created_at": "2016-11-02T17:28:47Z",
      "title": "listen should not listen on paths loaded from gems",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26955/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26955/comments",
      "html_url": "https://github.com/rails/rails/issues/26955"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I am trying to construct a form which should be structured like this (simplified for clarity):\n\n``` ruby\n{\n  users: [\n    {\n      username: String,\n      contacts: {\n        full_name: String\n      },\n      password: String\n    },\n    ...\n  ]\n}\n```\n\nThat is, `users` is an array of objects with nested attributes.\n### Steps to reproduce\n\nIn a view:\n\n``` erb\n<%= fields_for 'users[][]', @user do |user_fields| %>\n  <%= user_fields.text_field :username %>\n  <% puts user_fields.object_name # users[][] %>\n  <%= user_fields.fields_for :contacts, OpenStruct.new(@user.contacts) do |contact_fields| %>\n    <%= contact_fields.text_field :full_name %>\n  <% end %>\n  <% puts user_fields.object_name # users[] %>\n  <%= user_fields.password_field :password %>\n<% end %>\n```\n\n`@user.contacts` is a hash, which contains contact information for the user.\n\nAs you can see, after the `fields_for :contacts`, the name of the `user_fields` builder is stripped of one set of `[]`. This interferes with the rest of the form.\n### Expected behavior\n\nThe above should approximately render as:\n\n``` html\n<input type=\"text\" name=\"user[][username]\" />\n<input type=\"text\" value=\"\" name=\"user[][contacts][full_name]\" />\n<input type=\"password\" name=\"user[][password]\" />\n```\n### Actual behavior\n\n``` html\n<input type=\"text\" name=\"user[][username]\" />\n<input type=\"text\" value=\"\" name=\"user[][contacts][full_name]\" />\n<input type=\"password\" name=\"user[password]\" />\n```\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.0\n",
      "number": 26931,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ollpu/subscriptions",
         "received_events_url": "https://api.github.com/users/ollpu/received_events",
         "url": "https://api.github.com/users/ollpu",
         "avatar_url": "https://avatars2.githubusercontent.com/u/7241014?v=4",
         "events_url": "https://api.github.com/users/ollpu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ollpu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ollpu/following{/other_user}",
         "repos_url": "https://api.github.com/users/ollpu/repos",
         "site_admin": false,
         "id": 7241014,
         "organizations_url": "https://api.github.com/users/ollpu/orgs",
         "login": "ollpu",
         "gists_url": "https://api.github.com/users/ollpu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ollpu/followers",
         "html_url": "https://github.com/ollpu"
      },
      "state": "closed",
      "closed_by": "27463",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26931",
      "updated_at": "2016-12-29T14:52:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26931/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 186092647,
      "closed_at": "2016-12-29T02:56:06Z",
      "created_at": "2016-10-29T18:13:58Z",
      "title": "Array of nested fields_for bug",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26931/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26931/comments",
      "html_url": "https://github.com/rails/rails/issues/26931"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nReproduced with **webmock** gem\n\n``` ruby\n      stub_request(:any, 'http://app')\n        .to_rack(Rails.application)\n```\n#### Error\n\n```\n     Failure/Error: Net::HTTP.get('app', '/')\n\n     NoMethodError:\n       undefined method `ref' for nil:NilClass\n```\n#### Location\n\n```\n~/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.1/lib/action_controller/metal/params_wrapper.rb:280:in `_wrapper_enabled?'\n```\n### Expected behavior\n\nin https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/params_wrapper.rb#L278 request.has_content_type? should be return false for nil CONTENT_TYPE header\n### Actual behavior\n\n request.has_content_type? return true for nil CONTENT_TYPE header\n### System configuration\n\n**Rails version**: 2.3.1\n\n**Ruby version**: 5.0.0.1\n",
      "number": 26912,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/badlamer/subscriptions",
         "received_events_url": "https://api.github.com/users/badlamer/received_events",
         "url": "https://api.github.com/users/badlamer",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1637293?v=4",
         "events_url": "https://api.github.com/users/badlamer/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/badlamer/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/badlamer/following{/other_user}",
         "repos_url": "https://api.github.com/users/badlamer/repos",
         "site_admin": false,
         "id": 1637293,
         "organizations_url": "https://api.github.com/users/badlamer/orgs",
         "login": "badlamer",
         "gists_url": "https://api.github.com/users/badlamer/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/badlamer/followers",
         "html_url": "https://github.com/badlamer"
      },
      "state": "closed",
      "closed_by": "27007",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26912",
      "updated_at": "2016-11-14T04:11:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26912/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 185657062,
      "closed_at": "2016-11-14T04:11:26Z",
      "created_at": "2016-10-27T12:40:44Z",
      "title": "5.0.0.1 / actionpack - undefined method `ref' for nil:NilClass*",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26912/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26912/comments",
      "html_url": "https://github.com/rails/rails/issues/26912"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nCreate a record where you'd assign the attribute using params that have nested hashes:\n\n``` ruby\nirb(main):001:0> params = ActionController::Parameters.new(user_answer: { \"stuff\" => 1, \"more stuff\" => 2 })\n=> <ActionController::Parameters {\"user_answer\"=>{\"stuff\"=>1, \"more stuff\"=>2}} permitted: false>\n\nirb(main):002:0> user_answer_params = params.require(:user_answer).permit!\n=> <ActionController::Parameters {\"stuff\"=>1, \"more stuff\"=>2} permitted: true>\n\nirb(main):005:0> Submission.create(answer: user_answer_params)\n```\n\nFeel free to clone down https://github.com/mxie/hstore-casting-bug to test.\n### Expected behavior\n\nThe record should save.\n### Actual behavior\n\nA `TypeError` is raised:\n\n``` ruby\nirb(main):005:0> Submission.create(answer: user_answer_params)\n   (0.2ms)  BEGIN\n   (0.2ms)  ROLLBACK\nTypeError: can't cast ActionController::Parameters\n# ...\n```\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.1\n",
      "number": 26904,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         },
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mxie/subscriptions",
         "received_events_url": "https://api.github.com/users/mxie/received_events",
         "url": "https://api.github.com/users/mxie",
         "avatar_url": "https://avatars2.githubusercontent.com/u/602470?v=4",
         "events_url": "https://api.github.com/users/mxie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mxie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mxie/following{/other_user}",
         "repos_url": "https://api.github.com/users/mxie/repos",
         "site_admin": false,
         "id": 602470,
         "organizations_url": "https://api.github.com/users/mxie/orgs",
         "login": "mxie",
         "gists_url": "https://api.github.com/users/mxie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mxie/followers",
         "html_url": "https://github.com/mxie"
      },
      "state": "closed",
      "closed_by": "a8b212",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26904",
      "updated_at": "2016-11-18T15:26:37Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/26904/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 12,
      "id": 185462990,
      "closed_at": "2016-11-15T22:14:42Z",
      "created_at": "2016-10-26T17:46:31Z",
      "title": "Can't cast ActionController::Parameters as hash for hstore attributes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26904/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26904/comments",
      "html_url": "https://github.com/rails/rails/issues/26904"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have suspicion that my application have leaking db connections that being borrowed and not returned at the right time.\n\nI could not find feature to get connection_pool stats, so I had to dig deep and make assumptions:\n\n``` ruby\n# in config.ru\n\nstats_proc = Proc.new do |env|\n  pool = ActiveRecord::Base.connection_pool.instance_eval { @available }\n  connections = ActiveRecord::Base.connection_pool.instance_eval { @connections }\n\n  connections.each do |c|\n    if c.in_use?\n      puts \"\\nConnection taken by:\"\n      puts c.taken_by\n    end\n  end\n\n  @connection_pool = {\n    max: ActiveRecord::Base.connection_pool.size,\n    total: connections.size,\n    busy: connections.count {|c| c.in_use? },\n    dead: connections.count {|c| c.in_use? && !c.owner.alive? },\n    num_waiting: pool.num_waiting,\n    checkout_timeout: ActiveRecord::Base.connection_pool.checkout_timeout\n  }\n\n  ['200', {'Content-Type' => 'application/json'}, [JSON.pretty_generate(@connection_pool)]]\nend\n\nmap '/stats' do\n  run stats_proc\nend\n```\n\nThen I wanted to see where my connections are being acquired:\n\n``` ruby\nclass ActiveRecord::ConnectionAdapters::AbstractAdapter\n  attr_accessor :taken_by\nend\n\nclass ActiveRecord::ConnectionAdapters::ConnectionPool\n  alias_method :_orig_acquire_connection, :acquire_connection\n\n  def acquire_connection(*args)\n    taken_by = caller\n    #puts \"\\nGetting connection:\"\n    #puts taken_by\n    _orig_acquire_connection.tap {|c| c.taken_by = caller }\n  end\nend\n```\n\n---\n\nAfter another couple hours I found that `ActiveRecord::QueryCache` always acquire new connection before every request goes to controller. SO no matter if I do anything with database or not, ActiveRecord will keep connection used (locked) during all request (means taken from connection_pool, so other threads can not use this connection).\n\nTo prevent this strange behaviour I had to make:\n\n``` ruby\nclass ActiveRecord::QueryCache\n  def self.run\n    [true, nil]\n  end\n\n  def self.complete(state)\n    nil\n  end\n\n  def self.install_executor_hooks(executor = ActiveSupport::Executor)\n    executor.register_hook(self)\n\n    executor.to_complete do\n      if ActiveRecord::Base.connection_pool.active_connection? && !ActiveRecord::Base.connection.transaction_open?\n        ActiveRecord::Base.clear_active_connections!\n      end\n    end\n  end\nend\n```\n\n---\n\nI think it will be nice to have:\n1. connection_pool stats accessor, e.g. `ActiveRecord::Base.connection_pool.stats` or separate methods for each metrics (created connections, borrowed connections, dead connections, number of consumers waiting for connection)\n2. A way to track where connection was acquired, may be via `ActiveSupport::Notifications`\n3. Prevent `ActiveRecord::QueryCache` from obtaining db connection on every request. I'm thinking it can be achieved by setting thread variable.\n\n``` ruby\n# in query_cache.rb\n    def self.run\n      Thread.current[:'active_record.query_cache_enabled'] = true\n    end\n\n    def self.complete(enabled)\n      if ActiveRecord::Base.connected?\n        ActiveRecord::Base.connection.clear_query_cache\n        ActiveRecord::Base.connection.disable_query_cache! unless enabled\n\n        unless ActiveRecord::Base.connection.transaction_open?\n          ActiveRecord::Base.clear_active_connections!\n        end\n      end\n    end\n\n# in connection_pool.rb\n      def acquire_connection(checkout_timeout)\n        if conn = @available.poll || try_to_checkout_new_connection\n          conn\n        else\n          reap\n          @available.poll(checkout_timeout)\n        end.tap {|conn| Thread.current[:'active_record.query_cache_enabled'] && conn.enable_query_cache! }\n      end\n```\n\nWhat do you think?\n",
      "number": 26898,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Paxa/subscriptions",
         "received_events_url": "https://api.github.com/users/Paxa/received_events",
         "url": "https://api.github.com/users/Paxa",
         "avatar_url": "https://avatars3.githubusercontent.com/u/26019?v=4",
         "events_url": "https://api.github.com/users/Paxa/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Paxa/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Paxa/following{/other_user}",
         "repos_url": "https://api.github.com/users/Paxa/repos",
         "site_admin": false,
         "id": 26019,
         "organizations_url": "https://api.github.com/users/Paxa/orgs",
         "login": "Paxa",
         "gists_url": "https://api.github.com/users/Paxa/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Paxa/followers",
         "html_url": "https://github.com/Paxa"
      },
      "state": "closed",
      "closed_by": "26988",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26898",
      "updated_at": "2016-11-10T20:24:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26898/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 4,
      "id": 185348027,
      "closed_at": "2016-11-10T20:24:08Z",
      "created_at": "2016-10-26T09:58:45Z",
      "title": "How to monitor DB connections?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26898/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26898/comments",
      "html_url": "https://github.com/rails/rails/issues/26898"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "[Guides Link](http://guides.rubyonrails.org/association_basics.html#has-and-belongs-to-many-association-reference#methods-added-by-has-and-belongs-to-many-collection-delete-object)\n\n> The collection.destroy method removes one or more objects from the collection by running destroy on each record in the join table, including running callbacks. This does not destroy the objects.\n\nThis can't be correct for has and belongs to many, as there isn't a join model to initialize and run callbacks on.\n\nIn addition to me the warning on delete doesn't make sense either.\n\n> This does not trigger callbacks on the join records.\n\nI assume the content was just copied from `has_many` when the docs were written.  Happy to submit a PR but not sure what you'd want it to say instead, I'm not sure if it's just an alias on HABTM?  I'm assuming not\n",
      "number": 26890,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/j-dexx/subscriptions",
         "received_events_url": "https://api.github.com/users/j-dexx/received_events",
         "url": "https://api.github.com/users/j-dexx",
         "avatar_url": "https://avatars3.githubusercontent.com/u/6691543?v=4",
         "events_url": "https://api.github.com/users/j-dexx/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/j-dexx/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/j-dexx/following{/other_user}",
         "repos_url": "https://api.github.com/users/j-dexx/repos",
         "site_admin": false,
         "id": 6691543,
         "organizations_url": "https://api.github.com/users/j-dexx/orgs",
         "login": "j-dexx",
         "gists_url": "https://api.github.com/users/j-dexx/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/j-dexx/followers",
         "html_url": "https://github.com/j-dexx"
      },
      "state": "closed",
      "closed_by": "26896",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26890",
      "updated_at": "2016-10-26T20:43:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26890/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 185153364,
      "closed_at": "2016-10-26T08:30:20Z",
      "created_at": "2016-10-25T15:34:27Z",
      "title": "Has and belongs to many documentation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26890/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26890/comments",
      "html_url": "https://github.com/rails/rails/issues/26890"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Issue was originally opened here: https://github.com/rails-api/active_model_serializers/issues/1946\nI was asked to open an issue here to see if this is a rails bug, since the exception is not limited to `active_model_serializers` and it will be raised anytime when object's `#to_json` method returns Hash with `Infinity`. \n### Steps to reproduce\n\nuse following gem for the test case `'active_model_serializers', '~> 0.10.0'`\n\n```\nclass FailCase\n  include ActiveModel::Serialization\n\n  def fail; 1/0.0; end\nend\n\nclass FailCaseSerializer < ActiveModel::Serializer\n  attribute :fail\nend\n\nFailCaseSerializer.new(FailCase.new).to_json\n```\n### Expected behavior\n\nExpected: calling `#to_json` on a serializer instance with an attribute that has value of `Infinity` should return that attribute as `null`\n### Actual behavior\n\ngetting `JSON::GeneratorError: 836: Infinity not allowed in JSON` exception\n\nWhen calling `to_json` on a hash that has a key with a value of `Infinity`, rails returns `null` for that key, however if the object passed to the renderer returns hash that has a key with a value of `Infinity` when calling `#to_json`, rails will not filter out invalid keys/values additionally on that hash (like it does during `Hash#to_json` and will raise error during json generation. \n\n```\nserializer = FailCaseSerializer.new(FailCase.new)\nserializer.to_hash #=> {:fail=>Infinity}\nserializer.to_hash.to_json #=> {\"fail\":null}\nserializer.to_json #=> Exception: JSON::GeneratorError: 836: Infinity not allowed in JSON\n```\n\nlooking at the trace it looks like `ActiveSupport::JSON::Encoding` is receiving `Hash` not `Hash.as_json`\n### System configuration\n\n**Rails version**: `5.0.0.1`\n**Ruby version**: `ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin16]`\n### Backtrace\n\n```\nException: JSON::GeneratorError: 836: Infinity not allowed in JSON\n--\n 0: /Users/afsoon/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/json/common.rb:224:in `generate'\n 1: /Users/afsoon/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/json/common.rb:224:in `generate'\n 2: /Users/afsoon/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.0.1/lib/active_support/json/encoding.rb:99:in `stringify'\n 3: /Users/afsoon/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.0.1/lib/active_support/json/encoding.rb:33:in `encode'\n 4: /Users/afsoon/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.0.1/lib/active_support/json/encoding.rb:20:in `encode'\n 5: /Users/afsoon/.rvm/gems/ruby-2.3.1/gems/activesupport-5.0.0.1/lib/active_support/core_ext/object/json.rb:37:in `to_json'\n```\n",
      "number": 26877,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ocha/subscriptions",
         "received_events_url": "https://api.github.com/users/ocha/received_events",
         "url": "https://api.github.com/users/ocha",
         "avatar_url": "https://avatars0.githubusercontent.com/u/289754?v=4",
         "events_url": "https://api.github.com/users/ocha/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ocha/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ocha/following{/other_user}",
         "repos_url": "https://api.github.com/users/ocha/repos",
         "site_admin": false,
         "id": 289754,
         "organizations_url": "https://api.github.com/users/ocha/orgs",
         "login": "ocha",
         "gists_url": "https://api.github.com/users/ocha/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ocha/followers",
         "html_url": "https://github.com/ocha"
      },
      "state": "closed",
      "closed_by": "26933",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26877",
      "updated_at": "2016-11-13T14:46:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26877/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 184844823,
      "closed_at": "2016-11-13T14:46:21Z",
      "created_at": "2016-10-24T13:45:33Z",
      "title": "Exception when attribute is `Infinity` in `Hash`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26877/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26877/comments",
      "html_url": "https://github.com/rails/rails/issues/26877"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "(On Rails 5.0.0.1)\n\nUsing the default AsyncAdapter in development, I was disappointed that I didn't see errors from my jobs even though I knew they were throwing exceptions (undefined methods, etc.). I would see the following messages in my log:\n\n```\nINFO -- : [ActiveJob] Enqueued MyJob ... (Job ID: f071893e-be9a-44fd-810c-5b38b270c58c) to Async(mail)...\n... <snip> ...\nINFO -- : [ActiveJob] [MyJob] [f071893e-be9a-44fd-810c-5b38b270c58c] Performing MyJob from Async(mail)...\nINFO -- : [ActiveJob] [MyJob] [f071893e-be9a-44fd-810c-5b38b270c58c] Performed MyJob from Async(mail)\n```\n\nIf I set the following in an initializer:\n\n```\nConcurrent.global_logger = Concurrent.create_stdlib_logger(Logger::DEBUG)\n```\n\nI get the errors printed on my terminal (not in `log/development.log`). I believe this is due to the logic in `Concurrent::RubyThreadPoolExecutor::Worker#run_task`.\n\nIt seems like with AsyncAdapter being the new development default, there should be something that notifies developers of job errors in the default setup. At least, perhaps an initializer that sets the Concurrent logger according to other Rails logger settings? But it might also be ideal for ActiveJob not to record \"Performed MyJob\", and instead say something like \"Failed MyJob\"\n",
      "number": 26848,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sbull/subscriptions",
         "received_events_url": "https://api.github.com/users/sbull/received_events",
         "url": "https://api.github.com/users/sbull",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1115369?v=4",
         "events_url": "https://api.github.com/users/sbull/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sbull/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sbull/following{/other_user}",
         "repos_url": "https://api.github.com/users/sbull/repos",
         "site_admin": false,
         "id": 1115369,
         "organizations_url": "https://api.github.com/users/sbull/orgs",
         "login": "sbull",
         "gists_url": "https://api.github.com/users/sbull/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sbull/followers",
         "html_url": "https://github.com/sbull"
      },
      "state": "closed",
      "closed_by": "28582",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26848",
      "updated_at": "2017-04-20T22:01:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26848/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 184326808,
      "closed_at": "2017-04-20T22:01:57Z",
      "created_at": "2016-10-20T20:03:49Z",
      "title": "ActiveJob AsyncAdapter swallows exceptions, doesn't log by default",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26848/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26848/comments",
      "html_url": "https://github.com/rails/rails/issues/26848"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\ntime = '1470272280000'\nformat = '%Q'\n\nActiveSupport::TimeZone.new('UTC').strptime(time, format)\n# => Thu, 20 Oct 2016 00:00:00 UTC +00:00\n# returns current date\n\n```\n### Expected behavior\n\nExpected the same behavior as `DateTime.strptime`\n\n``` ruby\ntime = '1470272280000'\nformat = '%Q'\n\nDateTime.strptime(time, format)\n# => Thu, 04 Aug 2016 00:58:00 +0000 \n```\n### Actual behavior\n\n``` ruby\nActiveSupport::TimeZone.new('UTC').strptime(time, format)\n# => Thu, 20 Oct 2016 00:00:00 UTC +00:00\n# returns current date\n```\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1\n",
      "number": 26840,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/denisovlev/subscriptions",
         "received_events_url": "https://api.github.com/users/denisovlev/received_events",
         "url": "https://api.github.com/users/denisovlev",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1573853?v=4",
         "events_url": "https://api.github.com/users/denisovlev/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/denisovlev/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/denisovlev/following{/other_user}",
         "repos_url": "https://api.github.com/users/denisovlev/repos",
         "site_admin": false,
         "id": 1573853,
         "organizations_url": "https://api.github.com/users/denisovlev/orgs",
         "login": "denisovlev",
         "gists_url": "https://api.github.com/users/denisovlev/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/denisovlev/followers",
         "html_url": "https://github.com/denisovlev"
      },
      "state": "closed",
      "closed_by": "26843",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26840",
      "updated_at": "2016-10-22T03:12:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26840/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 184187814,
      "closed_at": "2016-10-22T03:12:47Z",
      "created_at": "2016-10-20T10:09:07Z",
      "title": "ActiveSupport::TimeZone#strptime cannot parse timestamps (%Q, %s)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26840/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26840/comments",
      "html_url": "https://github.com/rails/rails/issues/26840"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nbegin\n  require \"bundler/inline\"\nrescue LoadError => e\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\n  raise e\nend\n\ngemfile(true) do\n  source \"https://rubygems.org\"\n  gem \"rails\", github: \"rails/rails\"\n  gem \"sqlite3\"\nend\n\nrequire \"active_record\"\nrequire \"minitest/autorun\"\nrequire \"logger\"\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true\n  create_table :comments, force: true\n  create_table :post_comments do |t|\n    t.integer :post_id, null: false\n    t.integer :comment_id, null: false\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments, through: :post_comments\n  has_many :post_comments\nend\n\nclass Comment < ActiveRecord::Base\n  has_many :posts, through: :post_comments\n  has_many :post_comments\nend\n\nclass PostComment < ActiveRecord::Base\n  belongs_to :post\n  belongs_to :comment\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    assert_instance_of Post, Post.create(comments: [Comment.create])\n  end\nend\n```\n### Expected behaviour\n\nThat the `post_comments` insert has the `post_id` and does not violate the non null constraint. There are a couple of related issues [17015](https://github.com/rails/rails/issues/17015) and [16494](https://github.com/rails/rails/issues/16494) but this fails without using `accepts_nested_attributes_for` which the other two issues seem related to, if this is a bug I'd be happy to investigate, help out, and/or have a go at submitting a PR.\n### Actual behaviour\n\nTransaction begins, comment is inserted, transaction is committed. Transaction begins, post is inserted, post comment is inserted but without the `post_id`.\n\n```\nBugTest#test_association_stuff:\nActiveRecord::StatementInvalid: SQLite3::ConstraintException: NOT NULL constraint failed: post_comments.post_id: INSERT INTO \"post_comments\" (\"comment_id\") VALUES (?)\n```\n\n```\nD, [2016-10-19T22:44:28.638640 #19520] DEBUG -- :    (0.0ms)  begin transaction\nD, [2016-10-19T22:44:28.639217 #19520] DEBUG -- :   SQL (0.0ms)  INSERT INTO \"comments\" DEFAULT VALUES\nD, [2016-10-19T22:44:28.639376 #19520] DEBUG -- :    (0.0ms)  commit transaction\nD, [2016-10-19T22:44:28.662915 #19520] DEBUG -- :    (0.0ms)  begin transaction\nD, [2016-10-19T22:44:28.663491 #19520] DEBUG -- :   SQL (0.0ms)  INSERT INTO \"posts\" DEFAULT VALUES\nD, [2016-10-19T22:44:28.665346 #19520] DEBUG -- :   SQL (0.2ms)  INSERT INTO \"post_comments\" (\"comment_id\") VALUES (?)  [[\"comment_id\", 1]]\nD, [2016-10-19T22:44:28.665540 #19520] DEBUG -- :    (0.0ms)  rollback transaction\n```\n### System configuration\n\n**Rails version**: 5.0.0.1 & 4.2.7.1\n\n**Ruby version**: 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\n",
      "number": 26834,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cih/subscriptions",
         "received_events_url": "https://api.github.com/users/cih/received_events",
         "url": "https://api.github.com/users/cih",
         "avatar_url": "https://avatars0.githubusercontent.com/u/762443?v=4",
         "events_url": "https://api.github.com/users/cih/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cih/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cih/following{/other_user}",
         "repos_url": "https://api.github.com/users/cih/repos",
         "site_admin": false,
         "id": 762443,
         "organizations_url": "https://api.github.com/users/cih/orgs",
         "login": "cih",
         "gists_url": "https://api.github.com/users/cih/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cih/followers",
         "html_url": "https://github.com/cih"
      },
      "state": "closed",
      "closed_by": "28054",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26834",
      "updated_at": "2017-01-04T20:04:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26834/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 184091909,
      "closed_at": "2017-01-04T13:22:06Z",
      "created_at": "2016-10-19T22:37:31Z",
      "title": "Non null constraint exception when creating model with a has many through association",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26834/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26834/comments",
      "html_url": "https://github.com/rails/rails/issues/26834"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\n$ cd activerecord\n$ ARCONN=mysql2 bundle exec ruby -W -w -I\"lib:test\" test/cases/schema_dumper_test.rb -n test_schema_dumps_index_columns_in_right_order\n```\n### Expected behavior\n\nFinishes without failure\n### Actual behavior\n\n``` ruby\n$  ARCONN=mysql2 bundle exec ruby -W -w -I\"lib:test\" test/cases/schema_dumper_test.rb -n test_schema_dumps_index_columns_in_right_order\nUsing mysql2\nRun options: -n test_schema_dumps_index_columns_in_right_order --seed 31079\n\n# Running:\n\nF\n\nFinished in 15.869050s, 0.0630 runs/s, 0.0630 assertions/s.\n\n  1) Failure:\nSchemaDumperTest#test_schema_dumps_index_columns_in_right_order [test/cases/schema_dumper_test.rb:190]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-\"t.index [\\\"firm_id\\\", \\\"type\\\", \\\"rating\\\"], name: \\\"company_index\\\", length: { type: 10 }, using: :btree\"\n+\"t.index [\\\"firm_id\\\", \\\"type\\\", \\\"rating\\\"], name: \\\"company_index\\\", length: { type: \\\"10\\\" }, using: :btree\"\n\n\n1 runs, 1 assertions, 1 failures, 0 errors, 0 skips\n$\n```\n### System configuration\n\n**Rails version**: master branch\n\n**Ruby version**: It reproduces both versions of ruby\n\n```\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\nruby 2.4.0preview2 (2016-09-09 trunk 56129) [x86_64-linux]\n```\n\nIt only reproduces with `Server version: 8.0.0-dmr MySQL Community Server (GPL)`. It does NOT reproduce with `Server version: 5.6.33 MySQL Community Server (GPL)`. I do not have MySQL 5.7 then not sure if it reproduces with MySQL 5.7\n\ncc @kamipo since this test has been changed in #26745 \n",
      "number": 26774,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "26785",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26774",
      "updated_at": "2016-10-15T02:55:28Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26774/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 309390193,
            "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
            "color": "fef2c0",
            "default": false,
            "name": "MySQL"
         }
      ],
      "comments": 4,
      "id": 182634872,
      "closed_at": "2016-10-15T02:55:28Z",
      "created_at": "2016-10-12T21:09:47Z",
      "title": "test_schema_dumps_index_columns_in_right_order failure with MySQL 8.0.0-dmr",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26774/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26774/comments",
      "html_url": "https://github.com/rails/rails/issues/26774"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Changed wording in the guide to be more specific regarding the defaulting of the field log_formatter.\n",
      "number": 26770,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "url": "https://api.github.com/users/eileencodes",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "site_admin": true,
            "id": 1080678,
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "login": "eileencodes",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "html_url": "https://github.com/eileencodes"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rmarone/subscriptions",
         "received_events_url": "https://api.github.com/users/rmarone/received_events",
         "url": "https://api.github.com/users/rmarone",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6484885?v=4",
         "events_url": "https://api.github.com/users/rmarone/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rmarone/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rmarone/following{/other_user}",
         "repos_url": "https://api.github.com/users/rmarone/repos",
         "site_admin": false,
         "id": 6484885,
         "organizations_url": "https://api.github.com/users/rmarone/orgs",
         "login": "rmarone",
         "gists_url": "https://api.github.com/users/rmarone/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rmarone/followers",
         "html_url": "https://github.com/rmarone"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26770",
      "updated_at": "2016-10-15T13:20:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26770/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
         "received_events_url": "https://api.github.com/users/eileencodes/received_events",
         "url": "https://api.github.com/users/eileencodes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1080678?v=4",
         "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
         "repos_url": "https://api.github.com/users/eileencodes/repos",
         "site_admin": true,
         "id": 1080678,
         "organizations_url": "https://api.github.com/users/eileencodes/orgs",
         "login": "eileencodes",
         "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eileencodes/followers",
         "html_url": "https://github.com/eileencodes"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 182366396,
      "closed_at": "2016-10-15T13:20:41Z",
      "created_at": "2016-10-11T20:31:09Z",
      "title": "Pull request for ticket 26769",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26770/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26770/comments",
      "pull_request": {
         "patch_url": "https://github.com/rails/rails/pull/26770.patch",
         "url": "https://api.github.com/repos/rails/rails/pulls/26770",
         "diff_url": "https://github.com/rails/rails/pull/26770.diff",
         "html_url": "https://github.com/rails/rails/pull/26770"
      },
      "html_url": "https://github.com/rails/rails/pull/26770"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nIf you've been upgrading an application or have not used the rails generator to get your config/environments/production.rb file, it may not contain the lines:\n\n  # Use default logging formatter so that PID and timestamp are not suppressed.\n  config.log_formatter = ::Logger::Formatter.new\n\nBy removing those lines, you will be left with an application which logs in production using the ActiveSupport::Logger::SimpleFormatter\n\nThe guide states:\n\" config.log_formatter defines the formatter of the Rails logger. This option defaults to an instance of ActiveSupport::Logger::SimpleFormatter for all modes **except production, where it defaults to Logger::Formatter**. If you are setting a value for config.logger you must manually pass the value of your formatter to your logger before it is wrapped in an ActiveSupport::TaggedLogging instance, Rails will not do it for you.\n\"\n\nThe formatter is not being defaulted in production, it is being generated with a default value, this is quite different.  I suggest the guide be changed to read:\n\nconfig.log_formatter defines the formatter of the Rails logger. This option defaults to an instance of ActiveSupport::Logger::SimpleFormatter for all modes. The production.rb configuration is generated set to Logger::Formatter by default. If you are setting a value for config.logger you must manually pass the value of your formatter to your logger before it is wrapped in an ActiveSupport::TaggedLogging instance, Rails will not do it for you.\n### System configuration\n\n**Rails version**: 4.2\n\n**Ruby version**: 2\n",
      "number": 26769,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rmarone/subscriptions",
         "received_events_url": "https://api.github.com/users/rmarone/received_events",
         "url": "https://api.github.com/users/rmarone",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6484885?v=4",
         "events_url": "https://api.github.com/users/rmarone/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rmarone/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rmarone/following{/other_user}",
         "repos_url": "https://api.github.com/users/rmarone/repos",
         "site_admin": false,
         "id": 6484885,
         "organizations_url": "https://api.github.com/users/rmarone/orgs",
         "login": "rmarone",
         "gists_url": "https://api.github.com/users/rmarone/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rmarone/followers",
         "html_url": "https://github.com/rmarone"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26769",
      "updated_at": "2016-10-26T21:21:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26769/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 182356827,
      "closed_at": "2016-10-26T21:21:50Z",
      "created_at": "2016-10-11T19:49:05Z",
      "title": "Documentation states that log_formatter defaults, it does not",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26769/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26769/comments",
      "html_url": "https://github.com/rails/rails/issues/26769"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We are building a large Rails application and ran into concurrency issues. Digging into them, we found that using class_attribute causes a non-thread-safe configuration. With this I don't mean that class_attribute isn't thread-safe - please let me elaborate in more detail:\n\nIn issue #14021 @dwbutler initially stated that class_attribute is not thread-safe but then precised: \"every time you set the class attribute, it undefines the existing singleton method and defines a new singleton method that simply returns the new value.\" @thedarkone commented: \"setting class_attribute at the class level is only supposed to be done at/during boot time\". The discussion was later abandoned.\nWe think that there **two different concepts** here, getting mixed up: One being that the method class_attribute isn't thread-safe and needs to be done in a single-threaded boot phase. However, even with a clean design respecting this, the program is not going to work, because the **setter method generated by class_attribute is not thread-safe either**.\n\nA working counterexample can be found in https://gist.github.com/kalsan/cdecebb51830075af7bfdc058a4de1a1\n\nThe code mentionned above works fine on Ruby version: 2.3.1, Ruby engine: ruby, ActiveSupport: 5.0.0.1\nHowever, on Ruby version: 2.3.1, Ruby engine: jruby, ActiveSupport: 5.1.0.alpha, the program fails. On my system, failure occurs sometimes with 1'000 and always with 10'000 threads. The error is the following:\n`NameError: Undefined method setting for 'MyClass'`\n\nThis is not surprising, since the following code is in [class_attribute, line 89](https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/class/attribute.rb#L89):\n\n```\n89: remove_possible_method(name)\n90: define_method(name) { val }\n```\n\nThis code is **not called in the boot phase, but as the attribute :setting is accessed in the multi-threaded running phase.** Clearly it is not thread-safe: if an access takes place in between those two lines, the symbol _setting_ is undefined, which explains the above failure.\n\nAgain, this does not happen in cruby, possibly due to the GIL story ( [link](http://stackoverflow.com/questions/24953702/multi-threading-in-ruby-mri), \"But what about the GIL?\"). Also, putting a global lock (just for testing!) around the two lines mentioned above makes the problem disappear (of course this ugly workaround is not a solution, but it indicates that the problem is located in there indeed).\n\nOf course, we could use an alternative method in our application for our own calls. However, since Rails itself heavily uses class_attribute, the question arises whether or not Rails is thread-safe on jruby. We have been investigating a lot and found traces indicating that data races might even take place in rails itself.\n\nFeedback and discussion would be much appreciated. We would like to find out how deep this behavour goes and what parts of Rails are affected.\n",
      "number": 26758,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kalsan/subscriptions",
         "received_events_url": "https://api.github.com/users/kalsan/received_events",
         "url": "https://api.github.com/users/kalsan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/7618650?v=4",
         "events_url": "https://api.github.com/users/kalsan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kalsan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kalsan/following{/other_user}",
         "repos_url": "https://api.github.com/users/kalsan/repos",
         "site_admin": false,
         "id": 7618650,
         "organizations_url": "https://api.github.com/users/kalsan/orgs",
         "login": "kalsan",
         "gists_url": "https://api.github.com/users/kalsan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kalsan/followers",
         "html_url": "https://github.com/kalsan"
      },
      "state": "closed",
      "closed_by": "29233",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26758",
      "updated_at": "2017-09-01T06:39:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26758/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 182191094,
      "closed_at": "2017-09-01T06:39:38Z",
      "created_at": "2016-10-11T07:22:28Z",
      "title": "Attributes created using class_attribute are not thread-safe",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26758/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26758/comments",
      "html_url": "https://github.com/rails/rails/issues/26758"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActiveRecord::CounterCache should provide an option to update `updated_at` when any one of these methods are called.\n- [update_counters](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L76)\n- [reset_counters](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L20)\n- [decrement_counter](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L120)\n- [increment_counter](https://github.com/rails/rails/blob/a9dc45459abcd9437085f4dd0aa3c9d0e64e062f/activerecord/lib/active_record/counter_cache.rb#L102)\n\nMy application implements a trash module, so I must call `decrement_counter` when sending a record to the trash, and `increment_counter` when restoring a record. I'm displaying a counter cache in a view, and I would like for the fragment cache to expire whenever I increment or decrement the counters by updating the `updated_at` value. However, I must make a second call to the database to update the `updated_at` value after incrementing or decrementing the counter cache.\n\nI think there should be an additional argument to send to these methods to change `updated_at` when changing the counter cache. For example:\n\n``` ruby\nPost.decrement_counter(:comments_count, 1, true) # This would change the post's updated_at value\nPost.decrement_counter(:comments_count, 1, false) # This would NOT change the post's updated_at value\nPost.decrement_counter(:comments_count, 1) # This would NOT change the post's updated_at value\n```\n### Expected behavior\n\nActiveRecord::CounterCache should be able to change a record's `updated_at` value.\n### Actual behavior\n\nActiveRecord::CounterCache does not have the ability to change a record's `updated_at` value.\n### System configuration\n\n**Rails version**: 4.2.5.1\n\n**Ruby version**: 2.2.3\n",
      "number": 26724,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jtrost/subscriptions",
         "received_events_url": "https://api.github.com/users/jtrost/received_events",
         "url": "https://api.github.com/users/jtrost",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1156272?v=4",
         "events_url": "https://api.github.com/users/jtrost/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jtrost/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jtrost/following{/other_user}",
         "repos_url": "https://api.github.com/users/jtrost/repos",
         "site_admin": false,
         "id": 1156272,
         "organizations_url": "https://api.github.com/users/jtrost/orgs",
         "login": "jtrost",
         "gists_url": "https://api.github.com/users/jtrost/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jtrost/followers",
         "html_url": "https://github.com/jtrost"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26724",
      "updated_at": "2017-01-01T17:37:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26724/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 181502115,
      "closed_at": "2017-01-01T17:37:55Z",
      "created_at": "2016-10-06T19:17:40Z",
      "title": "ActiveRecord::CounterCache methods should have an option to change updated_at",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26724/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26724/comments",
      "html_url": "https://github.com/rails/rails/issues/26724"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nMy model\n\n``` ruby\nclass User < ApplicationRecord\n  attr_accessor :xyz # ActiveRecord - column in database\n  validates :foo, :bar, presence: true\n  store_accessor :settings, :foo, :bar\nend\n```\n\nMy Controller\n\n``` ruby\ndef user_params\n  params.require(:user).permit(:foo, :bar, :xyz)\nend\n```\n\nRails log\n\n```\n# POST /users { \"foo\": 10, \"bar\": 0, \"xyz\": 99 }\nProcessing by UsersController#create as JSON\n  Parameters: {\"foo\"=>10, \"bar\"=>0, \"xyz\"=>99, \"user\"=>{\"xyz\"=>99}}\n```\n### Expected behavior\n\nAccess the `user_params` and return the `foo` and `bar` params.\n### Actual behavior\n\nSo, I can't access the `json` attributes in my controller unless I call the param directly ex: `params[:foo]` and `params[:bar]`. If I send the parameters inside the `user` hash, it works, but it is an API so I send everything in the first level of hash.\n### System configuration\n\n**Rails version**:\n5.0.0.1 API with Postgresql\n**Ruby version**:\n2.3.1\n",
      "number": 26708,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/thiagogsr/subscriptions",
         "received_events_url": "https://api.github.com/users/thiagogsr/received_events",
         "url": "https://api.github.com/users/thiagogsr",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1802025?v=4",
         "events_url": "https://api.github.com/users/thiagogsr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/thiagogsr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/thiagogsr/following{/other_user}",
         "repos_url": "https://api.github.com/users/thiagogsr/repos",
         "site_admin": false,
         "id": 1802025,
         "organizations_url": "https://api.github.com/users/thiagogsr/orgs",
         "login": "thiagogsr",
         "gists_url": "https://api.github.com/users/thiagogsr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/thiagogsr/followers",
         "html_url": "https://github.com/thiagogsr"
      },
      "state": "closed",
      "closed_by": "28056",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26708",
      "updated_at": "2017-03-21T20:53:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26708/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 14,
      "id": 181059508,
      "closed_at": "2017-03-21T20:53:04Z",
      "created_at": "2016-10-05T03:54:00Z",
      "title": "JSON attributes out of strong parameters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26708/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26708/comments",
      "html_url": "https://github.com/rails/rails/issues/26708"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActiveRecord::QueryCache using the new Rails executor may result in dirty query caches across threads. Releasing a connection early in one thread may return it to the pool with cache still enabled and dirty, and the executor loses track of the connection so may clear another, and another thread may pick up the dirty cache and never turn it off.\n### Steps to reproduce\n\nIn practise this has occurred to us in a high-concurrency production environment across threads. We can reliably reproduce it with explicitly scheduled threads:\n\n``` ruby\nclass Example < ActiveRecord::Base\n  connection.execute <<~SQL\n    CREATE TABLE examples (id int primary key);\n  SQL\nend\n\nExample.create!(id: 1)\n\nActiveRecord::Base.connection_pool.connections.none?(&:query_cache_enabled)\n# => true\n\nthread_1_connection = nil\nthread_1 = Thread.new do\n  Rails.application.executor.wrap do\n    thread_1_connection = ActiveRecord::Base.connection\n    task = Example.find(1)\n    thread_1_connection.query_cache.empty?\n    # => false\n    ActiveRecord::Base.clear_active_connections!\n    # Sleep so thread 2 can pick up this connection\n    sleep\n    # The executor will grab a different connection and clear its query cache when returning from this block\n  end\nend\n\nthread_2_connection = nil\nthread_2 = Thread.new do\n  # The executor grabs thread 1's released connection, and stores that the connection has query cache turned on by default\n  Rails.application.executor.wrap do\n    thread_2_connection =  ActiveRecord::Base.connection\n    thread_2_connection == thread_1_connection\n    # => true\n    thread_2_connection.query_cache.empty?\n    # => false\n    sleep\n    # The executor does clear the cache but doesn't change query_cache_enabled when returning here\n  end\nend\n\nthread_1.wakeup\nthread_1.join\nthread_1_connection.query_cache_enabled\n# => true\n\nthread_2.wakeup\nthread_2.join\nActiveRecord::Base.connection_pool.connections.none?(&:query_cache_enabled)\n# => false\n\nActiveRecord::Base.connection.execute \"DROP TABLE examples\"\n```\n### Expected behaviour\n\nActiveRecord connections returned to the connection pool should have their query caches cleared and turned off (or back to the default).\n### Actual behaviour\n\nThreads may receive connections with dirty query caches and some connections may end up with query caching permanently enabled.\n### System configuration\n\n**Rails version**: 5.0.0.1 (master is the same)\n**Ruby version**: 2.3.1\n### First solution attempt\n\nStore the connection in the executor state:\n\n``` ruby\nmodule ActiveRecord\n  class QueryCache\n    # ...\n    def self.run\n      connection    = ActiveRecord::Base.connection\n      enabled       = connection.query_cache_enabled\n      connection.enable_query_cache!\n\n      [connection, enabled]\n    end\n\n    def self.complete((connection, enabled))\n      connection.clear_query_cache\n      connection.disable_query_cache! unless enabled\n    end\n    # ...\n  end\nend\n```\n\nThere is still an edge case here: if the connection is returned to the pool early there is still a window where another thread may checkout the connection and see its dirty cache, and potentially store the cache is on by default, again landing us in a connection with query cache stuck enabled.\n\nIf an executor is responsible for checking out the AR connection then it's probably reasonable to assume it's also responsible for checking it back in. In practise, however, it's fairly easy to [accidentally break this assumption](https://github.com/mperham/sidekiq/pull/3166).\n### A Better Solution?\n\nPerhaps instead query caching should be enabled/cleared by the connection pool when checking connections in/out? It would prevent touching connections until they are needed. It would allow query caching in more complex deployments using multiple connection specifications. It would also be nice to be able to configure whether query caching is used at all at a connection specification level.\n\n/cc @matthewd\n",
      "number": 26666,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sj26/subscriptions",
         "received_events_url": "https://api.github.com/users/sj26/received_events",
         "url": "https://api.github.com/users/sj26",
         "avatar_url": "https://avatars1.githubusercontent.com/u/14028?v=4",
         "events_url": "https://api.github.com/users/sj26/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sj26/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sj26/following{/other_user}",
         "repos_url": "https://api.github.com/users/sj26/repos",
         "site_admin": false,
         "id": 14028,
         "organizations_url": "https://api.github.com/users/sj26/orgs",
         "login": "sj26",
         "gists_url": "https://api.github.com/users/sj26/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sj26/followers",
         "html_url": "https://github.com/sj26"
      },
      "state": "closed",
      "closed_by": "26909",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26666",
      "updated_at": "2016-11-06T06:46:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26666/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 180275429,
      "closed_at": "2016-11-06T06:46:47Z",
      "created_at": "2016-09-30T10:51:15Z",
      "title": "ActiveRecord Query Cache sometimes dirty and stuck enabled across threads",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26666/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26666/comments",
      "html_url": "https://github.com/rails/rails/issues/26666"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI swear that I tried to create a single file script to reproduce the issue, but I couldn't.\nHere is the instruction [as well as a repo with complete app with a failing test](https://github.com/kirs/rails_to_time_preserves_timezone_bug).\n1. `bundle exec railties/exe/rails new ../events_blog_five --dev --skip-turbolinks --skip-action-cable --skip-sprockets`\n2. `rails g model event happened_at:datetime`\n3. Apply the diff:\n\n``` diff\ndiff --git a/config/application.rb b/config/application.rb\nindex 8ce1279..f67478a 100644\n--- a/config/application.rb\n+++ b/config/application.rb\n@@ -21,5 +21,6 @@ module EventsBlogFive\n     # Settings in config/environments/* take precedence over those specified here.\n     # Application configuration should go into files in config/initializers\n     # -- all .rb files in that directory are automatically loaded.\n+    config.time_zone = \"Eastern Time (US & Canada)\"\n   end\n end\ndiff --git a/config/initializers/new_framework_defaults.rb b/config/initializers/new_framework_defaults.rb\nindex 0b910f7..a2a9f60 100644\n--- a/config/initializers/new_framework_defaults.rb\n+++ b/config/initializers/new_framework_defaults.rb\n@@ -12,7 +12,8 @@ Rails.application.config.action_controller.forgery_protection_origin_check = tru\n\n # Make Ruby 2.4 preserve the timezone of the receiver when calling `to_time`.\n # Previous versions had false.\n-ActiveSupport.to_time_preserves_timezone = true\n+# Disable for reproducing purposes\n+# ActiveSupport.to_time_preserves_timezone = true\n\n # Require `belongs_to` associations by default. Previous versions had false.\n Rails.application.config.active_record.belongs_to_required_by_default = true\ndiff --git a/test/fixtures/events.yml b/test/fixtures/events.yml\nnew file mode 100644\nindex 0000000..5b96641\n--- /dev/null\n+++ b/test/fixtures/events.yml\n@@ -0,0 +1,4 @@\n+one:\n+  happened_at: 2016-05-02 11:00:00\n+two:\n+  happened_at: 2016-05-02 11:00:00\ndiff --git a/test/models/event_test.rb b/test/models/event_test.rb\nnew file mode 100644\nindex 0000000..457a410\n--- /dev/null\n+++ b/test/models/event_test.rb\n@@ -0,0 +1,8 @@\n+require 'test_helper'\n+\n+class EventTest < ActiveSupport::TestCase\n+  test \"tz\" do\n+    times = Event.all.map(&:happened_at).sort.map { |n| n.to_s(:long) }\n+    assert_equal [\"May 02, 2016 07:00\", \"May 02, 2016 07:00\"], times\n+  end\n+end\n```\n1. Run the test with `TZ=UTC rails test test/models/event_test.rb`. Output:\n\n``` ruby\nFailure:\nEventTest#test_tz [/Users/kir/Projects/opensource/events_blog_five/test/models/event_test.rb:6]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-[\"May 02, 2016 07:00\", \"May 02, 2016 07:00\"]\n+[\"May 02, 2016 07:00\", \"May 02, 2016 11:00\"]\n```\n### Expected behavior\n\nThat the `happened_at` values will be equal, as described in fixtures.\n### Actual behavior\n\nSecond value is mutated: `[\"May 02, 2016 07:00\", \"May 02, 2016 11:00\"]`\n### System configuration\n\n**Rails version**: today's master (`21ecf42730de2004a95d913038c1f417c24496be`)\n\n**Ruby version**: `ruby 2.3.1p112`\n\nthis is probably related to https://github.com/rails/rails/commit/c9c5788a527b70d7f983e2b4b47e3afd863d9f48\ncc @pixeltrix\n",
      "number": 26644,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kirs/subscriptions",
         "received_events_url": "https://api.github.com/users/kirs/received_events",
         "url": "https://api.github.com/users/kirs",
         "avatar_url": "https://avatars3.githubusercontent.com/u/522155?v=4",
         "events_url": "https://api.github.com/users/kirs/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kirs/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kirs/following{/other_user}",
         "repos_url": "https://api.github.com/users/kirs/repos",
         "site_admin": false,
         "id": 522155,
         "organizations_url": "https://api.github.com/users/kirs/orgs",
         "login": "kirs",
         "gists_url": "https://api.github.com/users/kirs/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kirs/followers",
         "html_url": "https://github.com/kirs"
      },
      "state": "closed",
      "closed_by": "26677",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/26644",
      "updated_at": "2016-10-01T20:30:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26644/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 179606623,
      "closed_at": "2016-10-01T20:30:02Z",
      "created_at": "2016-09-27T20:37:17Z",
      "title": "A bug around ActiveSupport.to_time_preserves_timezone",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26644/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26644/comments",
      "html_url": "https://github.com/rails/rails/issues/26644"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nIn any table, create an index like the following.\n\n```\nclass CreateIndices < ActiveRecord::Migration[5.0]\n  def change\n    add_index :table_name, 'column_name_1 jsonb_path_ops', using: :gin\n    add_index :table_name, [:column_name_2, :column_name_3], unique: true\n  end\nend\n```\n\nThis creates the indices properly and everything is fine.\n\nNow, create another migration like the following.\n\n```\nclass EditIndices < ActiveRecord::Migration[5.0]\n  def change\n    remove_index :table_name, [:column_name_2, :column_name_3]\n  end\nend\n```\n### Expected behavior\n\nWhen you run the second migration, it should just work as intended.\n### Actual behavior\n\nWhen you run the second migration, it fails with the following error:\n\n```\n== 20160927123731 EditIndices: migrating ==================================\n-- remove_index(:table_name, [:column_name_2, :column_name_3])\nrails aborted!\nStandardError: An error has occurred, this and all later migrations canceled:\n\nundefined method `join' for \"column_name_1 jsonb_path_ops\":String\nDid you mean?  JSON\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1210:in `block in index_name_for_remove'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `block (2 levels) in index_name_for_remove'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `each'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `all?'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `block in index_name_for_remove'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `select'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `index_name_for_remove'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/postgresql/schema_statements.rb:563:in `remove_index'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/migration.rb:845:in `block in method_missing'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/migration.rb:814:in `block in say_with_time'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/migration.rb:814:in `say_with_time'\n/Users/username/.rvm/gems/ruby-2.3.1@rails_app/gems/activerecord-5.0.0.1/lib/active_record/migration.rb:834:in `method_missing'\n/Users/username/Projects/rails_app/db/migrate/20160927123731_edit_indices.rb:3:in `change'\n\n```\n### Workaround\n\nChanging the migration to provide the name of the index makes the migration run successfully.\n\n```\nclass EditIndices < ActiveRecord::Migration[5.0]\n  def change\n    remove_index :table_name, name: 'index_table_name_on_column_name_2_and_column_name_3'\n  end\nend\n```\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.1\n",
      "number": 26641,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/t-anjan/subscriptions",
         "received_events_url": "https://api.github.com/users/t-anjan/received_events",
         "url": "https://api.github.com/users/t-anjan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/743179?v=4",
         "events_url": "https://api.github.com/users/t-anjan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/t-anjan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/t-anjan/following{/other_user}",
         "repos_url": "https://api.github.com/users/t-anjan/repos",
         "site_admin": false,
         "id": 743179,
         "organizations_url": "https://api.github.com/users/t-anjan/orgs",
         "login": "t-anjan",
         "gists_url": "https://api.github.com/users/t-anjan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/t-anjan/followers",
         "html_url": "https://github.com/t-anjan"
      },
      "state": "closed",
      "closed_by": "26655",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26641",
      "updated_at": "2017-02-13T15:15:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26641/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 179493616,
      "closed_at": "2017-02-13T15:15:16Z",
      "created_at": "2016-09-27T13:30:50Z",
      "title": "Migration errors out with \"undefined method `join' for string\" when removing an index from a table which contains a PG \"jsonb_path_ops\" index",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26641/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26641/comments",
      "html_url": "https://github.com/rails/rails/issues/26641"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nbegin\n  require \"bundler/inline\"\nrescue LoadError => e\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\n  raise e\nend\n\ngemfile(true) do\n  source \"https://rubygems.org\"\n  # Activate the gem you are reporting the issue against.\n  gem \"activerecord\", \"5.0.0.1\"\n  gem \"pg\"\nend\n\nrequire \"active_record\"\nrequire \"minitest/autorun\"\nrequire \"logger\"\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(\"postgres://postgres@localhost:5432/test\")\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :users, force: true do |t|\n    t.text :email\n    t.string :token\n  end\n  execute \"CREATE UNIQUE INDEX index_users_on_lower_email ON users (LOWER(email))\"\n  add_index :users, :token, unique: true\nend\n\nclass BugTest < Minitest::Test\n  def test_remove_index\n    ActiveRecord::Base.connection.remove_index :users, :token\n  end\nend\n```\n### Expected behavior\n\nI think this should run without throwing any exceptions.\n### Actual behavior\n\nThis throws a `NoMethodError` exception. \n\n``` ruby\nBugTest#test_remove_index:\nNoMethodError: undefined method `join' for \"lower(email)\":String\nDid you mean?  JSON\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1210:in `block in index_name_for_remove'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `block (2 levels) in index_name_for_remove'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `each'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `all?'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `block in index_name_for_remove'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `select'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/abstract/schema_statements.rb:1215:in `index_name_for_remove'\n    /Users/ben/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.0.0.1/lib/active_record/connection_adapters/postgresql/schema_statements.rb:563:in `remove_index'\n    bug.rb:37:in `test_remove_index'\n```\n### System configuration\n\n**Rails version**:\n5.0.0.1\n\n**Ruby version**:\n2.3.1\n\n**Postgres version**:\n9.5.0.0\n\nIt looks like [`index_name_for_remove`](https://github.com/rails/rails/blob/cdb307294a43eec489f0ea6ffdc6f0a07b16ff5c/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L1210) is expecting `i.columns` to be an array of strings, but in the case of an expression index it is just a string.\n\nThis was added in 8ceb883 by @greysteil.\n",
      "number": 26635,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/benubois/subscriptions",
         "received_events_url": "https://api.github.com/users/benubois/received_events",
         "url": "https://api.github.com/users/benubois",
         "avatar_url": "https://avatars1.githubusercontent.com/u/133809?v=4",
         "events_url": "https://api.github.com/users/benubois/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/benubois/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/benubois/following{/other_user}",
         "repos_url": "https://api.github.com/users/benubois/repos",
         "site_admin": false,
         "id": 133809,
         "organizations_url": "https://api.github.com/users/benubois/orgs",
         "login": "benubois",
         "gists_url": "https://api.github.com/users/benubois/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/benubois/followers",
         "html_url": "https://github.com/benubois"
      },
      "state": "closed",
      "closed_by": "26655",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26635",
      "updated_at": "2017-02-13T15:10:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26635/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 179363968,
      "closed_at": "2017-02-13T15:10:54Z",
      "created_at": "2016-09-26T23:40:07Z",
      "title": "Presence of an expression index causes problems when removing indexes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26635/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26635/comments",
      "html_url": "https://github.com/rails/rails/issues/26635"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In a Rails 5.0.0.1 app, I have an `app/controllers/profiles_controller.rb` with a single `show` action.  In routes.rb I have\n\n``` ruby\nresource :profile\n```\n\nWhen I run `rails routes | grep profile`, I get the following output:\n\n``` bash\n     profile POST   /profile(.:format)                                 profiles#create\n new_profile GET    /profile/new(.:format)                             profiles#new\nedit_profile GET    /profile/edit(.:format)                            profiles#edit\n             GET    /profile(.:format)                                 profiles#show\n             PATCH  /profile(.:format)                                 profiles#update\n             PUT    /profile(.:format)                                 profiles#update\n             DELETE /profile(.:format)                                 profiles#destroy\n```\n\nThis output looks wrong to me with respect to the `show` action so  I tried calling the `profile_path` helper via GET and it routed to the correct controller's show action.  The output implies I should be using `edit_profile_path` with GET.\n\nWhen I look a the plural routes generated by using `resources :profiles`, I get\n\n``` bash\n    profiles GET    /profiles(.:format)                                profiles#index\n            POST    /profiles(.:format)                                profiles#create\n new_profile GET    /profiles/new(.:format)                            profiles#new\nedit_profile GET    /profiles/:id/edit(.:format)                       profiles#edit\n     profile GET    /profiles/:id(.:format)                            profiles#show\n           PATCH    /profiles/:id(.:format)                            profiles#update\n             PUT    /profiles/:id(.:format)                            profiles#update\n          DELETE    /profiles/:id(.:format)                            profiles#destroy\n```\n\nThis obviously looks correct.  In this version `show`,`update` and `destroy` are tied to `profile_path`.  However, in the singular form, they're _shown_ tied to `edit_profile_path`.   \n\nSince, `profile_path` works as expected in the actual code, it looks like this is an ordering problem in the `rails routes` output.  Logically, it doesn't make sense to call a path helper starting with `edit_` when we're trying to \"show\" a resource or \"destroy\" a resource.  Should't the correct output look more like\n\n``` bash\n new_profile GET    /profile/new(.:format)                             profiles#new\nedit_profile GET    /profile/edit(.:format)                            profiles#edit\n     profile GET    /profile(.:format)                                 profiles#show \n             POST   /profile(.:format)                                 profiles#create\n             PATCH  /profile(.:format)                                 profiles#update\n             PUT    /profile(.:format)                                 profiles#update\n             DELETE /profile(.:format)                                 profiles#destroy\n```\n\nLastly, if I use\n\n``` ruby\nresource :profile, only: [:show]\n```\n\nI get the following output\n\n``` bash\nprofile GET    /profile(.:format)                                 profiles#show\n```\n",
      "number": 26606,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/roberts1000/subscriptions",
         "received_events_url": "https://api.github.com/users/roberts1000/received_events",
         "url": "https://api.github.com/users/roberts1000",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2053901?v=4",
         "events_url": "https://api.github.com/users/roberts1000/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/roberts1000/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/roberts1000/following{/other_user}",
         "repos_url": "https://api.github.com/users/roberts1000/repos",
         "site_admin": false,
         "id": 2053901,
         "organizations_url": "https://api.github.com/users/roberts1000/orgs",
         "login": "roberts1000",
         "gists_url": "https://api.github.com/users/roberts1000/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/roberts1000/followers",
         "html_url": "https://github.com/roberts1000"
      },
      "state": "closed",
      "closed_by": "27089",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26606",
      "updated_at": "2016-11-18T22:50:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26606/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 2,
      "id": 178950772,
      "closed_at": "2016-11-18T22:41:52Z",
      "created_at": "2016-09-23T19:02:49Z",
      "title": "Incorrect output from rails routes when using singular resources",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26606/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26606/comments",
      "html_url": "https://github.com/rails/rails/issues/26606"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`update_attribute(name, value)` returns `nil` if the submitted value is the same as the current value. \nIn rails 4 it returned `true` (as aspected, imo).\n\n``` ruby\np = Post.create(title: 'foo')\np.update_attribute(:title, 'foo') # returns nil\np.update_attribute(:title, 'bar') # return true\n```\n\nI think in rails 4 the db update query was always done. \nIn rails 5 the unecessary update is skipped but I think the return value should be `true`.\n\nWith `update_column` the update is done and the return value is always `true`.\n### Expected behavior\n\n``` ruby\n   p = Post.create(title: 'foo')\n   p.update_attribute(:title, 'foo') # should return true\n```\n### System configuration\n\nRails: 5.0.0.1\nRuby: 2.3.1p112 \n",
      "number": 26593,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/donapieppo/subscriptions",
         "received_events_url": "https://api.github.com/users/donapieppo/received_events",
         "url": "https://api.github.com/users/donapieppo",
         "avatar_url": "https://avatars3.githubusercontent.com/u/231604?v=4",
         "events_url": "https://api.github.com/users/donapieppo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/donapieppo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/donapieppo/following{/other_user}",
         "repos_url": "https://api.github.com/users/donapieppo/repos",
         "site_admin": false,
         "id": 231604,
         "organizations_url": "https://api.github.com/users/donapieppo/orgs",
         "login": "donapieppo",
         "gists_url": "https://api.github.com/users/donapieppo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/donapieppo/followers",
         "html_url": "https://github.com/donapieppo"
      },
      "state": "closed",
      "closed_by": "26595",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26593",
      "updated_at": "2016-09-23T19:53:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26593/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 178812951,
      "closed_at": "2016-09-23T16:51:40Z",
      "created_at": "2016-09-23T08:15:41Z",
      "title": "update_attribute returns unexpected nil when new value is the same as current ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26593/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26593/comments",
      "html_url": "https://github.com/rails/rails/issues/26593"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- Implement job based on `ActiveJob::Base` class with callbacks `after_enqueue` and `before_perform`. Callbacks will print out `provider_job_id`.\n  \n  ``` ruby\n  class FooJob < ActiveJob::Base\n      after_enqueue do |job|\n          puts job.provider_job_id\n      end\n      before_perform do |job|\n          puts job.provider_job_id\n      end\n      def perform\n          # do something\n      end\n  end\n  ```\n### Expected behavior\n- Both callbacks should print out identical `provider_job_id`.\n### Actual behavior\n- Only `after_enqueue` callback prints out correct `provider_job_id`. In `before_perform` `provider_job_id` is equal to `nil`\n- It is probably related to the serialization/deserialization code. `provider_job_id` is not stored in job data.\n  \n  In `ActiveJob::Core#deserialize` (https://github.com/rails/rails/blob/master/activejob/lib/active_job/core.rb#L111) `provider_job_id` is mentioned, but in `ActiveJob::Core#serialize` it is not.\n### System configuration\n\n**Rails version**: 5.0.0.1\n**Ruby version**: 2.3.1p112\n",
      "number": 26581,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sodar/subscriptions",
         "received_events_url": "https://api.github.com/users/sodar/received_events",
         "url": "https://api.github.com/users/sodar",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1798621?v=4",
         "events_url": "https://api.github.com/users/sodar/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sodar/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sodar/following{/other_user}",
         "repos_url": "https://api.github.com/users/sodar/repos",
         "site_admin": false,
         "id": 1798621,
         "organizations_url": "https://api.github.com/users/sodar/orgs",
         "login": "sodar",
         "gists_url": "https://api.github.com/users/sodar/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sodar/followers",
         "html_url": "https://github.com/sodar"
      },
      "state": "closed",
      "closed_by": "26587",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26581",
      "updated_at": "2017-06-27T17:06:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26581/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 178565622,
      "closed_at": "2017-06-27T17:06:41Z",
      "created_at": "2016-09-22T09:48:25Z",
      "title": "ActiveJob: `provider_job_id` is not serialized after enqueuing the job",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26581/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26581/comments",
      "html_url": "https://github.com/rails/rails/issues/26581"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- Create a TimeWithZone an hour before the local -1 DST boundary.\n- Add 1 hour using .in(1.hour)\n- See the time added was really 2 hours\n### Example code\n\nUsing NewYork time (US/Eastern)\n`t = Time.zone.local(2016,11,6,1) # Sun, 06 Nov 2016 01:00:00 EDT -04:00`\n`t.advance(hours: 1) #=> Sun, 06 Nov 2016 01:00:00 EST -05:00`\n`t.since(1.hour) #=> Sun, 06 Nov 2016 01:00:00 EST -05:00`\n`t + 1.hour #=> Sun, 06 Nov 2016 01:00:00 EST -05:00`\n`t.in(1.hour) #=> Sun, 06 Nov 2016 02:00:00 EST -05:00`\n### System configuration\n\n**Rails version**: 4.2.7.1 or 5.0.0.1\n\n**Ruby version**: 2.3.1\n",
      "number": 26580,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/reist/subscriptions",
         "received_events_url": "https://api.github.com/users/reist/received_events",
         "url": "https://api.github.com/users/reist",
         "avatar_url": "https://avatars3.githubusercontent.com/u/506787?v=4",
         "events_url": "https://api.github.com/users/reist/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/reist/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/reist/following{/other_user}",
         "repos_url": "https://api.github.com/users/reist/repos",
         "site_admin": false,
         "id": 506787,
         "organizations_url": "https://api.github.com/users/reist/orgs",
         "login": "reist",
         "gists_url": "https://api.github.com/users/reist/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/reist/followers",
         "html_url": "https://github.com/reist"
      },
      "state": "closed",
      "closed_by": "26597",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26580",
      "updated_at": "2016-09-24T09:35:18Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/26580/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 178558009,
      "closed_at": "2016-09-24T09:35:18Z",
      "created_at": "2016-09-22T09:09:52Z",
      "title": "Using .in(x.hours) on a TimeWithZone near DST boundary skips hours",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26580/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26580/comments",
      "html_url": "https://github.com/rails/rails/issues/26580"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nUsing the mysql2 gem, open a console with DATABASE_URL using `wait_timeout` configuration, e.g.:\n\n`DATABASE_URL=\"mysql2://localhost:3306/test-db?wait_timeout=60&checkout_timeout=42\" bundle exec rails console`\n\n```\npry(main)> ActiveRecord::Base.connection.execute(\"SHOW VARIABLES LIKE \\\"wait_timeout\\\"\").to_a\n=> [[\"wait_timeout\", \"2147483\"]]\n```\n\nI believe the culprit is the Integer/Fixnum check [here](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L848), which was introduced as some sort of backwards compatibility, because `wait_timeout` was also used by the connection pool configuration.\n\nThere is no way to get the parameter typed as `Integer` when using a DATABASE_URL, which seems like undesirable behaviour from my point of view. \n### Expected behavior\n\nThe configured `wait_timeout` should be 60 all connections.\n### Actual behavior\n\nThe configured `wait_timeout` is the default of 2147483 on all connections.\n### System configuration\n\n**Rails version**:\nTested with ActiveRecord 4.2.7.1, possibly more versions affected.\n\n**Ruby version**:\nTested with ruby 2.3.1\n",
      "number": 26556,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/defsprite/subscriptions",
         "received_events_url": "https://api.github.com/users/defsprite/received_events",
         "url": "https://api.github.com/users/defsprite",
         "avatar_url": "https://avatars2.githubusercontent.com/u/165219?v=4",
         "events_url": "https://api.github.com/users/defsprite/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/defsprite/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/defsprite/following{/other_user}",
         "repos_url": "https://api.github.com/users/defsprite/repos",
         "site_admin": false,
         "id": 165219,
         "organizations_url": "https://api.github.com/users/defsprite/orgs",
         "login": "defsprite",
         "gists_url": "https://api.github.com/users/defsprite/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/defsprite/followers",
         "html_url": "https://github.com/defsprite"
      },
      "state": "closed",
      "closed_by": "26559",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26556",
      "updated_at": "2017-02-23T21:46:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26556/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 178027810,
      "closed_at": "2017-02-23T21:46:51Z",
      "created_at": "2016-09-20T10:52:23Z",
      "title": "No way to specify wait_timeout via DATABASE_URL for mysql2",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26556/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26556/comments",
      "html_url": "https://github.com/rails/rails/issues/26556"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nReproduction script https://gist.github.com/rdunlop/e02150cc57a71e7dbf7f752cbc1d5a1f\n### Expected behavior\n\nWhen the 'increment!' method is called on an model, the 'after_save' (and other) callbacks should be invoked\n### Actual behavior\n\nNo callbacks appear to be invoked\n### System configuration\n\n**Rails version**: 5.0.0.1 (works correctly on 4.2.7.1)\n\n**Ruby version**: 2.2.3, 2.3.1 (I didn't try others)\n\nI believe that the following commit changed the behavior:\nhttps://github.com/rails/rails/commit/85a1c025081faf8af8a065e39ee764caebf4054b\n\nI am not familiar enough with concurrency concerns to know what patch to propose to resolve the issue.\n",
      "number": 26554,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rdunlop/subscriptions",
         "received_events_url": "https://api.github.com/users/rdunlop/received_events",
         "url": "https://api.github.com/users/rdunlop",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1149122?v=4",
         "events_url": "https://api.github.com/users/rdunlop/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rdunlop/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rdunlop/following{/other_user}",
         "repos_url": "https://api.github.com/users/rdunlop/repos",
         "site_admin": false,
         "id": 1149122,
         "organizations_url": "https://api.github.com/users/rdunlop/orgs",
         "login": "rdunlop",
         "gists_url": "https://api.github.com/users/rdunlop/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rdunlop/followers",
         "html_url": "https://github.com/rdunlop"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26554",
      "updated_at": "2017-03-05T16:52:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26554/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 177959559,
      "closed_at": "2017-03-04T09:32:03Z",
      "created_at": "2016-09-20T04:12:18Z",
      "title": "Rails 5.0.0.1 increment! does not invoke callbacks where 4.2.7.1 does",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26554/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26554/comments",
      "html_url": "https://github.com/rails/rails/issues/26554"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nSorry that I haven't yet put together a code reproduction of this. I can do that if needed. I'm boiling down from the test case + fix in my company's application.\n\nCreate a scoped association where the scope is `joins(:b).distinct`. Use `A.includes(:b).bs` to see that the b model is duplicated (SQL log shows that distinct isn't used). \n### Expected behavior\n\nThe SQL included should have distinct in it, and the result shouldn't have duplicates.\n### Actual behavior\n\nThe SQL doesn't have distinct in it; items are duplicated.\n### System configuration\n\n**Rails version**: 4.2.7\n\n**Ruby version**: 2.2.4\n### Ideas to Fix\n\nI saw https://github.com/rails/rails/blob/4-2-stable/activerecord/lib/active_record/associations/preloader/association.rb#L146 and decided to see if I could fix it locally. I added \n\n```\n    scope.distinct! preload_values[:distinct] || values[:distinct]\n```\n\nand it passes my test cases locally.\n",
      "number": 26545,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sb8244/subscriptions",
         "received_events_url": "https://api.github.com/users/sb8244/received_events",
         "url": "https://api.github.com/users/sb8244",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1231659?v=4",
         "events_url": "https://api.github.com/users/sb8244/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sb8244/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sb8244/following{/other_user}",
         "repos_url": "https://api.github.com/users/sb8244/repos",
         "site_admin": false,
         "id": 1231659,
         "organizations_url": "https://api.github.com/users/sb8244/orgs",
         "login": "sb8244",
         "gists_url": "https://api.github.com/users/sb8244/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sb8244/followers",
         "html_url": "https://github.com/sb8244"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26545",
      "updated_at": "2017-07-08T20:30:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26545/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 8,
      "id": 177704551,
      "closed_at": "2017-07-08T20:30:18Z",
      "created_at": "2016-09-19T05:05:10Z",
      "title": "Includes on association with scope containing distinct doesn't make include distinct",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26545/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26545/comments",
      "html_url": "https://github.com/rails/rails/issues/26545"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nSee the gist: https://gist.github.com/Envek/fbd1f8576148ec4be33308636339b314\n\nModels:\n\n``` ruby\nclass Post < ActiveRecord::Base\n  has_many :comments\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post\nend\n```\n\nand query:\n\n``` ruby\nlast_comment_relation = Comment.where('\"comments\".\"post_id\" = \"posts\".\"id\"').order(created_at: :desc).limit(1)\nposts = Post.all.eager_load(:comments).where(comments: { id: [nil, last_comment_relation.select(:id)] }).load\n```\n### Expected behavior\n\nQuery should run successfully and should return all posts with 0 or 1 latest comment for each with single query to DB\n### Actual behavior\n\nException\n\n```\nERROR: bind message supplies 0 parameters, but prepared statement \"\" requires 1\n```\n\nWhile executing:\n\n``` ruby\nSELECT \"posts\".\"id\" AS t0_r0, \"comments\".\"id\" AS t1_r0, \"comments\".\"post_id\" AS t1_r1, \"comments\".\"created_at\" AS t1_r2, \"comments\".\"updated_at\" AS t1_r3 FROM \"posts\" LEFT OUTER JOIN \"comments\" ON \"comments\".\"post_id\" = \"posts\".\"id\" WHERE (\"comments\".\"id\" IN (SELECT  \"comments\".\"id\" FROM \"comments\" WHERE (\"comments\".\"post_id\" = \"posts\".\"id\") ORDER BY \"comments\".\"created_at\" DESC LIMIT $1) OR \"comments\".\"id\" IS NULL)\n```\n\nThis error raises only when I add check for `NULL` as inclusion of `comments.id` in array of `nil` and subquery relation and only if that relation contains limit:\n\n``` ruby\nwhere(comments: { id: [nil, last_comment_relation.select(:id)] })\n```\n\nNeither #25786 or #25877 doesn't seem to fix this issue\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.1\n",
      "number": 26541,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Envek/subscriptions",
         "received_events_url": "https://api.github.com/users/Envek/received_events",
         "url": "https://api.github.com/users/Envek",
         "avatar_url": "https://avatars1.githubusercontent.com/u/264400?v=4",
         "events_url": "https://api.github.com/users/Envek/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Envek/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Envek/following{/other_user}",
         "repos_url": "https://api.github.com/users/Envek/repos",
         "site_admin": false,
         "id": 264400,
         "organizations_url": "https://api.github.com/users/Envek/orgs",
         "login": "Envek",
         "gists_url": "https://api.github.com/users/Envek/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Envek/followers",
         "html_url": "https://github.com/Envek"
      },
      "state": "closed",
      "closed_by": "13796f",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26541",
      "updated_at": "2017-07-24T13:09:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26541/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 177660423,
      "closed_at": "2017-07-24T13:09:20Z",
      "created_at": "2016-09-18T16:10:19Z",
      "title": "PostgreSQL bind parameter getting lost for subquery's LIMIT",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26541/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26541/comments",
      "html_url": "https://github.com/rails/rails/issues/26541"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nRun ActionCable test `env FAYE=1 bundle exec ruby -Itest test/client_test.rb -n test_server_restart`\n### Expected behavior\n\nThe test should pass.\n### Actual behavior\n\nRaises a [segmentation fault](https://gist.github.com/rafamanzo/c7a23b7b6f89ec4b0cfe9da27297d477).\n### System configuration\n\n**Rails version**: git at 2c5cb411b5755f3cfac7413b1c18e7d65acc208d\n\n**Ruby version**: 2.3.1\n\nI've first experienced this on Arch Linux. Then tried within a Ubuntu 16.04 vagrant box with the same error. Finally after noticing it [do pass on travis](https://travis-ci.org/rails/rails/jobs/156664411), I've tried within a Ubuntu 12.04 vagrant box and surprise! It passes! So this looks like something that can possibly blow up when users update their servers.\n\nI've been on this for a few weeks trying to debug/fix with no success. Here is what I've got so far:\n- Looks like an instance of an already known EventMachine issue (https://github.com/eventmachine/eventmachine/issues/670)\n- The stack trace is not so helpful on finding the source. So I've scattered prints across the code in order to get more information:\n  - The call to `ActionCable.server.restart` is the last successful one\n  - After that a call to `SyncClient#on(:close)` is done and the segfault comes up\n- I've tried to protect the `EventMachine` usage with a mutex such as `ActionCable::Connection::FayeEventLoop#ensure_reactor_running` but the error persists\n\nI've come to a workaround for which I'll open a PR following, but I'd like to ask for AC experienced eyes to have a look if this is not a symptom of something worse, since AC calls `EventMachine#run` at several places which might cause the same segfault on server restarts (since no user has complained about this yet looks unlikely to be happening).\n",
      "number": 26538,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rafamanzo/subscriptions",
         "received_events_url": "https://api.github.com/users/rafamanzo/received_events",
         "url": "https://api.github.com/users/rafamanzo",
         "avatar_url": "https://avatars1.githubusercontent.com/u/288884?v=4",
         "events_url": "https://api.github.com/users/rafamanzo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafamanzo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafamanzo/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafamanzo/repos",
         "site_admin": false,
         "id": 288884,
         "organizations_url": "https://api.github.com/users/rafamanzo/orgs",
         "login": "rafamanzo",
         "gists_url": "https://api.github.com/users/rafamanzo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafamanzo/followers",
         "html_url": "https://github.com/rafamanzo"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26538",
      "updated_at": "2016-10-05T18:34:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26538/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 177658257,
      "closed_at": "2016-10-05T18:34:16Z",
      "created_at": "2016-09-18T15:30:27Z",
      "title": "ActionCable test passes on Travis but fails locally",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26538/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26538/comments",
      "html_url": "https://github.com/rails/rails/issues/26538"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI expect ActiveModel::Errors#details keys are always symbols, but when accepts_nested_attributes_for model is invalid, string keys are stored. Is this expected behavior?\n\nHere is the reproduction script:\n\n```\nbegin\n  require \"bundler/inline\"\nrescue LoadError => e\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\n  raise e\nend\n\ngemfile(true) do\n  source \"https://rubygems.org\"\n  gem \"rails\", github: \"rails/rails\"\n  gem \"sqlite3\"\nend\n\nrequire \"active_record\"\nrequire \"minitest/autorun\"\nrequire \"logger\"\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n    t.string :text, null: false\n  end\n\n  create_table :comments, force: true do |t|\n    t.integer :post_id\n    t.string :text, null: false\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments\n  accepts_nested_attributes_for :comments\n\n  validates :text, presence: true\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post\n\n  validates :text, presence: true\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    params = { text: nil, comments_attributes: [{ text: nil }] }\n    post = Post.new(params)\n\n    assert post.invalid?\n\n    # ActiveModel::Errors\n    # Both 'text' and 'comments.text' are Symbol.\n    p post.errors.keys\n    post.errors.each do |attribute, _error|\n      assert_instance_of Symbol, attribute\n    end\n\n    # ActiveModel::Errors#details\n    # 'text' is Symbol, but 'comments.text' is String.\n    p post.errors.details.keys\n    post.errors.details.each do |attribute, detail|\n      assert_instance_of Symbol, attribute\n    end\n  end\nend\n```\n\nThe reason why it happens may be this line :  https://github.com/rails/rails/blob/master/activerecord/lib/active_record/autosave_association.rb#L354\n`reflection_attribute` is a string and is used for ActiveModel::Errors#details(Hash) key.\n### Expected behavior\n\nActiveModel::Errors#details keys are always symbols.\n### Actual behavior\n\nThe key is string when validaiton error occurs in accepts_nested_attributes_for models.\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1\n",
      "number": 26499,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ryu39/subscriptions",
         "received_events_url": "https://api.github.com/users/ryu39/received_events",
         "url": "https://api.github.com/users/ryu39",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3458295?v=4",
         "events_url": "https://api.github.com/users/ryu39/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ryu39/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ryu39/following{/other_user}",
         "repos_url": "https://api.github.com/users/ryu39/repos",
         "site_admin": false,
         "id": 3458295,
         "organizations_url": "https://api.github.com/users/ryu39/orgs",
         "login": "ryu39",
         "gists_url": "https://api.github.com/users/ryu39/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ryu39/followers",
         "html_url": "https://github.com/ryu39"
      },
      "state": "closed",
      "closed_by": "26552",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26499",
      "updated_at": "2016-09-19T23:07:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26499/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 176962108,
      "closed_at": "2016-09-19T22:58:58Z",
      "created_at": "2016-09-14T16:55:46Z",
      "title": "ActiveModel::Errors#details has string keys when accepts_nested_attributes_for model is invalid",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26499/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26499/comments",
      "html_url": "https://github.com/rails/rails/issues/26499"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "TLDR: Using `touch` in Rails 5.0.0.1 leaves the `ActiveRecord` models with lock_version in a changed state:\n### Steps to reproduce\n\nSet up a model with optimistic locking in a blank Rails application:\n\n```\n$ rails generate model Hammer lock_version\n$ rails db:migrate\n$ rails console\n```\n\nCreate a new record and touch it:\n\n```\n2.3.0 :001 > mc = Hammer.create!\n => #<Hammer id: 1, lock_version: 0, created_at: \"2016-09-14 14:06:12\", updated_at: \"2016-09-14 14:06:12\">\n2.3.0 :002 > mc.lock_version\n => 0\n2.3.0 :003 > mc.touch\n => true\n```\n### Actual behaviour\n\n```\n2.3.0 :004 > mc.changed?\n => true\n2.3.0 :005 > mc.changes\n => {\"lock_version\"=>[0, \"1\"]}\n```\n### Expected behaviour\n\n```\n2.3.0 :004 > mc.changed?\n => false\n2.3.0 :005 > mc.changes\n => {}\n```\n\nA complete reproduction script can be found below.\n### System configuration\n\n```\n$ rails -v\nRails 5.0.0.1\n\n$ ruby -v\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin15]\n```\n### Reproduction script\n\n```\nbegin\n  require \"bundler/inline\"\nrescue LoadError => e\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\n  raise e\nend\n\ngemfile(true) do\n  source \"https://rubygems.org\"\n  gem \"rails\", github: \"rails/rails\"\n  gem \"sqlite3\"\nend\n\nrequire \"active_record\"\nrequire \"minitest/autorun\"\nrequire \"logger\"\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :hammers, force: true do |t|\n    t.integer :lock_version\n    t.timestamps\n  end\nend\n\nclass Hammer < ActiveRecord::Base\nend\n\nclass TouchTest < Minitest::Test\n  def test_touching_stuff\n    hammer = Hammer.create!\n\n    hammer.touch\n\n    assert_equal 1, hammer.lock_version\n    refute hammer.changed?, \"Changes should be cleared: #{hammer.changes.inspect}\"\n  end\nend\n```\n",
      "number": 26496,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/koppen/subscriptions",
         "received_events_url": "https://api.github.com/users/koppen/received_events",
         "url": "https://api.github.com/users/koppen",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6480?v=4",
         "events_url": "https://api.github.com/users/koppen/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/koppen/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/koppen/following{/other_user}",
         "repos_url": "https://api.github.com/users/koppen/repos",
         "site_admin": false,
         "id": 6480,
         "organizations_url": "https://api.github.com/users/koppen/orgs",
         "login": "koppen",
         "gists_url": "https://api.github.com/users/koppen/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/koppen/followers",
         "html_url": "https://github.com/koppen"
      },
      "state": "closed",
      "closed_by": "26497",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26496",
      "updated_at": "2016-09-17T12:54:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26496/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 1,
      "id": 176929634,
      "closed_at": "2016-09-17T12:54:35Z",
      "created_at": "2016-09-14T14:55:10Z",
      "title": "`touch` leaves model with optimistic locking in changed state",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26496/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26496/comments",
      "html_url": "https://github.com/rails/rails/issues/26496"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n1) Create a `resources` block with a a constraint on the named segment, for example:\n\n``` ruby\nresources :reports, only: [:new, :create, :show], param: :reference, reference: /\\d+/\n\n```\n\n2) Use a generate URL path helper, and provide a value for the named segment which fails to match the constraint:\n\n``` ruby\nreport_path(reference: \"ABC123\")\n```\n\n3) Receive a helpfully named error, but with a misleading piece of text saying that a required key is missing:\n\n``` plain\nActionController::UrlGenerationError: No route matches {:action=>\"show\", :controller=>\"reports\", :reference=>\"ABC123\"} missing required keys: [:reference]\n```\n### Expected behavior\n\nThe error message should state the route matches, but the value for the required key fails to match any constraints.\n### Actual behavior\n\nThe error states that the key is missing, when it has been provided with a non-matching value.\n### System configuration\n\n**Rails version**: `Rails 4.2.7.1`\n**Ruby version**: `ruby 2.3.0p0`\n",
      "number": 26470,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chriscarter90/subscriptions",
         "received_events_url": "https://api.github.com/users/chriscarter90/received_events",
         "url": "https://api.github.com/users/chriscarter90",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1398210?v=4",
         "events_url": "https://api.github.com/users/chriscarter90/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chriscarter90/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chriscarter90/following{/other_user}",
         "repos_url": "https://api.github.com/users/chriscarter90/repos",
         "site_admin": false,
         "id": 1398210,
         "organizations_url": "https://api.github.com/users/chriscarter90/orgs",
         "login": "chriscarter90",
         "gists_url": "https://api.github.com/users/chriscarter90/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chriscarter90/followers",
         "html_url": "https://github.com/chriscarter90"
      },
      "state": "closed",
      "closed_by": "26555",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26470",
      "updated_at": "2016-10-03T10:41:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26470/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 7,
      "id": 176398646,
      "closed_at": "2016-10-03T10:41:38Z",
      "created_at": "2016-09-12T15:00:10Z",
      "title": "Misleading error when failing to match a routing constraint",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26470/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26470/comments",
      "html_url": "https://github.com/rails/rails/issues/26470"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n`mattr_accessor` and all related functions disregard access modifiers (i.e. private/protected) and always creats public functions. This should either be documented or changed to respect modifiers.\n\nSimple reproducer class:\n\n``` ruby\nclass MyClass\n  private\n  cattr_accessor :private_name\nend\n```\n### Expected behavior\n\n``` ruby\npry(main) > MyClass.private_name\nNoMethodError:  private method 'private_name' called for MyClass:Class\n```\n### Actual behavior\n\n``` ruby\npry(main) > MyClass.private_name\n=> nil\n```\n### System configuration\n\n**Rails version**: 4.2.7.1\n\n**Ruby version**: 2.0.0\n",
      "number": 26461,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tbrisker/subscriptions",
         "received_events_url": "https://api.github.com/users/tbrisker/received_events",
         "url": "https://api.github.com/users/tbrisker",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1540531?v=4",
         "events_url": "https://api.github.com/users/tbrisker/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tbrisker/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tbrisker/following{/other_user}",
         "repos_url": "https://api.github.com/users/tbrisker/repos",
         "site_admin": false,
         "id": 1540531,
         "organizations_url": "https://api.github.com/users/tbrisker/orgs",
         "login": "tbrisker",
         "gists_url": "https://api.github.com/users/tbrisker/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tbrisker/followers",
         "html_url": "https://github.com/tbrisker"
      },
      "state": "closed",
      "closed_by": "26480",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26461",
      "updated_at": "2017-01-05T04:39:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26461/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 176233234,
      "closed_at": "2017-01-05T04:39:20Z",
      "created_at": "2016-09-11T09:03:59Z",
      "title": "mattr_accessor ignore access modifiers ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26461/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26461/comments",
      "html_url": "https://github.com/rails/rails/issues/26461"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`has_secure_password` expects that the user wants to secure `password` filed and there exists `password_digest` field in the database. There is no way to configure/override those expectations.\n\nIf we have `pass_digest` as a field in the database instead of the default expected `password_digest` field, we won't be able to use `has_secure_password`.\n#26435 addresses this issue.\n",
      "number": 26436,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dharamgollapudi/subscriptions",
         "received_events_url": "https://api.github.com/users/dharamgollapudi/received_events",
         "url": "https://api.github.com/users/dharamgollapudi",
         "avatar_url": "https://avatars0.githubusercontent.com/u/737325?v=4",
         "events_url": "https://api.github.com/users/dharamgollapudi/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dharamgollapudi/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dharamgollapudi/following{/other_user}",
         "repos_url": "https://api.github.com/users/dharamgollapudi/repos",
         "site_admin": false,
         "id": 737325,
         "organizations_url": "https://api.github.com/users/dharamgollapudi/orgs",
         "login": "dharamgollapudi",
         "gists_url": "https://api.github.com/users/dharamgollapudi/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dharamgollapudi/followers",
         "html_url": "https://github.com/dharamgollapudi"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26436",
      "updated_at": "2016-10-16T23:06:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26436/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 175887950,
      "closed_at": "2016-10-15T02:34:17Z",
      "created_at": "2016-09-08T23:13:06Z",
      "title": "has_secure_password cannot be configured with custom fields",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26436/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26436/comments",
      "html_url": "https://github.com/rails/rails/issues/26436"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This issue is similar to https://github.com/rails/rails/issues/1040, but with a newer version.\n### Steps to reproduce\n\n```\n$ irb -w\n> require 'active_support'; require 'active_support/core_ext'\n```\n### Expected behavior\n\n```\nirb(main):001:0> require 'active_support'; require 'active_support/core_ext'\n=> true\nirb(main):002:0>\n```\n\nThis is the actual behavior with version `4.2.7.1`.\n### Actual behavior\n\n```\nirb(main):001:0> require 'active_support'; require 'active_support/core_ext'\n~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation.rb:19: warning: loading in progress, circular require considered harmful - ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation/proxy_wrappers.rb\n        from ~/.rbenv/versions/2.2.4/bin/irb:11:in  `<main>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:394:in  `start'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:394:in  `catch'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:395:in  `block in start'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:485:in  `eval_input'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/ruby-lex.rb:230:in  `each_top_level_statement'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/ruby-lex.rb:230:in  `catch'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/ruby-lex.rb:231:in  `block in each_top_level_statement'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/ruby-lex.rb:231:in  `loop'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/ruby-lex.rb:245:in  `block (2 levels) in each_top_level_statement'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:486:in  `block in eval_input'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:623:in  `signal_status'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb.rb:489:in  `block (2 levels) in eval_input'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/context.rb:379:in  `evaluate'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/workspace.rb:86:in  `evaluate'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/2.2.0/irb/workspace.rb:86:in  `eval'\n        from (irb):1:in  `irb_binding'\n        from (irb):1:in  `require'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/core_ext.rb:2:in  `<top (required)>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/core_ext.rb:2:in  `each'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/core_ext.rb:3:in  `block in <top (required)>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/core_ext.rb:3:in  `require'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/core_ext/load_error.rb:1:in  `<top (required)>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/core_ext/load_error.rb:1:in  `require'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation/proxy_wrappers.rb:3:in  `<top (required)>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation/proxy_wrappers.rb:4:in  `<module:ActiveSupport>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation.rb:3:in  `<top (required)>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation.rb:6:in  `<module:ActiveSupport>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation.rb:19:in  `<class:Deprecation>'\n        from ~/.rbenv/versions/2.2.4/lib/ruby/gems/2.2.0/gems/activesupport-5.0.0.1/lib/active_support/deprecation.rb:19:in  `require'\n=> true\nirb(main):002:0>\n```\n\nThis is the actual behavior of version `5.0.0.beta1` thru `5.0.0.1`.\n### System configuration\n\n**Rails version**: `5.0.0.beta1` to `5.0.0.1`\n\n**Ruby version**: `2.2.4` (on OSX)\n### Git Bisect\n\nA `git bisect` between https://github.com/rails/rails/tree/4-2-stable and https://github.com/rails/rails/tree/v5.0.0 revealed https://github.com/rails/rails/commit/20c1484993bfc9314ed8f44ab9779e54fb605a01 as the first \"bad\" commit (/cc @akshay-vishnoi)\n",
      "number": 26430,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/apepper/subscriptions",
         "received_events_url": "https://api.github.com/users/apepper/received_events",
         "url": "https://api.github.com/users/apepper",
         "avatar_url": "https://avatars0.githubusercontent.com/u/86275?v=4",
         "events_url": "https://api.github.com/users/apepper/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/apepper/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/apepper/following{/other_user}",
         "repos_url": "https://api.github.com/users/apepper/repos",
         "site_admin": false,
         "id": 86275,
         "organizations_url": "https://api.github.com/users/apepper/orgs",
         "login": "apepper",
         "gists_url": "https://api.github.com/users/apepper/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/apepper/followers",
         "html_url": "https://github.com/apepper"
      },
      "state": "closed",
      "closed_by": "26563",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26430",
      "updated_at": "2016-12-03T03:50:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26430/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 175708524,
      "closed_at": "2016-09-23T18:27:04Z",
      "created_at": "2016-09-08T09:37:46Z",
      "title": "activesupport 5.0.0.1 gem: require 'active_support/core_ext' generates \"circular require\" warning",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26430/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26430/comments",
      "html_url": "https://github.com/rails/rails/issues/26430"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI a simple model\n\n``` ruby\nclass Epixcms::Movies::Movie < ActiveRecord::Base\n  alias_attribute :updated_at, :modified_date\n  alias_attribute :created_at, :create_date\nend\n\nmovie = Epixcms::Movies::Movie.new\nmovie.modified_date = Time.zone.now\nmovie.cache_key\n```\n### Expected behavior\n\nIt should respect the defined alias and include the modified_date into the cache_key\n### Actual behavior\n\nIt does not include the modified_date\n### System configuration\n\nRails 4.2.7.1\nRuby 2.3.0\n",
      "number": 26417,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/alexandru-calinoiu/subscriptions",
         "received_events_url": "https://api.github.com/users/alexandru-calinoiu/received_events",
         "url": "https://api.github.com/users/alexandru-calinoiu",
         "avatar_url": "https://avatars3.githubusercontent.com/u/679198?v=4",
         "events_url": "https://api.github.com/users/alexandru-calinoiu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/alexandru-calinoiu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/alexandru-calinoiu/following{/other_user}",
         "repos_url": "https://api.github.com/users/alexandru-calinoiu/repos",
         "site_admin": false,
         "id": 679198,
         "organizations_url": "https://api.github.com/users/alexandru-calinoiu/orgs",
         "login": "alexandru-calinoiu",
         "gists_url": "https://api.github.com/users/alexandru-calinoiu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/alexandru-calinoiu/followers",
         "html_url": "https://github.com/alexandru-calinoiu"
      },
      "state": "closed",
      "closed_by": "26529",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26417",
      "updated_at": "2016-12-08T18:41:36Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26417/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 175430301,
      "closed_at": "2016-12-08T18:41:36Z",
      "created_at": "2016-09-07T07:19:12Z",
      "title": "Cache key behaviour for alliased timestamps",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26417/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26417/comments",
      "html_url": "https://github.com/rails/rails/issues/26417"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n```\nirb(main):001:0> params_1 = ActionController::Parameters.new({})\n<ActionController::Parameters {} permitted: false>\nirb(main):002:0> params_2 = ActionController::Parameters.new({})\n<ActionController::Parameters {} permitted: false>\nirb(main):003:0> params_1.merge(params_2)\nDEPRECATION WARNING: Method to_hash is deprecated and will be removed in Rails 5.1, as `ActionController::Parameters` no longer inherits from hash. Using this deprecated behavior exposes potential security problems. If you continue to use this method you may be creating a security vulnerability in your app that can be exploited. Instead, consider using one of these documented methods which are not deprecated: http://api.rubyonrails.org/v5.0.0.1/classes/ActionController/Parameters.html\n```\n### Expected behavior\n\n`ActionController::Parameters` knows everything it needs to carry over all of the permitted and required parameters and therefore it is detrimental to first convert it into a hash since that step removes all permitted and required information from the object being merged.\n\nThe resulting object should be an `ActionController::Parameters` object with the combined data and permissions of both of the original objects.\n### Actual behavior\n\nSee above\n### System configuration\n\n**Rails version**: 5.0.0.1\n**Ruby version**: 2.3.0\n",
      "number": 26415,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jfelchner/subscriptions",
         "received_events_url": "https://api.github.com/users/jfelchner/received_events",
         "url": "https://api.github.com/users/jfelchner",
         "avatar_url": "https://avatars0.githubusercontent.com/u/285582?v=4",
         "events_url": "https://api.github.com/users/jfelchner/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jfelchner/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jfelchner/following{/other_user}",
         "repos_url": "https://api.github.com/users/jfelchner/repos",
         "site_admin": false,
         "id": 285582,
         "organizations_url": "https://api.github.com/users/jfelchner/orgs",
         "login": "jfelchner",
         "gists_url": "https://api.github.com/users/jfelchner/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jfelchner/followers",
         "html_url": "https://github.com/jfelchner"
      },
      "state": "closed",
      "closed_by": "26418",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26415",
      "updated_at": "2016-09-07T15:46:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26415/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 175351169,
      "closed_at": "2016-09-07T15:46:49Z",
      "created_at": "2016-09-06T21:02:33Z",
      "title": "Strong Parameters throws deprecation when merging another Parameters object",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26415/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26415/comments",
      "html_url": "https://github.com/rails/rails/issues/26415"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI'm running ActiveRecord unit tests in my local environment. \n\n```\n$ cd activerecord\n$ bundle exec rake test\n```\n\nHere is the minimum steps to reproduce.\n\n``` ruby\nfor i in sqlite3 mysql2 postgresql\ndo\nARCONN=$i bundle exec ruby -w -I\"lib:test\" -I\"/home/yahonda/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib\" \"/home/yahonda/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib/rake/rake_test_loader.rb\" \"test/cases/relation/where_test.rb\" \"test/cases/base_test.rb\"\ndone\n```\n\nIt only reproduces test files listed this order. \"test/cases/relation/where_test.rb\" first then \"test/cases/base_test.rb\". If these file order flipped like \"test/cases/base_test.rb\" \"test/cases/relation/where_test.rb\", it will not reproduce.\n### Expected behavior\n\nAll unit test finish without failures.\n### Actual behavior\n\n`BasicsTest#test_readonly_attributes` fails for all bundled adapters, sqlite3 mysql2 and postgresql.\n\n``` ruby\n$ for i in sqlite3 mysql2 postgresql\n> do\n> ARCONN=$i bundle exec ruby -w -I\"lib:test\" -I\"/home/yahonda/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib\" \"/home/yahonda/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib/rake/rake_test_loader.rb\" \\\n> \"test/cases/relation/where_test.rb\" \"test/cases/base_test.rb\"\n> done\nUsing sqlite3\nRun options: --seed 30872\n\n# Running:\n\n.................................................S.....................F...................................................................................................................\n\nFinished in 1.414296s, 132.2213 runs/s, 289.8970 assertions/s.\n\n  1) Failure:\nBasicsTest#test_readonly_attributes [/home/yahonda/git/rails/activerecord/test/cases/base_test.rb:642]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-#<Set: {\"title\", \"comments_count\"}>\n+#<Set: {\"title\"}>\n\n\n187 runs, 410 assertions, 1 failures, 0 errors, 1 skips\n\nYou have skipped tests. Run with --verbose for details.\nUsing mysql2\nRun options: --seed 53967\n\n# Running:\n\n........................................................................................................................S..........................................................F........\n\nFinished in 2.064569s, 91.0601 runs/s, 199.0730 assertions/s.\n\n  1) Failure:\nBasicsTest#test_readonly_attributes [/home/yahonda/git/rails/activerecord/test/cases/base_test.rb:642]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-#<Set: {\"title\", \"comments_count\"}>\n+#<Set: {\"title\"}>\n\n\n188 runs, 411 assertions, 1 failures, 0 errors, 1 skips\n\nYou have skipped tests. Run with --verbose for details.\nUsing postgresql\nRun options: --seed 46193\n\n# Running:\n\n......................................................................................................F...................................................................................\n\nFinished in 2.510094s, 74.1008 runs/s, 164.9340 assertions/s.\n\n  1) Failure:\nBasicsTest#test_readonly_attributes [/home/yahonda/git/rails/activerecord/test/cases/base_test.rb:642]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-#<Set: {\"title\", \"comments_count\"}>\n+#<Set: {\"title\"}>\n\n\n186 runs, 414 assertions, 1 failures, 0 errors, 0 skips\n$\n```\n### System configuration\n\n**Rails version**:\nmaster branch \n**Ruby version**:\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n",
      "number": 26368,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "26370",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26368",
      "updated_at": "2016-09-05T17:38:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26368/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 174752915,
      "closed_at": "2016-09-05T17:37:33Z",
      "created_at": "2016-09-02T12:53:16Z",
      "title": "BasicsTest#test_readonly_attributes fails depending on test files order",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26368/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26368/comments",
      "html_url": "https://github.com/rails/rails/issues/26368"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` rb\nclass BidGoodsItemExpiredJob < ApplicationJob\n  self.queue_adapter = :sidekiq\n  def perform\n       ....\n  end\nend\n```\n\nThis will result in following test code not work.\n\n``` rb\nassert_enqueued_with(job: BidGoodsItemExpiredJob) do\n      BidGoodsItemExpiredJob.set(wait_until: bid_goods_item.bid_expired_at).perform_later(bid_goods_item.id)\nend\n```\n\nWe must change job code to following to make test work.\n\n``` rb\nclass BidGoodsItemExpiredJob < ApplicationJob\n  self.queue_adapter = :sidekiq unless rails.env.test?\n  def perform\n       ....\n  end\nend\n```\n\nIt weired, spent me hours to found out  test use \n`ActiveJob::QueueAdapters::TestAdapter` to make test work.\n### Expected behavior\n\nself.queue_adapter = :sidekiq in job should not change the default\ntest adapter ... it only test enque, not test enque to sidekiq.\n### System configuration\n\nRails 5.0.0\nRuby 2.2.4\n",
      "number": 26360,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
            "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
            "url": "https://api.github.com/users/prathamesh-sonpatki",
            "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
            "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
            "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
            "site_admin": false,
            "id": 621238,
            "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
            "login": "prathamesh-sonpatki",
            "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
            "html_url": "https://github.com/prathamesh-sonpatki"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zw963/subscriptions",
         "received_events_url": "https://api.github.com/users/zw963/received_events",
         "url": "https://api.github.com/users/zw963",
         "avatar_url": "https://avatars3.githubusercontent.com/u/549126?v=4",
         "events_url": "https://api.github.com/users/zw963/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zw963/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zw963/following{/other_user}",
         "repos_url": "https://api.github.com/users/zw963/repos",
         "site_admin": false,
         "id": 549126,
         "organizations_url": "https://api.github.com/users/zw963/orgs",
         "login": "zw963",
         "gists_url": "https://api.github.com/users/zw963/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zw963/followers",
         "html_url": "https://github.com/zw963"
      },
      "state": "closed",
      "closed_by": "26690",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26360",
      "updated_at": "2017-02-03T07:22:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26360/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 174675110,
      "closed_at": "2017-01-31T21:37:17Z",
      "created_at": "2016-09-02T03:51:40Z",
      "title": "[ActiveJob] test adapter is override by self.enque_adapter = :sidekiq",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26360/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26360/comments",
      "html_url": "https://github.com/rails/rails/issues/26360"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI've created [this minimal example](https://gist.github.com/Midnighter/8ddfad43ea22515f8a4bf3d480d6d58e).\n### Expected behavior\n\nIn the test case `test_subquery_unscope`  `p2` and `p3` are `ActiveRecord::Relation`s thus causing a subquery with a join to be used. Using `unscope` to remove the first condition, I expect the query to work and only the parameters from `p3` to be applied.\n### Actual behavior\n\nThe SQL generated includes both the parameters from `p2` _and_ `p3` thus supplying too many parameters and causing an `ActiveRecord::StatementInvalid` error. As can be seen in `test_avoid_subquery_unscope`, simplifying the first condition by using `p2.first` and thus avoiding a subquery there, unscope works as expected and the new condition with a subquery can be applied.\n### System configuration\n\n**Rails version**: master but also on 4.2.6 (haven't tested any others)\n\n**Ruby version**:  ruby 2.3.1p112 (2016-04-26) [x86_64-linux-gnu]\n",
      "number": 26323,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Midnighter/subscriptions",
         "received_events_url": "https://api.github.com/users/Midnighter/received_events",
         "url": "https://api.github.com/users/Midnighter",
         "avatar_url": "https://avatars1.githubusercontent.com/u/135653?v=4",
         "events_url": "https://api.github.com/users/Midnighter/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Midnighter/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Midnighter/following{/other_user}",
         "repos_url": "https://api.github.com/users/Midnighter/repos",
         "site_admin": false,
         "id": 135653,
         "organizations_url": "https://api.github.com/users/Midnighter/orgs",
         "login": "Midnighter",
         "gists_url": "https://api.github.com/users/Midnighter/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Midnighter/followers",
         "html_url": "https://github.com/Midnighter"
      },
      "state": "closed",
      "closed_by": "27122",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26323",
      "updated_at": "2017-02-13T04:35:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26323/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 173896479,
      "closed_at": "2017-02-13T04:35:29Z",
      "created_at": "2016-08-29T23:29:40Z",
      "title": "`unscope` causes too many parameters to be supplied when used with subquery",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26323/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26323/comments",
      "html_url": "https://github.com/rails/rails/issues/26323"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nUse \n\n```\nsend_file filename, type: 'text/calendar; charset=utf-8'\n```\n\nas the last line in a controller, similar to an example in the documentation of `send_file`.\n### Expected behavior\n\nThe http response contains the header \n\n```\nContent-Type: 'text/calendar; charset=utf-8'\n```\n### Actual behavior\n\nThe http response contains the header \n\n```\nContent-Type: 'text/calendar'\n```\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.1\n### Additional comments\n\nDuring handling of the `send_file` call, the following effectively happens:\n- at some point `content_type=` in `actionpack-5.0.0.1/lib/action_dispatch/http/response.rb` is called with `'text/calendar; charset=utf-8'` as its argument.\n- `parse_content_type` is called on the _current_ `content_type`, which is `nil`\n- `set_content_type` is called with `'text/calendar; charset=utf-8'` and 'utf-8' as arguments\n- `set_header` is called with `\"Content-Type\"` and `\"text/calendar; charset=utf-8; charset=utf-8\"` [sic!] as arguments\n- when execution returns to `send_file_headers!(options)`, we can see that `self.content_type` now returns the value `\"text/calendar\"`, even though `self.headers` contains:\n  \n  ```\n   \"Content-Type\" => \"text/calendar; charset=utf-8; charset=utf-8\"\n  ```\n- one level further up, in `send_file` itself, there is a line\n  \n  ```\n  self.content_type = options[:content_type] if options.key?(:content_type)\n  ```\n  \n  but, as per the documentation, we were using the `:type` options, not `:content_type` and this doesn't fix things.\n- The ultimate HTTP response contains `text/calendar`, without charset (neither once nor twice).\n\nIf you use `:content_type` instead of `:type`, you end up with the charset twice in the HTTP response.\n\nIf you use `content_type: 'text/calendar'` as the only argument to `send_file`, you get the response we wanted, but only because utf-8 is the default charset. A header with a different charset declaration seems impossible to create.\n",
      "number": 26298,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Confusion/subscriptions",
         "received_events_url": "https://api.github.com/users/Confusion/received_events",
         "url": "https://api.github.com/users/Confusion",
         "avatar_url": "https://avatars0.githubusercontent.com/u/307722?v=4",
         "events_url": "https://api.github.com/users/Confusion/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Confusion/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Confusion/following{/other_user}",
         "repos_url": "https://api.github.com/users/Confusion/repos",
         "site_admin": false,
         "id": 307722,
         "organizations_url": "https://api.github.com/users/Confusion/orgs",
         "login": "Confusion",
         "gists_url": "https://api.github.com/users/Confusion/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Confusion/followers",
         "html_url": "https://github.com/Confusion"
      },
      "state": "closed",
      "closed_by": "27344",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26298",
      "updated_at": "2016-08-29T22:36:12Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/26298/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 11,
      "id": 173589956,
      "closed_at": "2016-08-29T22:36:12Z",
      "created_at": "2016-08-27T10:35:16Z",
      "title": "Charset declaration on send_file lost",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26298/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26298/comments",
      "html_url": "https://github.com/rails/rails/issues/26298"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "partial render failed when use \"as:\"  to rename a local variable\n like this\n<%= render partial: \"product\", as: \"item\" %> \nat the page  http://guides.rubyonrails.org/action_view_overview.html\n\nthe error message is \nundefined local variable or method `item' for #<#Class:0x000000053dc200:0x007fd688a25740>\n\nwhen change to \n<%= render partial: \"product\", object: product, as: \"item\" %> \nit's ok \n\nrails version 5.0.1 \nruby version 2.3.0\n",
      "number": 26286,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/hwy801207/subscriptions",
         "received_events_url": "https://api.github.com/users/hwy801207/received_events",
         "url": "https://api.github.com/users/hwy801207",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3788087?v=4",
         "events_url": "https://api.github.com/users/hwy801207/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/hwy801207/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/hwy801207/following{/other_user}",
         "repos_url": "https://api.github.com/users/hwy801207/repos",
         "site_admin": false,
         "id": 3788087,
         "organizations_url": "https://api.github.com/users/hwy801207/orgs",
         "login": "hwy801207",
         "gists_url": "https://api.github.com/users/hwy801207/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/hwy801207/followers",
         "html_url": "https://github.com/hwy801207"
      },
      "state": "closed",
      "closed_by": "26478",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26286",
      "updated_at": "2016-09-13T12:40:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26286/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 8,
      "id": 173387973,
      "closed_at": "2016-09-13T12:40:17Z",
      "created_at": "2016-08-26T07:32:26Z",
      "title": "partial render failed when rename a local variable use  \"as:\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26286/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26286/comments",
      "html_url": "https://github.com/rails/rails/issues/26286"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails 4.2 introduced the `config.x` namespace to add custom config variables.\n\nAs I'm upgrading to Rails 5, I noticed in the Rails 5 Guides that the `x`namespace is not needed anymore. So, instead of `config.x.app_title = \"foo\"` we can now write `config.app_title = \"foo\"`\n\nIt just do not work on a fresh Rails 5.0.0.1 app, and the Rails 5 release notes do not mention this change.\n\nThe changes in the guide are related to this commit : https://github.com/rails/rails/commit/476b14a32ddb89241027902e76e8455013972276\n\nAm I missing something or the guides is wrong about this ?\n",
      "number": 26280,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/fredplante/subscriptions",
         "received_events_url": "https://api.github.com/users/fredplante/received_events",
         "url": "https://api.github.com/users/fredplante",
         "avatar_url": "https://avatars0.githubusercontent.com/u/3378724?v=4",
         "events_url": "https://api.github.com/users/fredplante/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fredplante/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fredplante/following{/other_user}",
         "repos_url": "https://api.github.com/users/fredplante/repos",
         "site_admin": false,
         "id": 3378724,
         "organizations_url": "https://api.github.com/users/fredplante/orgs",
         "login": "fredplante",
         "gists_url": "https://api.github.com/users/fredplante/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fredplante/followers",
         "html_url": "https://github.com/fredplante"
      },
      "state": "closed",
      "closed_by": "26288",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26280",
      "updated_at": "2016-08-26T14:38:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26280/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 6,
      "id": 173242117,
      "closed_at": "2016-08-26T14:38:54Z",
      "created_at": "2016-08-25T15:55:35Z",
      "title": "Unable to add custom config like stated in Rails guides ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26280/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26280/comments",
      "html_url": "https://github.com/rails/rails/issues/26280"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Since #23980 deprecated the `:action` and `:controller` path parameters, Sections [3.1](http://edgeguides.rubyonrails.org/routing.html#bound-parameters) through [3.5](http://edgeguides.rubyonrails.org/routing.html#defining-defaults) of the [\"Rails Routing from the Outside In\"](http://edgeguides.rubyonrails.org/routing.html) guide are out of date. The guide should be updated to use explicitly-whitelisted controller and action paths according to the PR.\n",
      "number": 26247,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/wjordan/subscriptions",
         "received_events_url": "https://api.github.com/users/wjordan/received_events",
         "url": "https://api.github.com/users/wjordan",
         "avatar_url": "https://avatars3.githubusercontent.com/u/56541?v=4",
         "events_url": "https://api.github.com/users/wjordan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/wjordan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/wjordan/following{/other_user}",
         "repos_url": "https://api.github.com/users/wjordan/repos",
         "site_admin": false,
         "id": 56541,
         "organizations_url": "https://api.github.com/users/wjordan/orgs",
         "login": "wjordan",
         "gists_url": "https://api.github.com/users/wjordan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/wjordan/followers",
         "html_url": "https://github.com/wjordan"
      },
      "state": "closed",
      "closed_by": "26248",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26247",
      "updated_at": "2016-08-23T01:45:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26247/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 0,
      "id": 172482409,
      "closed_at": "2016-08-22T17:29:55Z",
      "created_at": "2016-08-22T15:28:35Z",
      "title": "Rails Routing guide using deprecated dynamic `:action` and `:controller` segments",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26247/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26247/comments",
      "html_url": "https://github.com/rails/rails/issues/26247"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nuser = User.find_by(id: 1) # => #<User id: 1>\n\nUser.where(id: user).first # => #<User id: 1>\nUser.find_by(id: user) # => nil\n```\n\nI would expect the two above statements to return the same value, as they did in Rails 4.x.  I haven't found any discussion of an intentional change to `.find_by`.\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.1\n",
      "number": 26210,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/amilligan/subscriptions",
         "received_events_url": "https://api.github.com/users/amilligan/received_events",
         "url": "https://api.github.com/users/amilligan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/23890?v=4",
         "events_url": "https://api.github.com/users/amilligan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/amilligan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/amilligan/following{/other_user}",
         "repos_url": "https://api.github.com/users/amilligan/repos",
         "site_admin": false,
         "id": 23890,
         "organizations_url": "https://api.github.com/users/amilligan/orgs",
         "login": "amilligan",
         "gists_url": "https://api.github.com/users/amilligan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/amilligan/followers",
         "html_url": "https://github.com/amilligan"
      },
      "state": "closed",
      "closed_by": "27564",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26210",
      "updated_at": "2017-01-04T04:22:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26210/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 171944905,
      "closed_at": "2017-01-04T04:22:48Z",
      "created_at": "2016-08-18T16:30:49Z",
      "title": "AR#find_by and AR#where find inconsistently with id param",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26210/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26210/comments",
      "html_url": "https://github.com/rails/rails/issues/26210"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "(Not sure if I'm reporting this at the right place)\n\nAccording to the guide `config/routes.rb` should look like following after adding `resources :articles`.\n\n```\nRails.application.routes.draw do\n\n  resources :articles\n\n  root 'welcome#index'\nend\n```\n\nBut where did the `get 'welcome/index'` go? \nIf I edit the code as said in the text it would look like following:\n\n```\nRails.application.routes.draw do\n  get 'welcome/index'\n\n  resources :articles\n\n  root 'welcome#index'\nend\n```\n\nThis might be a bit confusing... (or maybe it's just me being confused)\n",
      "number": 26187,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/greenbigfrog/subscriptions",
         "received_events_url": "https://api.github.com/users/greenbigfrog/received_events",
         "url": "https://api.github.com/users/greenbigfrog",
         "avatar_url": "https://avatars3.githubusercontent.com/u/6208894?v=4",
         "events_url": "https://api.github.com/users/greenbigfrog/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/greenbigfrog/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/greenbigfrog/following{/other_user}",
         "repos_url": "https://api.github.com/users/greenbigfrog/repos",
         "site_admin": false,
         "id": 6208894,
         "organizations_url": "https://api.github.com/users/greenbigfrog/orgs",
         "login": "greenbigfrog",
         "gists_url": "https://api.github.com/users/greenbigfrog/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/greenbigfrog/followers",
         "html_url": "https://github.com/greenbigfrog"
      },
      "state": "closed",
      "closed_by": "26192",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26187",
      "updated_at": "2016-08-17T13:31:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26187/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 171604249,
      "closed_at": "2016-08-17T13:31:18Z",
      "created_at": "2016-08-17T08:41:48Z",
      "title": "Confusing part at `5 Getting Up and Running`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26187/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26187/comments",
      "html_url": "https://github.com/rails/rails/issues/26187"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "While upgrading our app to Rails 5.0, we came across this apparent regression: `root` routes in namespaces fail to generate URL helpers in some cases.\n### Steps to reproduce\n\nhttps://gist.github.com/buehmann/b2024a146ade68c9b03dd8893105102a\n\n```\n$ ruby root-url-helpers.rb\n\n  1) Failure:\nBugTest#test_url_helpers_defined [root-url-helpers.rb:40]:\nExpected #<Module:0x0055bd5eeab3b8> (Module) to respond to #bar_root_url.\n\n1 runs, 3 assertions, 1 failures, 0 errors, 0 skips\n```\n\nWith Rails 4.2 a URL helper was generated for every nested `root`:\n\n```\n$ V=4.2.7.1 ruby root-url-helpers.rb\n\n1 runs, 3 assertions, 0 failures, 0 errors, 0 skips\n```\n### Workaround\n\nAs a workaround, we use an explicit\n\n```\nroot 'test#index', as: 'root'\n```\n\nat the moment.\n",
      "number": 26148,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/buehmann/subscriptions",
         "received_events_url": "https://api.github.com/users/buehmann/received_events",
         "url": "https://api.github.com/users/buehmann",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3897997?v=4",
         "events_url": "https://api.github.com/users/buehmann/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/buehmann/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/buehmann/following{/other_user}",
         "repos_url": "https://api.github.com/users/buehmann/repos",
         "site_admin": false,
         "id": 3897997,
         "organizations_url": "https://api.github.com/users/buehmann/orgs",
         "login": "buehmann",
         "gists_url": "https://api.github.com/users/buehmann/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/buehmann/followers",
         "html_url": "https://github.com/buehmann"
      },
      "state": "closed",
      "closed_by": "ea66fc",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26148",
      "updated_at": "2016-08-29T15:35:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26148/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 171004058,
      "closed_at": "2016-08-29T15:29:57Z",
      "created_at": "2016-08-13T10:57:36Z",
      "title": "Missing URL helper for namespaced `root` route",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26148/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26148/comments",
      "html_url": "https://github.com/rails/rails/issues/26148"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n`rails new my-app --skip-action-mailer`\n### Expected behavior\n\nI would not expect the `app/mailers` directory to exist\n### Actual behavior\n\nThe `app/mailers` directory is generated despite explicitly skipping `action-mailer` during app generation\n### System configuration\n\n**Rails version**: 5.0.0.1\n\n**Ruby version**: 2.3.1\n",
      "number": 26145,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bcardarella/subscriptions",
         "received_events_url": "https://api.github.com/users/bcardarella/received_events",
         "url": "https://api.github.com/users/bcardarella",
         "avatar_url": "https://avatars0.githubusercontent.com/u/18524?v=4",
         "events_url": "https://api.github.com/users/bcardarella/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bcardarella/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bcardarella/following{/other_user}",
         "repos_url": "https://api.github.com/users/bcardarella/repos",
         "site_admin": false,
         "id": 18524,
         "organizations_url": "https://api.github.com/users/bcardarella/orgs",
         "login": "bcardarella",
         "gists_url": "https://api.github.com/users/bcardarella/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bcardarella/followers",
         "html_url": "https://github.com/bcardarella"
      },
      "state": "closed",
      "closed_by": "26146",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26145",
      "updated_at": "2016-08-13T05:01:36Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26145/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 170980853,
      "closed_at": "2016-08-13T05:01:36Z",
      "created_at": "2016-08-13T00:03:47Z",
      "title": "Generating with --skip-action-mailer still generates app/mailers",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26145/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26145/comments",
      "html_url": "https://github.com/rails/rails/issues/26145"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "On upgrade to Rails 5, I have issue with Postgres `bit` column type and overwriting reader method\nYou can see the issue: https://gist.github.com/morgoth/1d3725b3e73b91e164d5e20a81221e8f\n\nIt was working fine on Rails 4.2, now it raises:\n\n```\nNoMethodError: undefined method `[]' for #<ActiveRecord::ConnectionAdapters::PostgreSQL::OID::Bit::Data:0x00557ede32d2c0>\n```\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1\n",
      "number": 26137,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/morgoth/subscriptions",
         "received_events_url": "https://api.github.com/users/morgoth/received_events",
         "url": "https://api.github.com/users/morgoth",
         "avatar_url": "https://avatars2.githubusercontent.com/u/10766?v=4",
         "events_url": "https://api.github.com/users/morgoth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/morgoth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/morgoth/following{/other_user}",
         "repos_url": "https://api.github.com/users/morgoth/repos",
         "site_admin": false,
         "id": 10766,
         "organizations_url": "https://api.github.com/users/morgoth/orgs",
         "login": "morgoth",
         "gists_url": "https://api.github.com/users/morgoth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/morgoth/followers",
         "html_url": "https://github.com/morgoth"
      },
      "state": "closed",
      "closed_by": "26232",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26137",
      "updated_at": "2016-08-20T10:40:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26137/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 2,
      "id": 170858953,
      "closed_at": "2016-08-20T10:40:16Z",
      "created_at": "2016-08-12T12:18:02Z",
      "title": "PostgreSQL OID Bit column type issue on Rails 5",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26137/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26137/comments",
      "html_url": "https://github.com/rails/rails/issues/26137"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n1. Set up Rails application that uses the [gelf-rb](https://rubygems.org/gems/gelf) gem to log to a Graylog backend.\n2. Trigger an exception in the application.\n### Expected behavior\n\nA single message is logged, with the exception.\n### Actual behavior\n\nHundreds of messages are logged for a single exception, including one for each line of the stack trace.\n### System configuration\n\nRails 5.0.0\nRuby 2.3.0\n",
      "number": 26134,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
            "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
            "url": "https://api.github.com/users/vipulnsward",
            "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
            "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
            "repos_url": "https://api.github.com/users/vipulnsward/repos",
            "site_admin": false,
            "id": 567626,
            "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
            "login": "vipulnsward",
            "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/vipulnsward/followers",
            "html_url": "https://github.com/vipulnsward"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mattcg/subscriptions",
         "received_events_url": "https://api.github.com/users/mattcg/received_events",
         "url": "https://api.github.com/users/mattcg",
         "avatar_url": "https://avatars1.githubusercontent.com/u/282964?v=4",
         "events_url": "https://api.github.com/users/mattcg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mattcg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mattcg/following{/other_user}",
         "repos_url": "https://api.github.com/users/mattcg/repos",
         "site_admin": false,
         "id": 282964,
         "organizations_url": "https://api.github.com/users/mattcg/orgs",
         "login": "mattcg",
         "gists_url": "https://api.github.com/users/mattcg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mattcg/followers",
         "html_url": "https://github.com/mattcg"
      },
      "state": "closed",
      "closed_by": "26222",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26134",
      "updated_at": "2017-09-30T02:17:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26134/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
         "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
         "url": "https://api.github.com/users/vipulnsward",
         "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
         "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
         "repos_url": "https://api.github.com/users/vipulnsward/repos",
         "site_admin": false,
         "id": 567626,
         "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
         "login": "vipulnsward",
         "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vipulnsward/followers",
         "html_url": "https://github.com/vipulnsward"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 170815026,
      "closed_at": "2016-11-14T03:50:30Z",
      "created_at": "2016-08-12T07:36:09Z",
      "title": "Logging backend being flooded by Rails 5 DebugExceptions",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26134/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26134/comments",
      "html_url": "https://github.com/rails/rails/issues/26134"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nRun https://gist.github.com/tbreier/67b2fbd6c679ccea3fd847693f96f9b1\n\nPost 1 <-> n Comment n <-> 1 User (STI) \nAnd now try to preload a specific type of users on posts.\n### Expected behavior\n\nIt should preload all users of the specific type on the post records.\n### Actual behavior\n\n```\n  1) Error:\nBugTest#test_association_stuff:\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: users.type: SELECT \"comments\".* FROM \"comments\" WHERE \"users\".\"type\" IN ('OneTypeOfUsers') AND \"comments\".\"post_id\" = 1\n```\n### System configuration\n\n**_Discovered on:**_\n**Rails version**:\n4.2.1\n**Ruby version**:\n2.1.2\n\n**_Gist written for:**_\n**Rails version**:\nMaster (5.1.0alpha)\n**Ruby version**:\n2.3.1\n",
      "number": 26129,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tbreier/subscriptions",
         "received_events_url": "https://api.github.com/users/tbreier/received_events",
         "url": "https://api.github.com/users/tbreier",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2110273?v=4",
         "events_url": "https://api.github.com/users/tbreier/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tbreier/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tbreier/following{/other_user}",
         "repos_url": "https://api.github.com/users/tbreier/repos",
         "site_admin": false,
         "id": 2110273,
         "organizations_url": "https://api.github.com/users/tbreier/orgs",
         "login": "tbreier",
         "gists_url": "https://api.github.com/users/tbreier/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tbreier/followers",
         "html_url": "https://github.com/tbreier"
      },
      "state": "closed",
      "closed_by": "2bfe3b",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26129",
      "updated_at": "2017-09-01T22:40:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26129/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 170776592,
      "closed_at": "2017-09-01T22:40:37Z",
      "created_at": "2016-08-12T00:25:56Z",
      "title": "Preloading STI trough join table applies STI scope to join table and crashes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26129/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26129/comments",
      "html_url": "https://github.com/rails/rails/issues/26129"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm seeing a deadlock occur when a constant is being loaded after a call to `SSE#write`. This will only occur when there's some delay between the two.\n\nIn my exact scenario I'm using `Redis#subscribe` to run a GraphQL query when an event occurs. I was able to distill the issue down to the fact that running the query triggers `const_missing` which causes the deadlock. I created a basic Rails app without the Redis/GraphQL dependencies which reproduces the issue.\n\nOf note is that if you use Rails `4.2.6` in my example app you don't run into the issue.\n### Steps to reproduce\n\nhttps://github.com/achinn/ac-live-deadlock\n### Expected behavior\n\nThe SSE should close at the end of the HTTP request.\n### Actual behavior\n\nA deadlock occurs when a constant is being loaded.\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1p112\n",
      "number": 26123,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/achinn/subscriptions",
         "received_events_url": "https://api.github.com/users/achinn/received_events",
         "url": "https://api.github.com/users/achinn",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2071532?v=4",
         "events_url": "https://api.github.com/users/achinn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/achinn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/achinn/following{/other_user}",
         "repos_url": "https://api.github.com/users/achinn/repos",
         "site_admin": false,
         "id": 2071532,
         "organizations_url": "https://api.github.com/users/achinn/orgs",
         "login": "achinn",
         "gists_url": "https://api.github.com/users/achinn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/achinn/followers",
         "html_url": "https://github.com/achinn"
      },
      "state": "closed",
      "closed_by": "26177",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26123",
      "updated_at": "2016-08-16T01:06:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26123/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 170678305,
      "closed_at": "2016-08-16T00:24:28Z",
      "created_at": "2016-08-11T15:43:45Z",
      "title": "ActionController::Live deadlock on `const_missing` after `SSE#write`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26123/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26123/comments",
      "html_url": "https://github.com/rails/rails/issues/26123"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I found an _unexpected_ behavior in [has_many](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many) that I illustrated with a [failing test in a gist](https://gist.github.com/claudiob/545fa683615bbc7cb6d8ddc99c4306c1).\n\nThe short version is the following. If you have these two models:\n\n``` ruby\nclass Post < ActiveRecord::Base\n  has_many :comments, -> { where('text is not null') }, dependent: :destroy\nend\n\nclass Comment < ActiveRecord::Base\nend\n```\n\nand you call `destroy` on a post, then not all the comments of the post will be destroyed, but only the comments that match the scope  `where('text is not null')`.\n\nSome people might argue that this is the _expected_ behavior, since the Rails [documentation of has_many](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_and_belongs_to_many-label-Scopes) states:\n\n> You can pass a second argument scope as a callable (i.e. proc or lambda) to retrieve a specific set of records or customize the generated query when you access the associated collection.\n\nThe problem is that, if `post.destroy` does not delete _all_ the comments of post, then some comments might be left in the database without a corresponding post. \n\nEven worse, if you declared a foreign key between the `comments` table and the `posts` table (which is the common case for references), then you can end up with the following error, which is the result of running the referenced [gist](%28https://gist.github.com/claudiob/545fa683615bbc7cb6d8ddc99c4306c1%29):\n\n``` sh\n# Comment Load (0.2ms)  SELECT \"comments\".* FROM \"comments\" WHERE \"comments\".\"post_id\" = $1 AND (text is not null)  [[\"post_id\", 1]]\n# SQL (0.1ms)  DELETE FROM \"comments\" WHERE \"comments\".\"id\" = $1  [[\"id\", 2]]\n# SQL (0.6ms)  DELETE FROM \"posts\" WHERE \"posts\".\"id\" = $1  [[\"id\", 1]]\n# (0.1ms)  ROLLBACK\n\nActiveRecord::InvalidForeignKey: PG::ForeignKeyViolation: ERROR:  \nupdate or delete on table \"posts\" violates foreign key constraint \"fk_rails_2fd19c0db7\" on table \"comments\"\nDETAIL:  Key (id)=(1) is still referenced from table \"comments\".\n: DELETE FROM \"posts\" WHERE \"posts\".\"id\" = $1\n```\n\nWhat do you think? Should the documentation be a little more verbose in this case?\n",
      "number": 26111,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/claudiob/subscriptions",
         "received_events_url": "https://api.github.com/users/claudiob/received_events",
         "url": "https://api.github.com/users/claudiob",
         "avatar_url": "https://avatars1.githubusercontent.com/u/10076?v=4",
         "events_url": "https://api.github.com/users/claudiob/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/claudiob/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/claudiob/following{/other_user}",
         "repos_url": "https://api.github.com/users/claudiob/repos",
         "site_admin": false,
         "id": 10076,
         "organizations_url": "https://api.github.com/users/claudiob/orgs",
         "login": "claudiob",
         "gists_url": "https://api.github.com/users/claudiob/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/claudiob/followers",
         "html_url": "https://github.com/claudiob"
      },
      "state": "closed",
      "closed_by": "26231",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/26111",
      "updated_at": "2016-08-23T01:46:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26111/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 1,
      "id": 170533700,
      "closed_at": "2016-08-23T01:46:57Z",
      "created_at": "2016-08-10T22:27:01Z",
      "title": "has_many with scope, dependent and foreign_key needs better documentation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26111/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26111/comments",
      "html_url": "https://github.com/rails/rails/issues/26111"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\n$ cd activerecord\n$ bundle\n$ bundle exec rake test\n```\n### Expected behavior\n\nAll ActiveRecord unit test should finish without failures\n### Actual behavior\n\nAll sqlite3, mysql2 and postgresql adapters get the same failure:\n\n``` ruby\n$ cd activerecord\n$ bundle exec rake test\n... snip ... \nUsing mysql2\n... snip ... \n  1) Failure:\nReflectionTest#test_read_attribute_names [/home/yahonda/git/rails/activerecord/test/cases/reflection_test.rb:44]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-[\"approved\", \"author_email_address\", \"author_name\", \"bonus_time\", \"content\", \"created_at\", \"group\", \"id\", \"important\", \"last_read\", \"parent_id\", \"parent_title\", \"replies_count\", \"title\", \"type\", \"unique_replies_count\", \"updated_at\", \"written_on\"]\n+[\"approved\", \"author_email_address\", \"author_name\", \"bonus_time\", \"content\", \"created_at\", \"group\", \"id\", \"important\", \"last_read\", \"parent_id\", \"parent_title\", \"replies_count\", \"title\", \"type\", \"unique_replies_count\", \"updated_at\", \"wibble\", \"written_on\"]\n\n\n4930 runs, 13610 assertions, 1 failures, 0 errors, 5 skips\n\n... snip ...\nUsing sqlite3\n... snip ...\n  1) Failure:\nReflectionTest#test_read_attribute_names [/home/yahonda/git/rails/activerecord/test/cases/reflection_test.rb:44]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-[\"approved\", \"author_email_address\", \"author_name\", \"bonus_time\", \"content\", \"created_at\", \"group\", \"id\", \"important\", \"last_read\", \"parent_id\", \"parent_title\", \"replies_count\", \"title\", \"type\", \"unique_replies_count\", \"updated_at\", \"written_on\"]\n+[\"approved\", \"author_email_address\", \"author_name\", \"bonus_time\", \"content\", \"created_at\", \"group\", \"id\", \"important\", \"last_read\", \"parent_id\", \"parent_title\", \"replies_count\", \"title\", \"type\", \"unique_replies_count\", \"updated_at\", \"wibble\", \"written_on\"]\n\n\n4769 runs, 13146 assertions, 1 failures, 0 errors, 3 skips\n\n... snip ... \nUsing postgresql\n... snip ... \n  1) Failure:\nReflectionTest#test_read_attribute_names [/home/yahonda/git/rails/activerecord/test/cases/reflection_test.rb:44]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-[\"approved\", \"author_email_address\", \"author_name\", \"bonus_time\", \"content\", \"created_at\", \"group\", \"id\", \"important\", \"last_read\", \"parent_id\", \"parent_title\", \"replies_count\", \"title\", \"type\", \"unique_replies_count\", \"updated_at\", \"written_on\"]\n+[\"approved\", \"author_email_address\", \"author_name\", \"bonus_time\", \"content\", \"created_at\", \"group\", \"id\", \"important\", \"last_read\", \"parent_id\", \"parent_title\", \"replies_count\", \"title\", \"type\", \"unique_replies_count\", \"updated_at\", \"wibble\", \"written_on\"]\n\n\n5296 runs, 14594 assertions, 1 failures, 0 errors, 1 skips\n```\n### System configuration\n\n**Rails version**: master branch\n\n**Ruby version**:ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n### Additional information\n- Minimum steps to reproduce\n\n``` ruby\nbundle exec ruby -w -I\"lib:test\" -I\"/home/yahonda/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.1/gems/rake-11.1.2/lib\" \\\n  \"/home/yahonda/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib/rake/rake_test_loader.rb\" \\\n  \"test/cases/validations_test.rb\" \"test/cases/reflection_test.rb\" \n```\n\nruby 2.3.1 has been installed by `rbenv` and `ruby-build` plugin.\n- git bisect \n  According to `git bisect` these failure reproduces since \n  f0ddf87e4bfcfcb861b0a9dca32edb733668bd30 \n",
      "number": 26099,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "26124",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26099",
      "updated_at": "2016-08-12T01:28:46Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26099/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 170308815,
      "closed_at": "2016-08-11T19:30:36Z",
      "created_at": "2016-08-10T01:33:31Z",
      "title": "ReflectionTest#test_read_attribute_names got failure, an extra \"wibble\" shown",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26099/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26099/comments",
      "html_url": "https://github.com/rails/rails/issues/26099"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nUse Sqlite3 and create a table.  Add a column to the table with an invalid type argument.  The migration will run successfully.  Notice that 'db/schema.rb' will not work.  Run rake db:rollback, or generate a new migration to remove this column, and it will throw an error.  Code to reproduce the error:  \n\n``` Ruby\nbegin\n  require \"bundler/inline\"\nrescue LoadError => e\n  $stderr.puts \"Bundler version 1.10 or later is required. Please update your Bundler\"\n  raise e\nend\n\ngemfile(true) do\n  source \"https://rubygems.org\"\n  # Activate the gem you are reporting the issue against.\n  gem \"activerecord\", \"5.0.0\"\n  gem \"sqlite3\"\nend\n\nrequire \"active_record\"\nrequire \"minitest/autorun\"\nrequire \"logger\"\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :stuff, force: true do |t|\n    t.integer :number\n    t.string :string\n  end\n  add_column :stuff, :foo, :bar\nend\n\nclass BugTest < Minitest::Test\n  def test_rollback_issue\n    ActiveRecord::Schema.define do\n      remove_column :stuff, :foo, :bar\n    end\n  end\nend  \n```\n### Expected behavior\n\nRails should either catch the bad column type on the initial addition of the column or it should defer to the DB for error handling (as I expect it has been designed to do).  However if the DB allows this to be rolled back,  Rails should not prevent this.\n### Actual behavior\n\nRails throws an error on rollback attempt in what appears to be the schema generation process and the change is not made.  The only solution seems to be to drop the table. \n### System configuration\n\n**Rails version**:  5.1.0.alpha (also tested in 5.0.0 and 4.2.6)\n\n**Ruby version**: 2.3.1p112\n",
      "number": 26087,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/travisoneill/subscriptions",
         "received_events_url": "https://api.github.com/users/travisoneill/received_events",
         "url": "https://api.github.com/users/travisoneill",
         "avatar_url": "https://avatars2.githubusercontent.com/u/17502258?v=4",
         "events_url": "https://api.github.com/users/travisoneill/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/travisoneill/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/travisoneill/following{/other_user}",
         "repos_url": "https://api.github.com/users/travisoneill/repos",
         "site_admin": false,
         "id": 17502258,
         "organizations_url": "https://api.github.com/users/travisoneill/orgs",
         "login": "travisoneill",
         "gists_url": "https://api.github.com/users/travisoneill/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/travisoneill/followers",
         "html_url": "https://github.com/travisoneill"
      },
      "state": "closed",
      "closed_by": "26089",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26087",
      "updated_at": "2016-08-19T03:28:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26087/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 170057671,
      "closed_at": "2016-08-19T03:28:54Z",
      "created_at": "2016-08-09T00:40:01Z",
      "title": "Sqlite3 Migration & Rollback Error Handling With Invalid Column Type",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26087/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26087/comments",
      "html_url": "https://github.com/rails/rails/issues/26087"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "A little background first. I've been upgrading my Rails 4.2.6 app to Rails 5.0.0. I noticed a few controller test cases failing and they all stem from the same issue here. It seems that when you have a request with params containing a permitted array of hashes, those hashes get merged into one and thus the array always has 1 item in it (unexpected).\n\nSince these tests are for JSON API endpoints I've been wanting to transition our controller tests to integration tests. When I did that for those that failed I noticed these same errors stopped happening. So this seems to only happen for controller tests. I'm not sure if it is strong parameters related since its possible strong parameters is receiving a modified set of params whereas in an integration test its not.\n\nSomewhat related in that this started from researching what happened in #26033.\n### Steps to reproduce\n\nThis executable script has a controller test (fails) and integration test (passes) to demonstrate the issue. This will help to see the difference. I've added comments as I've tried various things. I thought perhaps we were using strong parameters wrong (its not the easiest to understand sometimes \ud83d\ude1e) so I've commented out different approaches but that doesn't seem to be the issue.\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails'\nend\n\nrequire 'action_controller/railtie'\n\nclass TestApp < Rails::Application\n  config.root = File.dirname(__FILE__)\n  config.session_store :cookie_store, key: 'cookie_store_key'\n  secrets.secret_token    = 'secret_token'\n  secrets.secret_key_base = 'secret_key_base'\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    get '/' => 'test#index'\n    resources :posts\n  end\nend\n\nclass PostsController < ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  def create\n    render json: { post: post_params }\n  end\n\n  private\n\n    def post_params\n      # NOTE: I've tried different ways of setting strong parameters\n      # but the same issue keeps occurring, a controller test merges\n      # an array of hashes into one value. I've left different attempts\n      # here since I wondered if perhaps I'm using strong parameters\n      # incorrectly as I've had trouble understanding it with a complex\n      # deeply nested set.\n      params.require(:post)\n        .permit(\n          :title,\n          # games_attributes: [ { numbers: permitted_set_names } ]\n          # games_attributes: [ { numbers: [ { standard: [] } ] } ]\n          games_attributes: [ numbers: [ standard: [] ] ]\n        )\n    end\n\n    def permitted_set_names\n      set_names = {}\n      params[:post][:games_attributes][0][:numbers].keys.each do |set_name|\n        set_names[set_name] = []\n      end\n      set_names\n    end\n\nend\n\nrequire 'minitest/autorun'\nrequire 'rack/test'\nrequire 'rails/test_help'\n\nclass PostsControllerTest < ActionController::TestCase\n\n  def test_parsed_game_numbers_do_not_come_back_merged\n    post :create,\n      params: {\n        post: {\n          title: 'test',\n          games_attributes: [\n            { numbers: { standard: [1, 2] } },\n            { numbers: { standard: [3, 4] } }\n          ]\n        }\n      },\n      as: :json\n\n    assert_response :success\n\n    # SIDENOTE: for some reason `response.parsed_body` doesn't work here.\n    # It is set and outputs but same hash lookup returns nil. Not sure why.\n    # Is `response.parsed_body` not supported with ActionController TestCase?\n\n    json = JSON.parse(response.body)\n    # FAILS: returns 1, hashes get merged\n    assert_equal 2, json['post']['games_attributes'].size\n  end\n\n  private\n    def app\n      Rails.application\n    end\nend\n\nclass PostsIntegrationTest < ActionDispatch::IntegrationTest\n\n  test \"should have a count of 2 in games_attributes\" do\n    post posts_url,\n      params: {\n        post: {\n          title: 'test',\n          games_attributes: [\n            { numbers: { standard: [1, 2] } },\n            { numbers: { standard: [3, 4] } }\n          ]\n        }\n      },\n      as: :json\n\n    assert_response :success\n    # PASSES: this is expected behavior.\n    assert_equal 2, response.parsed_body['post']['games_attributes'].size\n  end\n\n  private\n    def app\n      Rails.application\n    end\n\nend\n```\n### Expected behavior\n\nI expected the array containing 2 hashes (correct) in params to remain like that and not have the hashes be merged into one and thus be an array of 1 hash (wrong).\n### Actual behavior\n\nIn a controller test if params has a permitted array of hashes, those hashes get merged into one when they shouldn't be modified at all.\n\nIn an integration test that does not happen and the permitted params remain in the structure as given in the request.\n### System configuration\n\n**Rails version**: 5.0.0\n**Ruby version**: 2.2.3\n",
      "number": 26069,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/javierjulio/subscriptions",
         "received_events_url": "https://api.github.com/users/javierjulio/received_events",
         "url": "https://api.github.com/users/javierjulio",
         "avatar_url": "https://avatars2.githubusercontent.com/u/198547?v=4",
         "events_url": "https://api.github.com/users/javierjulio/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/javierjulio/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/javierjulio/following{/other_user}",
         "repos_url": "https://api.github.com/users/javierjulio/repos",
         "site_admin": false,
         "id": 198547,
         "organizations_url": "https://api.github.com/users/javierjulio/orgs",
         "login": "javierjulio",
         "gists_url": "https://api.github.com/users/javierjulio/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/javierjulio/followers",
         "html_url": "https://github.com/javierjulio"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/26069",
      "updated_at": "2016-10-07T07:51:52Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26069/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 16,
      "id": 169705862,
      "closed_at": "2016-08-19T04:47:19Z",
      "created_at": "2016-08-05T22:09:25Z",
      "title": "Controller Test: params with array of hashes merged into 1 hash",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26069/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26069/comments",
      "html_url": "https://github.com/rails/rails/issues/26069"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I can't edit a record If lock_version field is NULL in database\n### Steps to reproduce\n\n``` ruby\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'sqlite3'\nrequire 'logger'\n\nActiveRecord::Base.establish_connection 'sqlite3::memory:'\n\nActiveRecord::Schema.define do\n  create_table :posts do |t|\n    t.string :name\n    t.integer :lock_version\n  end\nend\n\nclass Post < ActiveRecord::Base\nend\n\nclass BugTest < Minitest::Test\n  def test_lock_version_without_default_value\n    #Post.create!(name: 'First')\n    ActiveRecord::Base.connection.execute(\"insert into posts(name) VALUES('Mark')\")\n\n    p1 = Post.find(1)\n    p1.name = \"Michael\"\n    p1.save\n  end\nend\n\n```\n### Expected behavior\n\nRecord should be updated\n### Actual behavior\n\nI see exception `ActiveRecord::StaleObjectError: Attempted to update a stale object: Post`\n### System configuration\n\n**Rails version**:\n4.2.7\n\n**Ruby version**:\nruby 2.1.8p440 (2015-12-16 revision 53160) [x86_64-darwin14.0]\n",
      "number": 26024,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vsizov/subscriptions",
         "received_events_url": "https://api.github.com/users/vsizov/received_events",
         "url": "https://api.github.com/users/vsizov",
         "avatar_url": "https://avatars3.githubusercontent.com/u/417636?v=4",
         "events_url": "https://api.github.com/users/vsizov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vsizov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vsizov/following{/other_user}",
         "repos_url": "https://api.github.com/users/vsizov/repos",
         "site_admin": false,
         "id": 417636,
         "organizations_url": "https://api.github.com/users/vsizov/orgs",
         "login": "vsizov",
         "gists_url": "https://api.github.com/users/vsizov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vsizov/followers",
         "html_url": "https://github.com/vsizov"
      },
      "state": "closed",
      "closed_by": "26050",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/26024",
      "updated_at": "2016-10-21T22:07:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/26024/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 168864872,
      "closed_at": "2016-10-21T22:07:56Z",
      "created_at": "2016-08-02T11:41:41Z",
      "title": "Optimistic locking does not work well with null in the database",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/26024/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/26024/comments",
      "html_url": "https://github.com/rails/rails/issues/26024"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Even when the associated objects are preloaded (using <tt>includes</tt>, for instance), the actual call to <tt>object.my_children</tt> is significantly slower in Rails 4 than in Rails 3. 10,000 of such calls can add up to a second, which causes significant performance hits in our application. In Rails 3, this was about 100x faster. \nThe following flamegraph illustrates a single call to a <tt>has_many</tt> association in Rails 4. It appears as though the call to <tt>ActiveRecord::Associations::CollectionAssociation#scope</tt> has significant overhead.\n![rails_4_flamegraph](https://cloud.githubusercontent.com/assets/7838456/17194286/39111aa8-5425-11e6-8d43-377c2f6f2c33.jpg)\nIs there anything we can do about this? After upgrading to Rails 4, our a lot of our endpoints have slowed down significantly because of this issue.\n### Steps to reproduce\n\nhttps://github.com/pawelgut/rails-3-association-performance/ and https://github.com/pawelgut/rails-4-association-performance/ are simple apps I created with rake tasks that illustrate this problem. Please see the Readme.\n### System configuration\n\n**Rails version**:  4.2.6 and 3.2.22\n\n**Ruby version**:  2.1.3\n",
      "number": 25970,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pawelgut/subscriptions",
         "received_events_url": "https://api.github.com/users/pawelgut/received_events",
         "url": "https://api.github.com/users/pawelgut",
         "avatar_url": "https://avatars0.githubusercontent.com/u/7838456?v=4",
         "events_url": "https://api.github.com/users/pawelgut/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pawelgut/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pawelgut/following{/other_user}",
         "repos_url": "https://api.github.com/users/pawelgut/repos",
         "site_admin": false,
         "id": 7838456,
         "organizations_url": "https://api.github.com/users/pawelgut/orgs",
         "login": "pawelgut",
         "gists_url": "https://api.github.com/users/pawelgut/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pawelgut/followers",
         "html_url": "https://github.com/pawelgut"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25970",
      "updated_at": "2017-02-20T23:35:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25970/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 167970290,
      "closed_at": "2017-02-20T23:35:21Z",
      "created_at": "2016-07-27T22:19:23Z",
      "title": "Calling has_many association ~100x slower in Rails 4 vs Rails 3 (with associations preloaded)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25970/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25970/comments",
      "html_url": "https://github.com/rails/rails/issues/25970"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I am using `serialize` to set complex attributes for my models. While upgrading my application from Rails 4.1 to 4.2, I had failing tests which I could track down to the call of `#dub`. This doesn't seem to be an issue with Rails <=4.1 and =5.0. \n### Steps to reproduce\n\nSee this [gist](https://gist.github.com/lacco/9a22c0be0c6ce18787bc6ada6cca39f9#file-rails_dup_test-rb).\n\n```\nclass NamesSerializer\n  def self.load(data)\n    data.present? ? ActiveRecord::Coders::JSON.load(data) : [\"A Name\"]\n  end\n\n  def self.dump(names)\n    ActiveRecord::Coders::JSON.dump(names)\n  end\nend\n\nclass Product < ActiveRecord::Base\n  serialize :names, NamesSerializer\nend\n\nclass BugTest < Minitest::Test\n  def test_dup\n    assert_equal 'A Name', Product.new.names.first\n\n    # Uncommenting this line or replacing #dup with #clone makes the test green\n    Product.new.dup\n\n    Product.new.names.first.replace('Just Another Name')\n\n    assert_equal 'A Name', Product.new.names.first\n  end\nend\n```\n### Expected behavior\n\nCalling `#dup` should not change the default value for `serialize`d attributes. In fact, from then on `serialize`d attributes are returning the **same** objects.\n### Actual behavior\n\nCalling `#dup` changes the default value for `serialize`d attributes.\n### System configuration\n\n**Rails version**: 4.2.7\n**Ruby version**: 2.3.0\n\nI am willing to dig deeper into this topic, but I have no idea how to start debugging with it.\n",
      "number": 25954,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lacco/subscriptions",
         "received_events_url": "https://api.github.com/users/lacco/received_events",
         "url": "https://api.github.com/users/lacco",
         "avatar_url": "https://avatars2.githubusercontent.com/u/17513?v=4",
         "events_url": "https://api.github.com/users/lacco/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lacco/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lacco/following{/other_user}",
         "repos_url": "https://api.github.com/users/lacco/repos",
         "site_admin": false,
         "id": 17513,
         "organizations_url": "https://api.github.com/users/lacco/orgs",
         "login": "lacco",
         "gists_url": "https://api.github.com/users/lacco/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lacco/followers",
         "html_url": "https://github.com/lacco"
      },
      "state": "closed",
      "closed_by": "25966",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25954",
      "updated_at": "2016-08-04T07:23:30Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25954/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 167589571,
      "closed_at": "2016-07-27T17:05:48Z",
      "created_at": "2016-07-26T11:57:40Z",
      "title": "[4.2.*] Calling #dup on a model using serialized attributes causes troubles",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25954/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25954/comments",
      "html_url": "https://github.com/rails/rails/issues/25954"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nSetup a new rails app\nRemove ActiveRecord (from configs, and modify application.rb to explicitly require railties) - http://stackoverflow.com/questions/19078044/disable-activerecord-for-rails-4?answertab=votes#tab-top\nrails g controller test index\nrails test\n### Expected behavior\n\nIt should pass the test\n### Actual behavior\n\nError:\nDashboardControllerTest#test_should_get_index:\nNameError: undefined local variable or method `dashboard_index_url' for #<DashboardControllerTest:0x645d4639>\n    test/controllers/dashboard_controller_test.rb:5:in`block in test_should_get_index'\n\nbin/rails test test/controllers/dashboard_controller_test.rb:4\n### System configuration\n\n**Rails version**: 5.0.0.0\n\n**Ruby version**: JRuby 9.1.2.0\n",
      "number": 25926,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jkuchta/subscriptions",
         "received_events_url": "https://api.github.com/users/jkuchta/received_events",
         "url": "https://api.github.com/users/jkuchta",
         "avatar_url": "https://avatars1.githubusercontent.com/u/425863?v=4",
         "events_url": "https://api.github.com/users/jkuchta/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jkuchta/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jkuchta/following{/other_user}",
         "repos_url": "https://api.github.com/users/jkuchta/repos",
         "site_admin": false,
         "id": 425863,
         "organizations_url": "https://api.github.com/users/jkuchta/orgs",
         "login": "jkuchta",
         "gists_url": "https://api.github.com/users/jkuchta/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jkuchta/followers",
         "html_url": "https://github.com/jkuchta"
      },
      "state": "closed",
      "closed_by": "297840",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25926",
      "updated_at": "2016-07-26T18:50:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25926/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 167152853,
      "closed_at": "2016-07-26T18:50:25Z",
      "created_at": "2016-07-22T23:45:15Z",
      "title": "Integration tests fail in Rails without ActiveRecord",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25926/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25926/comments",
      "html_url": "https://github.com/rails/rails/issues/25926"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi. \n\nI am more then sure this is not a bug, but probably somebody will tell me how to do it in correct way.\n### What do I have\n\nIn REST controller I try to show all models of specific type. One method of this model is dependent on has_many relationship\n\n```\n  def my_method\n    has_many_relation.pluck(:my_method)\n  end\n```\n\nSo, I try to preload this relationship in controller\n\n```\ndef index\n  render json: Model.include(:has_many_relation)\nend\n```\n\nEager loading works but pluck does not care about it, so I came with this hack\n\n```\nhas_many_relation.loaded? ? offers.map(&:has_many_relation) : offers.pluck(:has_many_relation)\n```\n\nThis works but looks like dirty hack. PR fix works but of course it is not correct.\n\nWe also notice that pluck itself has more of less common functionality\n\n```\n    def pluck(*column_names)\n      if loaded? && (column_names.map(&:to_s) - @klass.attribute_names - @klass.attribute_aliases.keys).empty?\n        return @records.pluck(*column_names)\n      end\n```\n\nbut it does not work because it is different loaded? and here it is false in case of my eager load\n\nQuestion is \"How to do it in correct way?\"\n",
      "number": 25921,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/schneems/subscriptions",
            "received_events_url": "https://api.github.com/users/schneems/received_events",
            "url": "https://api.github.com/users/schneems",
            "avatar_url": "https://avatars2.githubusercontent.com/u/59744?v=4",
            "events_url": "https://api.github.com/users/schneems/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/schneems/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/schneems/following{/other_user}",
            "repos_url": "https://api.github.com/users/schneems/repos",
            "site_admin": false,
            "id": 59744,
            "organizations_url": "https://api.github.com/users/schneems/orgs",
            "login": "schneems",
            "gists_url": "https://api.github.com/users/schneems/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/schneems/followers",
            "html_url": "https://github.com/schneems"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/gburanov/subscriptions",
         "received_events_url": "https://api.github.com/users/gburanov/received_events",
         "url": "https://api.github.com/users/gburanov",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2969603?v=4",
         "events_url": "https://api.github.com/users/gburanov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/gburanov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/gburanov/following{/other_user}",
         "repos_url": "https://api.github.com/users/gburanov/repos",
         "site_admin": false,
         "id": 2969603,
         "organizations_url": "https://api.github.com/users/gburanov/orgs",
         "login": "gburanov",
         "gists_url": "https://api.github.com/users/gburanov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/gburanov/followers",
         "html_url": "https://github.com/gburanov"
      },
      "state": "closed",
      "closed_by": "25976",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25921",
      "updated_at": "2016-08-17T12:45:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25921/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/schneems/subscriptions",
         "received_events_url": "https://api.github.com/users/schneems/received_events",
         "url": "https://api.github.com/users/schneems",
         "avatar_url": "https://avatars2.githubusercontent.com/u/59744?v=4",
         "events_url": "https://api.github.com/users/schneems/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/schneems/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/schneems/following{/other_user}",
         "repos_url": "https://api.github.com/users/schneems/repos",
         "site_admin": false,
         "id": 59744,
         "organizations_url": "https://api.github.com/users/schneems/orgs",
         "login": "schneems",
         "gists_url": "https://api.github.com/users/schneems/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/schneems/followers",
         "html_url": "https://github.com/schneems"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 167042084,
      "closed_at": "2016-08-17T03:36:04Z",
      "created_at": "2016-07-22T13:11:14Z",
      "title": "Do not call db in pluck  when collection is already loaded",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25921/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25921/comments",
      "pull_request": {
         "patch_url": "https://github.com/rails/rails/pull/25921.patch",
         "url": "https://api.github.com/repos/rails/rails/pulls/25921",
         "diff_url": "https://github.com/rails/rails/pull/25921.diff",
         "html_url": "https://github.com/rails/rails/pull/25921"
      },
      "html_url": "https://github.com/rails/rails/pull/25921"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI installed rails 5 and generated really minimal application. I skipped almost everything I could:\n\n```\n$ rails new tr --skip-bundle --skip-git --skip-puma --skip-spring --skip-listen --skip-javascript --skip-turbolinks --skip-active-record --skip-action-cable --skip-sprockets\n```\n\nAnd tried to run the application:\n\n```\n$ cd tr/\n$ rails s\nDEPRECATION WARNING: Accessing mime types via constants is deprecated. Please change `Mime::HTML` to `Mime[:html]`. (called from <top (required)> at /builddir/tr/config/application.rb:17)\nDEPRECATION WARNING: Accessing mime types via constants is deprecated. Please change `Mime::TEXT` to `Mime[:text]`. (called from <top (required)> at /builddir/tr/config/application.rb:17)\nDEPRECATION WARNING: Accessing mime types via constants is deprecated. Please change `Mime::URL_ENCODED_FORM` to `Mime[:url_encoded_form]`. (called from <top (required)> at /builddir/tr/config/application.rb:17)\n=> Booting WEBrick\n=> Rails 5.0.0 application starting in development on http://localhost:3000\n=> Run `rails server -h` for more startup options\n[2016-07-20 16:39:43] INFO  WEBrick 1.3.1\n[2016-07-20 16:39:43] INFO  ruby 2.3.1 (2016-04-26) [x86_64-linux]\n[2016-07-20 16:39:43] INFO  WEBrick::HTTPServer#start: pid=26108 port=3000\nStarted GET \"/\" for 127.0.0.1 at 2016-07-20 16:39:55 +0200\nStarted GET \"/\" for 127.0.0.1 at 2016-07-20 16:41:11 +0200\n^C[2016-07-20 16:46:47] INFO  going to shutdown ...\n[2016-07-20 16:46:47] INFO  WEBrick::HTTPServer#start done.\nExiting\n```\n\nBut the problem is that this app did no run as epxected. I just got error 500 and as you can see, there is no issue mentioned in the log.\n\nLater I executed the same application with Ruby debug enabled:\n\n```\n$ RUBYOPT=-d rails s\n```\n\nwhich unveiled possible error:\n\n```\nException `NoMethodError' at /usr/share/gems/gems/actionpack-5.0.0/lib/action_dispatch/middleware/remote_ip.rb:112 - undefined method `remote_addr' for nil:NilClass\n```\n\nQuick Google query gave me this answer [1]. Which quickly pointed out that my installed web-console 2.2.1 is probably not compatible with Rails 5.\n### Expected behavior\n1. Rails restricts the minimal compatible web-console version (3.1 according to the web-console CHANGELOG?)\n2. Rails does not swallow all the debug information, which could help to identify what is the problem.\n### Actual behavior\n1. Rails does not restrict web-console version, which might be incompatible.\n2. Rails does not provide any helpful information to help to analyze the issue.\n### System configuration\n\n**Rails version**:\n5.0.0\n\n**Ruby version**:\n2.3.1\n\n[1] https://github.com/rails/web-console/issues/155\n",
      "number": 25899,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/voxik/subscriptions",
         "received_events_url": "https://api.github.com/users/voxik/received_events",
         "url": "https://api.github.com/users/voxik",
         "avatar_url": "https://avatars0.githubusercontent.com/u/14406?v=4",
         "events_url": "https://api.github.com/users/voxik/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/voxik/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/voxik/following{/other_user}",
         "repos_url": "https://api.github.com/users/voxik/repos",
         "site_admin": false,
         "id": 14406,
         "organizations_url": "https://api.github.com/users/voxik/orgs",
         "login": "voxik",
         "gists_url": "https://api.github.com/users/voxik/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/voxik/followers",
         "html_url": "https://github.com/voxik"
      },
      "state": "closed",
      "closed_by": "25907",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25899",
      "updated_at": "2016-07-21T13:45:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25899/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 166620091,
      "closed_at": "2016-07-21T07:54:28Z",
      "created_at": "2016-07-20T16:07:09Z",
      "title": "Newly generated app should enforce minimal web-console version",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25899/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25899/comments",
      "html_url": "https://github.com/rails/rails/issues/25899"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nCreate a model which has an `enum` declared on an aliased attribute:\n\n```\nclass Person < ActiveRecord::Base\n  alias_attribute :citizenship_status, :citizen\n\n  enum citizenship_status: { citizen: 1, foreigner: 0 }\nend\n```\n### Expected behavior\n\nThe query methods (`citizen?` and `foreigner?`) should function on model instances and return `true` if their respective values equal `citizenship_status`.\n### Actual behavior\n\nThe query methods always return `false`.\n### System configuration\n\n**Rails version**: 4.2.7, 5.0.0\n\n**Ruby version**: 3.2.1\n",
      "number": 25892,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/thomasfedb/subscriptions",
         "received_events_url": "https://api.github.com/users/thomasfedb/received_events",
         "url": "https://api.github.com/users/thomasfedb",
         "avatar_url": "https://avatars0.githubusercontent.com/u/193831?v=4",
         "events_url": "https://api.github.com/users/thomasfedb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/thomasfedb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/thomasfedb/following{/other_user}",
         "repos_url": "https://api.github.com/users/thomasfedb/repos",
         "site_admin": false,
         "id": 193831,
         "organizations_url": "https://api.github.com/users/thomasfedb/orgs",
         "login": "thomasfedb",
         "gists_url": "https://api.github.com/users/thomasfedb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/thomasfedb/followers",
         "html_url": "https://github.com/thomasfedb"
      },
      "state": "closed",
      "closed_by": "25998",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25892",
      "updated_at": "2016-07-30T21:35:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25892/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 166347168,
      "closed_at": "2016-07-25T13:43:08Z",
      "created_at": "2016-07-19T14:34:53Z",
      "title": "Aliased attributes don't play nice with enum",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25892/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25892/comments",
      "html_url": "https://github.com/rails/rails/issues/25892"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nCreate a new rails project with Search `has_many` User. Try to `update_all(user_id: User.last)`. On v4.2 the attribute will be updated as expected, on v5.0 it will not. Using the ID directly works as expected.\n\nRails 4.2\n\n```\n[3] pry(main)>\n[3] pry(main)> Rails.version\n=> \"4.2.5.2\"\n[4] pry(main)> Search.last.user\n  Search Load (1.0ms)  SELECT  \"searches\".* FROM \"searches\"  ORDER BY \"searches\".\"id\" DESC LIMIT 1\n=> nil\n[5] pry(main)> Search.update_all(user_id: User.last)\n  User Load (0.7ms)  SELECT  \"users\".* FROM \"users\"  ORDER BY \"users\".\"id\" DESC LIMIT 1\n  SQL (9.2ms)  UPDATE \"searches\" SET \"user_id\" = 3\n=> 183\n```\n\n```\n>> Rails.version\n=> \"5.0.0\"\n>> Search.last.user\n  Search Load (6.9ms)  SELECT  \"searches\".* FROM \"searches\" ORDER BY \"searches\".\"id\" DESC LIMIT $1  [[\"LIMIT\", 1]]\n=> nil\n>> Search.update_all(user_id: User.last)\n  User Load (1.0ms)  SELECT  \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" DESC LIMIT $1  [[\"LIMIT\", 1]]\n  SQL (16.8ms)  UPDATE \"searches\" SET \"user_id\" = NULL\n=> 183\n>> Search.update_all(user_id: User.last.id)\n  User Load (1.3ms)  SELECT  \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" DESC LIMIT $1  [[\"LIMIT\", 1]]\n  SQL (16.2ms)  UPDATE \"searches\" SET \"user_id\" = 3\n=> 183\n```\n### Expected behaviour\n\n`update_all(x_id: x)` should infer the `id` attribute from an ActiveRecord model instance (`x`) as it does in version 4.2.\n### Actual behavior\n\nThe SQL generated from `update_all` will simply do `SET \"x_id\" = NULL` unless you explicitly return the `id` attribute `update_all(x_id: x.id)`\n### System configuration\n\n**Ruby version**: ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-darwin15]\n",
      "number": 25875,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/leejarvis/subscriptions",
         "received_events_url": "https://api.github.com/users/leejarvis/received_events",
         "url": "https://api.github.com/users/leejarvis",
         "avatar_url": "https://avatars1.githubusercontent.com/u/197567?v=4",
         "events_url": "https://api.github.com/users/leejarvis/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/leejarvis/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/leejarvis/following{/other_user}",
         "repos_url": "https://api.github.com/users/leejarvis/repos",
         "site_admin": false,
         "id": 197567,
         "organizations_url": "https://api.github.com/users/leejarvis/orgs",
         "login": "leejarvis",
         "gists_url": "https://api.github.com/users/leejarvis/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/leejarvis/followers",
         "html_url": "https://github.com/leejarvis"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25875",
      "updated_at": "2016-07-18T14:06:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25875/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 166093943,
      "closed_at": "2016-07-18T13:59:24Z",
      "created_at": "2016-07-18T13:31:02Z",
      "title": "update_all no longer uses ActiveRecord model ID ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25875/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25875/comments",
      "html_url": "https://github.com/rails/rails/issues/25875"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nIn Rails integration test, if I set `Accept: application/json` headers, I can see the response `Content-Type` is `application/json`. But If I use `xhr: true`, then the test suit changes `Accept` header and makes both request `Accept` and response `Content-Type` wrong.\n### Expected behavior\n\n``` ruby\nclass PageTest < ActionDispatch::IntegrationTest\n  test \"Header 'Accept' with xhr: true\" do\n    get '/page', headers: { 'Accept' => 'application/json' }, xhr: true\n\n    assert_equal '/page', request.path_info\n    assert_equal 'application/json', request.accept\n    assert_equal 'application/json', response.content_type\n  end\n\nend\n```\n### Actual behavior\n\n``` ruby\nclass PageTest < ActionDispatch::IntegrationTest\n  test \"Header 'Accept' with xhr: true\" do\n    get '/page', headers: { 'Accept' => 'application/json' }, xhr: true\n\n    assert_equal '/page', request.path_info\n    # This is WRONG! And the response.content_type is also affected.\n    assert_equal \"text/javascript, text/html, application/xml, text/xml, */*\", request.accept\n    assert_equal 'text/html', response.content_type\n  end\nend\n```\n### System configuration\n\n**Rails version**: 5.0.0 and master\n\n**Ruby version**: 2.3.0p0\n### Reason & Solution\n\nThe issue is in `ActionDispatch::Integration::RequestHelpers`. See [here](https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb#L363-L367). When `xhr` is set, the code sets `HTTP_ACCEPT`, but it's a CGI variable style, not an HTTP header style.\n\nThe simplest solution is to both check `Accept` and transform to `HTTP_ACCEPT` instead, like this:\n\n``` ruby\n# Modify this\nheaders['HTTP_ACCEPT'] ||= [Mime[:js], Mime[:html], Mime[:xml], 'text/xml', '*/*'].join(', ')\n# To this\nheaders['HTTP_ACCEPT'] ||= headers.delete('Accept') || [Mime[:js], Mime[:html], Mime[:xml], 'text/xml', '*/*'].join(', ')\n```\n\nIn this case, mo matter the developer passes `HTTP_ACCEPT` (CGI variable) and `Accept` (HTTP header), it'll work fine.\n\nIf you think this works, I'm glad to create a PR.\n",
      "number": 25859,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/darkbaby123/subscriptions",
         "received_events_url": "https://api.github.com/users/darkbaby123/received_events",
         "url": "https://api.github.com/users/darkbaby123",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2097309?v=4",
         "events_url": "https://api.github.com/users/darkbaby123/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/darkbaby123/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/darkbaby123/following{/other_user}",
         "repos_url": "https://api.github.com/users/darkbaby123/repos",
         "site_admin": false,
         "id": 2097309,
         "organizations_url": "https://api.github.com/users/darkbaby123/orgs",
         "login": "darkbaby123",
         "gists_url": "https://api.github.com/users/darkbaby123/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/darkbaby123/followers",
         "html_url": "https://github.com/darkbaby123"
      },
      "state": "closed",
      "closed_by": "26003",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25859",
      "updated_at": "2016-08-07T16:32:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25859/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 165956812,
      "closed_at": "2016-08-07T16:32:06Z",
      "created_at": "2016-07-17T02:23:46Z",
      "title": "Accept header is overwritten by xhr: true in integration test",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25859/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25859/comments",
      "html_url": "https://github.com/rails/rails/issues/25859"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It appears that queries with an order on an included relationship are causing the readonly flag to be set on the related model in Rails 5.   Using the following models:\n\n``` ruby\nclass Campaign < ActiveRecord::Base\n  has_many  :appeals\nend\n\nclass Appeal < ActiveRecord::Base\n  belongs_to :campaign\nend\n```\n\nRails 4 behavior:\n\n``` ruby\nAppeal.where(id: 1).includes(:campaign).order('campaigns.name').first.campaign.readonly?\n=> false\n```\n\nRails 5 behavior:\n\n``` ruby\nAppeal.where(id: 1).includes(:campaign).order('campaigns.name').first.campaign.readonly?\n=> true\n```\n\nSome additional examples of Rails 5 behavior:\n\n``` ruby\n# ordering by a base model attribute works:\nAppeal.where(id: 1).includes(:campaign).order('appeals.name').first.campaign.readonly?\n=> false\n\n# using joins instead of includes works:\nAppeal.where(id: 1).joins(:campaign).order('campaigns.name').first.campaign.readonly?\n=> false\n\n# excluding the order call works:\nAppeal.where(id: 1).includes(:campaign).first.campaign.readonly?\n=> false\n\n# adding a readonly call doesn't help:\nAppeal.where(id: 1).includes(:campaign).order('campaigns.name').readonly(false).first.campaign.readonly?\n=> true\n```\n\nIs this a regression or expected behavior in Rails 5?\n",
      "number": 25835,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jgelo/subscriptions",
         "received_events_url": "https://api.github.com/users/jgelo/received_events",
         "url": "https://api.github.com/users/jgelo",
         "avatar_url": "https://avatars1.githubusercontent.com/u/314096?v=4",
         "events_url": "https://api.github.com/users/jgelo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jgelo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jgelo/following{/other_user}",
         "repos_url": "https://api.github.com/users/jgelo/repos",
         "site_admin": false,
         "id": 314096,
         "organizations_url": "https://api.github.com/users/jgelo/orgs",
         "login": "jgelo",
         "gists_url": "https://api.github.com/users/jgelo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jgelo/followers",
         "html_url": "https://github.com/jgelo"
      },
      "state": "closed",
      "closed_by": "24099",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25835",
      "updated_at": "2017-10-20T06:39:14Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25835/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 10,
      "id": 165642716,
      "closed_at": "2017-10-20T06:39:14Z",
      "created_at": "2016-07-14T19:44:42Z",
      "title": "ActiveRecord query with order on an included relation is readonly",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25835/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25835/comments",
      "html_url": "https://github.com/rails/rails/issues/25835"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n```\nclass AddTSColumn < ActiveRecord::Migration[5.0]\n  def change\n    add_column :posts, :published_at, 'TIMESTAMP'\n  end\nend\n```\n### Expected behavior\n\nA column with `TIMESTAMP` data type should be created\n### Actual behavior\n\nA column with `DATETIME` data type is created\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1p112\n",
      "number": 25830,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/PavelPenkov/subscriptions",
         "received_events_url": "https://api.github.com/users/PavelPenkov/received_events",
         "url": "https://api.github.com/users/PavelPenkov",
         "avatar_url": "https://avatars1.githubusercontent.com/u/375548?v=4",
         "events_url": "https://api.github.com/users/PavelPenkov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/PavelPenkov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/PavelPenkov/following{/other_user}",
         "repos_url": "https://api.github.com/users/PavelPenkov/repos",
         "site_admin": false,
         "id": 375548,
         "organizations_url": "https://api.github.com/users/PavelPenkov/orgs",
         "login": "PavelPenkov",
         "gists_url": "https://api.github.com/users/PavelPenkov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/PavelPenkov/followers",
         "html_url": "https://github.com/PavelPenkov"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25830",
      "updated_at": "2017-02-23T04:24:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25830/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 165582093,
      "closed_at": "2017-02-23T04:24:13Z",
      "created_at": "2016-07-14T14:56:33Z",
      "title": "Can't create TIMESTAMP column with MySQL",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25830/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25830/comments",
      "html_url": "https://github.com/rails/rails/issues/25830"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Creating a controller that inherits from `ActionController::Metal` adds the default headers from `ActionDispatch` to the response when it should not be adding anything. `ActionController::Metal` should be opt-in for these headers instead of having them added by default.\n\nThis commit e16afe61abd78c55f80752ca020b90d59ae1940f appears to be where it originated and, in particular, changing `ActionDispatch::Response.new` to `ActionDispatch::Response.create` [here](https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal.rb#L137)\n\nI've created a gist with a minimal test showing the issue: https://gist.github.com/zspoelstra/b2269d44e643d597eae807f61681a2e5\n### Expected behavior\n\nThe response headers should not include the default headers.\n### Actual behavior\n\n`X-Frame-Options`, `X-XSS-Protection`, and `X-Content-Type-Options` headers are added to the response\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.0\n",
      "number": 25820,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions",
            "received_events_url": "https://api.github.com/users/guilleiguaran/received_events",
            "url": "https://api.github.com/users/guilleiguaran",
            "avatar_url": "https://avatars2.githubusercontent.com/u/160941?v=4",
            "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}",
            "repos_url": "https://api.github.com/users/guilleiguaran/repos",
            "site_admin": false,
            "id": 160941,
            "organizations_url": "https://api.github.com/users/guilleiguaran/orgs",
            "login": "guilleiguaran",
            "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/guilleiguaran/followers",
            "html_url": "https://github.com/guilleiguaran"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zspoelstra/subscriptions",
         "received_events_url": "https://api.github.com/users/zspoelstra/received_events",
         "url": "https://api.github.com/users/zspoelstra",
         "avatar_url": "https://avatars2.githubusercontent.com/u/451249?v=4",
         "events_url": "https://api.github.com/users/zspoelstra/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zspoelstra/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zspoelstra/following{/other_user}",
         "repos_url": "https://api.github.com/users/zspoelstra/repos",
         "site_admin": false,
         "id": 451249,
         "organizations_url": "https://api.github.com/users/zspoelstra/orgs",
         "login": "zspoelstra",
         "gists_url": "https://api.github.com/users/zspoelstra/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zspoelstra/followers",
         "html_url": "https://github.com/zspoelstra"
      },
      "state": "closed",
      "closed_by": "28606",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25820",
      "updated_at": "2017-03-30T09:29:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25820/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions",
         "received_events_url": "https://api.github.com/users/guilleiguaran/received_events",
         "url": "https://api.github.com/users/guilleiguaran",
         "avatar_url": "https://avatars2.githubusercontent.com/u/160941?v=4",
         "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}",
         "repos_url": "https://api.github.com/users/guilleiguaran/repos",
         "site_admin": false,
         "id": 160941,
         "organizations_url": "https://api.github.com/users/guilleiguaran/orgs",
         "login": "guilleiguaran",
         "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/guilleiguaran/followers",
         "html_url": "https://github.com/guilleiguaran"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 165429285,
      "closed_at": "2017-03-30T09:29:34Z",
      "created_at": "2016-07-13T21:47:03Z",
      "title": "ActionController::Metal response includes the default headers",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25820/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25820/comments",
      "html_url": "https://github.com/rails/rails/issues/25820"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n1. create rails application using mysql adapter\n2. create mysql directory within a directory that is in your path.\n   actual mysql binary\n   - eg. given PATH=/usr/local/bin:/usr\n3. `bin/rails db -p`\n### Expected behavior\n\nI would expect dbconsole to ignore the directory and continue searching my path for the binary.\n### Actual behavior\n\ndbconsole attempts to execute the mysql directory instead of the binary.\n/home/directory/.gem/ruby/2.2.3/gems/railties-4.2.5.2/lib/rails/commands/dbconsole.rb:186:in `exec': Permission denied - /path/to/folder/mysql (Errno::EACCES)\n### System configuration\n\n**Rails version**: 4.2.5.2\n\n**Ruby version**: 2.2.3\n\nNOTE: I will take a look at how to resolve this\n",
      "number": 25801,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sbfaulkner/subscriptions",
         "received_events_url": "https://api.github.com/users/sbfaulkner/received_events",
         "url": "https://api.github.com/users/sbfaulkner",
         "avatar_url": "https://avatars0.githubusercontent.com/u/5099?v=4",
         "events_url": "https://api.github.com/users/sbfaulkner/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sbfaulkner/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sbfaulkner/following{/other_user}",
         "repos_url": "https://api.github.com/users/sbfaulkner/repos",
         "site_admin": false,
         "id": 5099,
         "organizations_url": "https://api.github.com/users/sbfaulkner/orgs",
         "login": "sbfaulkner",
         "gists_url": "https://api.github.com/users/sbfaulkner/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sbfaulkner/followers",
         "html_url": "https://github.com/sbfaulkner"
      },
      "state": "closed",
      "closed_by": "25803",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25801",
      "updated_at": "2016-07-13T00:08:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25801/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 165165050,
      "closed_at": "2016-07-13T00:08:12Z",
      "created_at": "2016-07-12T19:53:06Z",
      "title": "dbconsole attempts to execute mysql directory",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25801/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25801/comments",
      "html_url": "https://github.com/rails/rails/issues/25801"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\n\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  # Activate the gem you are reporting the issue against.\n  gem 'rails', '5.0.0'\nend\n\nrequire 'rack/test'\nrequire 'action_controller/railtie'\n\nclass TestApp < Rails::Application\n  config.root = File.dirname(__FILE__)\n  config.session_store :cookie_store, key: 'cookie_store_key'\n  secrets.secret_token    = 'secret_token'\n  secrets.secret_key_base = 'secret_key_base'\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    get '/' => 'test#index', as: :test\n    root 'test#index'\n\n    namespace :admin do\n      root 'test#index'\n    end\n  end\nend\n\nclass TestController < ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  def index\n    render plain: 'Home'\n  end\nend\n\nrequire 'minitest/autorun'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\nclass BugTest < Minitest::Test\n  include Rack::Test::Methods\n  include Rails.application.routes.url_helpers\n\n  def test_has_admin_root_path_\n    assert_equal admin_root_path, '/admin'\n  end\n\n  private\n  def app\n    Rails.application\n  end\nend\n```\n### Expected behavior\n\nShould generate `admin_root_path` same like in rails 4.2.6\n\n``` ruby\n\n\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  # Activate the gem you are reporting the issue against.\n  gem 'rails', '4.2.6'\nend\n\nrequire 'rack/test'\nrequire 'action_controller/railtie'\n\nclass TestApp < Rails::Application\n  config.root = File.dirname(__FILE__)\n  config.session_store :cookie_store, key: 'cookie_store_key'\n  secrets.secret_token    = 'secret_token'\n  secrets.secret_key_base = 'secret_key_base'\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    get '/' => 'test#index', as: :test\n    root 'test#index'\n\n    namespace :admin do\n      root 'test#index'\n    end\n  end\nend\n\nclass TestController < ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  def index\n    render plain: 'Home'\n  end\nend\n\nrequire 'minitest/autorun'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\nclass BugTest < Minitest::Test\n  include Rack::Test::Methods\n  include Rails.application.routes.url_helpers\n\n  def test_has_admin_root_path_\n    assert_equal admin_root_path, '/admin'\n  end\n\n  private\n  def app\n    Rails.application\n  end\nend\n```\n### Actual behavior\n\nDoesn't generate `admin_root_path`\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.2.4\n",
      "number": 25800,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/krzysiek1507/subscriptions",
         "received_events_url": "https://api.github.com/users/krzysiek1507/received_events",
         "url": "https://api.github.com/users/krzysiek1507",
         "avatar_url": "https://avatars3.githubusercontent.com/u/8144559?v=4",
         "events_url": "https://api.github.com/users/krzysiek1507/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/krzysiek1507/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/krzysiek1507/following{/other_user}",
         "repos_url": "https://api.github.com/users/krzysiek1507/repos",
         "site_admin": false,
         "id": 8144559,
         "organizations_url": "https://api.github.com/users/krzysiek1507/orgs",
         "login": "krzysiek1507",
         "gists_url": "https://api.github.com/users/krzysiek1507/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/krzysiek1507/followers",
         "html_url": "https://github.com/krzysiek1507"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25800",
      "updated_at": "2016-07-13T01:37:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25800/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 1,
      "id": 165116329,
      "closed_at": "2016-07-13T01:37:47Z",
      "created_at": "2016-07-12T16:02:43Z",
      "title": "actionpack doesn't generate root path for namespace",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25800/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25800/comments",
      "html_url": "https://github.com/rails/rails/issues/25800"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Playing with virtual attributes via the Attributes API in Rails 5. They don't seem to work in Form Builders unless you initialize the attribute with a value before the form builder gets ahold of it:\n### Steps to reproduce\n\n``` ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  # first_name, last_name in database\n  attribute :title, :string # not in DB\nend\n\n# app/controllers/users_controller.rb\nclass UsersController < ApplicationController\n  def edit\n    @user = User.find(params[:id])\n  end\nend\n```\n\n``` erb\n<%# app/views/users/edit.html.erb %>\n<%= form_for @user do |f| %>\n  <%= f.text_field :first_name %>\n  <%= f.text_field :last_name %>\n  <%= f.text_field :title %>\n<% end %>\n```\n### Expected behavior\n\nShould show a form with three input boxes, one each for `first_name`, `last_name` and `title`.\n### Actual behavior\n\n`ActiveModel::MissingAttributeError: missing attribute: title`\n\nI'm able to get the form to render properly if, in the controller, I set the title to an empty string:\n\n``` ruby\nclass UsersController < ApplicationController\n  def edit\n    @user = User.find(params[:id])\n    @user.title = ''\n  end\nend\n```\n\nI thought maybe I could do this automatically with `attribute :title, :string, :default = ''` but I get the same error. :( Maybe this is expected (and desired?) behavior? I just haven't seen it documented anywhere.\n\nLast few items in the stack trace:\n\n```\nactiverecord (5.0.0) lib/active_record/attribute_methods/read.rb:66:in `block in _read_attribute'\nactiverecord (5.0.0) lib/active_record/attribute_set.rb:42:in `block in fetch_value'\nactiverecord (5.0.0) lib/active_record/attribute.rb:196:in `value'\nactiverecord (5.0.0) lib/active_record/attribute_set.rb:42:in `fetch_value'\nactiverecord (5.0.0) lib/active_record/attribute_methods/read.rb:66:in `_read_attribute'\nactiverecord (5.0.0) lib/active_record/attribute_methods/read.rb:36:in `__temp__d6563737167656'\nransack (1.7.0) lib/ransack/helpers/form_builder.rb:10:in `value'\n```\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1p112\n",
      "number": 25787,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cannikin/subscriptions",
         "received_events_url": "https://api.github.com/users/cannikin/received_events",
         "url": "https://api.github.com/users/cannikin",
         "avatar_url": "https://avatars1.githubusercontent.com/u/300?v=4",
         "events_url": "https://api.github.com/users/cannikin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cannikin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cannikin/following{/other_user}",
         "repos_url": "https://api.github.com/users/cannikin/repos",
         "site_admin": false,
         "id": 300,
         "organizations_url": "https://api.github.com/users/cannikin/orgs",
         "login": "cannikin",
         "gists_url": "https://api.github.com/users/cannikin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cannikin/followers",
         "html_url": "https://github.com/cannikin"
      },
      "state": "closed",
      "closed_by": "0ddf87",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25787",
      "updated_at": "2016-07-25T15:14:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25787/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 164935847,
      "closed_at": "2016-07-25T15:14:26Z",
      "created_at": "2016-07-11T21:13:44Z",
      "title": "Attributes API with virtual attributes don't work in form builders without a value?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25787/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25787/comments",
      "html_url": "https://github.com/rails/rails/issues/25787"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Active Support has long had load hooks in https://github.com/rails/rails/blob/39b8b8fdbf6c175a64f07198ff1c950e33c72cd0/activesupport/lib/active_support/lazy_load_hooks.rb, but since https://github.com/rails/rails/commit/7c90d91c3c43bdbba25d38589aed0e2940af3bc8 the docs stopped showing up on http://api.rubyonrails.org/files/activesupport/lib/active_support/lazy_load_hooks_rb.html.\n\nYour mission, should you choose to accept it, is to fix this. We could wrap the file's behavior in a module and extend Active Support with it inline.\n\nThen for good measure we should give the docs some housekeeping. Try coming up with a better explanation for why the lazy load hooks exist. Use this as a starting ground: https://github.com/rails/rails-controller-testing/issues/24#issuecomment-231827911\n",
      "number": 25784,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "state": "closed",
      "closed_by": "25856",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/25784",
      "updated_at": "2016-08-13T00:08:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25784/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 384913768,
            "url": "https://api.github.com/repos/rails/rails/labels/good-first-patch",
            "color": "0e8a16",
            "default": false,
            "name": "good-first-patch"
         }
      ],
      "comments": 5,
      "id": 164912029,
      "closed_at": "2016-08-13T00:08:45Z",
      "created_at": "2016-07-11T19:13:30Z",
      "title": "Fix lazy load hooks documentation.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25784/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25784/comments",
      "html_url": "https://github.com/rails/rails/issues/25784"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have a RSpec test case which includes the following:\n\n```\nexpect(response.parsed_body.count).to eq(4)\n```\n\nThis produces the following error:\n\n```\n1) UsersController when logged in as a user GET #index shows a list of all the users\n   Failure/Error: expect(response.parsed_body.count).to eq(4)\n\n   NoMethodError:\n     undefined method `call' for nil:NilClass\n     Did you mean?  caller\n   # ./spec/controllers/users_controller_spec.rb:22:in `block (4 levels) in <top (required)>'\n```\n\nChanging that line to\n\n```\nexpect(JSON.parse(response.body).count).to eq(4)\n```\n\ndoes not produce the error and the test passes.\n\nRuby: 2.3.1\nRails 5.0.0\n",
      "number": 25762,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Morpheu5/subscriptions",
         "received_events_url": "https://api.github.com/users/Morpheu5/received_events",
         "url": "https://api.github.com/users/Morpheu5",
         "avatar_url": "https://avatars3.githubusercontent.com/u/411507?v=4",
         "events_url": "https://api.github.com/users/Morpheu5/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Morpheu5/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Morpheu5/following{/other_user}",
         "repos_url": "https://api.github.com/users/Morpheu5/repos",
         "site_admin": false,
         "id": 411507,
         "organizations_url": "https://api.github.com/users/Morpheu5/orgs",
         "login": "Morpheu5",
         "gists_url": "https://api.github.com/users/Morpheu5/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Morpheu5/followers",
         "html_url": "https://github.com/Morpheu5"
      },
      "state": "closed",
      "closed_by": "25771",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25762",
      "updated_at": "2016-07-13T19:22:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25762/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 9,
      "id": 164676258,
      "closed_at": "2016-07-13T19:22:19Z",
      "created_at": "2016-07-09T17:13:52Z",
      "title": "undefined method `call' for nil:NilClass when calling parsed_body on a TestResponse",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25762/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25762/comments",
      "html_url": "https://github.com/rails/rails/issues/25762"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Firefox 47.0 running on Ubuntu 16.04\n\nOn this Guides page, section 2.1 http://guides.rubyonrails.org/active_record_migrations.html\n\n[Underscore is missing from part_number in first code box.](http://imgur.com/t3PrWj0)\n[The underscore is in the html](http://imgur.com/FxLqcUj), it's just not being displayed.\n[Double clicking on the code box makes it appear.](http://imgur.com/tpJcb7c)\n[Changing the font to Arial makes it appear.](http://imgur.com/SyiNTok)\n",
      "number": 25744,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
            "received_events_url": "https://api.github.com/users/fxn/received_events",
            "url": "https://api.github.com/users/fxn",
            "avatar_url": "https://avatars2.githubusercontent.com/u/3387?v=4",
            "events_url": "https://api.github.com/users/fxn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/fxn/following{/other_user}",
            "repos_url": "https://api.github.com/users/fxn/repos",
            "site_admin": false,
            "id": 3387,
            "organizations_url": "https://api.github.com/users/fxn/orgs",
            "login": "fxn",
            "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/fxn/followers",
            "html_url": "https://github.com/fxn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/danmolloy/subscriptions",
         "received_events_url": "https://api.github.com/users/danmolloy/received_events",
         "url": "https://api.github.com/users/danmolloy",
         "avatar_url": "https://avatars3.githubusercontent.com/u/7400942?v=4",
         "events_url": "https://api.github.com/users/danmolloy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/danmolloy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/danmolloy/following{/other_user}",
         "repos_url": "https://api.github.com/users/danmolloy/repos",
         "site_admin": false,
         "id": 7400942,
         "organizations_url": "https://api.github.com/users/danmolloy/orgs",
         "login": "danmolloy",
         "gists_url": "https://api.github.com/users/danmolloy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/danmolloy/followers",
         "html_url": "https://github.com/danmolloy"
      },
      "state": "closed",
      "closed_by": "26227",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25744",
      "updated_at": "2016-08-20T17:31:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25744/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
         "received_events_url": "https://api.github.com/users/fxn/received_events",
         "url": "https://api.github.com/users/fxn",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3387?v=4",
         "events_url": "https://api.github.com/users/fxn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fxn/following{/other_user}",
         "repos_url": "https://api.github.com/users/fxn/repos",
         "site_admin": false,
         "id": 3387,
         "organizations_url": "https://api.github.com/users/fxn/orgs",
         "login": "fxn",
         "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fxn/followers",
         "html_url": "https://github.com/fxn"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 4,
      "id": 164401605,
      "closed_at": "2016-08-20T17:31:43Z",
      "created_at": "2016-07-07T20:37:21Z",
      "title": "Font issue in Rails Guides on Firefox Ubuntu",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25744/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25744/comments",
      "html_url": "https://github.com/rails/rails/issues/25744"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nrequire 'bundler/inline'\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'activerecord', github: 'rails/rails'\n  gem 'pg'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\nActiveRecord::Base.establish_connection(adapter: 'postgresql', port: 5495)\n#ActiveRecord::Base.logger = Logger.new(STDOUT)\nActiveRecord::Schema.define do\n  create_table :people, temporary: true do |t|\n    t.string :name\n    t.boolean :deleted, null: false, default: false\n    t.timestamps null: false\n  end\n  create_table :emails, temporary: true do |t|\n    t.belongs_to :person\n    t.string :addr\n    t.boolean :deleted, null: false, default: false\n  end\nend\nif defined? ActiveSupport.halt_callback_chains_on_return_false=\n  ActiveSupport.halt_callback_chains_on_return_false = false\nend\n\nclass Person < ActiveRecord::Base\n  has_many :emails\n\n  after_save do\n    # synchronize associated emails' deleted flag - FAIL HERE\n    emails.update_all(deleted: deleted?)\n    true\n  end\nend\nclass Email < ActiveRecord::Base\n  belongs_to :person\nend\n\nclass BugTest < Minitest::Test\n  # PASS - assign primary key BEFORE association\n  def test_pass1\n    person = Person.new\n    person.id = 10\n    person.name = 'FooBar'\n    person.emails = [Email.new(addr: 'test1@example.com')]\n    person.emails\n    person.save!\n    assert Person.find(10)\n  end\n\n  # PASS - don't access association\n  def test_pass2\n    person = Person.new\n    person.name = 'FooBar'\n    person.emails = [Email.new(addr: 'test2@example.com')]\n    person.id = 11\n    person.save!\n    assert Person.find(11)\n  end\n\n  # FAIL - assign primary key AFTER association, and then access association\n  def test_fail\n    person = Person.new\n    person.name = 'FooBar'\n    person.emails = [Email.new(addr: 'test3@example.com')]\n    person.id = 12\n    person.emails\n    person.save!\n    assert Person.find(12)\n  end\nend\n```\n### Expected behavior (Rails 4.2.6)\n\nAll tests passed.\n### Actual behavior (Rails 5.0.0 and master)\n\nTest `test_fail` failed with following error. Bind values for `UPDATE` SQL should be `[12]`, but empty.\n\n```\n  1) Error:\nBugTest#test_fail:\nActiveRecord::StatementInvalid: PG::ProtocolViolation: ERROR:  bind message supplies 0 parameters, but prepared statement \"\" requires 1\n: UPDATE \"emails\" SET \"deleted\" = 'f' WHERE \"emails\".\"person_id\" = $1\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `async_exec'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `block in exec_no_cache'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:589:in `block in log'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:583:in `log'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:601:in `exec_no_cache'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb:588:in `execute_and_clear'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/postgresql/database_statements.rb:116:in `exec_delete'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:133:in `update'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `update'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/relation.rb:387:in `update_all'\n    test_update_all.rb:45:in `block in <class:Person>'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:396:in `instance_exec'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:396:in `block in make_lambda'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:207:in `block in halting_and_conditional'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:456:in `block in call'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:456:in `each'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:456:in `call'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:101:in `__run_callbacks__'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activesupport/lib/active_support/callbacks.rb:755:in `_run_save_callbacks'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/callbacks.rb:298:in `create_or_update'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/persistence.rb:152:in `save!'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/validations.rb:50:in `save!'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/attribute_methods/dirty.rb:30:in `save!'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/transactions.rb:324:in `block in save!'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/transactions.rb:395:in `block in with_transaction_returning_status'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:232:in `block in transaction'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:189:in `within_new_transaction'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:232:in `transaction'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/transactions.rb:211:in `transaction'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/transactions.rb:392:in `with_transaction_returning_status'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/transactions.rb:324:in `save!'\n    /home/tietew/.gem/ruby/2.3.0/bundler/gems/rails-19ff64d8f46d/activerecord/lib/active_record/suppressor.rb:46:in `save!'\n    test_update_all.rb:82:in `test_fail'\n```\n### System configuration\n\n**Rails version**: 5.0.0 and master\n\n**Ruby version**: 2.3.1\n\n**PostgreSQL version**: 9.5.1\n",
      "number": 25732,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Tietew/subscriptions",
         "received_events_url": "https://api.github.com/users/Tietew/received_events",
         "url": "https://api.github.com/users/Tietew",
         "avatar_url": "https://avatars2.githubusercontent.com/u/51289?v=4",
         "events_url": "https://api.github.com/users/Tietew/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Tietew/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Tietew/following{/other_user}",
         "repos_url": "https://api.github.com/users/Tietew/repos",
         "site_admin": false,
         "id": 51289,
         "organizations_url": "https://api.github.com/users/Tietew/orgs",
         "login": "Tietew",
         "gists_url": "https://api.github.com/users/Tietew/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Tietew/followers",
         "html_url": "https://github.com/Tietew"
      },
      "state": "closed",
      "closed_by": "25786",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25732",
      "updated_at": "2016-07-20T15:56:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25732/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 164250591,
      "closed_at": "2016-07-20T15:56:57Z",
      "created_at": "2016-07-07T07:57:21Z",
      "title": "ERROR:  bind message supplies 0 parameters, but prepared statement \"\" requires 1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25732/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25732/comments",
      "html_url": "https://github.com/rails/rails/issues/25732"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nHave two models A B, where A has_many B. Open rails console with empty database, and run\n\nA.create b_ids: [1,2,3]\n### Expected behavior\n\nActiveRecordNotFound exception with a similar message as if you run A.find [1,2,3]\n\n`ActiveRecord::RecordNotFound: Couldn't find all Bs with 'id': (1, 2, 3) (found 0 results, but was looking for 3)`\n### Actual behavior\n\nActiveRecord gets nils for the non-existing ids, doesn't check for that, and then tries to save the association, resulting in:\n\n`ActiveRecord::AssociationTypeMismatch: B(#70166005846320) expected, got NilClass(#70165971014200)`\n### System configuration\n\n**Rails version**:\n5 RC3\n**Ruby version**:\n2.2.4\n",
      "number": 25719,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bluehallu/subscriptions",
         "received_events_url": "https://api.github.com/users/bluehallu/received_events",
         "url": "https://api.github.com/users/bluehallu",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1838241?v=4",
         "events_url": "https://api.github.com/users/bluehallu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bluehallu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bluehallu/following{/other_user}",
         "repos_url": "https://api.github.com/users/bluehallu/repos",
         "site_admin": false,
         "id": 1838241,
         "organizations_url": "https://api.github.com/users/bluehallu/orgs",
         "login": "bluehallu",
         "gists_url": "https://api.github.com/users/bluehallu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bluehallu/followers",
         "html_url": "https://github.com/bluehallu"
      },
      "state": "closed",
      "closed_by": "26718",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25719",
      "updated_at": "2016-11-24T14:18:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25719/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 164111810,
      "closed_at": "2016-11-24T14:18:01Z",
      "created_at": "2016-07-06T15:58:55Z",
      "title": "collection_singular_ids= crashes if a non-existing id is passed",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25719/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25719/comments",
      "html_url": "https://github.com/rails/rails/issues/25719"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- Got to http://guides.rubyonrails.org/action_cable_overview.html and note the page title\n- Download the Guides in .mobi format from guides.rubyonrails.org\n- View them in the Kindle app for Mac or iOS.\n- Find the Action Cable section in the Contents\n### Expected behavior\n\nExpected the page title to be \"Action Cable Overview\"\n- Expected the Kindle Action Cable section to be titled \"Action Cable Overview\".\n### Actual behavior\n- Page title is only Ruby on Rails Guides.\n- Action Cable section is titled simply \"Rails Guides\"\n\n<img width=\"460\" alt=\"guide-browser\" src=\"https://cloud.githubusercontent.com/assets/15832198/16583961/fb7ee47c-4286-11e6-884f-e601b9946db2.png\">\n<img width=\"480\" alt=\"guides-mac\" src=\"https://cloud.githubusercontent.com/assets/15832198/16583165/aaa18848-4281-11e6-881b-d871c8462272.png\">\n![guides-iphone](https://cloud.githubusercontent.com/assets/15832198/16583166/aaa4a794-4281-11e6-92e1-aa2fc48c1cbb.png)\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: n/a\n",
      "number": 25697,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/CodingItWrong/subscriptions",
         "received_events_url": "https://api.github.com/users/CodingItWrong/received_events",
         "url": "https://api.github.com/users/CodingItWrong",
         "avatar_url": "https://avatars0.githubusercontent.com/u/15832198?v=4",
         "events_url": "https://api.github.com/users/CodingItWrong/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/CodingItWrong/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/CodingItWrong/following{/other_user}",
         "repos_url": "https://api.github.com/users/CodingItWrong/repos",
         "site_admin": false,
         "id": 15832198,
         "organizations_url": "https://api.github.com/users/CodingItWrong/orgs",
         "login": "CodingItWrong",
         "gists_url": "https://api.github.com/users/CodingItWrong/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/CodingItWrong/followers",
         "html_url": "https://github.com/CodingItWrong"
      },
      "state": "closed",
      "closed_by": "25698",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25697",
      "updated_at": "2016-07-05T13:41:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25697/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 1,
      "id": 163828807,
      "closed_at": "2016-07-05T13:41:18Z",
      "created_at": "2016-07-05T11:26:17Z",
      "title": "Title for Action Cable guide not detected on site or Kindle",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25697/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25697/comments",
      "html_url": "https://github.com/rails/rails/issues/25697"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` bash\nrails new habtm\nrails g model User name\nrails g model Job name\nrails g migrate create_jobs_pool\n```\n\n``` ruby\n# db/migrate/create_jobs_pool.rb\nclass CreateJobsPool < ActiveRecord::Migration[5.0]\n  def change\n    create_table :jobs_pool, id: false do |t|\n      t.references :job, null: false, index: true\n      t.references :user, null: false, index: true\n    end\n  end\nend\n```\n\n``` ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_and_belongs_to_many :jobs_pool,\n    class_name: Job,\n    join_table: 'jobs_pool'\n\nend\n```\n\nOn rails console:\n\n``` ruby\nUser.create(name: 1)\nJob.create(name: 1)\nUser.first.jobs_pool = Job.all\nUser.first.jobs_pool.clear # it brokes here\n```\n### Actual behavior\n\nIt's raising:\n\n```\nModule::DelegationError: ActiveRecord::TableMetadata#association_foreign_key delegated to association.foreign_key, but association is nil: #<ActiveRecord::TableMetadata:0x00556cf17badf0 @klass=User::HABTM_JobsPool(job_id: integer, user_id: integer), @arel_table=#<Arel::Table:0x00556cf17baf80 @name=\"jobs_pool\", @columns=nil, @aliases=[], @type_caster=#<ActiveRecord::TypeCaster::Map:0x00556cf17bb020 @types=User::HABTM_JobsPool(job_id: integer, user_id: integer)>, @table_alias=nil>, @association=nil>\nfrom /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/table_metadata.rb:3:in `rescue in association_foreign_key'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/table_metadata.rb:3:in `association_foreign_key'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder/association_query_handler.rb:26:in `call'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:76:in `build'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:46:in `expand'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:90:in `block in expand_from_hash'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:86:in `each'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:86:in `flat_map'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:86:in `expand_from_hash'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/predicate_builder.rb:31:in `build_from_hash'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/where_clause_factory.rb:22:in `build'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/relation/query_methods.rb:632:in `where!'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/associations/has_many_through_association.rb:134:in `delete_records'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/associations/collection_association.rb:549:in `remove_records'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/associations/collection_association.rb:542:in `block in delete_or_destroy'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activerecord-5.0.0/lib/active_record/associations/collection_association.rb:203:in `block in transaction'\n... 18 levels...\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/railties-5.0.0/lib/rails/commands/console_helper.rb:9:in `start'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/railties-5.0.0/lib/rails/commands/commands_tasks.rb:78:in `console'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/railties-5.0.0/lib/rails/commands/commands_tasks.rb:49:in `run_command!'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/railties-5.0.0/lib/rails/commands.rb:18:in `<top (required)>'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:293:in `require'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:293:in `block in require'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:259:in `load_dependency'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:293:in `require'\n    from /home/mrbongiolo/projects/habtm/bin/rails:9:in `<top (required)>'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:287:in `load'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:287:in `block in load'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:259:in `load_dependency'\n    from /home/mrbongiolo/.gem/ruby/2.3.1/gems/activesupport-5.0.0/lib/active_support/dependencies.rb:287:in `load'\n    from /home/mrbongiolo/.rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /home/mrbongiolo/.rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n```\n\nThis seems to be happening because the name of the association `:jobs_pool` is the same as the table join table name. If I change it to something else then it work as intended.\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.3.1\n",
      "number": 25689,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mrbongiolo/subscriptions",
         "received_events_url": "https://api.github.com/users/mrbongiolo/received_events",
         "url": "https://api.github.com/users/mrbongiolo",
         "avatar_url": "https://avatars2.githubusercontent.com/u/213193?v=4",
         "events_url": "https://api.github.com/users/mrbongiolo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mrbongiolo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mrbongiolo/following{/other_user}",
         "repos_url": "https://api.github.com/users/mrbongiolo/repos",
         "site_admin": false,
         "id": 213193,
         "organizations_url": "https://api.github.com/users/mrbongiolo/orgs",
         "login": "mrbongiolo",
         "gists_url": "https://api.github.com/users/mrbongiolo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mrbongiolo/followers",
         "html_url": "https://github.com/mrbongiolo"
      },
      "state": "closed",
      "closed_by": "25767",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25689",
      "updated_at": "2016-07-28T02:23:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25689/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 163731179,
      "closed_at": "2016-07-28T02:23:05Z",
      "created_at": "2016-07-04T18:51:58Z",
      "title": "ActiveRecord 5.0.0 - HABTM failing when association name is the same as join table name",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25689/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25689/comments",
      "html_url": "https://github.com/rails/rails/issues/25689"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Allow the server `host` to be set with the `HOST` environment variable. #21267\n\n```\n$ HOST=0.0.0.0 PORT=8080 rails server\nshould be similar\n$ rails server -p 8080 -b 0.0.0.0\n```\n### System configuration\n\n**Rails version**: Rails 5.0.0.rc1\n\n**Ruby version**: ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-linux]\n",
      "number": 25677,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mahnunchik/subscriptions",
         "received_events_url": "https://api.github.com/users/mahnunchik/received_events",
         "url": "https://api.github.com/users/mahnunchik",
         "avatar_url": "https://avatars3.githubusercontent.com/u/780935?v=4",
         "events_url": "https://api.github.com/users/mahnunchik/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mahnunchik/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mahnunchik/following{/other_user}",
         "repos_url": "https://api.github.com/users/mahnunchik/repos",
         "site_admin": false,
         "id": 780935,
         "organizations_url": "https://api.github.com/users/mahnunchik/orgs",
         "login": "mahnunchik",
         "gists_url": "https://api.github.com/users/mahnunchik/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mahnunchik/followers",
         "html_url": "https://github.com/mahnunchik"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25677",
      "updated_at": "2016-07-08T18:13:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25677/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 163648925,
      "closed_at": "2016-07-08T18:13:17Z",
      "created_at": "2016-07-04T10:33:17Z",
      "title": "Use the HOST environment variable for rails server",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25677/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25677/comments",
      "html_url": "https://github.com/rails/rails/issues/25677"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n```\nnumber_to_human(1_000_000, units: { unit: 'meter', thousand: 'kilometer' })\n```\n\nThis should return \"1000 kilometer\", as it did in Rails 4.x. Instead it returns \"1\" (i.e. no unit) in Rails 5\n\nRunnable gist: https://gist.github.com/daniel-rikowski/3fb29004560fae2ab7c08ddc2df8c0ef\n### Expected behavior\n\nWhen `number_to_human` receives a list of units it should only use the units given and not larger ones.\n### Actual behavior\n\nInstead it tries to use the best machting unit, even if it wasn't provided. For a hash parameter this results in an empty unit, for a I18n scope parameter this results in a lookup exception.\n### System configuration\n\n**Rails version**: 5.0\n### Remarks\n- I want to use this to display distances on a map, where even large numbers like \"6371 km\" are more favorable than \"6 million meter\" or \"6 thousand kilometer\"\n- I think the cause was PR https://github.com/rails/rails/pull/20872: First `calculate_exponent(units)` finds the largest exponent matching the given units, but then the rounding loop (lines 23-26) increases the exponent where it possibly exceeds the given units and their exponents.\n",
      "number": 25664,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/daniel-rikowski/subscriptions",
         "received_events_url": "https://api.github.com/users/daniel-rikowski/received_events",
         "url": "https://api.github.com/users/daniel-rikowski",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1169363?v=4",
         "events_url": "https://api.github.com/users/daniel-rikowski/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/daniel-rikowski/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/daniel-rikowski/following{/other_user}",
         "repos_url": "https://api.github.com/users/daniel-rikowski/repos",
         "site_admin": false,
         "id": 1169363,
         "organizations_url": "https://api.github.com/users/daniel-rikowski/orgs",
         "login": "daniel-rikowski",
         "gists_url": "https://api.github.com/users/daniel-rikowski/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/daniel-rikowski/followers",
         "html_url": "https://github.com/daniel-rikowski"
      },
      "state": "closed",
      "closed_by": "26628",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25664",
      "updated_at": "2017-05-29T14:43:55Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25664/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 163556475,
      "closed_at": "2017-05-29T14:43:55Z",
      "created_at": "2016-07-03T10:32:06Z",
      "title": "number_to_human tries to use larger units than provided",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25664/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25664/comments",
      "html_url": "https://github.com/rails/rails/issues/25664"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In http://api.rubyonrails.org/classes/ActiveRecord/Attributes/ClassMethods.html, it has the following line:\n\n> `array` (PG only) specifies that the type should be an array\n\nWhat does PG mean? I can't find any reference to the initials anywhere else. My best guess is that the `array` param only applies to attributes which are not backed by a database column.\n\nI'm happy to make a PR to clarify the docs if someone would explain it to me.\n\nThanks!\n",
      "number": 25660,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/will-in-wi/subscriptions",
         "received_events_url": "https://api.github.com/users/will-in-wi/received_events",
         "url": "https://api.github.com/users/will-in-wi",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1298231?v=4",
         "events_url": "https://api.github.com/users/will-in-wi/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/will-in-wi/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/will-in-wi/following{/other_user}",
         "repos_url": "https://api.github.com/users/will-in-wi/repos",
         "site_admin": false,
         "id": 1298231,
         "organizations_url": "https://api.github.com/users/will-in-wi/orgs",
         "login": "will-in-wi",
         "gists_url": "https://api.github.com/users/will-in-wi/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/will-in-wi/followers",
         "html_url": "https://github.com/will-in-wi"
      },
      "state": "closed",
      "closed_by": "25661",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25660",
      "updated_at": "2016-07-03T22:43:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25660/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 4,
      "id": 163542817,
      "closed_at": "2016-07-03T01:59:00Z",
      "created_at": "2016-07-03T01:39:38Z",
      "title": "What does \"PG\" mean in AR::Attributes documentation?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25660/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25660/comments",
      "html_url": "https://github.com/rails/rails/issues/25660"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- Go to http://edgeguides.rubyonrails.org/action_mailer_basics.html#previewing-emails\n- Copy the first code snippet\n\n![image](https://cloud.githubusercontent.com/assets/1231659/16541462/8c04db92-4051-11e6-8ec0-59368f302ea1.png)\n- Paste it into rails console (see error)\n- Remove all leading spaces from the copy and paste it again (passes)\n### Expected behavior\n\nA class is created and the symbol :welcome_email is returned\n\n```\n[13] pry(main)> class UserMailerPreview < ActionMailer::Preview\n[13] pry(main)*   def welcome_email\n[13] pry(main)*     UserMailer.welcome_email(User.first)\n[13] pry(main)*   end\n[13] pry(main)* end\n=> :welcome_email\n```\n### Actual behavior\n\nAn error occurs where welcome_email method is not defined.\n\n```\n[12] pry(main)> class UserMailerPreview < ActionMailer::Preview\n[12] pry(main)*     def welcome_email\n[12] pry(main)*       UserMailer.welcome_email(User.first)\n[12] pry(main)*     end\n[12] pry(main)* end\nNameError: undefined local variable or method `welcome_email' for UserMailerPreview:Class\n```\n### System configuration\n\n**Rails version**: 4.2.5\n\n**Ruby version**: 2.2.2\n",
      "number": 25655,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sb8244/subscriptions",
         "received_events_url": "https://api.github.com/users/sb8244/received_events",
         "url": "https://api.github.com/users/sb8244",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1231659?v=4",
         "events_url": "https://api.github.com/users/sb8244/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sb8244/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sb8244/following{/other_user}",
         "repos_url": "https://api.github.com/users/sb8244/repos",
         "site_admin": false,
         "id": 1231659,
         "organizations_url": "https://api.github.com/users/sb8244/orgs",
         "login": "sb8244",
         "gists_url": "https://api.github.com/users/sb8244/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sb8244/followers",
         "html_url": "https://github.com/sb8244"
      },
      "state": "closed",
      "closed_by": "25663",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25655",
      "updated_at": "2016-07-24T15:39:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25655/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 11,
      "id": 163525965,
      "closed_at": "2016-07-04T06:05:16Z",
      "created_at": "2016-07-02T16:37:53Z",
      "title": "Can't copy paste from action mailer documentation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25655/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25655/comments",
      "html_url": "https://github.com/rails/rails/issues/25655"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'activerecord', '5.0.0'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n  end\n\n  create_table :comments, force: true do |t|\n    t.integer :post_id\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments\n\n  def self.test_it\n    current_scope.to_sql\n  end\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post\nend\n\nclass BugTest < Minitest::Test\n  def test_through_joins\n    Post.joins(comments: :post).test_it\n  end\nend\n```\n### Expected behavior\n\nShould work same as in AR4.2.6 (I hope).\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'activerecord', '4.2.6'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n  end\n\n  create_table :comments, force: true do |t|\n    t.integer :post_id\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments\n\n  def self.test_it\n    current_scope.to_sql\n  end\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post\nend\n\nclass BugTest < Minitest::Test\n  def test_through_joins\n    Post.joins(comments: :post).test_it\n  end\nend\n```\n### Actual behavior\n\nRaises \n\n``` BugTest#test_through_joins:\nSystemStackError: stack level too deep\n```\n### System configuration\n\n**Rails version**: 5.0.0\n\n**Ruby version**: 2.2.4\n",
      "number": 25653,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/krzysiek1507/subscriptions",
         "received_events_url": "https://api.github.com/users/krzysiek1507/received_events",
         "url": "https://api.github.com/users/krzysiek1507",
         "avatar_url": "https://avatars3.githubusercontent.com/u/8144559?v=4",
         "events_url": "https://api.github.com/users/krzysiek1507/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/krzysiek1507/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/krzysiek1507/following{/other_user}",
         "repos_url": "https://api.github.com/users/krzysiek1507/repos",
         "site_admin": false,
         "id": 8144559,
         "organizations_url": "https://api.github.com/users/krzysiek1507/orgs",
         "login": "krzysiek1507",
         "gists_url": "https://api.github.com/users/krzysiek1507/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/krzysiek1507/followers",
         "html_url": "https://github.com/krzysiek1507"
      },
      "state": "closed",
      "closed_by": "8c2997",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25653",
      "updated_at": "2016-07-28T00:33:30Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25653/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 9,
      "id": 163525405,
      "closed_at": "2016-07-28T00:33:30Z",
      "created_at": "2016-07-02T16:24:39Z",
      "title": "AR causes stack level too deep when joining tables",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25653/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25653/comments",
      "html_url": "https://github.com/rails/rails/issues/25653"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- rails new my_app\n- export DISABLE_SPRING=true\n- rails g scaffold post title:string body:text\n- echo \"gem 'pg'\" >> Gemfile & bundle\n- set up database.yml\n\n``` yml\ndevelopment: &DEVELOPMENT\n  adapter: postgresql\n  database: myapp_development\n  username: <username>\n  password: <password>\n  host: localhost\n  pool: 5\n  timeout: 5000\n\ntest: &TEST\n  <<: *DEVELOPMENT\n  database: myapp_test\n  min_messages: warning\n```\n- rake db:create db:migrate\n- Change models/post.rb to:\n\n``` Ruby\n def self.update_body(title)\n    post = Post.find_by(title: title)\n    post.update_attributes(body: 'body body')\n  end\n```\n- Change test/models/post_test.rb to:\n\n``` Ruby\nrequire 'test_helper'\n\nclass PostTest < ActiveSupport::TestCase\n\n  test \"something\" do\n    post = Post.create(body: 'some body', title: 'some title')\n    assert_equal 'some body', post.body\n  end\n\n  uses_transaction :test_update_body_atomically\n  def test_update_body_atomically\n    Post.create(body: 'some body', title: 'some title')\n\n    25.times do\n      Array.new(4) do\n        Thread.new { Post.update_body('some title')}\n      end.each(&:join)\n    end\n    assert_equal 'body body', Post.find_by(title: 'some title').body\n  ensure\n    Post.delete_all\n  end\nend\n```\n- Run `rails test test/models/post_test.rb` until you see the error (Should be less than 20 times.. so may be write a script for it :stuck_out_tongue: )\n### Expected behavior\n\nTest should have passed\n### Actual behavior\n\n```\nmessage type 0x54 arrived from server while idle\nmessage type 0x44 arrived from server while idle\nmessage type 0x43 arrived from server while idle\nmessage type 0x5a arrived from server while idle\nmessage type 0x54 arrived from server while idle\nmessage type 0x44 arrived from server while idle\nmessage type 0x43 arrived from server while idle\nmessage type 0x5a arrived from server while idle\nE\n\nError:\nPostTest#test_update_body_atomically:\nActiveRecord::ActiveRecordError: Cannot lease connection, it is already in use by a different thread: #<Thread:0x00000004a24f78>. Current thread: #<Thread:0x00000003f03018>.\n    app/models/post.rb:4:in `update_body'\n    test/models/post_test.rb:16:in `block (3 levels) in test_update_body_atomically'\n```\n### System configuration\n\n**Rails version**:\n5.0.0.rc2\n**Ruby version**:\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n\n**pg gem version**\n0.18.4\n**postgres version**\n9.4.7\n\nI won't be able the explain the logicality of the test or that function. I am just trying to mimic what I am doing in my real app. If you would rather see the real build failure you can check it out [here](https://travis-ci.org/rubygems/rubygems.org/jobs/140831890#L1126). \nI am sorry but I don't have much to provide other than \"this was not an issue on rails 4.2.6\". Let me know how I can help debug this.\n\nEDIT: Simplified method and removed cases where the error was not reproduceable.\n",
      "number": 25585,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sonalkr132/subscriptions",
         "received_events_url": "https://api.github.com/users/sonalkr132/received_events",
         "url": "https://api.github.com/users/sonalkr132",
         "avatar_url": "https://avatars0.githubusercontent.com/u/7680662?v=4",
         "events_url": "https://api.github.com/users/sonalkr132/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sonalkr132/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sonalkr132/following{/other_user}",
         "repos_url": "https://api.github.com/users/sonalkr132/repos",
         "site_admin": false,
         "id": 7680662,
         "organizations_url": "https://api.github.com/users/sonalkr132/orgs",
         "login": "sonalkr132",
         "gists_url": "https://api.github.com/users/sonalkr132/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sonalkr132/followers",
         "html_url": "https://github.com/sonalkr132"
      },
      "state": "closed",
      "closed_by": "25707",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25585",
      "updated_at": "2016-07-06T22:10:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25585/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 163061990,
      "closed_at": "2016-07-06T22:10:27Z",
      "created_at": "2016-06-30T01:22:40Z",
      "title": "ActiveRecord::ActiveRecordError: Cannot lease connection, it is already in use by a different thread",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25585/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25585/comments",
      "html_url": "https://github.com/rails/rails/issues/25585"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Sorry, at the time being I don't have much details or a sample application to reproduce the issue but I was finally able to understand that my streamed response was interrupted after the first writes after I upgraded the application to Rails 5. Unfortunately it only happens in my production (and staging) servers, not under the development environment. I have to sign off for today but I'd love to get any input that might help me digging on what could be causing this issue in production with Rails 5.\n\nAny ideas on what has been changed in Rails 5 that could be causing this issue? This is not related to nginx since I tried using curl directly to localhost:port and I get the same error. as soon as the controller has to wait for some more data the connection is interrupted so I only see the output of the first stream.write calls. The action finishes without any errors so I don't know what could be happening.\n\nIf I can't think of anything that could fix this tomorrow morning I'm afraid I'll have to downgrade to Rails 4 until I'm able to figure out what's happening. Please let me know if you think you can help with this issue.\n\nThanks.\n",
      "number": 25581,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rosenfeld/subscriptions",
         "received_events_url": "https://api.github.com/users/rosenfeld/received_events",
         "url": "https://api.github.com/users/rosenfeld",
         "avatar_url": "https://avatars1.githubusercontent.com/u/32246?v=4",
         "events_url": "https://api.github.com/users/rosenfeld/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rosenfeld/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rosenfeld/following{/other_user}",
         "repos_url": "https://api.github.com/users/rosenfeld/repos",
         "site_admin": false,
         "id": 32246,
         "organizations_url": "https://api.github.com/users/rosenfeld/orgs",
         "login": "rosenfeld",
         "gists_url": "https://api.github.com/users/rosenfeld/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rosenfeld/followers",
         "html_url": "https://github.com/rosenfeld"
      },
      "state": "closed",
      "closed_by": "25609",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25581",
      "updated_at": "2016-07-01T00:09:59Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25581/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 163035823,
      "closed_at": "2016-06-30T16:55:56Z",
      "created_at": "2016-06-29T21:54:25Z",
      "title": "streaming interrupted before complete with ActionController::Live in Rails 5 for production environment",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25581/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25581/comments",
      "html_url": "https://github.com/rails/rails/issues/25581"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "[Rails::Application::Configuration::Custom](https://github.com/rails/rails/blob/master/railties/lib/rails/application/configuration.rb#L195) (the backing class of `Rails.configuration.x`)\nhas a `method-missing` implementation that responds to **all** messages,\nbut it does not have a matching `respond_to_missing?` implementation.\n### Current behavior\n\n```\n> cc=Rails::Application::Configuration::Custom.new\n => #<Rails::Application::Configuration::Custom:0x007fb9e71e7960 @configurations={}> \n> cc.respond_to?(:foobar)\n => false \n> cc.foobar\n => {}\n> cc.method(:foobar)\nNameError: undefined method `foobar' for class `Rails::Application::Configuration::Custom'\n```\n### Expected behavior\n\n`respond_to?` should be true for all messages, `method` should work properly\n\n```\n> cc=Rails::Application::Configuration::Custom.new\n => #<Rails::Application::Configuration::Custom:0x007fb9e43a84c8 @configurations={}> \n> cc.respond_to?(:foobar)\n => true \n> cc.foobar\n => {}\n> cc.method(:foobar)\n => #<Method: Rails::Application::Configuration::Custom#foobar> \n```\n### Proposed Solution\n\nadd the following definition to `Rails::Application::Configuration::Custom`\n\n```\ndef respond_to_missing?(symbol, *)\n  true\nend\n```\n### System configuration\n\n**Rails version**: 3.x, 4.x, and 5.x\n**Ruby version**: any\n",
      "number": 25542,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/fledman/subscriptions",
         "received_events_url": "https://api.github.com/users/fledman/received_events",
         "url": "https://api.github.com/users/fledman",
         "avatar_url": "https://avatars2.githubusercontent.com/u/996501?v=4",
         "events_url": "https://api.github.com/users/fledman/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fledman/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fledman/following{/other_user}",
         "repos_url": "https://api.github.com/users/fledman/repos",
         "site_admin": false,
         "id": 996501,
         "organizations_url": "https://api.github.com/users/fledman/orgs",
         "login": "fledman",
         "gists_url": "https://api.github.com/users/fledman/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fledman/followers",
         "html_url": "https://github.com/fledman"
      },
      "state": "closed",
      "closed_by": "25704",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25542",
      "updated_at": "2016-07-05T18:12:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25542/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 162498992,
      "closed_at": "2016-07-05T18:12:54Z",
      "created_at": "2016-06-27T16:56:10Z",
      "title": "respond_to_missing? is not implemented for Rails::Application::Configuration::Custom",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25542/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25542/comments",
      "html_url": "https://github.com/rails/rails/issues/25542"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nSupposing we use MySQL and  we have a model named \"User\" like this:\n\n``` ruby\nclass User < ActiveRecord::Base\nend\n```\n\nThe table \"users\" have 100 million records in all.\n\nWhen I use this query \"User.find_in_batches\", it generates a SQL:\n\"User Load (0.5ms)  SELECT `users`.\\* FROM `users`\" .\n\nAnd this will take a very very long time and occupy much memory.\n\nHowever, it do work well with a \"each\" and a block followed:\n\n``` ruby\nUser.find_in_batches.each do |users|\n    p users\nend\n```\n\nThe same problem with method \"find_each\".\n\nSo is this a bug?\n### Expected behavior\n\nI expect this query \"User.find_in_batches\" to generate some SQL like this:\n\"User Load (0.4ms)  SELECT  `users`.\\* FROM `users`  ORDER BY `users`.`id` ASC LIMIT 1000\"\n### Actual behavior\n\nActually it generates a SQL and take a very very long time:\n\"User Load (0.5ms)  SELECT `users`.\\* FROM `users`\" .\n### System configuration\n\n**Rails version**:\nBoth Rails 4.2.6 and Rails v5.0.0.rc2.\n**Ruby version**:\n2.3.0\n### Script\n\n``` ruby\nbegin require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :users, force: true do |t|\n  end\nend\n\nclass User < ActiveRecord::Base\nend\n\nclass BugTest < Minitest::Test\n   10.times { User.create }\n\n  # When I try 'User.find_in_batches' in rails console, it generates a SQL like this, which is not expected:\n  # D, [2016-06-28T10:15:20.042833 #65205] DEBUG -- :   User Load (0.4ms)  SELECT `users`.* FROM `users`\n  def test_find_in_batches\n    User.find_in_batches.inspect\n  end\n\n  # It generates a SQL like this also, which is not expected:\n  # D, [2016-06-28T10:15:20.042833 #65205] DEBUG -- :   User Load (0.4ms)  SELECT `users`.* FROM `users`\n  def test_find_each\n    User.find_each.inspect\n  end\nend\n\n```\n### Other Information and what I have tried\n\nI try to find the solution to this problem.And these are what I have done:\n\n1, I read the source code(Rails 4.2.6) of this method \"find_in_batches\":\n\n``` ruby\nmodule ActiveRecord\n  module Batches\n    def find_in_batches(options = {})\n      options.assert_valid_keys(:start, :batch_size)\n\n      relation = self\n      start = options[:start]\n      batch_size = options[:batch_size] || 1000\n\n      unless block_given?\n        return to_enum(:find_in_batches, options) do\n          total = start ? where(table[primary_key].gteq(start)).size : size\n          (total - 1).div(batch_size) + 1\n        end\n      end\n\n      if logger && (arel.orders.present? || arel.taken.present?)\n        logger.warn(\"Scoped order and limit are ignored, it's forced to be batch order and batch size\")\n      end\n\n      relation = relation.reorder(batch_order).limit(batch_size)\n      records = start ? relation.where(table[primary_key].gteq(start)).to_a : relation.to_a\n\n      while records.any?\n        records_size = records.size\n        primary_key_offset = records.last.id\n        raise \"Primary key not included in the custom select clause\" unless primary_key_offset\n\n        yield records\n\n        break if records_size < batch_size\n\n        records = relation.where(table[primary_key].gt(primary_key_offset)).to_a\n      end\n    end\n\n....\n  end\nend\n```\n\nAnd I found the problem is here:\n\n``` ruby\n unless block_given?\n        return to_enum(:find_in_batches, options) do\n          total = start ? where(table[primary_key].gteq(start)).size : size\n          (total - 1).div(batch_size) + 1\n        end\n   end\n```\n\n2, Then I found that this \"to_enum \" method is from ruby \"Object#to_enum\", am I right?\nBut I cannot figure out what is the essence of this method.\n\n3, I work with \"pry\", and I found that the problem really occurs here:\n\n``` ruby\n return to_enum(:find_in_batches, options) do\n          total = start ? where(table[primary_key].gteq(start)).size : size\n          (total - 1).div(batch_size) + 1\n        end\n```\n\nAny help will be appreciated. Thanks!\n",
      "number": 25537,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/liukgg/subscriptions",
         "received_events_url": "https://api.github.com/users/liukgg/received_events",
         "url": "https://api.github.com/users/liukgg",
         "avatar_url": "https://avatars1.githubusercontent.com/u/8112340?v=4",
         "events_url": "https://api.github.com/users/liukgg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/liukgg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/liukgg/following{/other_user}",
         "repos_url": "https://api.github.com/users/liukgg/repos",
         "site_admin": false,
         "id": 8112340,
         "organizations_url": "https://api.github.com/users/liukgg/orgs",
         "login": "liukgg",
         "gists_url": "https://api.github.com/users/liukgg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/liukgg/followers",
         "html_url": "https://github.com/liukgg"
      },
      "state": "closed",
      "closed_by": "28592",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25537",
      "updated_at": "2017-03-29T16:59:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25537/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 162472976,
      "closed_at": "2017-03-29T16:59:48Z",
      "created_at": "2016-06-27T14:58:39Z",
      "title": "A bug? Query the whole table when using find_in_batches and find_each",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25537/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25537/comments",
      "html_url": "https://github.com/rails/rails/issues/25537"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n1. Generate new mountable plugin with `rails plugin new cool_plugin --mountable`\n2. Go to `test/dummy` and generate few scaffolds\n3. Return to plugin root and run `bin/rails t`\n### Expected behavior\n\nTests should pass\n### Actual behavior\n\nTests don't pass because in test helper we have\n\n``` ruby\nif ActiveSupport::TestCase.respond_to?(:fixture_path=)\n  ActiveSupport::TestCase.fixture_path = File.expand_path(\"../fixtures\", __FILE__)\n  ...\nend\n```\n### Potential solution\n\nChange\n\n``` ruby\nActiveSupport::TestCase.fixture_path = File.expand_path(\"../fixtures\", __FILE__)\n```\n\nto\n\n``` ruby\nActiveSupport::TestCase.fixture_path = File.expand_path(\"../dummy/test/fixtures\", __FILE__)\n```\n\nin `railties/lib/rails/generators/rails/plugin/templates/test/test_helper.rb`\n### System configuration\n\n**Rails version**: 5.0.0.rc2\n\n**Ruby version**: 2.3.0\n",
      "number": 25493,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yuriihabrusiev/subscriptions",
         "received_events_url": "https://api.github.com/users/yuriihabrusiev/received_events",
         "url": "https://api.github.com/users/yuriihabrusiev",
         "avatar_url": "https://avatars3.githubusercontent.com/u/901000?v=4",
         "events_url": "https://api.github.com/users/yuriihabrusiev/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yuriihabrusiev/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yuriihabrusiev/following{/other_user}",
         "repos_url": "https://api.github.com/users/yuriihabrusiev/repos",
         "site_admin": false,
         "id": 901000,
         "organizations_url": "https://api.github.com/users/yuriihabrusiev/orgs",
         "login": "yuriihabrusiev",
         "gists_url": "https://api.github.com/users/yuriihabrusiev/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yuriihabrusiev/followers",
         "html_url": "https://github.com/yuriihabrusiev"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25493",
      "updated_at": "2017-01-08T13:49:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25493/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 161991349,
      "closed_at": "2017-01-08T13:49:10Z",
      "created_at": "2016-06-23T18:29:28Z",
      "title": "In mountable plugin fixtures from test/dummy/test/fixtures don't load",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25493/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25493/comments",
      "html_url": "https://github.com/rails/rails/issues/25493"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- In routes.rb add:\n\n```\nscope to: 'some_controller#some_action' do\n    get 'some_path'\n    put 'some_other_path'\nend\n```\n- Start rails server\n### Expected behavior\n\nBoth `some_path` and `some_other_path` should have been routed to `some_controller#some_action`\n### Actual behavior\n\nGot following error:\n\n```\n/home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:328:in `check_part': Missing :controller key on routes definition, please check your routes. (ArgumentError)\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:308:in `check_controller_and_action'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:251:in `normalize_options!'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:115:in `initialize'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:68:in `new'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:68:in `build'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:1690:in `add_route'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:1662:in `decomposed_match'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:1626:in `block in match'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:1609:in `each'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:1609:in `match'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:722:in `map_method'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:680:in `get'\n  from /home/user/rubygems.org/config/routes.rb:108:in `block (2 levels) in <top (required)>'\n  from /home/user/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0.rc2/lib/action_dispatch/routing/mapper.rb:859:in `scope'\n  from /home/user/rubygems.org/config/routes.rb:107:in `block in <top (required)>'\n  ...\n```\n### System configuration\n\n**Rails version**:\nrails-5.0.0.rc2\n**Ruby version**:\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n\nThis is happening because of this commit: 97d7dc48d\n\nPreviously, `options` was first [merged with `scope[:options]`](https://github.com/rails/rails/commit/97d7dc48d68e4c20c17e315c8f4d3f045ed97f5a#diff-46876897330259072a679792c5f45f99R64) and then `@to` was set with:\n\n```\n@to  = options.delete :to\n```\n\nbut now `to` is [set in `process_path`](https://github.com/rails/rails/commit/97d7dc48d68e4c20c17e315c8f4d3f045ed97f5a#diff-46876897330259072a679792c5f45f99R1561) method (which happens before  `scope[:options]` is merged) and passed as params. Thus `Mapping` does not know about `to` option passed with scope.\n\n`via`, `format` and `anchor` would have the same fate but `via` and `format` are saved by `options.delete(:key) { @scope[:key] }` and `anchor` uses `options.delete(:anchor) { true }`. Shouldn't all of them have the same behavior?\n",
      "number": 25488,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sonalkr132/subscriptions",
         "received_events_url": "https://api.github.com/users/sonalkr132/received_events",
         "url": "https://api.github.com/users/sonalkr132",
         "avatar_url": "https://avatars0.githubusercontent.com/u/7680662?v=4",
         "events_url": "https://api.github.com/users/sonalkr132/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sonalkr132/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sonalkr132/following{/other_user}",
         "repos_url": "https://api.github.com/users/sonalkr132/repos",
         "site_admin": false,
         "id": 7680662,
         "organizations_url": "https://api.github.com/users/sonalkr132/orgs",
         "login": "sonalkr132",
         "gists_url": "https://api.github.com/users/sonalkr132/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sonalkr132/followers",
         "html_url": "https://github.com/sonalkr132"
      },
      "state": "closed",
      "closed_by": "25544",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25488",
      "updated_at": "2016-06-28T19:22:25Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25488/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 161938960,
      "closed_at": "2016-06-28T19:22:25Z",
      "created_at": "2016-06-23T14:37:13Z",
      "title": "scope to: 'controller#action' does not work",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25488/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25488/comments",
      "html_url": "https://github.com/rails/rails/issues/25488"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nWhen we use offset in query cache_key is not calculated correctly\nHere is gist\nhttps://gist.github.com/madmax/e796a740386d1b25516449b5d19b4fd8\n\nwithout offset: posts/query-322bc402789ebcd22fbdb7b4ea9dec2f-10-20160621080044729910\nwith offset: posts/query-88260ab1dd3cd2484198b0102cbbc25f-0\n### Expected behavior\n\ncache_key should include size and timestamp even if we use offset in other case cache will not expire.\n### Actual behavior\n\nCurrenlty because we are doing \nSELECT  COUNT(*) AS \"size\", MAX(\"posts\".\"updated_at\") AS timestamp FROM \"posts\" LIMIT ? OFFSET ?  [[\"LIMIT\", 5], [\"OFFSET\", 5]]\n\nThere is no record returned and cache key don't include size + timestamp information. \n### System configuration\n\n**Rails version**: master (5.0 also affected)\n\n**Ruby version**: 2.3.0\n",
      "number": 25454,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/madmax/subscriptions",
         "received_events_url": "https://api.github.com/users/madmax/received_events",
         "url": "https://api.github.com/users/madmax",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4486?v=4",
         "events_url": "https://api.github.com/users/madmax/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/madmax/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/madmax/following{/other_user}",
         "repos_url": "https://api.github.com/users/madmax/repos",
         "site_admin": false,
         "id": 4486,
         "organizations_url": "https://api.github.com/users/madmax/orgs",
         "login": "madmax",
         "gists_url": "https://api.github.com/users/madmax/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/madmax/followers",
         "html_url": "https://github.com/madmax"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25454",
      "updated_at": "2017-04-20T21:48:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25454/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 161372872,
      "closed_at": "2017-04-20T21:48:57Z",
      "created_at": "2016-06-21T08:06:50Z",
      "title": "cache_key not include timestamp and size when using offset",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25454/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25454/comments",
      "html_url": "https://github.com/rails/rails/issues/25454"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- Given you have a repo: https://github.com/jasnow/tasks5_edge\n- And you run \"rake\" (using Ruby 2.3.1), it runs without error\n- But when you upgrade the repo to use Ruby 2.4.0-preview1\n- And you run \"rake\", you get this error message 3 times:\n\n```\nArgumentError:\n  key must be 32 bytes\n```\n- The total stacktrace is here: https://gist.github.com/jasnow/4e0d394314eafd105a039c73a395c37f\n### Expected behavior\n\nExpect the above test to run without the error message like it does with Ruby 2.3.1.\n### Actual behavior\n\nGet error:\n\n```\nArgumentError:\n  key must be 32 bytes\n```\n\nThe total stacktrace is here: https://gist.github.com/jasnow/4e0d394314eafd105a039c73a395c37f\n### System configuration\n\n**Rails version**: Rails 5.1.0.alpha (revision: 0c998a14c45430afe85188f8ad13a696b077ffd9)\n\n**Ruby version**: ruby-2.4.0-preview1\n",
      "number": 25448,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jasnow/subscriptions",
         "received_events_url": "https://api.github.com/users/jasnow/received_events",
         "url": "https://api.github.com/users/jasnow",
         "avatar_url": "https://avatars1.githubusercontent.com/u/43523?v=4",
         "events_url": "https://api.github.com/users/jasnow/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jasnow/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jasnow/following{/other_user}",
         "repos_url": "https://api.github.com/users/jasnow/repos",
         "site_admin": false,
         "id": 43523,
         "organizations_url": "https://api.github.com/users/jasnow/orgs",
         "login": "jasnow",
         "gists_url": "https://api.github.com/users/jasnow/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jasnow/followers",
         "html_url": "https://github.com/jasnow"
      },
      "state": "closed",
      "closed_by": "45",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25448",
      "updated_at": "2017-11-21T21:15:17Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25448/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 22,
      "id": 161198663,
      "closed_at": "2016-09-14T08:52:39Z",
      "created_at": "2016-06-20T13:46:17Z",
      "title": "Getting \"ArgumentError: key must be 32 bytes\" after upgrading to Ruby 2.4.0-preview1 with edge Rails",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25448/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25448/comments",
      "html_url": "https://github.com/rails/rails/issues/25448"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nHave a field in a database that has enumerate with type integer on a Ticket object, example:\n\n`t.integer   \"priority\"``\n\non view: \n\n```\n.field\n= f.select :priority, Ticket.priorities.map { |key, value| [key, value] }\n```\n\non Model\n`\nenum priority: { High: 0, Middle: 1, Low:2}`\n### Expected behavior\n\nIt should insert the value as an integer on model\nIt works in previous versions of rails\n### Actual behavior\n\nIt gets rejected when new/inserted saying\nArgumentError in TicketsController\n'0' is not a valid status\nor\n'1' is not a valid status\nor\n'2' is not a valid status\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n\n**Ruby version**: 2.3.1p112\n\nThank you.\n",
      "number": 25423,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/joaoamaral/subscriptions",
         "received_events_url": "https://api.github.com/users/joaoamaral/received_events",
         "url": "https://api.github.com/users/joaoamaral",
         "avatar_url": "https://avatars2.githubusercontent.com/u/147158?v=4",
         "events_url": "https://api.github.com/users/joaoamaral/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/joaoamaral/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/joaoamaral/following{/other_user}",
         "repos_url": "https://api.github.com/users/joaoamaral/repos",
         "site_admin": false,
         "id": 147158,
         "organizations_url": "https://api.github.com/users/joaoamaral/orgs",
         "login": "joaoamaral",
         "gists_url": "https://api.github.com/users/joaoamaral/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/joaoamaral/followers",
         "html_url": "https://github.com/joaoamaral"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25423",
      "updated_at": "2017-01-09T21:27:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25423/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 17,
      "id": 160813517,
      "closed_at": "2017-01-09T20:08:59Z",
      "created_at": "2016-06-17T05:15:47Z",
      "title": "enum integer isnt working properly",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25423/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25423/comments",
      "html_url": "https://github.com/rails/rails/issues/25423"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nMake a model with length validations. For instance: `validates :name, length: { in: 2..25 }`\nTest against this model either in a test or console by inserting a too long name that is over 25 characters\nCall `.errors.added?(:name, :too_long)` method on the validated object\n### Expected behavior\n\nThe method should return `true`\n### Actual behavior\n\nIt returns `false`\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n\n**Ruby version**: 2.3.0\n\nThis happens also for too_short and maybe for some others too.\n\nIn the screenshot you can see that the data is actually there but the `.added?` method is unable to see it. Also worth noting that the other key called `:invalid`is accessible.\n![screenshot from 2016-06-16 00-57-38](https://cloud.githubusercontent.com/assets/5602603/16098757/5d2a5884-335d-11e6-9aa3-b8ee54ac2b06.png)\n",
      "number": 25410,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Veske/subscriptions",
         "received_events_url": "https://api.github.com/users/Veske/received_events",
         "url": "https://api.github.com/users/Veske",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5602603?v=4",
         "events_url": "https://api.github.com/users/Veske/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Veske/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Veske/following{/other_user}",
         "repos_url": "https://api.github.com/users/Veske/repos",
         "site_admin": false,
         "id": 5602603,
         "organizations_url": "https://api.github.com/users/Veske/orgs",
         "login": "Veske",
         "gists_url": "https://api.github.com/users/Veske/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Veske/followers",
         "html_url": "https://github.com/Veske"
      },
      "state": "closed",
      "closed_by": "25470",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25410",
      "updated_at": "2016-06-21T20:32:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25410/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 8,
      "id": 160533821,
      "closed_at": "2016-06-21T19:31:34Z",
      "created_at": "2016-06-15T21:59:00Z",
      "title": "Cannot find certain keys in errors - Rails 5.0.0.rc1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25410/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25410/comments",
      "html_url": "https://github.com/rails/rails/issues/25410"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nCreate a new rails project with an actioncable channel.\n\n``` bash\nrails new example\nrails g channel example\n```\n\nSetup channel coffeescript as follows:\n\n``` coffeescript\nApp.example = App.cable.subscriptions.create \"ExampleChannel\",\n  connected: ->\n    console.log('connected');\n\n  disconnected: ->\n    console.log('disconnected');\n\n  received: (data) ->\n    console.log('received');\n```\n\nSet up channel object as follows:\n\n``` ruby\nclass ExampleChannel < ApplicationCable::Channel\n  def subscribed\n    stream_from 'examples'\n  end\n\n  def unsubscribed\n    # Any cleanup needed when channel is unsubscribed\n  end\nend\n```\n\nCreate an example controller:\n\n``` bash\nrails g controller example index\n```\n\nStarting the server with `rails s` and navigating to `http://localhost:3000/example` results in `connected` being printed in the javascript console.\n\nStarting the server with `rails s -p 5000` and navigating to `http://localhost:5000/example` results in the following being printed to the console:\n\n`\nWebSocket connection to 'ws://localhost:5000/cable' failed: Error during WebSocket handshake: Unexpected response code: 404\n`\n### Expected behavior\n\nAs with `rails s` I would expect `rails s -p 5000` to result in `connected` to be displayed in the javascript console, as nothing else changes in the app in between.\n### Actual behavior\n\n`WebSocket connection to 'ws://localhost:5000/cable' failed: Error during WebSocket handshake: Unexpected response code: 404` being printed in the javascript console.\n\n`Request origin not allowed: http://localhost:5000\nFailed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)` printed in the server log.\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n\n**Ruby version**: 2.3.0\n#### Resolving The Problem\n\nBy setting the set of allowed request origins, as follows, from environmental variables at initialization in, say, `config/initializers/action_cable.rb` and starting the server with `PORT=5000 rails s`, I can eliminate this problem, but would expect that changing the server port would not result in a change in behaviour.\n\n``` ruby\nRails.application.configure do\n  host = ENV.fetch('HOST', 'localhost')\n  port = ENV.fetch('PORT', '3000')\n\n  config.action_cable.allowed_request_origins = [\"http://#{host}:#{port}\", \"https://#{host}:#{port}\"]\nend\n```\n",
      "number": 25406,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/michaeldever/subscriptions",
         "received_events_url": "https://api.github.com/users/michaeldever/received_events",
         "url": "https://api.github.com/users/michaeldever",
         "avatar_url": "https://avatars3.githubusercontent.com/u/120821?v=4",
         "events_url": "https://api.github.com/users/michaeldever/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/michaeldever/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/michaeldever/following{/other_user}",
         "repos_url": "https://api.github.com/users/michaeldever/repos",
         "site_admin": false,
         "id": 120821,
         "organizations_url": "https://api.github.com/users/michaeldever/orgs",
         "login": "michaeldever",
         "gists_url": "https://api.github.com/users/michaeldever/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/michaeldever/followers",
         "html_url": "https://github.com/michaeldever"
      },
      "state": "closed",
      "closed_by": "25420",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25406",
      "updated_at": "2016-06-20T15:03:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25406/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 160519168,
      "closed_at": "2016-06-20T15:03:11Z",
      "created_at": "2016-06-15T20:43:18Z",
      "title": "Actioncable Allowed Request Origins Ignores -p flag in 5.0.0.rc1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25406/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25406/comments",
      "html_url": "https://github.com/rails/rails/issues/25406"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "On http://edgeguides.rubyonrails.org/active_record_postgresql.html#database-views is this example:\n\n``` ruby\n# db/migrate/20131220144913_create_articles_view.rb\nexecute <<-SQL\nCREATE VIEW articles AS\n  SELECT \"INT_ID\" AS id,\n         \"STR_TITLE\" AS title,\n         \"STR_STAT\" AS status,\n         \"DT_PUBL_AT\" AS published_at,\n         \"BL_ARCH\" AS archived\n  FROM \"TBL_ART\"\n  WHERE \"BL_ARCH\" = 'f'\n  SQL\n\n# app/models/article.rb\nclass Article < ApplicationRecord\n  self.primary_key = \"id\"\n  def archive!\n    update_attribute :archived, true\n  end\nend\n\n# Usage\nfirst = Article.create! title: \"Winter is coming\",\n                        status: \"published\",\n                        published_at: 1.year.ago\nsecond = Article.create! title: \"Brace yourself\",\n                         status: \"draft\",\n                         published_at: 1.month.ago\n\nArticle.count # => 1\nfirst.archive!\nArticle.count # => 2\n```\n\nI'm pretty sure the `count`s at the end are the wrong way round.\n",
      "number": 25403,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pjscopeland/subscriptions",
         "received_events_url": "https://api.github.com/users/pjscopeland/received_events",
         "url": "https://api.github.com/users/pjscopeland",
         "avatar_url": "https://avatars3.githubusercontent.com/u/771320?v=4",
         "events_url": "https://api.github.com/users/pjscopeland/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pjscopeland/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pjscopeland/following{/other_user}",
         "repos_url": "https://api.github.com/users/pjscopeland/repos",
         "site_admin": false,
         "id": 771320,
         "organizations_url": "https://api.github.com/users/pjscopeland/orgs",
         "login": "pjscopeland",
         "gists_url": "https://api.github.com/users/pjscopeland/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pjscopeland/followers",
         "html_url": "https://github.com/pjscopeland"
      },
      "state": "closed",
      "closed_by": "25407",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25403",
      "updated_at": "2016-06-15T21:05:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25403/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 2,
      "id": 160288601,
      "closed_at": "2016-06-15T21:01:29Z",
      "created_at": "2016-06-14T21:29:51Z",
      "title": "Slight error in guide",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25403/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25403/comments",
      "html_url": "https://github.com/rails/rails/issues/25403"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI generated a new rails 5.0.0.rc1 app along with a home controller and a sessions controller:\n\n``` ruby\n    # in routes.rb\n    get '/login', to: 'sessions#new', as: 'login'\n    root to: 'home#show'\n\n    # sessions controller\n    class SessionsController < ApplicationController \n      def new\n        if session[:user_id]\n          redirect_to root_url, notice: 'Already logged in'\n        end\n      end \n    end\n```\n\nNow the first thing I notice is that my auto generated test file inherits from ActionDispatch::IntegrationTest:\n\n``` ruby\n    # test/controllers/sessions_controller_test.rb\n    class SessionsControllerTest < ActionDispatch::IntegrationTest\n    end    \n```\n\nSo lets try to write a test where we set the `user_id` session key so we can ensure that our logged in user is redirected to the root path when they visit the login page. According to the [Edge Guide](http://edgeguides.rubyonrails.org/testing.html#functional-tests-for-your-controllers) we're supposed to use named arguments with HTTP requests in tests now:\n\n``` ruby\n    # test/controllers/sessions_controller_test.rb\n    class SessionsControllerTest < ActionDispatch::IntegrationTest\n      test 'should redirect to root path if a logged in user visits the login page' do\n        get login_url, session: { user_id: 42 }\n        assert_redirected_to root_url, 'Did not redirect'\n      end\n    end    \n```\n\nThis test fails because the redirect is **not followed** and we also see the following deprecation message:\n\n> DEPRECATION WARNING: ActionDispatch::IntegrationTest HTTP request methods will accept only\n> the following keyword arguments in future Rails versions:\n> params, headers, env, xhr\n> \n> Examples:\n> \n> get '/profile',\n>   params: { id: 1 },\n>   headers: { 'X-Extra-Header' => '123' },\n>   env: { 'action_dispatch.custom' => 'custom' },\n>   xhr: true\n\nSo rails is not letting us set the session in the way we are advised to in the Edge Guide.\n\nIt looks like the code that enables the use of a kw_arg named 'session' lives in [ActionController::TestCase](https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/test_case.rb#L462) and in order to fix this issue I had to do the following:\n\n1 - Change SessionsControllerTest to inherit from ActionControllerTestCase:\n\n``` ruby\n    class SessionsControllerTest < ActionController::TestCase\n```\n\n2 - Use symbolized action names instead of URL's with http verbs\n\n``` ruby\n    # changed from \n    get '/login', session: { user_id: 42 }\n\n   # to\n   get :new, session: { user_id: 42 }\n```\n\nIt's worth pointing out that we can't even set session variables manually when inheriting from ActionDispatch::IntegrationTest i.e:\n\n``` ruby\n    test 'some test' do\n      session[:user_id] = 42\n      assert something\n    end\n```\n\n> NoMethodError: undefined method `session' for nil:NilClass\n### Expected behavior\n\nI was expecting to be able to pass keyword arguments to HTTP verbs in my controller tests like so:\n\n```\nget '/some-url', session: { cart_id: 42 }\n```\n### Actual behavior\n\nKeyword arguments appear to be ignored unless you inherit from ActionController::TestCase\n### System configuration\n\n**Rails version**:\n5.0.0.rc1\n\n**Ruby version**:\nmri 2.3.0p0\n",
      "number": 25394,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
            "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
            "url": "https://api.github.com/users/prathamesh-sonpatki",
            "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
            "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
            "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
            "site_admin": false,
            "id": 621238,
            "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
            "login": "prathamesh-sonpatki",
            "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
            "html_url": "https://github.com/prathamesh-sonpatki"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/murdoch/subscriptions",
         "received_events_url": "https://api.github.com/users/murdoch/received_events",
         "url": "https://api.github.com/users/murdoch",
         "avatar_url": "https://avatars2.githubusercontent.com/u/56636?v=4",
         "events_url": "https://api.github.com/users/murdoch/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/murdoch/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/murdoch/following{/other_user}",
         "repos_url": "https://api.github.com/users/murdoch/repos",
         "site_admin": false,
         "id": 56636,
         "organizations_url": "https://api.github.com/users/murdoch/orgs",
         "login": "murdoch",
         "gists_url": "https://api.github.com/users/murdoch/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/murdoch/followers",
         "html_url": "https://github.com/murdoch"
      },
      "state": "closed",
      "closed_by": "25450",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25394",
      "updated_at": "2016-06-21T07:11:47Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25394/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 7,
      "id": 160043071,
      "closed_at": "2016-06-21T07:11:47Z",
      "created_at": "2016-06-13T20:56:48Z",
      "title": "Can't set session in controller test http requests",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25394/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25394/comments",
      "html_url": "https://github.com/rails/rails/issues/25394"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Use an invalid limit when creating or updating an integer column with postgres:\n\n```\nadd_column :foo, :bar, :integer, limit: 16\n\nStandardError: An error has occurred, this and all later migrations canceled:\n\nNo integer type has byte size 16. Use a numeric with precision 0 instead.\n```\n\nThis should be: 'Use a numeric with _scale_ 0 instead'\n",
      "number": 25391,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/timleppard/subscriptions",
         "received_events_url": "https://api.github.com/users/timleppard/received_events",
         "url": "https://api.github.com/users/timleppard",
         "avatar_url": "https://avatars0.githubusercontent.com/u/11603901?v=4",
         "events_url": "https://api.github.com/users/timleppard/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/timleppard/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/timleppard/following{/other_user}",
         "repos_url": "https://api.github.com/users/timleppard/repos",
         "site_admin": false,
         "id": 11603901,
         "organizations_url": "https://api.github.com/users/timleppard/orgs",
         "login": "timleppard",
         "gists_url": "https://api.github.com/users/timleppard/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/timleppard/followers",
         "html_url": "https://github.com/timleppard"
      },
      "state": "closed",
      "closed_by": "27a932",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25391",
      "updated_at": "2016-08-17T12:43:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25391/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 0,
      "id": 159989575,
      "closed_at": "2016-06-13T17:03:33Z",
      "created_at": "2016-06-13T16:18:40Z",
      "title": "Incorrect message when mapping integer with invalid limit to PostgreSQL type",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25391/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25391/comments",
      "html_url": "https://github.com/rails/rails/issues/25391"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It has been reported to https://github.com/rsim/oracle-enhanced/issues/856 first. \nBy doing investigation and found it has been triggered by https://github.com/rails/rails/commit/2df891dc then opened a issue here.\n### Steps to reproduce\n\n``` ruby\n$ cd activerecord\n$ ARCONN=oracle bundle exec ruby -W -w -I\"lib:test\" test/cases/associations/has_and_belongs_to_many_associations_test.rb -n test_has_and_belongs_to_many_in_a_namespaced_model_pointing_to_a_namespaced_model\n```\n### Expected behavior\n\nThis test should finish without any errors. \nsince it have been running fine with Rails 4.2.6 and Oracle enhanced adapter 1.6.7.\n### Actual behavior\n\n``` ruby\nActiveRecord::StatementInvalid: OCIError: ORA-01400: cannot insert NULL into (\"ARUNIT\".\"ARTICLES_MAGAZINES\".\"ID\"): INSERT INTO \"ARTICLES_MAGAZINES\" (\"ARTICLE_ID\", \"MAGAZINE_ID\") VALUES (:a1, :a2)\n```\n- background\n\nOracle enhanced adapter does not support `auto_increment` `AUTOINCREMENT` features yet, \nthen it needs to insert primary key column \"ID\" explicitly.\n\nThis test works successfully with Rails 4.2.6 and Oracle enhanced adapter 1.6.7. \nIt explicitly inserts \"ID\" column.\n\n``` sql\nINSERT INTO \"ARTICLES_MAGAZINES\" (\"MAGAZINE_ID\", \"ARTICLE_ID\", \"ID\") VALUES (:a1, :a2, :a3)  [[\"magazine_id\", 10000], [\"article_id\", 10000], [\"id\", 10000]]\n```\n### Other findings\n\nLooks like https://github.com/rails/rails/commit/2df891dc triggers this behavior.\n- ActiveRecord 4.2 (4-2-stable)\n\n`pk_attribute?(name)` returns primary key name \"id\" based on self.class.primary_key\n\n``` ruby\n[427, 436] in /home/yahonda/git/rails/activerecord/lib/active_record/attribute_methods.rb\n   427:     def readonly_attribute?(name)\n   428:       self.class.readonly_attributes.include?(name)\n   429:     end\n   430:\n   431:     def pk_attribute?(name)\n=> 432:       name == self.class.primary_key\n   433:     end\n   434:\n   435:     def typecasted_attribute_value(name)\n   436:       _read_attribute(name)\n(byebug) self.class.primary_key\n\"id\"\n(byebug) self.class\nPublisher::Magazine::HABTM_Articles(id: integer, article_id: integer, magazine_id: integer)\n(byebug) self.class.method(:primary_key).source_location\n[\"/home/yahonda/git/rails/activerecord/lib/active_record/attribute_methods/primary_key.rb\", 72]\n(byebug)\n```\n\n``` ruby\n/home/yahonda/git/rails/activerecord/lib/active_record/attribute_methods/primary_key.rb\n62fd1d37 (Joshua Peek            2009-07-30 17:49:14 -0500  72)         def primary_key\n4e380828 (Julius de Bruijn       2011-11-30 17:56:16 +0100  73)           @primary_key = reset_primary_key unless defined? @primary_key\n4e380828 (Julius de Bruijn       2011-11-30 17:56:16 +0100  74)           @primary_key\n62fd1d37 (Joshua Peek            2009-07-30 17:49:14 -0500  75)         end\n```\n- ActiveRecord 5.0 (5-0-stable)\n\n`pk_attribute?(name)` returns always false since commit 2df891dc\n\n``` ruby\n[452, 461] in /home/yahonda/git/rails/activerecord/lib/active_record/attribute_methods.rb\n   452:     def readonly_attribute?(name)\n   453:       self.class.readonly_attributes.include?(name)\n   454:     end\n   455:\n   456:     def pk_attribute?(name)\n=> 457:       name == self.class.primary_key\n   458:     end\n   459:\n   460:     def typecasted_attribute_value(name)\n   461:       _read_attribute(name)\n(byebug) self.class.primary_key\nfalse\n(byebug) self.class\nPublisher::Magazine::HABTM_Articles(id: integer, article_id: integer, magazine_id: integer)\n(byebug) self.class.method(:primary_key).source_location\n[\"/home/yahonda/git/rails/activerecord/lib/active_record/associations/builder/has_and_belongs_to_many.rb\", 79]\n(byebug)\n```\n\n/home/yahonda/git/rails/activerecord/lib/active_record/associations/builder/has_and_belongs_to_many.rb\n\n``` ruby\n=============================================================================================\n2df891dc (Aaron Patterson        2016-02-19 15:31:56 -0800  79)         def self.primary_key\n2df891dc (Aaron Patterson        2016-02-19 15:31:56 -0800  80)           false\n2df891dc (Aaron Patterson        2016-02-19 15:31:56 -0800  81)         end\n=============================================================================================\n```\n### Workarounds\n\nThere are two workarounds found, each workaround has some kind of regressions and/or incompatibilities\nwith old version of Rails.\n- Workaround 1 remove `self.primary_key`\n  https://github.com/yahonda/rails/commit/31630bc6a6218c915eb0aeed23195d43d5867c42\n\nThis workaround causes this failure for all bundled adapters.\n\n``` ruby\nfor i in sqlite3 mysql2 postgresql\ndo\nARCONN=$i bundle exec ruby -W -w -I\"lib:test\" test/cases/associations/has_and_belongs_to_many_associations_test.rb -n test_join_table_composite_primary_key_should_not_warn\ndone\n```\n\n``` ruby\n  1) Failure:\nHasAndBelongsToManyAssociationsTest#test_join_table_composite_primary_key_should_not_warn [test/cases/associations/has_and_belongs_to_many_associations_test.rb:160]:\nExpected /WARNING: Rails does not support composite primary key\\./ to not match \"WARNING: Rails does not support composite primary key.\\n\\ncountries_treaties has composite primary key. Composite primary key is ignored.\\n\".\n```\n- Workaround 2 add `id: false`\n\nhttps://github.com/yahonda/rails/commit/636443d31d43cba28b9991484d2a5c7464371526\n\nIt requires to add `id: false` for all habtm join tables, which is kind of incompatibilities with\nold version of Rails for Oracle enhanced adapter users.\n- Workaround 3  use composite primary key for habtm join table\n\nhttps://github.com/yahonda/rails/commit/4406b11008040e15ae715197b93946cd5d4c2d97\n\nIt is similar with workadound 2, which is also kind of incompatibilities with\nold version of Rails for Oracle enhanced adapter users.\n### System configuration\n\n**Rails version**:\n5.0.0.rc1\n\n**Arel version**:\n7.0.0 with fix rails/arel#422 and rails/arel#430 \n\n``` ruby\ngem 'arel', github: 'yahonda/arel', branch: 'v700_oracle12'\n```\n\n**Oracle enhanced adapter version**:\nLatest `rails5` branch\n\n**Ruby version**:\nruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-linux]\n",
      "number": 25388,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "25578",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25388",
      "updated_at": "2016-07-20T05:23:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25388/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 2,
      "id": 159979506,
      "closed_at": "2016-07-20T05:23:01Z",
      "created_at": "2016-06-13T15:34:03Z",
      "title": "has_and_belongs_to_many test gets ORA-01400 since primary key column \"ID\" not included in insert statement",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25388/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25388/comments",
      "html_url": "https://github.com/rails/rails/issues/25388"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails 5.0.0.rc1\nRuby 2.3.1 MRI + Puma\n\nI've only one channel `ApiChannel`, the client (iOS app) connects to the back-end, receives the subscription confirmation and immediately sends a command. Sometimes the client is greeted with `RuntimeError` exception:\nhttps://github.com/rails/rails/blob/a8df1bc345bf062e98bda64ef9638f65292c4b56/actioncable/lib/action_cable/connection/subscriptions.rb#L70\n\nI've added some debugging statements to the code and from time to time the `subscriptions` Hash is indeed empty (the client issues `subscribe` command before), sometimes `identifiers` method returns empty Array for non-empty `subscriptions` (but it's just `.keys` on it).\n\nI spent a lot of time debugging this and I'm out of ideas. Am I doing anything wrong here? Any help would be appreciated!\n",
      "number": 25381,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tomekw/subscriptions",
         "received_events_url": "https://api.github.com/users/tomekw/received_events",
         "url": "https://api.github.com/users/tomekw",
         "avatar_url": "https://avatars2.githubusercontent.com/u/198371?v=4",
         "events_url": "https://api.github.com/users/tomekw/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tomekw/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tomekw/following{/other_user}",
         "repos_url": "https://api.github.com/users/tomekw/repos",
         "site_admin": false,
         "id": 198371,
         "organizations_url": "https://api.github.com/users/tomekw/orgs",
         "login": "tomekw",
         "gists_url": "https://api.github.com/users/tomekw/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tomekw/followers",
         "html_url": "https://github.com/tomekw"
      },
      "state": "closed",
      "closed_by": "26547",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25381",
      "updated_at": "2016-10-01T05:51:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25381/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 17,
      "id": 159911951,
      "closed_at": "2016-10-01T05:51:58Z",
      "created_at": "2016-06-13T09:50:17Z",
      "title": "ActionCable: Unable to find subscription with identifier...",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25381/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25381/comments",
      "html_url": "https://github.com/rails/rails/issues/25381"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActiveJob jobs will inherit `ApplicationJob` in Rails 5 rather than `ActiveJob::Base` after https://github.com/rails/rails/pull/19034\n\nWe need to update http://guides.rubyonrails.org/active_job_basics.html with this change.\n\nTagging as it `good-first-patch` :heart:\n",
      "number": 25377,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/25377",
      "updated_at": "2016-06-24T14:23:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25377/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 384913768,
            "url": "https://api.github.com/repos/rails/rails/labels/good-first-patch",
            "color": "0e8a16",
            "default": false,
            "name": "good-first-patch"
         }
      ],
      "comments": 1,
      "id": 159868018,
      "closed_at": "2016-06-13T04:23:27Z",
      "created_at": "2016-06-13T03:35:31Z",
      "title": "Update Active Job guide with ApplicationJob instead of ActiveJob::Base",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25377/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25377/comments",
      "html_url": "https://github.com/rails/rails/issues/25377"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I noticed this issue when I was getting inconsistent behaviour from passing `find_or_create` a Time object as the value for a query against a date field. `create` type-casts this value before saving, but it seems `find` and `where` do not.\n\nThe problem can obviously be fixed by calling `#to_date` on the Time object beforehand, or using a Date object in the first place, but I believe the type-casting behaviour should be consistent to avoid confusion.\n### Steps to reproduce\n\n**[View Test Case](https://gist.github.com/alextaylor000/df334ecc3da577ce0aaf569a3fd0f894)**\n\n``` ruby\ndate_as_time = Time.new(2016,06,10,19,0,0,'-08:00')\nPost.create(date: date_as_time)\n# INSERT INTO \"posts\" (\"date\") VALUES (?)  [[\"date\", Wed, 10 Jun 2016]]\n```\n### Expected behavior\n\n``` ruby\nPost.where(date: date_as_time).count\n# => 1\n\nPost.find_by(date: date_as_time)\n# => <Post id: 1, date: \"2016-06-10\">\n```\n### Actual behavior\n\n``` ruby\nPost.where(date: date_as_time).count\n# => 0\n\nPost.find_by(date: date_as_time)\n# => nil\n```\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n\n**Ruby version**: 2.3.0p0\n",
      "number": 25354,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/alextaylor000/subscriptions",
         "received_events_url": "https://api.github.com/users/alextaylor000/received_events",
         "url": "https://api.github.com/users/alextaylor000",
         "avatar_url": "https://avatars0.githubusercontent.com/u/7259082?v=4",
         "events_url": "https://api.github.com/users/alextaylor000/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/alextaylor000/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/alextaylor000/following{/other_user}",
         "repos_url": "https://api.github.com/users/alextaylor000/repos",
         "site_admin": false,
         "id": 7259082,
         "organizations_url": "https://api.github.com/users/alextaylor000/orgs",
         "login": "alextaylor000",
         "gists_url": "https://api.github.com/users/alextaylor000/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/alextaylor000/followers",
         "html_url": "https://github.com/alextaylor000"
      },
      "state": "closed",
      "closed_by": "25364",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25354",
      "updated_at": "2016-06-29T02:33:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25354/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 159689872,
      "closed_at": "2016-06-29T02:33:31Z",
      "created_at": "2016-06-10T18:05:03Z",
      "title": "Time values not being typecast for `where` and `find` queries on a date field",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25354/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25354/comments",
      "html_url": "https://github.com/rails/rails/issues/25354"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hey, guys. I'm getting a very strange error in my fixtures.\n\nI generate a model called User normally.\n\n`rails generate model User`\n\nBut when I execute my tests\n\n`rake test`\n\nIt returns the error\n\n```\nErrno::ENOENT: No such file or directory @ rb_sysopen - /Users/matheus/Documents/Co\u0301digo/Bemind/apiservice/test/fixtures/sers.yml\n```\n\nBecause the rails isn't reading the first character of my fixture name.\n\nHere is terminal log.\n\n```\n# matheus at MacBook-Pro.local in ~/Documents/C\u00f3digo/Bemind/bmp1-api-service on git:master \u25cf [14:14:43]\n\u2192 rails generate model User\nRunning via Spring preloader in process 4762\n      invoke  active_record\n      create    db/migrate/20160606171450_create_users.rb\n      create    app/models/user.rb\n      invoke    test_unit\n      create      test/models/user_test.rb\n      create      test/fixtures/users.yml\n\n# matheus at MacBook-Pro.local in ~/Documents/C\u00f3digo/Bemind/bmp1-api-service on git:master \u2716\ufe0e [14:14:50]\n\u2192 rake db:drop && rake db:create && rake db:migrate\n== 20160606171450 CreateUsers: migrating ======================================\n-- create_table(:users)\n   -> 0.0928s\n== 20160606171450 CreateUsers: migrated (0.0930s) =============================\n\n\n# matheus at MacBook-Pro.local in ~/Documents/C\u00f3digo/Bemind/bmp1-api-service on git:master \u2716\ufe0e [14:16:13]\n\u2192 rake test                                        \nRunning via Spring preloader in process 4948\nRun options: --seed 45192\n\n# Running:\n\nE\n\nFinished in 0.010359s, 96.5334 runs/s, 0.0000 assertions/s.\n\n  1) Error:\nUserTest#test_should_refuse_empty_name:\nErrno::ENOENT: No such file or directory @ rb_sysopen - /Users/matheus/Documents/Co\u0301digo/Bemind/bmp1-api-service/test/fixtures/sers.yml\n\n\n1 runs, 0 assertions, 0 failures, 1 errors, 0 skips\n\n```\n\nRuby version: ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\nRails version: 4.2.6\n",
      "number": 25303,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/matheusmariano/subscriptions",
         "received_events_url": "https://api.github.com/users/matheusmariano/received_events",
         "url": "https://api.github.com/users/matheusmariano",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2306588?v=4",
         "events_url": "https://api.github.com/users/matheusmariano/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matheusmariano/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matheusmariano/following{/other_user}",
         "repos_url": "https://api.github.com/users/matheusmariano/repos",
         "site_admin": false,
         "id": 2306588,
         "organizations_url": "https://api.github.com/users/matheusmariano/orgs",
         "login": "matheusmariano",
         "gists_url": "https://api.github.com/users/matheusmariano/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matheusmariano/followers",
         "html_url": "https://github.com/matheusmariano"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25303",
      "updated_at": "2016-06-20T10:02:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25303/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 37,
      "id": 158734973,
      "closed_at": "2016-06-18T16:11:35Z",
      "created_at": "2016-06-06T17:48:02Z",
      "title": "Rails not reading the first char of fixture name.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25303/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25303/comments",
      "html_url": "https://github.com/rails/rails/issues/25303"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n1. Prepare a schema in MySQL with a foreign key that has a referential action, e.g. `on delete cascade`.\n2. Set your Active Record connection to use `sql_mode = ANSI_QUOTES`\n3. Dump the schema using `rake db:schema:dump`\n### Expected behavior\n\n`db/schema.rb` should include `on_delete: :cascade` option in `add_foreign_key`.\n### Actual behavior\n\n`on_delete` option is missing. If you work without `sql_mode = ANSI_QUOTES` it is there.\n### Diagnosis\n\nCode to reproduce: https://gist.github.com/buehmann/55e155b4b56f75fe1a755bcab82f1a02\n\nIn the following line, Active Record tries to parse referential actions out of `show create table` output, but only expects ``this`` style of quoting, not `\"that\"` one.\nhttps://github.com/rails/rails/blob/706f7e9c3e2a4807e37b1a1ef21febd6444adf6f/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L895\n\n```\nirb(main):017:0> @connection.execute(\"set session sql_mode = ''\")\n   (0.2ms)  set session sql_mode = '' /*application:Banking*/\n=> nil\nirb(main):018:0> @connection.select_one(\"SHOW CREATE TABLE a\")[\"Create Table\"]\n   (0.3ms)  SHOW CREATE TABLE a /*application:Banking*/\n=> \"CREATE TABLE `a` (\\n  `id` int(11) NOT NULL AUTO_INCREMENT,\\n  `b_id` int(11) DEFAULT NULL,\\n  PRIMARY KEY (`id`),\\n  KEY `index_a_on_b_id` (`b_id`) USING BTREE,\\n  CONSTRAINT `index_a_on_b_id` FOREIGN KEY (`b_id`) REFERENCES `b` (`id`) ON DELETE CASCADE\\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\"\nirb(main):019:0> @connection.execute(\"set session sql_mode = 'ansi_quotes'\")\n   (0.2ms)  set session sql_mode = 'ansi_quotes' /*application:Banking*/\n=> nil\nirb(main):020:0> @connection.select_one(\"SHOW CREATE TABLE a\")[\"Create Table\"]\n   (0.3ms)  SHOW CREATE TABLE a /*application:Banking*/\n=> \"CREATE TABLE \\\"a\\\" (\\n  \\\"id\\\" int(11) NOT NULL AUTO_INCREMENT,\\n  \\\"b_id\\\" int(11) DEFAULT NULL,\\n  PRIMARY KEY (\\\"id\\\"),\\n  KEY \\\"index_a_on_b_id\\\" (\\\"b_id\\\") USING BTREE,\\n  CONSTRAINT \\\"index_a_on_b_id\\\" FOREIGN KEY (\\\"b_id\\\") REFERENCES \\\"b\\\" (\\\"id\\\") ON DELETE CASCADE\\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci\"\n```\n### System configuration\n\n**Rails version**: `Using rails 5.1.0.alpha from git://github.com/rails/rails.git (at master@3fc5577)`\n\n**Ruby version**: `ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]`\n\n**MySQL version**: `mysqld  Ver 5.6.27 for osx10.10 on x86_64 (Homebrew)`\n",
      "number": 25300,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/buehmann/subscriptions",
         "received_events_url": "https://api.github.com/users/buehmann/received_events",
         "url": "https://api.github.com/users/buehmann",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3897997?v=4",
         "events_url": "https://api.github.com/users/buehmann/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/buehmann/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/buehmann/following{/other_user}",
         "repos_url": "https://api.github.com/users/buehmann/repos",
         "site_admin": false,
         "id": 3897997,
         "organizations_url": "https://api.github.com/users/buehmann/orgs",
         "login": "buehmann",
         "gists_url": "https://api.github.com/users/buehmann/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/buehmann/followers",
         "html_url": "https://github.com/buehmann"
      },
      "state": "closed",
      "closed_by": "25307",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25300",
      "updated_at": "2016-07-01T15:30:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25300/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 309390193,
            "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
            "color": "fef2c0",
            "default": false,
            "name": "MySQL"
         }
      ],
      "comments": 1,
      "id": 158692652,
      "closed_at": "2016-07-01T15:30:40Z",
      "created_at": "2016-06-06T14:33:20Z",
      "title": "Active Record does not dump foreign key's referential actions with MySQL's ANSI_QUOTES",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25300/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25300/comments",
      "html_url": "https://github.com/rails/rails/issues/25300"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\n<%= select_year Date.current, include_position: true %>\n```\n### Expected behavior\n\nOutput: \n\n``` html\n<select id=\"date_year_1i\" name=\"date[year(1i)]\">...\n```\n### Actual behavior\n\nRaises: `undefined method '+' for :year:Symbol`\n### System configuration\n\n**Rails version**: master, checked on https://github.com/rails/rails/commit/755f6bf3d3d568bc0af2c636be2f6df16c651eb1\n\n**Ruby version**: Any.\n### Solution\n\nChange [this](https://github.com/rails/rails/blob/755f6bf3d3d568bc0af2c636be2f6df16c651eb1/actionview/lib/action_view/helpers/date_helper.rb#L1063) line to\n\n``` ruby\nfield_name = \"#{field_name}(#{ActionView::Helpers::DateTimeSelector::POSITION[type]}i)\"\n```\n",
      "number": 25267,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/filipegiusti/subscriptions",
         "received_events_url": "https://api.github.com/users/filipegiusti/received_events",
         "url": "https://api.github.com/users/filipegiusti",
         "avatar_url": "https://avatars3.githubusercontent.com/u/7714?v=4",
         "events_url": "https://api.github.com/users/filipegiusti/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/filipegiusti/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/filipegiusti/following{/other_user}",
         "repos_url": "https://api.github.com/users/filipegiusti/repos",
         "site_admin": false,
         "id": 7714,
         "organizations_url": "https://api.github.com/users/filipegiusti/orgs",
         "login": "filipegiusti",
         "gists_url": "https://api.github.com/users/filipegiusti/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/filipegiusti/followers",
         "html_url": "https://github.com/filipegiusti"
      },
      "state": "closed",
      "closed_by": "25287",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25267",
      "updated_at": "2016-06-25T02:58:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25267/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 158437203,
      "closed_at": "2016-06-25T02:58:24Z",
      "created_at": "2016-06-03T19:25:28Z",
      "title": "select_year fails when using include_position: true, solution provided",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25267/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25267/comments",
      "html_url": "https://github.com/rails/rails/issues/25267"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI'm just spinning up a brand new Rails 5 project to kick the tyres and find out what's new. It comes with puma by default (which is awesome, and saves me installing it later!). Straight out of the box, it works fine. Then I follow the [Heroku guidelines for configuring it](https://devcenter.heroku.com/articles/deploying-rails-applications-with-the-puma-web-server), which essentially boils down to uncommenting the following lines in `config/puma.rb`:\n\n``` ruby\nworkers ENV.fetch(\"WEB_CONCURRENCY\") { 2 }\npreload_app!\non_worker_boot do\n  ActiveRecord::Base.establish_connection if defined?(ActiveRecord)\nend\n```\n\nNow when I boot the server, with `bundle exec puma -C config/puma.rb` I get:\n\n```\n[15663] Puma starting in cluster mode...\n[15663] * Version 3.4.0 (ruby 2.3.1-p112), codename: Owl Bowl Brawl\n[15663] * Min threads: 5, max threads: 5\n[15663] * Environment: development\n[15663] * Process workers: 2\n[15663] * Preloading application\n[15663] * Listening on tcp://0.0.0.0:3000\n[15663] ! WARNING: Detected 21 Thread(s) started in app boot:\n[15663] ! #<Thread:0x007fe40cd38040@/Users/mathie/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/listen-3.0.8/lib/listen/internals/thread_pool.rb:6 sleep> - /Users/mathie/.rbenv/versions/2.3.1/lib/ruby/ge\nms/2.3.0/gems/rb-fsevent-0.9.7/lib/rb-fsevent/fsevent.rb:42:in `select'\n[ ... repeated, presumably ~20 more times ...]\n[15663] Use Ctrl-C to stop\n[15663] - Worker 1 (pid: 15707) booted, phase: 0\n[15663] - Worker 0 (pid: 15706) booted, phase: 0\n```\n\nThe bit that bothers me is the warning about multiple threads, in case that wasn't clear.\n\nIf I were to hazard a guess, I'd say whatever's new in Rails 5 that has introduced the dependency on `listen` is responsible for this, but I don't know what that is. I also don't know if it needs its threads restarted `on_worker_boot` or whether Rails already handles that correctly, automatically. It would be ace if, between you and the Puma team, you could figure out how to elide the warning. I don't like ignoring warnings!\n\nHaving written this up, I suspect I should be submitting an issue to the Rails repo instead, but since it's now such little effort to do so, I'm going to flag it up here, too. \ud83d\ude04 \n### Expected behavior\n\nI expect a brand new Rails app, configured to run in a popular deployment scenario, to boot with zero warnings.\n### Actual behavior\n\nIn reality, with what I believe is a fairly standard deployment configuration, the Rails app boots with several warnings, as shown above, which is a suboptimal new user experience.\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n\n**Ruby version**: 2.3.1\n",
      "number": 25259,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mathie/subscriptions",
         "received_events_url": "https://api.github.com/users/mathie/received_events",
         "url": "https://api.github.com/users/mathie",
         "avatar_url": "https://avatars0.githubusercontent.com/u/438?v=4",
         "events_url": "https://api.github.com/users/mathie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mathie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mathie/following{/other_user}",
         "repos_url": "https://api.github.com/users/mathie/repos",
         "site_admin": false,
         "id": 438,
         "organizations_url": "https://api.github.com/users/mathie/orgs",
         "login": "mathie",
         "gists_url": "https://api.github.com/users/mathie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mathie/followers",
         "html_url": "https://github.com/mathie"
      },
      "state": "closed",
      "closed_by": "25302",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25259",
      "updated_at": "2016-06-20T19:33:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25259/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 9,
      "id": 158288913,
      "closed_at": "2016-06-17T14:19:57Z",
      "created_at": "2016-06-03T04:27:46Z",
      "title": "Booting puma shows \"WARNING: Detected 21 Thread(s) started in app boot\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25259/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25259/comments",
      "html_url": "https://github.com/rails/rails/issues/25259"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nWhen the ActionCable is determining valid class names for connection, it ignores namespaces.\n\nTo reproduce create a channel in a namespace, and attempt to connect to it.\n### Expected behavior\n\nGiven a `Namespace::ExampleChannel` defined in `/app/channels/namespace/example_channel.rb` I expect to be able to call `App.cable.subscriptions.create \"Namespace::ExampleChannel\"` in order to subscribe to this channel.\n### Actual behavior\n\nCode fails with `[NameError - uninitialized constant ExampleChannel]`\n\nThis happens because the `channel_classes` method attempts to get the class names of all valid channels [here](https://github.com/rails/rails/blob/c420bedda775db093e03c3f7fa20b931f5546eb3/actioncable/lib/action_cable/server/base.rb#L75). This in turn uses the `channel_class_names` method [here](https://github.com/rails/rails/blob/a26a3a075637215c9028308436ca89cba8da2ed5/actioncable/lib/action_cable/server/configuration.rb#L23), which converts the basename of all the channel files into camelized names. Finally, the original `channel_classes` method attempts to constantize the converted basename, which will not work because the it will be missing the namespace.\n\nThe `channel_class_names` function should not use basename, and instead should be more aware of the absolute channel path. \n\nFor the sake of consistency, I recommend something like this:\n\nIn `ActionCable::Engine` [here](https://github.com/rails/rails/blob/1dcf2800146f654065c697511dcbcea5c23c114a/actioncable/lib/action_cable/engine.rb#L39) add line:\n\n``` ruby\nself.channel_root_path = Rails.application.paths['app/channels'].absolute_current\n```\n\nIn `ActionCable::Configuration` [here](https://github.com/rails/rails/blob/a26a3a075637215c9028308436ca89cba8da2ed5/actioncable/lib/action_cable/server/configuration.rb#L24) change the line to:\n\n``` ruby\nPathname.new(channel_path).to_s.replace(\"#{channel_root_path}/\", '').split('.').first.camelize\n```\n",
      "number": 25224,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/TikiTDO/subscriptions",
         "received_events_url": "https://api.github.com/users/TikiTDO/received_events",
         "url": "https://api.github.com/users/TikiTDO",
         "avatar_url": "https://avatars0.githubusercontent.com/u/326184?v=4",
         "events_url": "https://api.github.com/users/TikiTDO/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/TikiTDO/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/TikiTDO/following{/other_user}",
         "repos_url": "https://api.github.com/users/TikiTDO/repos",
         "site_admin": false,
         "id": 326184,
         "organizations_url": "https://api.github.com/users/TikiTDO/orgs",
         "login": "TikiTDO",
         "gists_url": "https://api.github.com/users/TikiTDO/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/TikiTDO/followers",
         "html_url": "https://github.com/TikiTDO"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25224",
      "updated_at": "2016-06-03T19:06:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25224/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 157730052,
      "closed_at": "2016-06-03T19:06:03Z",
      "created_at": "2016-05-31T17:46:27Z",
      "title": "ActionCable ignores namespaces",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25224/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25224/comments",
      "html_url": "https://github.com/rails/rails/issues/25224"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When an exception is raised where the backtrace doesn't include user code, we default to showing the whole thing. That results in stuff like this:\n\n```\nirb(main):011:0> eit\nNameError: undefined local variable or method `eit' for main:Object\nDid you mean?  exit\n    from (irb):11\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-5.0.0.rc1/lib/rails/commands/console.rb:65:in `start'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-5.0.0.rc1/lib/rails/commands/console_helper.rb:9:in `start'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-5.0.0.rc1/lib/rails/commands/commands_tasks.rb:78:in `console'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-5.0.0.rc1/lib/rails/commands/commands_tasks.rb:49:in `run_command!'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/railties-5.0.0.rc1/lib/rails/commands.rb:18:in `<top (required)>'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:293:in `require'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:293:in `block in require'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:259:in `load_dependency'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:293:in `require'\n    from /Users/david/Code/demos/blog/bin/rails:9:in `<top (required)>'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:287:in `load'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:287:in `block in load'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:259:in `load_dependency'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activesupport-5.0.0.rc1/lib/active_support/dependencies.rb:287:in `load'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/commands/rails.rb:6:in `call'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/command_wrapper.rb:38:in `call'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application.rb:191:in `block in serve'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application.rb:161:in `fork'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application.rb:161:in `serve'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application.rb:131:in `block in run'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application.rb:125:in `loop'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application.rb:125:in `run'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/spring-1.7.1/lib/spring/application/boot.rb:19:in `<top (required)>'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /Users/david/.rbenv/versions/2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from -e:1:in `<main>'\n```\n\nThat's not a reasonable response to something so simple. I'd like to see:\n\n```\nirb(main):011:0> eit\nNameError: undefined local variable or method `eit' for main:Object\nDid you mean?  exit\n[Backtrace silenced by Rails. Tweak config/initializers/backtrace_silencer.rb if needed]\n```\n",
      "number": 25219,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
            "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
            "url": "https://api.github.com/users/vipulnsward",
            "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
            "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
            "repos_url": "https://api.github.com/users/vipulnsward/repos",
            "site_admin": false,
            "id": 567626,
            "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
            "login": "vipulnsward",
            "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/vipulnsward/followers",
            "html_url": "https://github.com/vipulnsward"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "25222",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/25219",
      "updated_at": "2016-07-02T07:10:05Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25219/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
         "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
         "url": "https://api.github.com/users/vipulnsward",
         "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
         "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
         "repos_url": "https://api.github.com/users/vipulnsward/repos",
         "site_admin": false,
         "id": 567626,
         "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
         "login": "vipulnsward",
         "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vipulnsward/followers",
         "html_url": "https://github.com/vipulnsward"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 9,
      "id": 157711705,
      "closed_at": "2016-07-02T07:10:05Z",
      "created_at": "2016-05-31T16:15:14Z",
      "title": "Backtrace silencing should happen even against a pure framework trace",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25219/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25219/comments",
      "html_url": "https://github.com/rails/rails/issues/25219"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We should now be able to write our data-remote, data-confirm, XHR wrapping, and the few other hooks we rely on using vanilla JavaScript. Things have progressed well enough for that. This is not a verdict on jQuery. There are still plenty of other reasons for someone to want to use that, but it needn't be part of the default stack any more.\n\n//cc @sstephenson @javan\n",
      "number": 25208,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "ramos/LibreTPV#10",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/25208",
      "updated_at": "2017-07-31T13:06:34Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25208/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 384913768,
            "url": "https://api.github.com/repos/rails/rails/labels/good-first-patch",
            "color": "0e8a16",
            "default": false,
            "name": "good-first-patch"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 62,
      "id": 157646209,
      "closed_at": "2016-11-23T03:39:24Z",
      "created_at": "2016-05-31T11:09:23Z",
      "title": "Drop jQuery as a dependency",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25208/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25208/comments",
      "html_url": "https://github.com/rails/rails/issues/25208"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nRun `rails s`. No more... (new app)\n### Expected behavior\n\nIt should display my index. \n### Actual behavior\n\nIt fails.\n\nHere is what is going wrong:\n<img width=\"1426\" alt=\"capture d ecran 2016-05-28 a 21 18 13\" src=\"https://cloud.githubusercontent.com/assets/8143621/15629483/1f4d4a0e-251a-11e6-8423-754a356aa348.png\">\n\nCan you help me? Don't understand at all.\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n\n**Ruby version**: 2.4.0dev\n",
      "number": 25185,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/elieteyssedou/subscriptions",
         "received_events_url": "https://api.github.com/users/elieteyssedou/received_events",
         "url": "https://api.github.com/users/elieteyssedou",
         "avatar_url": "https://avatars2.githubusercontent.com/u/8143621?v=4",
         "events_url": "https://api.github.com/users/elieteyssedou/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/elieteyssedou/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/elieteyssedou/following{/other_user}",
         "repos_url": "https://api.github.com/users/elieteyssedou/repos",
         "site_admin": false,
         "id": 8143621,
         "organizations_url": "https://api.github.com/users/elieteyssedou/orgs",
         "login": "elieteyssedou",
         "gists_url": "https://api.github.com/users/elieteyssedou/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/elieteyssedou/followers",
         "html_url": "https://github.com/elieteyssedou"
      },
      "state": "closed",
      "closed_by": "ecidim/decidim#440",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25185",
      "updated_at": "2017-11-21T21:15:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25185/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 27,
      "id": 157353330,
      "closed_at": "2016-06-27T22:47:26Z",
      "created_at": "2016-05-28T19:22:14Z",
      "title": "New app: \"key must be 32 bits\".",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25185/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25185/comments",
      "html_url": "https://github.com/rails/rails/issues/25185"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We have a number of new initializers that are generated for new apps to prevent old apps from hitting breaking changes. They are:\n\n```\nactive_record_belongs_to_required_by_default.rb\ncallback_terminator.rb\nto_time_preserves_timezone.rb\nper_form_csrf_tokens.rb\ncookies_serializer.rb\nrequest_forgery_protection.rb\nsession_store.rb\n```\n\nThese are not files that anyone is likely to edit by hand on a new app, so they shouldn't litter the top initializers directory. Let's move all these into `config/initializers/new_framework_defaults/*`.\n",
      "number": 25181,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "25184",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/25181",
      "updated_at": "2016-05-29T15:35:52Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25181/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 6,
      "id": 157339408,
      "closed_at": "2016-05-29T15:35:52Z",
      "created_at": "2016-05-28T13:41:25Z",
      "title": "Move new default initializers into their own directory",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25181/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25181/comments",
      "html_url": "https://github.com/rails/rails/issues/25181"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When you start a new app in API mode, you shouldn't get the following:\n\n```\n      create  public/404.html\n      create  public/422.html\n      create  public/500.html\n      create  public/apple-touch-icon-precomposed.png\n      create  public/apple-touch-icon.png\n      create  public/favicon.ico\n```\n\nNone of these make sense for the API.\n",
      "number": 25180,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "25182",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/25180",
      "updated_at": "2016-05-28T14:50:15Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25180/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 0,
      "id": 157338377,
      "closed_at": "2016-05-28T14:50:15Z",
      "created_at": "2016-05-28T13:15:32Z",
      "title": "Stop making public assets in api mode",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25180/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25180/comments",
      "html_url": "https://github.com/rails/rails/issues/25180"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nI wrote following code, but it isn't work.\n\n``` ruby\n# bundle exec rails -v\nclass User < ApplicationRecord\n  has_one :address\nend\n\nclass Address < ApplicationRecord\n  belongs_to :user\n  enum kind: %i(home work)\nend\n\nUser.joins(:address).where(addresses: {kind: 'home'}).to_sql\n  #=> \"SELECT \\\"users\\\".* FROM \\\"users\\\" INNER JOIN \\\"addresses\\\" ON \\\"addresses\\\".\\\"user_id\\\" = \\\"users\\\".\\\"id\\\" WHERE \\\"addresses\\\".\\\"kind\\\" = 'home'\"\n```\n\nBut, followin code is work.\n\n``` ruby\nclass User < ApplicationRecord\n  has_many :items\nend\n\nclass Item < ApplicationRecord\n  belongs_to :user\n  enum state: %i(pendding published)\nend\n\nUser.joins(:items).where(items: {state: 'pendding'}).to_sql\n  #=> \"SELECT \\\"users\\\".* FROM \\\"users\\\" INNER JOIN \\\"items\\\" ON \\\"items\\\".\\\"user_id\\\" = \\\"users\\\".\\\"id\\\" WHERE \\\"items\\\".\\\"state\\\" = 0\"\n```\n### Expected behavior\n\n``` ruby\nUser.joins(:address).where(addresses: {kind: 'home'}).to_sql\n  #=> \"SELECT \\\"users\\\".* FROM \\\"users\\\" INNER JOIN \\\"addresses\\\" ON \\\"addresses\\\".\\\"user_id\\\" = \\\"users\\\".\\\"id\\\" WHERE \\\"addresses\\\".\\\"kind\\\" = 0\"\n```\n### Actual behavior\n\n``` ruby\nUser.joins(:address).where(addresses: {kind: 'home'}).to_sql\n  #=> \"SELECT \\\"users\\\".* FROM \\\"users\\\" INNER JOIN \\\"addresses\\\" ON \\\"addresses\\\".\\\"user_id\\\" = \\\"users\\\".\\\"id\\\" WHERE \\\"addresses\\\".\\\"kind\\\" = 'home'\"\n```\n### System configuration\n\n**Rails version**:Rails 5.1.0.alpha\n# \n\n**Ruby version**:ruby 2.3.1p112 (2016-04-26 revision 54768) [x86_64-darwin15]\n",
      "number": 25128,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/takkanm/subscriptions",
         "received_events_url": "https://api.github.com/users/takkanm/received_events",
         "url": "https://api.github.com/users/takkanm",
         "avatar_url": "https://avatars2.githubusercontent.com/u/43500?v=4",
         "events_url": "https://api.github.com/users/takkanm/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/takkanm/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/takkanm/following{/other_user}",
         "repos_url": "https://api.github.com/users/takkanm/repos",
         "site_admin": false,
         "id": 43500,
         "organizations_url": "https://api.github.com/users/takkanm/orgs",
         "login": "takkanm",
         "gists_url": "https://api.github.com/users/takkanm/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/takkanm/followers",
         "html_url": "https://github.com/takkanm"
      },
      "state": "closed",
      "closed_by": "25146",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25128",
      "updated_at": "2017-11-21T06:03:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25128/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126788695,
            "url": "https://api.github.com/repos/rails/rails/labels/enum",
            "color": "d4c5f9",
            "default": false,
            "name": "enum"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 156501720,
      "closed_at": "2016-05-27T00:11:14Z",
      "created_at": "2016-05-24T13:03:39Z",
      "title": "Can't use enum value in  `where` key with `joins` for has_one relation query.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25128/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25128/comments",
      "html_url": "https://github.com/rails/rails/issues/25128"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Keeping important secrets in config/secrets.yml isn't a good idea, as all these secrets are stored in plaintext when the file is checked into version control. That's a shame. The application should be able to store actual secrets that it need to talk to internal and external services.\n\nWe can get there by providing an additional secrets file under config/secrets.yml.enc along with an interface to both edit and read this file.\n\nTo edit the file, I'm thinking something like:\n\n```\n$ rails secrets:edit\n$ Please enter the master key: XXXXXX\n$ [Rails opens config/secrets.yml.enc in unencrypted form in EDITOR]\n$ [Saving the opened file will encrypt the file back into config/secrets.yml.enc]\n```\n\nTo enable servers and services to read this file, we can set a single environment variable, like RAILS_MASTER_KEY.\n\nWe should ask for this master key if it's not available when booting the server, if config/secrets.yml.enc is present:\n\n```\n$ rails server\n$ Please enter the master key (ENV['RAILS_MASTER_KEY'] is missing): XXXX\n```\n\nNote that config/secrets.yml.enc is in addition to config/secrets.yml. We can still use the latter for secrets that aren't critical, like dev/test secret_base_key. Then it'll become a user-action to add config/secrets.yml.enc (which should be created on-demand the first time `rails secrets:edit` is called). At the initiation time, the user will be asked to set the master key.\n\nThe two secrets files should then be merged at runtime, with enc taking priority.\n",
      "number": 25095,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
            "received_events_url": "https://api.github.com/users/sikachu/received_events",
            "url": "https://api.github.com/users/sikachu",
            "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
            "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
            "repos_url": "https://api.github.com/users/sikachu/repos",
            "site_admin": false,
            "id": 4912,
            "organizations_url": "https://api.github.com/users/sikachu/orgs",
            "login": "sikachu",
            "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sikachu/followers",
            "html_url": "https://github.com/sikachu"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "28038",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/25095",
      "updated_at": "2017-02-23T14:01:03Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25095/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
         "received_events_url": "https://api.github.com/users/sikachu/received_events",
         "url": "https://api.github.com/users/sikachu",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
         "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
         "repos_url": "https://api.github.com/users/sikachu/repos",
         "site_admin": false,
         "id": 4912,
         "organizations_url": "https://api.github.com/users/sikachu/orgs",
         "login": "sikachu",
         "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sikachu/followers",
         "html_url": "https://github.com/sikachu"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 44,
      "id": 156101357,
      "closed_at": "2017-02-23T14:01:03Z",
      "created_at": "2016-05-21T13:11:26Z",
      "title": "Provide encrypted secrets",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25095/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25095/comments",
      "html_url": "https://github.com/rails/rails/issues/25095"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nClone https://github.com/etiennebarrie/class_serial or:\n\n```\n$ rails _5.0.0.rc1_ new class_serial\n$ cd class_serial/\n$ rails generate controller ruby_vm stat\n```\n\n``` patch\ndiff --git a/app/controllers/ruby_vm_controller.rb b/app/controllers/ruby_vm_controller.rb\nindex 422b18b..6b438d0 100644\n--- a/app/controllers/ruby_vm_controller.rb\n+++ b/app/controllers/ruby_vm_controller.rb\n@@ -1,4 +1,5 @@\n class RubyVmController < ApplicationController\n   def stat\n+    render json: RubyVM.stat\n   end\n end\n```\n\nThen run the server, access `http://localhost:3000/ruby_vm/stat` and see `class_serial` being incremented at each request, e.g.:\n\n```\n$ curl --silent localhost:3000/ruby_vm/stat | jq .class_serial\n150790\n$ curl --silent localhost:3000/ruby_vm/stat | jq .class_serial\n150791\n$ curl --silent localhost:3000/ruby_vm/stat | jq .class_serial\n150792\n```\n\nIn development, you have to warm the cache with one request first. Between the first and second requests, `class_serial` increments by more than 1, but then it also increments by one for each request.\n### Expected behavior\n\nclass_serial should not change between requests\n### Actual behavior\n\nclass_serial is incremented at each request\n### System configuration\n\n**Rails version**:\n5.0.0.rc1\n\n**Ruby version**:\n2.3.1\n### Debugging\n\nIt was fine until beta3, and you start seeing this behaviour starting with beta4. I think 291a098c111ff419506094e14c0186389b0020ca is what caused it to happen.\n\nUsing @tenderlove's patch to add the `class_serial_incr` event to TracePoint (https://github.com/tenderlove/ruby/tree/IC_trace), I was able to pinpoint the class serial increment to using `instance_exec` in [ActiveSupport::Callbacks::Callback#make_lambda](https://github.com/rails/rails/blob/v5.0.0.rc1/activesupport/lib/active_support/callbacks.rb#L396), and using some puts debugging I found that it came from defining callbacks with a block.\n\nThere are three blocks that are called in this case:\n-  `to_complete` in [ActiveRecord::QueryCache.install_executor_hooks](https://github.com/rails/rails/blob/v5.0.0.rc1/activerecord/lib/active_record/query_cache.rb#L46)\n- `to_run` and `to_complete` in [ActiveSupport::ExecutionWrapper.register_hook](https://github.com/rails/rails/blob/v5.0.0.rc1/activesupport/lib/active_support/execution_wrapper.rb#L38-L45) also called from `QueryCache`.\n\nRemoving the first call to instance_exec by passing `self` and defining the `before` method was not enough to remove the issue:\n\n``` patch\ndiff --git a/activerecord/lib/active_record/query_cache.rb b/activerecord/lib/active_record/query_cache.rb\nindex ca12a60..e6feb97 100644\n--- a/activerecord/lib/active_record/query_cache.rb\n+++ b/activerecord/lib/active_record/query_cache.rb\n@@ -43,10 +43,12 @@ def self.complete(state)\n     def self.install_executor_hooks(executor = ActiveSupport::Executor)\n       executor.register_hook(self)\n\n-      executor.to_complete do\n-        unless ActiveRecord::Base.connection.transaction_open?\n-          ActiveRecord::Base.clear_active_connections!\n-        end\n+      executor.to_complete(self)\n+    end\n+\n+    def self.before(_executor)\n+      unless ActiveRecord::Base.connection.transaction_open?\n+        ActiveRecord::Base.clear_active_connections!\n       end\n     end\n   end\n```\n\nBy displaying something inside the TracePoint, having a `byebug` inside the lambda at `ActiveSupport::Callbacks::Callback#make_lambda`, I think I'm pretty sure now only the `to_run` is causing the class serial increment.\n\ncc @matthewd \n\nEdit: forgot I also built an example app: https://github.com/etiennebarrie/class_serial\n",
      "number": 25068,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/etiennebarrie/subscriptions",
         "received_events_url": "https://api.github.com/users/etiennebarrie/received_events",
         "url": "https://api.github.com/users/etiennebarrie",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3535?v=4",
         "events_url": "https://api.github.com/users/etiennebarrie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/etiennebarrie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/etiennebarrie/following{/other_user}",
         "repos_url": "https://api.github.com/users/etiennebarrie/repos",
         "site_admin": false,
         "id": 3535,
         "organizations_url": "https://api.github.com/users/etiennebarrie/orgs",
         "login": "etiennebarrie",
         "gists_url": "https://api.github.com/users/etiennebarrie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/etiennebarrie/followers",
         "html_url": "https://github.com/etiennebarrie"
      },
      "state": "closed",
      "closed_by": "26684",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25068",
      "updated_at": "2016-10-04T20:15:56Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/25068/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 155606687,
      "closed_at": "2016-10-04T18:53:49Z",
      "created_at": "2016-05-18T21:33:04Z",
      "title": "class_serial increment at each request",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25068/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25068/comments",
      "html_url": "https://github.com/rails/rails/issues/25068"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Seems like rails is doing it's own runner now ... maybe set Minitest @@at_exit_hook_installed so it does not set another one ? (solved for me / tracked it down, but could be an annoying thing for other upgraders ...)\n### Steps to reproduce\n\nadd require 'minitest/autorun' to test_helper\n### Expected behavior\n\n1 result printed or nice error message\n### Actual behavior\n\nduplicated output because tests are run twice\n### System configuration\n\n**Rails version**: 5.0.0.rc1\n",
      "number": 25048,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         },
         {
            "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
            "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
            "url": "https://api.github.com/users/prathamesh-sonpatki",
            "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
            "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
            "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
            "site_admin": false,
            "id": 621238,
            "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
            "login": "prathamesh-sonpatki",
            "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
            "html_url": "https://github.com/prathamesh-sonpatki"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/grosser/subscriptions",
         "received_events_url": "https://api.github.com/users/grosser/received_events",
         "url": "https://api.github.com/users/grosser",
         "avatar_url": "https://avatars3.githubusercontent.com/u/11367?v=4",
         "events_url": "https://api.github.com/users/grosser/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/grosser/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/grosser/following{/other_user}",
         "repos_url": "https://api.github.com/users/grosser/repos",
         "site_admin": false,
         "id": 11367,
         "organizations_url": "https://api.github.com/users/grosser/orgs",
         "login": "grosser",
         "gists_url": "https://api.github.com/users/grosser/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/grosser/followers",
         "html_url": "https://github.com/grosser"
      },
      "state": "closed",
      "closed_by": "26515",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25048",
      "updated_at": "2016-09-24T13:21:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25048/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 10,
      "id": 155177689,
      "closed_at": "2016-09-24T03:29:19Z",
      "created_at": "2016-05-17T05:06:01Z",
      "title": "Having require minitest/autorun in the test_helper causes duplicate runs",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25048/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25048/comments",
      "html_url": "https://github.com/rails/rails/issues/25048"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is not a big issue for me, just something I noticed and that seems like a bad practice / will make it impossible for other gems to add their own minitest options ...\n### Steps to reproduce\n\n```\ngem install minitest-line\nruby test/integration/seed_test.rb --line 6\n```\n### Expected behavior\n\nAllow other minitest plugins to add commandline options.\n### Actual behavior\n\n```\nvendor/bundle/ruby/2.2.0/gems/railties-5.0.0.rc1/lib/rails/test_unit/minitest_plugin.rb:57:in `plugin_rails_options': invalid option: --line (OptionParser::InvalidOption)\n    from vendor/bundle/ruby/2.2.0/gems/minitest-5.8.4/lib/minitest.rb:191:in `block (2 levels) in process_args'\n```\n### System configuration\n\n**Rails version**: 5.0.0.rc1 / Minitest 5.8.4\n",
      "number": 25046,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/grosser/subscriptions",
         "received_events_url": "https://api.github.com/users/grosser/received_events",
         "url": "https://api.github.com/users/grosser",
         "avatar_url": "https://avatars3.githubusercontent.com/u/11367?v=4",
         "events_url": "https://api.github.com/users/grosser/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/grosser/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/grosser/following{/other_user}",
         "repos_url": "https://api.github.com/users/grosser/repos",
         "site_admin": false,
         "id": 11367,
         "organizations_url": "https://api.github.com/users/grosser/orgs",
         "login": "grosser",
         "gists_url": "https://api.github.com/users/grosser/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/grosser/followers",
         "html_url": "https://github.com/grosser"
      },
      "state": "closed",
      "closed_by": "29572",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25046",
      "updated_at": "2017-07-10T19:13:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25046/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 8,
      "id": 155174464,
      "closed_at": "2017-07-10T19:13:23Z",
      "created_at": "2016-05-17T04:25:59Z",
      "title": "Overwriting minitest option parsing breaks minitest plugins that add options",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25046/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25046/comments",
      "html_url": "https://github.com/rails/rails/issues/25046"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nvisit http://guides.rubyonrails.org/security.html\n### Expected behavior\n\nhttp://guides.rubyonrails.org/security.html contains up to date information\n### Actual behavior\n\nhttp://guides.rubyonrails.org/security.html contains claim that MD5 is uncompromised\n### System configuration\n\n**Rails version**: 4.2.6\n\n**Ruby version**: not relevant\n\nAccording http://stackoverflow.com/questions/25588133/does-rails-use-compromised-md5-for-sessions problems is that \n\n> Bits of that guide are very out of date (eg the xss section hasn't caught up with the fact that rails considers all strings as needing escaping unless told otherwise) - it could certainly do with some love. It looks like that section hasn't been touched since at least 2009\n> \n> Rails hasn't used the method you describe for generating session ids for a long time. If I'm reading the runes correctly, since rails 2.3 the session id has been generated with SecureRandom which provides cryptographically secure random numbers (either using Ruby's builtin support on 1.8.7, or using platform specific methods such as openssl, /dev/urandom, win32 apis)\n> \n> In addition since rails 2.0, the default session store has been the cookie store which doesn't use session id in the first place (or rather the value of the session cookie is the session, rather than a key used to read the session from elsewhere)\n\nso it is merely severe documentation problem, not a severe security problem.\n\nNote that http://guides.rubyonrails.org/security.html is linked from http://guides.rubyonrails.org/getting_started.html#other-security-considerations\n",
      "number": 25032,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/matkoniecz/subscriptions",
         "received_events_url": "https://api.github.com/users/matkoniecz/received_events",
         "url": "https://api.github.com/users/matkoniecz",
         "avatar_url": "https://avatars0.githubusercontent.com/u/899988?v=4",
         "events_url": "https://api.github.com/users/matkoniecz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matkoniecz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matkoniecz/following{/other_user}",
         "repos_url": "https://api.github.com/users/matkoniecz/repos",
         "site_admin": false,
         "id": 899988,
         "organizations_url": "https://api.github.com/users/matkoniecz/orgs",
         "login": "matkoniecz",
         "gists_url": "https://api.github.com/users/matkoniecz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matkoniecz/followers",
         "html_url": "https://github.com/matkoniecz"
      },
      "state": "closed",
      "closed_by": "25035",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/25032",
      "updated_at": "2016-05-16T20:02:39Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25032/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 155025342,
      "closed_at": "2016-05-16T19:59:27Z",
      "created_at": "2016-05-16T13:04:21Z",
      "title": "http://guides.rubyonrails.org/security.html - \"To date MD5 is uncompromised\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25032/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25032/comments",
      "html_url": "https://github.com/rails/rails/issues/25032"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Background\n\nAs of Ruby 2.3, [Hash responds to `to_proc`](http://ruby-doc.org/core-2.3.0/Hash.html#method-i-to_proc) This is [a change from Ruby 2.2](http://ruby-doc.org/core-2.2.0/Hash.html).\n\nIn ActiveRecord 3.2.22.2, the `interpolate` method (duplicated across [ActiveRecord::Associations::JoinDependency::JoinAssociation](https://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/associations/join_dependency/join_association.rb#L148), [ActiveRecord::Associations::Association](https://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/associations/association.rb#L160), and [ActiveRecord::Associations::Preloader::Association](https://github.com/rails/rails/blob/3-2-stable/activerecord/lib/active_record/associations/preloader/association.rb#L115)) checks its input to see if it responds to `to_proc`.\n\nI've seen a few bug reports on other projects that seem to be caused by this issue, but Casecommons/pg_search/issues/297 is the clearest.\n### Steps to reproduce\n\n``` ruby\nclass Document < ActiveRecord::Base\n  has_many :images, as: :parent\nend\n```\n\nCalling `Document.joins(:images).count` triggers the error.\n### Expected behavior\n\nIn Ruby 2.2, if passed a `Hash`, this check returned `false`, and all was well - the query returns a count.\n### Actual behavior\n\nIn Ruby 2.3, if passed a `Hash`, this check returns `true`, and `interpolate` returns `nil`. This `nil` eventually gets passed to `Arel.sql()` and you get a `no implicit conversion of nil into String` error.\n### System configuration\n\n**Rails version**: 3.2.22.2\n\n**Ruby version**: 2.3.0\n### Temporary workaround\n\nI've undefined `to_proc` on Hash, as I'm quite certain I have no code that relies on that:\n\n``` ruby\nclass Hash\n  undef_method :to_proc if self.method_defined?(:to_proc)\nend\n```\n",
      "number": 25010,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tlrdstd/subscriptions",
         "received_events_url": "https://api.github.com/users/tlrdstd/received_events",
         "url": "https://api.github.com/users/tlrdstd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/194300?v=4",
         "events_url": "https://api.github.com/users/tlrdstd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tlrdstd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tlrdstd/following{/other_user}",
         "repos_url": "https://api.github.com/users/tlrdstd/repos",
         "site_admin": false,
         "id": 194300,
         "organizations_url": "https://api.github.com/users/tlrdstd/orgs",
         "login": "tlrdstd",
         "gists_url": "https://api.github.com/users/tlrdstd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tlrdstd/followers",
         "html_url": "https://github.com/tlrdstd"
      },
      "state": "closed",
      "closed_by": "124",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/25010",
      "updated_at": "2016-05-21T02:23:46Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/25010/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 154723739,
      "closed_at": "2016-05-21T02:23:46Z",
      "created_at": "2016-05-13T14:24:22Z",
      "title": "Rails 3.2.22.2 - Ruby 2.3 - Hash now responds to `to_proc` and `interpolate` blows up",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/25010/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/25010/comments",
      "html_url": "https://github.com/rails/rails/issues/25010"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n1. Create a new Rails 5.0.0rc1 app\n2. Create a dummy route, controller, and controller action\n3. Uncomment the `workers ENV.fetch(\"WEB_CONCURRENCY\") { 2 }` line from `puma.rb`\n4. `rails server`\n5. Visit your action\n6. Introduce an exception into the action\n7. Re-visit the action\n### Expected behavior\n\nThe new exception that was introduced should be raised.\n### Actual behavior\n\nThe page loads fine and the new code added to the action is ignored.\n### System configuration\n\n**Rails version**: 5.0.0rc1\n\n**Ruby version**: 2.3.1\n",
      "number": 24990,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mgomes/subscriptions",
         "received_events_url": "https://api.github.com/users/mgomes/received_events",
         "url": "https://api.github.com/users/mgomes",
         "avatar_url": "https://avatars0.githubusercontent.com/u/53484?v=4",
         "events_url": "https://api.github.com/users/mgomes/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mgomes/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mgomes/following{/other_user}",
         "repos_url": "https://api.github.com/users/mgomes/repos",
         "site_admin": false,
         "id": 53484,
         "organizations_url": "https://api.github.com/users/mgomes/orgs",
         "login": "mgomes",
         "gists_url": "https://api.github.com/users/mgomes/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mgomes/followers",
         "html_url": "https://github.com/mgomes"
      },
      "state": "closed",
      "closed_by": "25302",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24990",
      "updated_at": "2017-11-17T19:03:41Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24990/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 27,
      "id": 154382048,
      "closed_at": "2016-06-17T14:19:57Z",
      "created_at": "2016-05-12T02:12:00Z",
      "title": "Controllers and models don't reload in dev with Puma Workers enabled",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24990/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24990/comments",
      "html_url": "https://github.com/rails/rails/issues/24990"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :defaults, force: true do |t|\n  end\n\n  create_table :no_defaults, force: true do |t|\n  end\nend\n\nclass NoDefault < ActiveRecord::Base\n  attribute :virtual_attribute, :string\nend\n\nclass Default < ActiveRecord::Base\n  attribute :virtual_attribute, :string, default: \"Default Value\"\nend\n\nclass BugTest < Minitest::Test\n  def test_save_model_with_virtual_attribute_no_default\n    assert NoDefault.new.save # => pass\n  end\n\n  def test_save_model_with_virtual_attribute_default\n    assert Default.new.save # => fail - raises NotImplementedError\n  end\nend\n```\n### Expected behavior\n\nModel should be able to save regardless of attribute having a default value.\n### Actual behavior\n\n```\nNotImplementedError: NotImplementedError\n  rails-59d252196b36/activerecord/lib/active_record/attribute.rb:84:in `type_cast'\n  rails-59d252196b36/activerecord/lib/active_record/attribute.rb:46:in `original_value'\n  rails-59d252196b36/activerecord/lib/active_record/attribute.rb:44:in `original_value'\n  rails-59d252196b36/activerecord/lib/active_record/attribute.rb:123:in `changed_from_assignment?'\n  rails-59d252196b36/activerecord/lib/active_record/attribute.rb:55:in `changed?'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_mutation_tracker.rb:25:in `changed?'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_mutation_tracker.rb:9:in `block in changed_values'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_mutation_tracker.rb:8:in `each'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_mutation_tracker.rb:8:in `each_with_object'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_mutation_tracker.rb:8:in `changed_values'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_methods/dirty.rb:83:in `changed_attributes'\n  rails-59d252196b36/activemodel/lib/active_model/dirty.rb:146:in `changed'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_methods/dirty.rb:127:in `keys_for_partial_write'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_methods/dirty.rb:123:in `_create_record'\n  rails-59d252196b36/activerecord/lib/active_record/callbacks.rb:302:in `block in _create_record'\n  rails-59d252196b36/activesupport/lib/active_support/callbacks.rb:97:in `__run_callbacks__'\n  rails-59d252196b36/activesupport/lib/active_support/callbacks.rb:750:in `_run_create_callbacks'\n  rails-59d252196b36/activerecord/lib/active_record/callbacks.rb:302:in `_create_record'\n  rails-59d252196b36/activerecord/lib/active_record/timestamp.rb:68:in `_create_record'\n  rails-59d252196b36/activerecord/lib/active_record/persistence.rb:534:in `create_or_update'\n  rails-59d252196b36/activerecord/lib/active_record/callbacks.rb:298:in `block in create_or_update'\n  rails-59d252196b36/activesupport/lib/active_support/callbacks.rb:97:in `__run_callbacks__'\n  rails-59d252196b36/activesupport/lib/active_support/callbacks.rb:750:in `_run_save_callbacks'\n  rails-59d252196b36/activerecord/lib/active_record/callbacks.rb:298:in `create_or_update'\n  rails-59d252196b36/activerecord/lib/active_record/persistence.rb:125:in `save'\n  rails-59d252196b36/activerecord/lib/active_record/validations.rb:44:in `save'\n  rails-59d252196b36/activerecord/lib/active_record/attribute_methods/dirty.rb:22:in `save'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:319:in `block (2 levels) in save'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:395:in `block in with_transaction_returning_status'\n  rails-59d252196b36/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:232:in `block in transaction'\n  rails-59d252196b36/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:189:in `within_new_transaction'\n  rails-59d252196b36/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:232:in `transaction'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:211:in `transaction'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:392:in `with_transaction_returning_status'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:319:in `block in save'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:334:in `rollback_active_record_state!'\n  rails-59d252196b36/activerecord/lib/active_record/transactions.rb:318:in `save'\n  rails-59d252196b36/activerecord/lib/active_record/suppressor.rb:41:in `save'\n```\n### System configuration\n\n**Rails version**: `master`\n\n**Ruby version**: `2.3.1`\n",
      "number": 24979,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/merhard/subscriptions",
         "received_events_url": "https://api.github.com/users/merhard/received_events",
         "url": "https://api.github.com/users/merhard",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3860146?v=4",
         "events_url": "https://api.github.com/users/merhard/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/merhard/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/merhard/following{/other_user}",
         "repos_url": "https://api.github.com/users/merhard/repos",
         "site_admin": false,
         "id": 3860146,
         "organizations_url": "https://api.github.com/users/merhard/orgs",
         "login": "merhard",
         "gists_url": "https://api.github.com/users/merhard/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/merhard/followers",
         "html_url": "https://github.com/merhard"
      },
      "state": "closed",
      "closed_by": "24980",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24979",
      "updated_at": "2016-05-12T02:00:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24979/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 154281807,
      "closed_at": "2016-05-12T02:00:37Z",
      "created_at": "2016-05-11T16:07:25Z",
      "title": "Model using ActiveRecord::Attribute with default value not backed by database cannot be saved",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24979/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24979/comments",
      "html_url": "https://github.com/rails/rails/issues/24979"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nThis model (and migration) create a model with a serialized column (`preferences`), backed by a `binary` column type: \n\n``` ruby\nclass Broken < ActiveRecord::Base\n  serialize :preferences\nend\n\nclass CreateBrokens < ActiveRecord::Migration\n  def change\n    create_table :brokens do |t|\n      t.binary :preferences\n\n      t.timestamps null: false\n    end\n  end\nend\n```\n\nWhen you create a new instance, e.g.:\n\n``` ruby\nBroken.create(preferences: {a: 1})\n```\n\nRails 4.2 logs the SQL insert statement. With Rails 5.0.0.beta1, this logs an internal exception.\n### Expected behavior\n\nThe serialized column is appropriately transformed for the log, e.g.:\n\n>  SQL (1.3ms)  INSERT INTO \"brokens\" (\"preferences\", \"created_at\", \"updated_at\") VALUES (?, ?, ?)  [[\"preferences\", \"<77 bytes of binary data>\"], [\"created_at\", \"2016-05-10 16:19:18.665828\"], [\"updated_at\", \"2016-05-10 16:19:18.665828\"]]\n### Actual behavior\n\nAn exception is logged:\n\n> Could not log \"sql.active_record\" event. NoMethodError: undefined method `bytesize' for {:a=>1}:Hash\n\n```\n.../activerecord-5.0.0.beta1/lib/active_record/log_subscriber.rb:25:in `render_bind'\n.../activerecord-5.0.0.beta1/lib/active_record/log_subscriber.rb:47:in `block in sql'\n.../activerecord-5.0.0.beta1/lib/active_record/log_subscriber.rb:47:in `map'\n.../activerecord-5.0.0.beta1/lib/active_record/log_subscriber.rb:47:in `sql'\n.../activesupport-5.0.0.beta1/lib/active_support/subscriber.rb:95:in `finish'\n.../activesupport-5.0.0.beta1/lib/active_support/log_subscriber.rb:83:in `finish'\n.../activesupport-5.0.0.beta1/lib/active_support/notifications/fanout.rb:102:in `finish'\n.../activesupport-5.0.0.beta1/lib/active_support/notifications/fanout.rb:46:in `block in finish'\n.../activesupport-5.0.0.beta1/lib/active_support/notifications/fanout.rb:46:in `each'\n.../activesupport-5.0.0.beta1/lib/active_support/notifications/fanout.rb:46:in `finish'\n.../activesupport-5.0.0.beta1/lib/active_support/notifications/instrumenter.rb:42:in `finish_with_state'\n.../activesupport-5.0.0.beta1/lib/active_support/notifications/instrumenter.rb:26:in `instrument'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract_adapter.rb:529:in `log'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/sqlite3_adapter.rb:241:in `exec_query'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:87:in `exec_insert'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:119:in `insert'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `insert'\n.../activerecord-5.0.0.beta1/lib/active_record/relation.rb:65:in `insert'\n.../activerecord-5.0.0.beta1/lib/active_record/persistence.rb:553:in `_create_record'\n.../activerecord-5.0.0.beta1/lib/active_record/counter_cache.rb:128:in `_create_record'\n.../activerecord-5.0.0.beta1/lib/active_record/locking/optimistic.rb:75:in `_create_record'\n.../activerecord-5.0.0.beta1/lib/active_record/attribute_methods/dirty.rb:123:in `_create_record'\n.../activerecord-5.0.0.beta1/lib/active_record/callbacks.rb:302:in `block in _create_record'\n.../activesupport-5.0.0.beta1/lib/active_support/callbacks.rb:97:in `__run_callbacks__'\n.../activesupport-5.0.0.beta1/lib/active_support/callbacks.rb:750:in `_run_create_callbacks'\n.../activerecord-5.0.0.beta1/lib/active_record/callbacks.rb:302:in `_create_record'\n.../activerecord-5.0.0.beta1/lib/active_record/timestamp.rb:64:in `_create_record'\n.../activerecord-5.0.0.beta1/lib/active_record/persistence.rb:533:in `create_or_update'\n.../activerecord-5.0.0.beta1/lib/active_record/callbacks.rb:298:in `block in create_or_update'\n.../activesupport-5.0.0.beta1/lib/active_support/callbacks.rb:97:in `__run_callbacks__'\n.../activesupport-5.0.0.beta1/lib/active_support/callbacks.rb:750:in `_run_save_callbacks'\n.../activerecord-5.0.0.beta1/lib/active_record/callbacks.rb:298:in `create_or_update'\n.../activerecord-5.0.0.beta1/lib/active_record/suppressor.rb:41:in `create_or_update'\n.../activerecord-5.0.0.beta1/lib/active_record/persistence.rb:125:in `save'\n.../activerecord-5.0.0.beta1/lib/active_record/validations.rb:44:in `save'\n.../activerecord-5.0.0.beta1/lib/active_record/attribute_methods/dirty.rb:22:in `save'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:319:in `block (2 levels) in save'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:395:in `block in with_transaction_returning_status'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:222:in `block in transaction'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract/transaction.rb:183:in `within_new_transaction'\n.../activerecord-5.0.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:222:in `transaction'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:211:in `transaction'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:392:in `with_transaction_returning_status'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:319:in `block in save'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:334:in `rollback_active_record_state!'\n.../activerecord-5.0.0.beta1/lib/active_record/transactions.rb:318:in `save'\n.../activerecord-5.0.0.beta1/lib/active_record/persistence.rb:34:in `create'\n/Users/cabeer/Projects/tmp/ar_regression/spec/controllers/broken_controller_spec.rb:5:in `block (2 levels) in <top (required)>'\n```\n### System configuration\n\n**Rails version**: 5.0.0.beta1\n\n**Ruby version**: 2.2.4\n",
      "number": 24955,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cbeer/subscriptions",
         "received_events_url": "https://api.github.com/users/cbeer/received_events",
         "url": "https://api.github.com/users/cbeer",
         "avatar_url": "https://avatars1.githubusercontent.com/u/111218?v=4",
         "events_url": "https://api.github.com/users/cbeer/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cbeer/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cbeer/following{/other_user}",
         "repos_url": "https://api.github.com/users/cbeer/repos",
         "site_admin": false,
         "id": 111218,
         "organizations_url": "https://api.github.com/users/cbeer/orgs",
         "login": "cbeer",
         "gists_url": "https://api.github.com/users/cbeer/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cbeer/followers",
         "html_url": "https://github.com/cbeer"
      },
      "state": "closed",
      "closed_by": "24958",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24955",
      "updated_at": "2016-05-21T02:34:48Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24955/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 154050184,
      "closed_at": "2016-05-21T02:34:48Z",
      "created_at": "2016-05-10T16:28:55Z",
      "title": "ActiveRecord::LogSubscriber fails to log SQL statements for serialized binary columns ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24955/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24955/comments",
      "html_url": "https://github.com/rails/rails/issues/24955"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It's weird that this isn't causing problems yet, but rails-dom-testing 1.x shouldn't work with Rails 5.\n\nThe gemspecs of actionview, actionmailer, and actionpack have a dependency on `rails-dom-testing (~> 1.0, >= 1.0.5)`. As of [rails-dom-testing 1.0.7](https://rubygems.org/gems/rails-dom-testing/versions/1.0.7), the gem has a dependency on `activesupport < 5.0, >= 4.2.0.beta`, meaning it shouldn't work with 5.0 (I guess 5.0.0.rc1 is considered `< 5.0` by Bundler?).\n\n[rails-dom-testing 2.0.0](https://rubygems.org/gems/rails-dom-testing/versions/2.0.0) supports `activesupport < 6.0, >= 4.2.0`, however, so it _will_ work with Rails 5.0.0.\n\nFiles to update:\n- [actionmailer.gemspec](https://github.com/rails/rails/blob/master/actionmailer/actionmailer.gemspec)\n- [actionpack.gemspec](https://github.com/rails/rails/blob/master/actionpack/actionpack.gemspec)\n- [actionview.gemspec](https://github.com/rails/rails/blob/master/actionview/actionview.gemspec)\n\nShould probably fix that before 5.0.0 stable drops and stuff breaks :)\n\ncc: @kaspth (https://github.com/rails/rails-dom-testing/issues/49)\n",
      "number": 24924,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/connorshea/subscriptions",
         "received_events_url": "https://api.github.com/users/connorshea/received_events",
         "url": "https://api.github.com/users/connorshea",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2977353?v=4",
         "events_url": "https://api.github.com/users/connorshea/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/connorshea/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/connorshea/following{/other_user}",
         "repos_url": "https://api.github.com/users/connorshea/repos",
         "site_admin": false,
         "id": 2977353,
         "organizations_url": "https://api.github.com/users/connorshea/orgs",
         "login": "connorshea",
         "gists_url": "https://api.github.com/users/connorshea/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/connorshea/followers",
         "html_url": "https://github.com/connorshea"
      },
      "state": "closed",
      "closed_by": "24946",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24924",
      "updated_at": "2016-06-23T19:45:17Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24924/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 153677957,
      "closed_at": "2016-05-10T03:16:19Z",
      "created_at": "2016-05-08T21:13:28Z",
      "title": "Update rails-dom-testing",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24924/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24924/comments",
      "html_url": "https://github.com/rails/rails/issues/24924"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n##### Create a new rails app using Psql\n\n```\n$ rails new -d postgresql reproduce-app\n$ cd reproduce-app/\n```\n##### Configure the database to turn off prepared_statements\n\n```\ndefault: &default\n  adapter: postgresql\n  encoding: unicode\n  prepared_statements: false\n  username: your_user\n  password: your_password\n```\n#### Create a very simple model to test against\n\n```\nrails g model User name:string\nrake db:create db:migrate db:test:prepare\n```\n#### Use `#exec_query` with bind params to query the table\n\n```\n $ rails c\n Running via Spring preloader in process 12847\n Loading development environment (Rails 4.2.5.2)\n 2.2.2 :001 > User.connection.exec_query(\"SELECT * from users where name = $1\", \"users\", [[nil, 'aoeu']])\n ActiveRecord::StatementInvalid: PG::ProtocolViolation: ERROR:  bind message supplies 0 parameters, but prepared statement \"\" requires 1\n```\n### Expected behavior\n\nThe query to be run successfully\n### Actual behavior\n\n```\n ActiveRecord::StatementInvalid: PG::ProtocolViolation: ERROR:  bind message supplies 0 parameters, but prepared statement \"\" requires 1\n```\n### System configuration\n\n**Rails version**: Rails 4.2.5.2\n\n**Ruby version**: 2.3.0\n### My attempt at resolving the issue\n\nThis comes down to the method `ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache`, which throws out the `binds` array and passes `[]` in it's place\n\n```\n# File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 591\n        def exec_no_cache(sql, name, binds)\n          log(sql, name, binds) { @connection.async_exec(sql, []) }\n        end\n```\n\nI tried monkey patching that like so ->\n\n```\n# File activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb, line 591\n        def exec_no_cache(sql, name, binds)\n          type_casted_binds = binds.map { |col, val|\n            [col, type_cast(val, col)]\n          }\n\n          log(sql, name, binds) { @connection.async_exec(sql, type_casted_binds.map { |_, val| val }) }\n        end\n```\n\n**Which did fix the error.**\n\n```\n2.3.0 :010 > User.connection.exec_query(\"SELECT * from users where name = $1\", \"users\", [[nil, 'aoeu']])\n  users (11.7ms)  SELECT * from users where name = $1  [[nil, \"aoeu\"]]\n#SUCCESS!!!\n```\n\nBut it breaks `#create`\n\n```\n User.create(name: \"aoeu\")\n   (0.2ms)  BEGIN\n  SQL (0.6ms)  INSERT INTO \"users\" (\"name\", \"created_at\", \"updated_at\") VALUES ('aoeu', '2016-05-06 15:28:23.694039', '2016-05-06 15:28:23.694039') RETURNING \"id\"  [[\"name\", \"aoeu\"], [\"created_at\", Fri, 06 May 2016 15:28:23 UTC +00:00], [\"updated_at\", Fri, 06 May 2016 15:28:23 UTC +00:00]]\n   (0.1ms)  ROLLBACK\nActiveRecord::StatementInvalid: PG::IndeterminateDatatype: ERROR:  could not determine data type of parameter $1\n: INSERT INTO \"users\" (\"name\", \"created_at\", \"updated_at\") VALUES ('aoeu', '2016-05-06 15:28:23.694039', '2016-05-06 15:28:23.694039') RETURNING \"id\"\n        from (irb):6:in `async_exec'\n        from (irb):6:in `block in exec_no_cache'\n        from /home/joecannatti/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.5.2/lib/active_record/connection_adapters/abstract_adapter.rb:472:in `block in log'\n        from /home/joecannatti/.rvm/gems/ruby-2.3.0/gems/activesupport-4.2.5.2/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n        from /home/joecannatti/.rvm/gems/ruby-2.3.0/gems/activerecord-4.2.5.2/lib/active_record/connection_adapters/abstract_adapter.rb:466:in `log'\n```\n\nMy questions are\n- Should I be able to use `User.connection.exec_query(\"SELECT * from users where name = $1\", \"users\", [[nil, 'aoeu']])` with prepared statements turned off?\n  - If so, can you provide me some of the nuance/details of the internals to help me make the fix?\n  - If not, should the error message be improved?\n",
      "number": 24893,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/joecannatti/subscriptions",
         "received_events_url": "https://api.github.com/users/joecannatti/received_events",
         "url": "https://api.github.com/users/joecannatti",
         "avatar_url": "https://avatars1.githubusercontent.com/u/159526?v=4",
         "events_url": "https://api.github.com/users/joecannatti/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/joecannatti/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/joecannatti/following{/other_user}",
         "repos_url": "https://api.github.com/users/joecannatti/repos",
         "site_admin": false,
         "id": 159526,
         "organizations_url": "https://api.github.com/users/joecannatti/orgs",
         "login": "joecannatti",
         "gists_url": "https://api.github.com/users/joecannatti/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/joecannatti/followers",
         "html_url": "https://github.com/joecannatti"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24893",
      "updated_at": "2016-12-08T18:37:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24893/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 9,
      "id": 153513305,
      "closed_at": "2016-12-08T18:37:25Z",
      "created_at": "2016-05-06T18:41:45Z",
      "title": "Using Postgresql with Prepared Statements turned off, #exec_query discards bind parameters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24893/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24893/comments",
      "html_url": "https://github.com/rails/rails/issues/24893"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb\n\nI believe, this part of code is intended to check if the request args (if any) has only following keys: params, headers, env, xhr. \n\n``` ruby\nREQUEST_KWARGS = %i(params headers env xhr)\ndef kwarg_request?(args)\n  args[0].respond_to?(:keys) && args[0].keys.any? { |k| REQUEST_KWARGS.include?(k) }\nend\n\ndef non_kwarg_request_warning\n  ActiveSupport::Deprecation.warn(<<-MSG.strip_heredoc)\n    ActionDispatch::IntegrationTest HTTP request methods will accept only\n    the following keyword arguments in future Rails versions:\n    #{REQUEST_KWARGS.join(', ')}\n\n    Examples:\n\n    get '/profile',\n      params: { id: 1 },\n      headers: { 'X-Extra-Header' => '123' },\n      env: { 'action_dispatch.custom' => 'custom' },\n      xhr: true\n  MSG\nend\n```\n\nHowever, there are two problems with this code.\n\nFirst one is with the _kwarg_request?_ method itself. It returns true even if only one of the arguments is from the allowed list.\n\n``` ruby\n# Will return false\nkwarg_request?({foo: 10})\n# Will return true and do not trigger deprecation warning in the request methods (get, post...)\nkwarg_request?({headers: {}, foo: 10})\n```\n\nI believe 'any?' in its implementation should be replaced with 'all?':\n\n``` ruby\ndef kwarg_request?(args)\n  args[0].respond_to?(:keys) && args[0].keys.all? { |k| REQUEST_KWARGS.include?(k) }\nend\n```\n\nThe second possible problem (I'm not sure, maybe it is indented behavior and I misunderstand something) is with the allowed args themselves: what about 'as' arg? Fore example look at the example in the current documentation: \n\n``` ruby\npost articles_path, params: { article: { title: 'Ahoy!' } }, as: :json\n```\n\nIt seems that 'as' should be added to the allowed args list:\n\n``` ruby\nREQUEST_KWARGS = %i(params headers env xhr as)\n```\n\nIf I'm right with all this stuff I'm ready to prepare a pull request.\n### System configuration\n\n**Rails version**: 5.0.0.beta4\n",
      "number": 24864,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/akozhemiakin/subscriptions",
         "received_events_url": "https://api.github.com/users/akozhemiakin/received_events",
         "url": "https://api.github.com/users/akozhemiakin",
         "avatar_url": "https://avatars2.githubusercontent.com/u/752516?v=4",
         "events_url": "https://api.github.com/users/akozhemiakin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/akozhemiakin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/akozhemiakin/following{/other_user}",
         "repos_url": "https://api.github.com/users/akozhemiakin/repos",
         "site_admin": false,
         "id": 752516,
         "organizations_url": "https://api.github.com/users/akozhemiakin/orgs",
         "login": "akozhemiakin",
         "gists_url": "https://api.github.com/users/akozhemiakin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/akozhemiakin/followers",
         "html_url": "https://github.com/akozhemiakin"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24864",
      "updated_at": "2016-08-13T19:10:09Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24864/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 23,
      "id": 153280607,
      "closed_at": "2016-08-13T19:10:09Z",
      "created_at": "2016-05-05T17:27:17Z",
      "title": "Bug in ActionDispatch::Integration::RequestHelpers",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24864/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24864/comments",
      "html_url": "https://github.com/rails/rails/issues/24864"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` bash\nrails new reproduce-app\n# Add `gem 'meta-tags'` to Gemfile\nbundle install\nrails s\n```\n### Expected behavior\n\nIt should tell the call came from the gem.\n### Actual behavior\n\nIt tells it came from `core_ext/module/aliasing.rb`\n### System configuration\n\n**Rails version**: 2.3.1\n\n**Ruby version**: 5.0.0.beta4\n### Possible fix\n\n``` diff\ndiff --git a/activesupport/lib/active_support/core_ext/module/aliasing.rb b/activesupport/lib/active_support/core_ext/module/aliasing.rb\nindex b6934b9..772fb29 100644\n--- a/activesupport/lib/active_support/core_ext/module/aliasing.rb\n+++ b/activesupport/lib/active_support/core_ext/module/aliasing.rb\n@@ -24,7 +24,7 @@ class Module\n   #\n   # so you can safely chain foo, foo?, foo! and/or foo= with the same feature.\n   def alias_method_chain(target, feature)\n-    ActiveSupport::Deprecation.warn(\"alias_method_chain is deprecated. Please, use Module#prepend instead. From module, you can access the original method using super.\")\n+    ActiveSupport::Deprecation.warn(\"alias_method_chain is deprecated. Please, use Module#prepend instead. From module, you can access the original method using super.\", caller_locations(1))\n\n     # Strip out punctuation on predicates, bang or writer methods since\n     # e.g. target?_without_feature is not a valid method name.\n```\n",
      "number": 24858,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jeroenvisser101/subscriptions",
         "received_events_url": "https://api.github.com/users/jeroenvisser101/received_events",
         "url": "https://api.github.com/users/jeroenvisser101",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1941348?v=4",
         "events_url": "https://api.github.com/users/jeroenvisser101/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeroenvisser101/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeroenvisser101/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeroenvisser101/repos",
         "site_admin": false,
         "id": 1941348,
         "organizations_url": "https://api.github.com/users/jeroenvisser101/orgs",
         "login": "jeroenvisser101",
         "gists_url": "https://api.github.com/users/jeroenvisser101/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeroenvisser101/followers",
         "html_url": "https://github.com/jeroenvisser101"
      },
      "state": "closed",
      "closed_by": "26686",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24858",
      "updated_at": "2017-01-04T20:13:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24858/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 12,
      "id": 153221133,
      "closed_at": "2016-10-04T18:53:21Z",
      "created_at": "2016-05-05T12:19:15Z",
      "title": "Caller location isn't accurate for `alias_method_chain` deprecation message",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24858/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24858/comments",
      "html_url": "https://github.com/rails/rails/issues/24858"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I cannot fully reproduce this issue but I am seeing some errors with the following details after upgrading to Rails 5:\n\n**Error**\n\n```\nNoMethodError: undefined method `symbol' for nil:NilClass\n```\n\n**Location**\n\n```\nvendor/bundle/ruby/2.3.0/gems/actionpack-5.0.0.beta4/lib/action_dispatch/http/parameters.rb:63 - parse_formatted_parameters\n```\n\n**Request details** (from bugsnag)\n\n_Headers_\n\n```\n{\n  \"Version\": \"HTTP/1.1\",\n  \"Host\": \"...\",\n  \"Connection\": \"close\",\n  \"User-Agent\": \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:46.0) Gecko/20100101 Firefox/46.0\",\n  \"Cookie\": \"[FILTERED]\",\n  \"X-Request-Id\": \"b883ebdb-95ac-4c81-89de-4885050fbd89\",\n  \"X-Forwarded-For\": \"...\",\n  \"X-Forwarded-Proto\": \"https\",\n  \"X-Forwarded-Port\": \"443\",\n  \"Via\": \"1.1 vegur\",\n  \"Connect-Time\": \"0\",\n  \"X-Request-Start\": \"1462260086212\",\n  \"Total-Route-Time\": \"0\",\n  \"Content-Length\": \"45\"\n}\n```\n\n_Payload_\n\n```\n{\n  \"store_id\": \"a0d443bf-36ad-451d-8d9f-f7a5ef9b71fa\"\n}\n```\n\nSorry, but I cannot provide you with more details. \n",
      "number": 24827,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/philippfrank/subscriptions",
         "received_events_url": "https://api.github.com/users/philippfrank/received_events",
         "url": "https://api.github.com/users/philippfrank",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1238801?v=4",
         "events_url": "https://api.github.com/users/philippfrank/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/philippfrank/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/philippfrank/following{/other_user}",
         "repos_url": "https://api.github.com/users/philippfrank/repos",
         "site_admin": false,
         "id": 1238801,
         "organizations_url": "https://api.github.com/users/philippfrank/orgs",
         "login": "philippfrank",
         "gists_url": "https://api.github.com/users/philippfrank/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/philippfrank/followers",
         "html_url": "https://github.com/philippfrank"
      },
      "state": "closed",
      "closed_by": "25950",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24827",
      "updated_at": "2016-12-05T01:22:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24827/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 21,
      "id": 152715627,
      "closed_at": "2016-07-25T19:41:33Z",
      "created_at": "2016-05-03T07:29:48Z",
      "title": "5.0.0.beta4 / actionpack - undefined method `symbol' for nil:NilClass*",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24827/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24827/comments",
      "html_url": "https://github.com/rails/rails/issues/24827"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In at least Rails 4.2.5.2, [select_tag](http://apidock.com/rails/ActionView/Helpers/FormTagHelper/select_tag) called with `include_blank: true` creates invalid HTML. From the documentation.\n\n> ```\n> select_tag \"people\", options_from_collection_for_select(@people, \"id\", \"name\"), include_blank: true\n> # => <select id=\"people\" name=\"people\"><option value=\"\"></option><option value=\"1\">David</option></select>\n> ```\n\nFrom the [HTML 5 specification](https://www.w3.org/TR/html5/forms.html#the-option-element).\n\n> If the element has no label attribute: Text that is not inter-element whitespace.\n\nSo for a blank text of the option element is empty, the label attribute has to be set.\n\nPS: There is an extension(?) [`options_for_select_with_attributes`](https://github.com/ddonahue99/options_for_select_with_attributes) which allows to set the HTML attributes.\n",
      "number": 24816,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/paulmenzel/subscriptions",
         "received_events_url": "https://api.github.com/users/paulmenzel/received_events",
         "url": "https://api.github.com/users/paulmenzel",
         "avatar_url": "https://avatars1.githubusercontent.com/u/9318792?v=4",
         "events_url": "https://api.github.com/users/paulmenzel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/paulmenzel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/paulmenzel/following{/other_user}",
         "repos_url": "https://api.github.com/users/paulmenzel/repos",
         "site_admin": false,
         "id": 9318792,
         "organizations_url": "https://api.github.com/users/paulmenzel/orgs",
         "login": "paulmenzel",
         "gists_url": "https://api.github.com/users/paulmenzel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/paulmenzel/followers",
         "html_url": "https://github.com/paulmenzel"
      },
      "state": "closed",
      "closed_by": "24923",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24816",
      "updated_at": "2016-05-22T17:47:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24816/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 152606509,
      "closed_at": "2016-05-21T11:45:13Z",
      "created_at": "2016-05-02T17:57:06Z",
      "title": "`select_tag` with `include_blank: true` generates invalid HTML",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24816/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24816/comments",
      "html_url": "https://github.com/rails/rails/issues/24816"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When you run `rails stats` it counts the tasks under `libs` two times (once under `libs` and once under `tasks`), increasing the number of the actual lines of code\n### Steps to reproduce\n\n```\nrails new abc -d postgresql -B\ncd abc\necho \"class Foo\\nend\" > lib/tasks/foo.rake\nrails stats\n```\n### Expected behavior\n\n```\n[...]\n| Libraries            |      0 |      0 |       0 |       0 |   0 |     0 |\n| Tasks                |      2 |      2 |       0 |       1 |   0 |     0 |\n[...]\n\n  Code LOC: 28     Test LOC: 0     Code to Test Ratio: 1:0.0\n```\n### Actual behavior\n\n```\n[...]\n| Libraries            |      2 |      2 |       0 |       1 |   0 |     0 |\n| Tasks                |      2 |      2 |       0 |       1 |   0 |     0 |\n[...]\n\n  Code LOC: 30     Test LOC: 0     Code to Test Ratio: 1:0.0\n```\n### System configuration\n\n**Rails version**: 5 beta 4\n\n**Ruby version**: 2.3.0\n",
      "number": 24811,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cover/subscriptions",
         "received_events_url": "https://api.github.com/users/cover/received_events",
         "url": "https://api.github.com/users/cover",
         "avatar_url": "https://avatars2.githubusercontent.com/u/76693?v=4",
         "events_url": "https://api.github.com/users/cover/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cover/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cover/following{/other_user}",
         "repos_url": "https://api.github.com/users/cover/repos",
         "site_admin": false,
         "id": 76693,
         "organizations_url": "https://api.github.com/users/cover/orgs",
         "login": "cover",
         "gists_url": "https://api.github.com/users/cover/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cover/followers",
         "html_url": "https://github.com/cover"
      },
      "state": "closed",
      "closed_by": "24814",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24811",
      "updated_at": "2017-01-03T20:33:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24811/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 1,
      "id": 152577967,
      "closed_at": "2017-01-03T20:33:49Z",
      "created_at": "2016-05-02T15:31:07Z",
      "title": "Rails 5 beta 4 stats includes tasks LOC twice",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24811/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24811/comments",
      "html_url": "https://github.com/rails/rails/issues/24811"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is a regression for 5.0.0.beta3. The test below fails on master and 5.0.0.beta4, and passes on 5.0.0.beta3.\n### Test case\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails' #, tag: 'v5.0.0.beta3'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :mailboxes, force: true do |t|\n  end\n\n  create_table :posts, force: true  do |t|\n    t.integer :mailbox_id\n    t.string :type\n    t.text :features\n  end\nend\n\nclass Mailbox < ActiveRecord::Base\n  has_many :posts\nend\n\nclass Post < ActiveRecord::Base\n  belongs_to :mailbox\nend\n\nclass RefinedPost < Post\n  store :features, accessors: [:read_receipt]\nend\n\nclass BugTest < Minitest::Test\n  def test_sti_build_type\n    mailbox = Mailbox.create!\n    post = mailbox.posts.create! type: RefinedPost, read_receipt: true\n    assert_equal true, post.read_receipt\n  end\nend\n```\n### System configuration\n\nI ran the test in Ruby 2.2.4 and 2.3.0.\n",
      "number": 24808,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pwnall/subscriptions",
         "received_events_url": "https://api.github.com/users/pwnall/received_events",
         "url": "https://api.github.com/users/pwnall",
         "avatar_url": "https://avatars1.githubusercontent.com/u/11460?v=4",
         "events_url": "https://api.github.com/users/pwnall/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pwnall/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pwnall/following{/other_user}",
         "repos_url": "https://api.github.com/users/pwnall/repos",
         "site_admin": false,
         "id": 11460,
         "organizations_url": "https://api.github.com/users/pwnall/orgs",
         "login": "pwnall",
         "gists_url": "https://api.github.com/users/pwnall/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pwnall/followers",
         "html_url": "https://github.com/pwnall"
      },
      "state": "closed",
      "closed_by": "8264a1",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24808",
      "updated_at": "2016-05-02T21:39:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24808/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 152483052,
      "closed_at": "2016-05-02T21:39:29Z",
      "created_at": "2016-05-02T05:24:26Z",
      "title": "has_many collection proxy's build does not create the correct STI class when the type argument is a Class object in Rails 5.0.0.beta4",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24808/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24808/comments",
      "html_url": "https://github.com/rails/rails/issues/24808"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "AS's Array#sum is much slower than core's implementation.\n### Steps to reproduce\n\n```\n$ git rev-parse --short HEAD\na4b3c78\n$ cat array_sum.rb\nclass Array\n  alias core_sum sum\nend\n\nrequire 'benchmark/ips'\nrequire 'active_support/core_ext/enumerable'\n\nary = [1.0] * 1_000_000\n\nBenchmark.ips do |x|\n  x.report(\"core sum\") { ary.core_sum }\n  x.report(\"AS's sum\") { ary.sum }\n\n   x.compare!\nend\n$ ruby -v -I lib array_sum.rb\nruby 2.4.0dev (2016-04-30 trunk 54853) [x86_64-darwin15]\nCalculating -------------------------------------\n            core sum    12.000  i/100ms\n            AS's sum     2.000  i/100ms\n-------------------------------------------------\n            core sum    122.514  (\u00b1 8.2%) i/s -    612.000\n            AS's sum     27.684  (\u00b110.8%) i/s -    138.000\n\nComparison:\n            core sum:      122.5 i/s\n            AS's sum:       27.7 i/s - 4.43x slower\n```\n### Expected behavior\n\nRuby 2.4 has Array#sum, so AS's implementation should be as fast as core's implementation.\n### Actual behavior\n\nAS's implementation is about 4x slower than core's implementation.\n### System configuration\n\n**Rails version**: a4b3c78\n\n**Ruby version**: ruby 2.4.0dev (2016-04-30 trunk 54853) [x86_64-darwin15]\n",
      "number": 24804,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mrkn/subscriptions",
         "received_events_url": "https://api.github.com/users/mrkn/received_events",
         "url": "https://api.github.com/users/mrkn",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3959?v=4",
         "events_url": "https://api.github.com/users/mrkn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mrkn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mrkn/following{/other_user}",
         "repos_url": "https://api.github.com/users/mrkn/repos",
         "site_admin": false,
         "id": 3959,
         "organizations_url": "https://api.github.com/users/mrkn/orgs",
         "login": "mrkn",
         "gists_url": "https://api.github.com/users/mrkn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mrkn/followers",
         "html_url": "https://github.com/mrkn"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24804",
      "updated_at": "2016-05-02T01:36:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24804/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 152198309,
      "closed_at": "2016-05-02T01:36:12Z",
      "created_at": "2016-05-01T13:01:18Z",
      "title": "Array#sum is very slow",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24804/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24804/comments",
      "html_url": "https://github.com/rails/rails/issues/24804"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Should it be fixed to be more Hash-like and return deleted value?\n\nhttps://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/middleware/flash.rb#L181\n",
      "number": 24738,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/printercu/subscriptions",
         "received_events_url": "https://api.github.com/users/printercu/received_events",
         "url": "https://api.github.com/users/printercu",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1144890?v=4",
         "events_url": "https://api.github.com/users/printercu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/printercu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/printercu/following{/other_user}",
         "repos_url": "https://api.github.com/users/printercu/repos",
         "site_admin": false,
         "id": 1144890,
         "organizations_url": "https://api.github.com/users/printercu/orgs",
         "login": "printercu",
         "gists_url": "https://api.github.com/users/printercu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/printercu/followers",
         "html_url": "https://github.com/printercu"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24738",
      "updated_at": "2016-08-19T05:09:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24738/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 151180304,
      "closed_at": "2016-08-17T06:02:39Z",
      "created_at": "2016-04-26T16:29:47Z",
      "title": "FlashHash#delete returns self",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24738/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24738/comments",
      "html_url": "https://github.com/rails/rails/issues/24738"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true  do |t|\n    t.integer :lock_version\n    t.string :title\n  end\n\nend\n\nclass Post < ActiveRecord::Base\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    post = Post.create!(lock_version: nil)\n\n    post.title = 'some title'\n    post.save!\n  end\nend\n```\n",
      "number": 24695,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rubyonme/subscriptions",
         "received_events_url": "https://api.github.com/users/rubyonme/received_events",
         "url": "https://api.github.com/users/rubyonme",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1825322?v=4",
         "events_url": "https://api.github.com/users/rubyonme/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rubyonme/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rubyonme/following{/other_user}",
         "repos_url": "https://api.github.com/users/rubyonme/repos",
         "site_admin": false,
         "id": 1825322,
         "organizations_url": "https://api.github.com/users/rubyonme/orgs",
         "login": "rubyonme",
         "gists_url": "https://api.github.com/users/rubyonme/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rubyonme/followers",
         "html_url": "https://github.com/rubyonme"
      },
      "state": "closed",
      "closed_by": "24703",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24695",
      "updated_at": "2016-04-23T23:27:09Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24695/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 150532448,
      "closed_at": "2016-04-23T23:27:09Z",
      "created_at": "2016-04-23T08:28:48Z",
      "title": "Optimistic locking raise ActiveRecord::StaleObjectError when lock version in database is null",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24695/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24695/comments",
      "html_url": "https://github.com/rails/rails/issues/24695"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Tried to enable the read_multi function of collection rendering:\n\n``` erb\n# index.html.erb\n...\n<%= render 'items', :items => @list.items %>\n...\n\n# _items.html.erb\n<%= render items, :cached => true %>\n\n# _item.html.erb\n<% cache item do %>\n  ...\n<% end %>\n```\n\nThe page renders correctly but I'm not seeing any read_multi in the logs, just individual cache hits (file paths are different in this app than the example code above):\n\n```\n  Cache digest for app/views/application/_page_tile_toolbox.html.erb: afb213b860619a6f79ed4fc49b2a76d8\n  Cache digest for app/views/dashboard/profiles/_creative.html.erb: a7eaee609655c2793c5c5cf0ccf93ad9\nCache read: views/profile/creatives/5-20160422171844051161/a7eaee609655c2793c5c5cf0ccf93ad9\nRead fragment views/profile/creatives/5-20160422171844051161/a7eaee609655c2793c5c5cf0ccf93ad9 (0.7ms)\nCache read: views/profile/creatives/11-20160422171906464954/a7eaee609655c2793c5c5cf0ccf93ad9\nRead fragment views/profile/creatives/11-20160422171906464954/a7eaee609655c2793c5c5cf0ccf93ad9 (0.6ms)\nCache read: views/profile/creatives/15-20160422171918382337/a7eaee609655c2793c5c5cf0ccf93ad9\nRead fragment views/profile/creatives/15-20160422171918382337/a7eaee609655c2793c5c5cf0ccf93ad9 (0.6ms)\n```\n\nThe bigger problem occurs when specifying the partial location to use for rendering the collection:\n\n``` erb\n# index.html.erb\n...\n<%= render :partial => 'shared/items', :collection => @list.items, :cached => true %>\n...\n```\n\nNow I get:\n\n```\nNoMethodError - undefined method `read_multi' for nil:NilClass\nDid you mean?  readline:\n  actionview (5.0.0.beta3) lib/action_view/renderer/partial_renderer/collection_caching.rb:16:in `cache_collection_render'\n  actionview (5.0.0.beta3) lib/action_view/renderer/partial_renderer.rb:326:in `block in render_collection'\n  actionview (5.0.0.beta3) lib/action_view/renderer/abstract_renderer.rb:42:in `block in instrument'\n```\n\nI was able to fix this one with the following initializer:\n\n``` ruby\n# config/initializers/collection_cache.rb\nif Rails.application.config.action_controller.perform_caching\n  ActionView::PartialRenderer.collection_cache = Rails.cache\nelse\n  ActionView::PartialRenderer.collection_cache = ActiveSupport::Cache::NullStore.new\nend\n```\n\n```\n  Cache digest for app/views/dashboard/profiles/_creative.html.erb: c822e2dfacd675928f390bd337eb91af\nCache read_multi: [\"views/profile/creatives/5-20160422171844051161/c822e2dfacd675928f390bd337eb91af\", \"views/profile/creatives/11-20160422171906464954/c822e2dfacd675928f390bd337eb91af\", \"views/profile/creatives/15-20160422171918382337/c822e2dfacd675928f390bd337eb91af\"]\n```\n\nBut according to the comment at the top of https://github.com/rails/rails/blob/master/actionview/lib/action_view/renderer/partial_renderer/collection_caching.rb#L7 something similar should be happening in a Railtie somewhere?\n\nThis does NOT fix the first case (standard `render @collection` syntax): it still performs multiple reads every time.\n",
      "number": 24692,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
            "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
            "url": "https://api.github.com/users/prathamesh-sonpatki",
            "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
            "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
            "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
            "site_admin": false,
            "id": 621238,
            "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
            "login": "prathamesh-sonpatki",
            "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
            "html_url": "https://github.com/prathamesh-sonpatki"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cannikin/subscriptions",
         "received_events_url": "https://api.github.com/users/cannikin/received_events",
         "url": "https://api.github.com/users/cannikin",
         "avatar_url": "https://avatars1.githubusercontent.com/u/300?v=4",
         "events_url": "https://api.github.com/users/cannikin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cannikin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cannikin/following{/other_user}",
         "repos_url": "https://api.github.com/users/cannikin/repos",
         "site_admin": false,
         "id": 300,
         "organizations_url": "https://api.github.com/users/cannikin/orgs",
         "login": "cannikin",
         "gists_url": "https://api.github.com/users/cannikin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cannikin/followers",
         "html_url": "https://github.com/cannikin"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24692",
      "updated_at": "2016-04-27T19:40:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24692/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 150455347,
      "closed_at": "2016-04-27T11:57:41Z",
      "created_at": "2016-04-22T19:44:58Z",
      "title": "(Rails 5.0.0.beta3) Collection caching showing weird behavior (no read_multi in some cases, NoMethodError in others)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24692/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24692/comments",
      "html_url": "https://github.com/rails/rails/issues/24692"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nNest travel_to calls e.g.\n\n```\ntravel_to 2.days.ago do\n  travel_to 3.days.ago do\n    ...\n  end\n  # boom here when travel_back is invoked\nend\n```\n\nOf course I probably shouldn't nest travel_to, but it can happen in more complex test setup code when creating dependent objects over time.\n### Expected behavior\n\nOn the inside travel_back we should return to the outside travel_to, without affecting any of the stubs made by the outside block\n### Actual behavior\n\nThe inside unstubbing removes the stubs from the outside travel_to (speculation founded on some debugging and my sketchy understanding of the debugging process). When the outside tries to unstub we get undefined methods.\n### System configuration\n\nRails 4.2.5.1\n\n**Ruby version**:\nruby 2.1.8p440 (2015-12-16 revision 53160) [x86_64-darwin15.0]\n",
      "number": 24689,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/diabolo/subscriptions",
         "received_events_url": "https://api.github.com/users/diabolo/received_events",
         "url": "https://api.github.com/users/diabolo",
         "avatar_url": "https://avatars3.githubusercontent.com/u/11524?v=4",
         "events_url": "https://api.github.com/users/diabolo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/diabolo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/diabolo/following{/other_user}",
         "repos_url": "https://api.github.com/users/diabolo/repos",
         "site_admin": false,
         "id": 11524,
         "organizations_url": "https://api.github.com/users/diabolo/orgs",
         "login": "diabolo",
         "gists_url": "https://api.github.com/users/diabolo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/diabolo/followers",
         "html_url": "https://github.com/diabolo"
      },
      "state": "closed",
      "closed_by": "19e705",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24689",
      "updated_at": "2016-07-05T18:28:15Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24689/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 150376572,
      "closed_at": "2016-07-05T18:28:15Z",
      "created_at": "2016-04-22T13:56:52Z",
      "title": "Nesting travel_to's causes undefined method `__simple_stub__now'",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24689/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24689/comments",
      "html_url": "https://github.com/rails/rails/issues/24689"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nDuring time zone transition, when current time zone changes its `utc_offset`, `ActiveSupport::TimeZone` caches this information and it becomes stale.\n\nThis can be an issue when `TZInfo::TimeZone#current_period` is refreshed\ndue to time zone period transition, but it's not reflected in\n`ActiveSupport::TimeZone` object.\n\n For example, on `Sun, 26 Oct 2014 22:00 UTC`, [Moscow changed](http://www.timeanddate.com/time/zone/russia/moscow) its `TZ` from\n `MSK +04:00` to `MSK +03:00` (-1 hour). If `ActiveSupport::TimeZone['Moscow']`\n happens to be initialized just before the time zone transition, it will\n cache its stale `utc_offset` even after the time zone transition.\n### Test case\n\n``` ruby\n  def test_utc_offset_is_not_cached_when_current_period_gets_stale\n    tz = ActiveSupport::TimeZone.create('Moscow')\n    travel_to(Time.utc(2014, 10, 25, 21)) do # 1 hour before TZ change\n      assert_equal 14400, tz.utc_offset, 'utc_offset should be initialized according to current_period'\n    end\n\n    travel_to(Time.utc(2014, 10, 25, 22)) do # after TZ change\n      # fails here\n      assert_equal 10800, tz.utc_offset, 'utc_offset should not be cached when current_period gets stale'\n    end\n  end\n```\n### Expected behavior\n\nTest passes.\n`ActiveSupport::TimeZone#utc_offset` should be up-to-date even after timezone transition.\n### Actual behavior\n\n``` bash\n  1) Failure:\nTimeZoneTest#test_utc_offset_is_not_cached_when_current_period_gets_stale [test/time_zone_test.rb:328]:\nutc_offset should not be cached when current_period gets stale.\nExpected: 10800\n  Actual: 14400\n```\n\n`ActiveSupport::TimeZone#utc_offset` caches its initial value.\n### System configuration\n\n**Rails version**: 5.0.0.alpha\n\n**Ruby version**: ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-linux-gnu]\n",
      "number": 24659,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/conf/subscriptions",
         "received_events_url": "https://api.github.com/users/conf/received_events",
         "url": "https://api.github.com/users/conf",
         "avatar_url": "https://avatars3.githubusercontent.com/u/124417?v=4",
         "events_url": "https://api.github.com/users/conf/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/conf/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/conf/following{/other_user}",
         "repos_url": "https://api.github.com/users/conf/repos",
         "site_admin": false,
         "id": 124417,
         "organizations_url": "https://api.github.com/users/conf/orgs",
         "login": "conf",
         "gists_url": "https://api.github.com/users/conf/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/conf/followers",
         "html_url": "https://github.com/conf"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24659",
      "updated_at": "2016-04-21T06:18:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24659/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 149914715,
      "closed_at": "2016-04-21T06:18:32Z",
      "created_at": "2016-04-20T23:34:35Z",
      "title": "ActiveSupport::TimeZone#utc_offset gets stale during timezone transition",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24659/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24659/comments",
      "html_url": "https://github.com/rails/rails/issues/24659"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n```\n Hash.from_xml \"<?xml version=\\\"1.0\\\"?><a></a>\".freeze\n```\n\nIOError: not modifiable string\nfrom .../activesupport-4.2.6/lib/active_support/xml_mini/rexml.rb:27:in `ungetc'\n### Expected behavior\n\nI would expect Hash.from_xml not to fail on frozen strings\n### Actual behavior\n\nError raised\n### System configuration\n\nRails 4.2.6\nRuby 2.3.0\n",
      "number": 24647,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/gleseur/subscriptions",
         "received_events_url": "https://api.github.com/users/gleseur/received_events",
         "url": "https://api.github.com/users/gleseur",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1303269?v=4",
         "events_url": "https://api.github.com/users/gleseur/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/gleseur/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/gleseur/following{/other_user}",
         "repos_url": "https://api.github.com/users/gleseur/repos",
         "site_admin": false,
         "id": 1303269,
         "organizations_url": "https://api.github.com/users/gleseur/orgs",
         "login": "gleseur",
         "gists_url": "https://api.github.com/users/gleseur/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/gleseur/followers",
         "html_url": "https://github.com/gleseur"
      },
      "state": "closed",
      "closed_by": "d829df",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24647",
      "updated_at": "2016-05-21T12:48:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24647/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 149710589,
      "closed_at": "2016-05-21T12:16:21Z",
      "created_at": "2016-04-20T09:21:47Z",
      "title": "IOError: not modifiable string thrown by Hash.from_xml",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24647/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24647/comments",
      "html_url": "https://github.com/rails/rails/issues/24647"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi,\n\nI have some issues when I call `#present?` or `#blank?` (ok, this is not efficient, but a valid call) on a scope before I call `#last` .\nIn this case the order is \"random\".\n\nFor example the following calls:\n\n``` ruby\n user_sope = User.where('created_at > ?', 100.days.ago)\n user_scope.present?\n user_scope.last\n```\n\nI expect that the returned value is the last record ordered by primary key. With Rails 3 I did get the\nlast record but with rails 4 it returns a \"random\" record.\n\nI think this happens because `#present?` simply calls `#to_a` and does not respect\nthe default order by primary key. After this call `#last` checks if the records are `#loaded?`.\n\nIn this case `#loaded?` is `true` because of the previous `#to_a` call, but the order of the records is wrong. \n\nMaybe `#present?` should act like `#exsits?`without an argument.\n\nactiverecord-4.2.6\nrails-4.2.6\nruby 2.3.0p0\n\nregards\ndieter\n",
      "number": 24624,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/slowjack2k/subscriptions",
         "received_events_url": "https://api.github.com/users/slowjack2k/received_events",
         "url": "https://api.github.com/users/slowjack2k",
         "avatar_url": "https://avatars3.githubusercontent.com/u/379829?v=4",
         "events_url": "https://api.github.com/users/slowjack2k/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/slowjack2k/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/slowjack2k/following{/other_user}",
         "repos_url": "https://api.github.com/users/slowjack2k/repos",
         "site_admin": false,
         "id": 379829,
         "organizations_url": "https://api.github.com/users/slowjack2k/orgs",
         "login": "slowjack2k",
         "gists_url": "https://api.github.com/users/slowjack2k/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/slowjack2k/followers",
         "html_url": "https://github.com/slowjack2k"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24624",
      "updated_at": "2016-04-20T11:48:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24624/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 13,
      "id": 149410096,
      "closed_at": "2016-04-20T02:28:58Z",
      "created_at": "2016-04-19T10:00:37Z",
      "title": "ActiveRecord finder .last behave unexpectedly with previous use of present? or blank?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24624/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24624/comments",
      "html_url": "https://github.com/rails/rails/issues/24624"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Ruby 2.4 changes `Time#to_time` and `DateTime#to_time` to preserve timezone. This is a good thing, but it breaks Active Support's scheme to harmonize `#to_time` behavior.\n\nExample build failures:\n- https://github.com/rails/rails/blob/master/activesupport/test/core_ext/date_time_ext_test.rb#L55\n- https://github.com/rails/rails/blob/master/activesupport/test/core_ext/time_with_zone_test.rb#L423\n- https://travis-ci.org/rails/rails/jobs/124101215#L533-L542\n\nRuby changes:\n- DateTime: https://bugs.ruby-lang.org/issues/12189\n- Time: https://bugs.ruby-lang.org/issues/12271\n\nWe'll need to update our `#to_time` to feature-detect the new versions and behave consistently on Ruby 2.3.0 and 2.4.0.\n",
      "number": 24617,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
         "received_events_url": "https://api.github.com/users/jeremy/received_events",
         "url": "https://api.github.com/users/jeremy",
         "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
         "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeremy/repos",
         "site_admin": false,
         "id": 199,
         "organizations_url": "https://api.github.com/users/jeremy/orgs",
         "login": "jeremy",
         "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeremy/followers",
         "html_url": "https://github.com/jeremy"
      },
      "state": "closed",
      "closed_by": "9c5788",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/24617",
      "updated_at": "2017-03-22T21:06:33Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24617/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 11,
      "id": 149360417,
      "closed_at": "2016-04-23T14:12:31Z",
      "created_at": "2016-04-19T06:18:41Z",
      "title": "Ruby 2.4 #to_time incompatibility",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24617/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24617/comments",
      "html_url": "https://github.com/rails/rails/issues/24617"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When `ActionDispatch::Request` stopped inheriting from `Rack::Request`, the [methods](https://github.com/rack/rack/blob/241db7a81eb18860a0a7293675614472593c165a/lib/rack/request.rb#L19-L29) `[]` shortcut for  `request.params['some-key']` and `[]=` shortcut for `request.params['some-key'] = 'something'` were removed. I was wondering if there should at least be a deprecation warning to make upgrading easier. Otherwise, it is hard to upgrade to Rails 5 when multiple gems are still accessing the params using those methods.\n### System configuration\n\n**Rails version**: Rails 5.0.0.beta3\n\n**Ruby version**: ruby 2.3.0p0\n",
      "number": 24555,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
         "received_events_url": "https://api.github.com/users/tgxworld/received_events",
         "url": "https://api.github.com/users/tgxworld",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4335742?v=4",
         "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
         "repos_url": "https://api.github.com/users/tgxworld/repos",
         "site_admin": false,
         "id": 4335742,
         "organizations_url": "https://api.github.com/users/tgxworld/orgs",
         "login": "tgxworld",
         "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tgxworld/followers",
         "html_url": "https://github.com/tgxworld"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24555",
      "updated_at": "2016-05-08T00:30:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24555/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 18,
      "id": 148565016,
      "closed_at": "2016-05-08T00:30:40Z",
      "created_at": "2016-04-15T06:22:16Z",
      "title": "Shortcuts for `request.params[key]` and `request.params[key] = value` removed without deprecation.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24555/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24555/comments",
      "html_url": "https://github.com/rails/rails/issues/24555"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nclass Parent < ApplicationRecord\n  has_many :items, validate: true\nend\n\nclass Item < ApplicationRecord\n  belongs_to :parent\n  validates :name, presence: true\nend\n```\n### Expected behavior\n\n``` ruby\nitem1 = Item.new\nparent1 = Parent.new\nparent1.items << item1\nparent1.save! => Validation error\n\nitem2 = Item.new(name: \"bla\")\nparent2 = Parent.new\nparent2.items << item2\nparent2.save! => true\nitem2.name = nil\nitem2.save(validate: false)\nparent2.reload.save! => true\n```\n### Actual behavior\n\nitems are not validated on update\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: 2.3.0\n",
      "number": 24532,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jhaesus/subscriptions",
         "received_events_url": "https://api.github.com/users/jhaesus/received_events",
         "url": "https://api.github.com/users/jhaesus",
         "avatar_url": "https://avatars0.githubusercontent.com/u/873292?v=4",
         "events_url": "https://api.github.com/users/jhaesus/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jhaesus/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jhaesus/following{/other_user}",
         "repos_url": "https://api.github.com/users/jhaesus/repos",
         "site_admin": false,
         "id": 873292,
         "organizations_url": "https://api.github.com/users/jhaesus/orgs",
         "login": "jhaesus",
         "gists_url": "https://api.github.com/users/jhaesus/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jhaesus/followers",
         "html_url": "https://github.com/jhaesus"
      },
      "state": "closed",
      "closed_by": "24535",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24532",
      "updated_at": "2016-04-13T21:07:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24532/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 148004074,
      "closed_at": "2016-04-13T21:07:45Z",
      "created_at": "2016-04-13T09:38:02Z",
      "title": "Relations validate: true only runs on create",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24532/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24532/comments",
      "html_url": "https://github.com/rails/rails/issues/24532"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "# Steps to reproduce\n\nGo to chapter 6.4 'Generating a Controller' of the 'Getting Started with Rails' guide where the following  is stated: '$ bin/rails generate controller Comments'\n# Expected behavior\n\nIt's confusing that the first letter of the controller name is capitalized, because only Model names have a capitalized first letter. Also throughout the guide the generation of the article controller is written with a lower case first letter for the controller name.\nIt's true that the rails generate command ignores the capital letter and generates the controller with a lower case first letter, but I find this confusing for the reader.\n# Suggestion\n\nI suggest to use a lower case first letter like so: '$ bin/rails generate controller comments'.\nThen add a information box where there is stated that rails always generates controllers with lower case first letters despite the use of capital letters in de generate command.\n",
      "number": 24530,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/martinmoreau/subscriptions",
         "received_events_url": "https://api.github.com/users/martinmoreau/received_events",
         "url": "https://api.github.com/users/martinmoreau",
         "avatar_url": "https://avatars3.githubusercontent.com/u/18348609?v=4",
         "events_url": "https://api.github.com/users/martinmoreau/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/martinmoreau/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/martinmoreau/following{/other_user}",
         "repos_url": "https://api.github.com/users/martinmoreau/repos",
         "site_admin": false,
         "id": 18348609,
         "organizations_url": "https://api.github.com/users/martinmoreau/orgs",
         "login": "martinmoreau",
         "gists_url": "https://api.github.com/users/martinmoreau/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/martinmoreau/followers",
         "html_url": "https://github.com/martinmoreau"
      },
      "state": "closed",
      "closed_by": "24765",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24530",
      "updated_at": "2016-04-28T20:03:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24530/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 6,
      "id": 147969537,
      "closed_at": "2016-04-28T08:34:51Z",
      "created_at": "2016-04-13T07:23:19Z",
      "title": "confusing usage of capitalized first letter in 'Getting Started with Rail' documentation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24530/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24530/comments",
      "html_url": "https://github.com/rails/rails/issues/24530"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nWe have a complex test with rspec, database cleaner, factorygirl. Some runs are deadlocking. Debugging showed that there is a transaction started but not finished.\n\nA simplified case:\nhttps://gist.github.com/mfazekas/ccf9bee10dc4fe23f39d1da1b914993b\n### Expected behavior\n\nPass or error, but not a deadlock\n### Actual behavior\n\nDeadlock. Test doesn't finish\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n**Ruby version**: 2.3.0\n\ncannot repro in 4.2.0\n",
      "number": 24491,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mfazekas/subscriptions",
         "received_events_url": "https://api.github.com/users/mfazekas/received_events",
         "url": "https://api.github.com/users/mfazekas",
         "avatar_url": "https://avatars1.githubusercontent.com/u/52435?v=4",
         "events_url": "https://api.github.com/users/mfazekas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mfazekas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mfazekas/following{/other_user}",
         "repos_url": "https://api.github.com/users/mfazekas/repos",
         "site_admin": false,
         "id": 52435,
         "organizations_url": "https://api.github.com/users/mfazekas/orgs",
         "login": "mfazekas",
         "gists_url": "https://api.github.com/users/mfazekas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mfazekas/followers",
         "html_url": "https://github.com/mfazekas"
      },
      "state": "closed",
      "closed_by": "24610",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24491",
      "updated_at": "2016-04-22T22:31:30Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24491/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 147227145,
      "closed_at": "2016-04-22T18:56:43Z",
      "created_at": "2016-04-10T13:58:37Z",
      "title": "Transaction deadlock with rails 5 beta 3",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24491/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24491/comments",
      "html_url": "https://github.com/rails/rails/issues/24491"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nclass ItemsController\n  def update\n    redirect_to({action: :index})\n  end\n  def index\n    render plain: 'index'\n  end\nend\n...\n  def test_redirect\n    patch(:update,{id:12})\n    assert_redirected_to({action: :index})\n    # fails with:\n    # Expected response to be a redirect to <http://test.host/items?id=12> but was a redirect to <http://test.host/items>.\n\n  end\n```\n\nsee https://gist.github.com/mfazekas/922719bf65b3daeb7a0360e0ae7e7ebc for full repro script\n\nwas fine in rails 4.2\n### Expected behavior\n\ntest should pass\n### Actual behavior\n\nid seems to be added to `assert_redirected_to :index`\n\n```\n  1) Failure:\nItemsControllerTest#test_redirect [test_rails_redirect.rb:61]:\nExpected response to be a redirect to <http://test.host/items?id=12> but was a redirect to <http://test.host/items>.\nExpected \"http://test.host/items?id=12\" to be === \"http://test.host/items\".\n```\n### System configuration\n\n**Rails version**:5.0.0.beta3\n**Ruby version**:2.3.0\n",
      "number": 24438,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/schneems/subscriptions",
            "received_events_url": "https://api.github.com/users/schneems/received_events",
            "url": "https://api.github.com/users/schneems",
            "avatar_url": "https://avatars2.githubusercontent.com/u/59744?v=4",
            "events_url": "https://api.github.com/users/schneems/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/schneems/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/schneems/following{/other_user}",
            "repos_url": "https://api.github.com/users/schneems/repos",
            "site_admin": false,
            "id": 59744,
            "organizations_url": "https://api.github.com/users/schneems/orgs",
            "login": "schneems",
            "gists_url": "https://api.github.com/users/schneems/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/schneems/followers",
            "html_url": "https://github.com/schneems"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mfazekas/subscriptions",
         "received_events_url": "https://api.github.com/users/mfazekas/received_events",
         "url": "https://api.github.com/users/mfazekas",
         "avatar_url": "https://avatars1.githubusercontent.com/u/52435?v=4",
         "events_url": "https://api.github.com/users/mfazekas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mfazekas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mfazekas/following{/other_user}",
         "repos_url": "https://api.github.com/users/mfazekas/repos",
         "site_admin": false,
         "id": 52435,
         "organizations_url": "https://api.github.com/users/mfazekas/orgs",
         "login": "mfazekas",
         "gists_url": "https://api.github.com/users/mfazekas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mfazekas/followers",
         "html_url": "https://github.com/mfazekas"
      },
      "state": "closed",
      "closed_by": "24534",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24438",
      "updated_at": "2016-04-24T22:14:51Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24438/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/schneems/subscriptions",
         "received_events_url": "https://api.github.com/users/schneems/received_events",
         "url": "https://api.github.com/users/schneems",
         "avatar_url": "https://avatars2.githubusercontent.com/u/59744?v=4",
         "events_url": "https://api.github.com/users/schneems/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/schneems/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/schneems/following{/other_user}",
         "repos_url": "https://api.github.com/users/schneems/repos",
         "site_admin": false,
         "id": 59744,
         "organizations_url": "https://api.github.com/users/schneems/orgs",
         "login": "schneems",
         "gists_url": "https://api.github.com/users/schneems/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/schneems/followers",
         "html_url": "https://github.com/schneems"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 8,
      "id": 146106359,
      "closed_at": "2016-04-24T22:14:51Z",
      "created_at": "2016-04-05T21:06:46Z",
      "title": "Rails5 beta3 url_for appends unwanted parameters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24438/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24438/comments",
      "html_url": "https://github.com/rails/rails/issues/24438"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Especially prevents from comfortable SOA development, as you can't start different services at the same time and test the interactions between them.\n### Steps to reproduce\n1. Create new rails project (normal or api).\n2. Change a line in `config/puma.rb` to: `port ENV.fetch(\"PORT\") { 3010 }`.\n3. Run `$ rails s`.\n### Expected behavior\n\nPuma server should run on port `3010`.\n### Actual behavior\n\n`Listening on tcp://localhost:3000`\nPuma server runs on port `3000` instead of `3010`.\n### System configuration\n\n**Rails version**: `5.0.0.beta3`\n\n**Ruby version**: `ruby 2.2.2p95 (2015-04-13 revision 50295) [x86_64-linux]`\n",
      "number": 24435,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
            "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
            "url": "https://api.github.com/users/vipulnsward",
            "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
            "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
            "repos_url": "https://api.github.com/users/vipulnsward/repos",
            "site_admin": false,
            "id": 567626,
            "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
            "login": "vipulnsward",
            "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/vipulnsward/followers",
            "html_url": "https://github.com/vipulnsward"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
         "received_events_url": "https://api.github.com/users/ghost/received_events",
         "url": "https://api.github.com/users/ghost",
         "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
         "events_url": "https://api.github.com/users/ghost/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ghost/following{/other_user}",
         "repos_url": "https://api.github.com/users/ghost/repos",
         "site_admin": false,
         "id": 10137,
         "organizations_url": "https://api.github.com/users/ghost/orgs",
         "login": "ghost",
         "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ghost/followers",
         "html_url": "https://github.com/ghost"
      },
      "state": "closed",
      "closed_by": "ac4dab",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24435",
      "updated_at": "2017-05-16T03:12:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24435/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
         "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
         "url": "https://api.github.com/users/vipulnsward",
         "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
         "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
         "repos_url": "https://api.github.com/users/vipulnsward/repos",
         "site_admin": false,
         "id": 567626,
         "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
         "login": "vipulnsward",
         "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vipulnsward/followers",
         "html_url": "https://github.com/vipulnsward"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 33,
      "id": 146029374,
      "closed_at": "2017-02-25T01:30:55Z",
      "created_at": "2016-04-05T15:46:34Z",
      "title": "Rails 5 - Puma default port does not take effect",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24435/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24435/comments",
      "html_url": "https://github.com/rails/rails/issues/24435"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "According to [ActiveRecord::Reflection::AssociationReflection#derive_foreign_key](https://github.com/rails/rails/blob/52ce6ece8c8f74064bb64e0a0b1ddd83092718e1/activerecord/lib/active_record/reflection.rb#L610) and the current documentation, foreign key names are inferred via the class name of the model, when an explicit foreign key name is not provided.\n\nThe drawback of this approach is that custom table names are not taken into consideration when inferring the foreign key's name. \n\nI suggest instead using the following algorithm:\n\n``` ruby\ndef derive_foreign_key\n  if belongs_to?\n    \"#{name}_id\"\n  elsif options[:as]\n    \"#{options[:as]}_id\"\n  else\n    active_record.table_name.split(\".\").last.singularize.foreign_key\n  end\nend\n```\n\nThis has the following benefits:\n- Custom table names are supported\n- Fully-qualified table names are supported (allowing tables from other schemas not in the search path)\n- Backwards compatible with existing implementation\n",
      "number": 24424,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kenaniah/subscriptions",
         "received_events_url": "https://api.github.com/users/kenaniah/received_events",
         "url": "https://api.github.com/users/kenaniah",
         "avatar_url": "https://avatars2.githubusercontent.com/u/363800?v=4",
         "events_url": "https://api.github.com/users/kenaniah/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kenaniah/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kenaniah/following{/other_user}",
         "repos_url": "https://api.github.com/users/kenaniah/repos",
         "site_admin": false,
         "id": 363800,
         "organizations_url": "https://api.github.com/users/kenaniah/orgs",
         "login": "kenaniah",
         "gists_url": "https://api.github.com/users/kenaniah/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kenaniah/followers",
         "html_url": "https://github.com/kenaniah"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24424",
      "updated_at": "2016-04-04T23:49:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24424/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 145833319,
      "closed_at": "2016-04-04T23:49:05Z",
      "created_at": "2016-04-04T23:33:39Z",
      "title": "Foreign Key column names should be inferred via table name, not class name",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24424/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24424/comments",
      "html_url": "https://github.com/rails/rails/issues/24424"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nhttps://gist.github.com/Ladas/f066670b2a6ebabbe40c7d49ecd37dd3\n### Expected behavior\n\nTests in the gist ^ should pass\n### Actual behavior\n\nTests in the gist are not passing :-)\n",
      "number": 24413,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Ladas/subscriptions",
         "received_events_url": "https://api.github.com/users/Ladas/received_events",
         "url": "https://api.github.com/users/Ladas",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1737058?v=4",
         "events_url": "https://api.github.com/users/Ladas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Ladas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Ladas/following{/other_user}",
         "repos_url": "https://api.github.com/users/Ladas/repos",
         "site_admin": false,
         "id": 1737058,
         "organizations_url": "https://api.github.com/users/Ladas/orgs",
         "login": "Ladas",
         "gists_url": "https://api.github.com/users/Ladas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Ladas/followers",
         "html_url": "https://github.com/Ladas"
      },
      "state": "closed",
      "closed_by": "24192",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24413",
      "updated_at": "2016-04-06T03:46:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24413/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 145677787,
      "closed_at": "2016-04-06T03:46:56Z",
      "created_at": "2016-04-04T13:01:44Z",
      "title": "NoMethodError: undefined method `owners' for ActiveRecord::Associations::Preloader::NullPreloader:Class",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24413/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24413/comments",
      "html_url": "https://github.com/rails/rails/issues/24413"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n```\n$ cd activerecord\n$ bundle exec rake test_mysql2\n```\n### Minimum steps to reproduce\n\n```\n$ cd activerecord\n$ ARCONN=mysql2 bundle exec ruby -W -w -I\"lib:test\" \\\n  \"/home/yahonda/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/rake-11.1.1/lib/rake/rake_test_loader.rb\" \\\n  \"test/cases/ar_schema_test.rb\" \\\n  \"test/cases/tasks/database_tasks_test.rb\"\n```\n### Expected behavior\n\nUnit tests finished without errors\n### Actual behavior\n\nTell us what happens instead\n\n``` ruby\n  1) Error:\nActiveRecord::DatabaseTasksMigrateTest#test_migrate_clears_schema_cache_afterward:\nActiveRecord::StatementInvalid: Mysql2::Error: SAVEPOINT active_record_1 does not exist: ROLLBACK TO SAVEPOINT active_record_1\n    /home/yahonda/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mysql2-0.4.2/lib/mysql2/client.rb:107:in `_query'\n    /home/yahonda/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mysql2-0.4.2/lib/mysql2/client.rb:107:in `block in query'\n    /home/yahonda/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mysql2-0.4.2/lib/mysql2/client.rb:106:in `handle_interrupt'\n    /home/yahonda/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/mysql2-0.4.2/lib/mysql2/client.rb:106:in `query'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:235:in `block in execute'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:526:in `block in log'\n    /home/yahonda/git/rails/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:520:in `log'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:235:in `execute'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/mysql2_adapter.rb:128:in `execute'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/savepoints.rb:13:in `exec_rollback_to_savepoint'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:292:in `rollback_to_savepoint'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `rollback_to_savepoint'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:114:in `rollback'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:183:in `rollback_transaction'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:204:in `rescue in within_new_transaction'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/transaction.rb:201:in `within_new_transaction'\n    /home/yahonda/git/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:233:in `transaction'\n    /home/yahonda/git/rails/activerecord/lib/active_record/transactions.rb:211:in `transaction'\n    /home/yahonda/git/rails/activerecord/lib/active_record/transactions.rb:392:in `with_transaction_returning_status'\n    /home/yahonda/git/rails/activerecord/lib/active_record/persistence.rb:277:in `update!'\n    /home/yahonda/git/rails/activerecord/lib/active_record/internal_metadata.rb:22:in `[]='\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:1198:in `record_environment'\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:1192:in `migrate_without_lock'\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:1137:in `block in migrate'\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:1304:in `with_advisory_lock'\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:1137:in `migrate'\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:1011:in `up'\n    /home/yahonda/git/rails/activerecord/lib/active_record/migration.rb:989:in `migrate'\n    /home/yahonda/git/rails/activerecord/lib/active_record/tasks/database_tasks.rb:159:in `migrate'\n    /home/yahonda/git/rails/activerecord/test/cases/tasks/database_tasks_test.rb:334:in `test_migrate_clears_schema_cache_afterward'\n\n4826 runs, 13403 assertions, 0 failures, 1 errors, 5 skips\n\nYou have skipped tests. Run with --verbose for details.\nrake aborted!\n```\n### System configuration\n\n**Rails version**:\nmaster branch including https://github.com/rails/rails/commit/133befb59b8389cb483fd4194acdcddc5e288ab4\n\n**Ruby version**:\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-linux]\n\ndebug.log shows that it is trying to rollback to the savepoint which has been already released.\n\n``` ruby\n   (0.1ms)  SAVEPOINT active_record_1\n   (0.3ms)  RELEASE SAVEPOINT active_record_1\n   (0.2ms)  ROLLBACK TO SAVEPOINT active_record_1\n```\n",
      "number": 24391,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
         "received_events_url": "https://api.github.com/users/yahonda/received_events",
         "url": "https://api.github.com/users/yahonda",
         "avatar_url": "https://avatars3.githubusercontent.com/u/73684?v=4",
         "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
         "repos_url": "https://api.github.com/users/yahonda/repos",
         "site_admin": false,
         "id": 73684,
         "organizations_url": "https://api.github.com/users/yahonda/orgs",
         "login": "yahonda",
         "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yahonda/followers",
         "html_url": "https://github.com/yahonda"
      },
      "state": "closed",
      "closed_by": "24871",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24391",
      "updated_at": "2016-05-06T19:00:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24391/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 145175603,
      "closed_at": "2016-05-06T19:00:50Z",
      "created_at": "2016-04-01T13:02:01Z",
      "title": "bundle exec rake test_mysql2 causes Mysql2::Error: SAVEPOINT active_record_1 does not exist: ROLLBACK TO SAVEPOINT active_record_1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24391/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24391/comments",
      "html_url": "https://github.com/rails/rails/issues/24391"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` bash\nrbenv shell 2.3.0\ngem install rails -v '5.0.0.beta3'\nrails new test-a\ncd test-a\necho \"gem 'therubyracer', platforms: :ruby\" >> Gemfile\nbundle install && bundle update\nwhich rake\nbundle exec which rake\n#Next two lines works fine\nrake --rakefile \"`pwd`/Rakefile\" about\nrake --rakefile \"`pwd`/Rakefile\" --tasks\n# Next two lines would fail with output: \"invalid option: --rakefile\"\nrake --rakefile \"`pwd`/Rakefile\" test\nbundle exec rake --rakefile \"`pwd`/Rakefile\" test\n```\n### Expected behavior\n\nIt should work ;)\nRake arguments should be passed to rake.\n### Actual behavior\n\nGot exit code 1 and \"invalid option: --rakefile\" output\n\nAfter some 'debugging' I've next stacktrace:\n\n``` text\ninvalid option: --rakefile\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/test_unit/minitest_plugin.rb:57:in `plugin_rails_options'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/minitest-5.8.4/lib/minitest.rb:190:in `block (2 levels) in process_args'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/minitest-5.8.4/lib/minitest.rb:188:in `each'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/minitest-5.8.4/lib/minitest.rb:188:in `block in process_args'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/minitest-5.8.4/lib/minitest.rb:162:in `new'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/minitest-5.8.4/lib/minitest.rb:162:in `process_args'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/minitest-5.8.4/lib/minitest.rb:116:in `run'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/test_unit/minitest_plugin.rb:64:in `rake_run'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/test_unit/testing.rake:15:in `block in <top (required)>'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib/rake/task.rb:248:in `block in execute'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib/rake/task.rb:243:in `each'\n/home/vlad/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/rake-11.1.2/lib/rake/task.rb:243:in `execute'\n```\n\nIt seems test framework tries to parse all rake cli arguments\n### System configuration\n\n**Rails version**:\n5.0.0.beta3\n\n**Ruby version**:\n2.3.0 by rbenv\n",
      "number": 24372,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/VladRassokhin/subscriptions",
         "received_events_url": "https://api.github.com/users/VladRassokhin/received_events",
         "url": "https://api.github.com/users/VladRassokhin",
         "avatar_url": "https://avatars0.githubusercontent.com/u/552079?v=4",
         "events_url": "https://api.github.com/users/VladRassokhin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/VladRassokhin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/VladRassokhin/following{/other_user}",
         "repos_url": "https://api.github.com/users/VladRassokhin/repos",
         "site_admin": false,
         "id": 552079,
         "organizations_url": "https://api.github.com/users/VladRassokhin/orgs",
         "login": "VladRassokhin",
         "gists_url": "https://api.github.com/users/VladRassokhin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/VladRassokhin/followers",
         "html_url": "https://github.com/VladRassokhin"
      },
      "state": "closed",
      "closed_by": "24696",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24372",
      "updated_at": "2016-12-20T20:27:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24372/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 26,
      "id": 144678808,
      "closed_at": "2016-04-25T06:07:52Z",
      "created_at": "2016-03-30T18:21:23Z",
      "title": "Valid rake command line arguments reported as invalid on running 'test' task",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24372/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24372/comments",
      "html_url": "https://github.com/rails/rails/issues/24372"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nrequire 'bundler/setup'\nrequire 'active_record'\nActiveRecord::Base.establish_connection(\"postgres://postgres@localhost:5432/test\")\nActiveRecord::Base.connection.tap do |conn|\n  conn.create_table(:a_table) { |t| t.text :a_column }\n  conn.exec_query 'CREATE INDEX expr_index ON a_table (LOWER(a_column))'\n  conn.remove_index :a_table, name: :expr_index\nend\n```\n### Expected behavior\n\nThe index should be removed. Works correctly in Rails 4.1 and 4.2, but not Rails 5.\n### Actual behavior\n\n```\nArgumentError:\n  No indexes found on a_table with the options provided.\n```\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: MRI 2.3.0\n",
      "number": 24359,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/glebm/subscriptions",
         "received_events_url": "https://api.github.com/users/glebm/received_events",
         "url": "https://api.github.com/users/glebm",
         "avatar_url": "https://avatars0.githubusercontent.com/u/216339?v=4",
         "events_url": "https://api.github.com/users/glebm/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/glebm/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/glebm/following{/other_user}",
         "repos_url": "https://api.github.com/users/glebm/repos",
         "site_admin": false,
         "id": 216339,
         "organizations_url": "https://api.github.com/users/glebm/orgs",
         "login": "glebm",
         "gists_url": "https://api.github.com/users/glebm/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/glebm/followers",
         "html_url": "https://github.com/glebm"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24359",
      "updated_at": "2016-04-24T21:31:02Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24359/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 16,
      "id": 144287999,
      "closed_at": "2016-04-24T21:28:38Z",
      "created_at": "2016-03-29T14:47:49Z",
      "title": "remove_index fails to find expression index on postgresql",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24359/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24359/comments",
      "html_url": "https://github.com/rails/rails/issues/24359"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n1. Try to set a breakpoint in a test fixture ERB injection e.g on line 3 in the following file\n\n``` yaml\n<% env = ENV['RAILS_ENV']%>\none:\n  title: <%= env %>\n\ntwo:\n  title: MyString\n```\n1. Debug tests\n### Expected behaviour\n\nDebugger should stop at the breakpoint in fixture file\n### Actual behaviour\n\nDebugger does not stop at the breakpoint, because file information is not passed into ERB\n### System configuration\n\n**Rails version**:\nAny\n**Ruby version**:\nAny\n\nCorresponding issue in [RubyMine bugtracker](https://youtrack.jetbrains.com/issue/RUBY-17359)\n",
      "number": 24355,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/denofevil/subscriptions",
         "received_events_url": "https://api.github.com/users/denofevil/received_events",
         "url": "https://api.github.com/users/denofevil",
         "avatar_url": "https://avatars1.githubusercontent.com/u/32124?v=4",
         "events_url": "https://api.github.com/users/denofevil/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/denofevil/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/denofevil/following{/other_user}",
         "repos_url": "https://api.github.com/users/denofevil/repos",
         "site_admin": false,
         "id": 32124,
         "organizations_url": "https://api.github.com/users/denofevil/orgs",
         "login": "denofevil",
         "gists_url": "https://api.github.com/users/denofevil/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/denofevil/followers",
         "html_url": "https://github.com/denofevil"
      },
      "state": "closed",
      "closed_by": "24356",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24355",
      "updated_at": "2016-03-30T09:51:52Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24355/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 144236026,
      "closed_at": "2016-03-30T09:51:52Z",
      "created_at": "2016-03-29T11:35:11Z",
      "title": "No file information is provided for fixtures ERB",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24355/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24355/comments",
      "html_url": "https://github.com/rails/rails/issues/24355"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n`number_to_currency(42, unit: nil)`\n### Expected behavior\n\nA string without unit (as nil separator or nil delimiter outputs no separator or no delimiter)\n\n`42.00`\n### Actual behavior\n\n```\nTypeError: no implicit conversion of nil into String\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activesupport-4.2.6/lib/active_support/number_helper/number_to_currency_converter.rb:16:in `gsub'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activesupport-4.2.6/lib/active_support/number_helper/number_to_currency_converter.rb:16:in `convert'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activesupport-4.2.6/lib/active_support/number_helper/number_converter.rb:132:in `execute'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activesupport-4.2.6/lib/active_support/number_helper/number_converter.rb:118:in `convert'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activesupport-4.2.6/lib/active_support/number_helper.rb:86:in `number_to_currency'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/actionview-4.2.6/lib/action_view/helpers/number_helper.rb:388:in `public_send'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/actionview-4.2.6/lib/action_view/helpers/number_helper.rb:388:in `block in delegate_number_helper_method'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/actionview-4.2.6/lib/action_view/helpers/number_helper.rb:412:in `wrap_with_output_safety_handling'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/actionview-4.2.6/lib/action_view/helpers/number_helper.rb:387:in `delegate_number_helper_method'\n    from /Users/hugohache/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/actionview-4.2.6/lib/action_view/helpers/number_helper.rb:108:in `number_to_currency'\n```\n### System configuration\n\n**Rails version**: 4.2.6\n\n**Ruby version**: 2.3.0\n",
      "number": 24352,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Hugo-Hache/subscriptions",
         "received_events_url": "https://api.github.com/users/Hugo-Hache/received_events",
         "url": "https://api.github.com/users/Hugo-Hache",
         "avatar_url": "https://avatars0.githubusercontent.com/u/5188983?v=4",
         "events_url": "https://api.github.com/users/Hugo-Hache/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Hugo-Hache/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Hugo-Hache/following{/other_user}",
         "repos_url": "https://api.github.com/users/Hugo-Hache/repos",
         "site_admin": false,
         "id": 5188983,
         "organizations_url": "https://api.github.com/users/Hugo-Hache/orgs",
         "login": "Hugo-Hache",
         "gists_url": "https://api.github.com/users/Hugo-Hache/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Hugo-Hache/followers",
         "html_url": "https://github.com/Hugo-Hache"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24352",
      "updated_at": "2016-10-19T11:02:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24352/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 144208794,
      "closed_at": "2016-03-30T03:54:35Z",
      "created_at": "2016-03-29T09:30:00Z",
      "title": "number_to_currency crashing with nil unit",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24352/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24352/comments",
      "html_url": "https://github.com/rails/rails/issues/24352"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n```\nclass Portfolio < ActiveRecord::Base\n  has_many :tickets\nend\nclass Ticket < ActiveRecord::Base\n  belongs_to :portfolio\nend\n\n@tickets = Ticket.includes(:portfolio).select('tickets.*', 'SUBSTRING(tickets.title,1,4) as code')\n@tickets.first.as_json\n@tickets.references(:portfolio).first.as_json\n```\n### Expected behavior\n\n`@tickets.first.as_json` should be equal to `@tickets.references(:portfolios).first.as_json`\n### Actual behavior\n\n`@tickets.first.as_json` includes the **code** (alias column defined in the `select`)\n`@tickets.references(:portfolios).first.as_json` does not include the **code** (alias column defined in the `select`)\n### Note\n\nThe problem arises only when `eager_load` is called by `includes`, `preload` works fine. More to that, using `joins` works fine aswell. \n### System configuration\n\n**Rails version**: 4.2.6\n\n**Ruby version**: 2.1.8\n",
      "number": 24314,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/salmanasiddiqui/subscriptions",
         "received_events_url": "https://api.github.com/users/salmanasiddiqui/received_events",
         "url": "https://api.github.com/users/salmanasiddiqui",
         "avatar_url": "https://avatars0.githubusercontent.com/u/5300463?v=4",
         "events_url": "https://api.github.com/users/salmanasiddiqui/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/salmanasiddiqui/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/salmanasiddiqui/following{/other_user}",
         "repos_url": "https://api.github.com/users/salmanasiddiqui/repos",
         "site_admin": false,
         "id": 5300463,
         "organizations_url": "https://api.github.com/users/salmanasiddiqui/orgs",
         "login": "salmanasiddiqui",
         "gists_url": "https://api.github.com/users/salmanasiddiqui/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/salmanasiddiqui/followers",
         "html_url": "https://github.com/salmanasiddiqui"
      },
      "state": "closed",
      "closed_by": "24476",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24314",
      "updated_at": "2016-08-09T08:49:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24314/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 10,
      "id": 143482053,
      "closed_at": "2016-08-09T08:49:49Z",
      "created_at": "2016-03-25T11:36:18Z",
      "title": "as_json works differently for preload and eagerload",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24314/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24314/comments",
      "html_url": "https://github.com/rails/rails/issues/24314"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nclass Dummy\n  include ActiveModel::Model\n  attr_accessor :name\nend\n\nrecord = Dummy.new\n\nrecord.errors # => #<ActiveModel::Errors, @messages={}, @details={}>\n\nrecord.errors.include? :foo # => false\n\nrecord.errors # => #<ActiveModel::Errors @messages={:foo=>[]}, @details={}>\n```\n### Expected behavior\n\nChecking if ActiveModel::Errors has a value, shouldn't add that key to the `@messages` hash.\n### Actual behavior\n\nBy doing `record.errors.include? :foo`, it actually adds a new key to the `@messages` hash that defaults to an empty array.\n\nThis happens because of a combination of these 2 commits:\nhttps://github.com/rails/rails/commit/b97035df64f5b2f912425c4a7fcb6e6bb3ddab8d (Added in Rails 4.1)\nand\nhttps://github.com/rails/rails/commit/6ec8ba16d85d5feaccb993c9756c1edcbbf0ba13#diff-fdcf8b65b5fb954372c6fe1ddf284c78R76 (Rails 5.0)\n\nBy adding the default proc that returns an array for non-existing keys, ruby adds that key to the hash.\n\nIdeally, `#include?` should do check with `has_key?` and then check if that value is `present?`.\n\nWhat do you think?\nMore than happy to send a PR if you think this is correct. Is it worth to add a test case?\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: 2.2.4, 2.3.0\n",
      "number": 24279,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kitop/subscriptions",
         "received_events_url": "https://api.github.com/users/kitop/received_events",
         "url": "https://api.github.com/users/kitop",
         "avatar_url": "https://avatars3.githubusercontent.com/u/143179?v=4",
         "events_url": "https://api.github.com/users/kitop/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kitop/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kitop/following{/other_user}",
         "repos_url": "https://api.github.com/users/kitop/repos",
         "site_admin": false,
         "id": 143179,
         "organizations_url": "https://api.github.com/users/kitop/orgs",
         "login": "kitop",
         "gists_url": "https://api.github.com/users/kitop/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kitop/followers",
         "html_url": "https://github.com/kitop"
      },
      "state": "closed",
      "closed_by": "24299",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24279",
      "updated_at": "2016-03-25T12:25:19Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24279/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 142776839,
      "closed_at": "2016-03-25T12:25:19Z",
      "created_at": "2016-03-22T20:52:21Z",
      "title": "ActiveModel::Errors#include? adding a key to @messages hash",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24279/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24279/comments",
      "html_url": "https://github.com/rails/rails/issues/24279"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nSee related issue: https://github.com/ManageIQ/manageiq/pull/7476\n\nGiven the following set of migrations (I'm using the Postgresql adapter here):\n\nMigration 1:\n\n``` ruby\nclass CreateUsers < ActiveRecord::Migration[5.0]\n  def change\n    create_table :users do |t|\n      t.string :name\n      t.integer :age\n      t.string :title\n\n      t.timestamps\n    end\n  end\nend\n```\n\nMigration 2:\n\n``` ruby\nclass RemoveTitleFromUsers < ActiveRecord::Migration[5.0]\n  def change\n    remove_column :users, :title, :string\n  end\nend\n```\n\nIt appears that the schema cache does not invalidate the removed column after it's removal. \n\nWhat this means is that anything depending on those columns in the same process does not work. A common setup task could include the following command:\n\n`rake db:drop db:create db:migrate db:seed`\n\nAnything in `seeds.rb` will have incorrect `#columns` information.\n\nAdding the following statements to our removal migration and seeds...\n\n``` ruby\n# Migration with the removal...\n  def change\n    puts \"Before remove_column:\"\n    puts User.columns.select { |c| c.name == \"title\" }.inspect\n    remove_column :users, :title, :string\n    puts \"After remove_column:\"\n    puts User.columns.select { |c| c.name == \"title\" }.inspect\n  end\n\n# ------------\n\n# db/seeds.rb\nputs \"In seeds:\"\nputs User.columns.select { |c| c.name == \"title\" }.try(:inspect)\n```\n\nYields the following behavior with `rake db:drop db:create db:migrate db:seed`:\n\n``` plaintext\n~/workspace/rails-sandbox/test_app(branch:master*) \u00bb be rake db:drop db:create db:migrate db:seed                                         carcand@carcand-OSX\n== 20160322165908 CreateUsers: migrating ======================================\n-- create_table(:users)\n   -> 0.0036s\n== 20160322165908 CreateUsers: migrated (0.0037s) =============================\n\n== 20160322170122 RemoveTitleFromUsers: migrating =============================\nBefore remove_column:\n[#<ActiveRecord::ConnectionAdapters::PostgreSQLColumn:0x007f8f8880bb68 @name=\"title\", @table_name=\"users\", @sql_type_metadata=#<ActiveRecord::ConnectionAdapters::SqlTypeMetadata:0x007f8f8880bca8 @sql_type=\"character varying\", @type=:string, @limit=nil, @precision=nil, @scale=nil>, @null=true, @default=nil, @default_function=nil, @collation=nil>]\n-- remove_column(:users, :title, :string)\n   -> 0.0004s\nAfter remove_column:\n[#<ActiveRecord::ConnectionAdapters::PostgreSQLColumn:0x007f8f8880bb68 @name=\"title\", @table_name=\"users\", @sql_type_metadata=#<ActiveRecord::ConnectionAdapters::SqlTypeMetadata:0x007f8f8880bca8 @sql_type=\"character varying\", @type=:string, @limit=nil, @precision=nil, @scale=nil>, @null=true, @default=nil, @default_function=nil, @collation=nil>]\n== 20160322170122 RemoveTitleFromUsers: migrated (0.0037s) ====================\n\nIn seeds:\n[#<ActiveRecord::ConnectionAdapters::PostgreSQLColumn:0x007f8f8880bb68 @name=\"title\", @table_name=\"users\", @sql_type_metadata=#<ActiveRecord::ConnectionAdapters::SqlTypeMetadata:0x007f8f8880bca8 @sql_type=\"character varying\", @type=:string, @limit=nil, @precision=nil, @scale=nil>, @null=true, @default=nil, @default_function=nil, @collation=nil>]\n```\n\nAnd the following behavior with `rake db:drop db:create db:migrate && rake db:seed`:\n\n``` plaintext\n~/workspace/rails-sandbox/test_app(branch:master*) \u00bb be rake db:drop db:create db:migrate && be rake db:seed                              carcand@carcand-OSX\n== 20160322165908 CreateUsers: migrating ======================================\n-- create_table(:users)\n   -> 0.0045s\n== 20160322165908 CreateUsers: migrated (0.0046s) =============================\n\n== 20160322170122 RemoveTitleFromUsers: migrating =============================\nBefore remove_column:\n[#<ActiveRecord::ConnectionAdapters::PostgreSQLColumn:0x007fd7ea3dc330 @name=\"title\", @table_name=\"users\", @sql_type_metadata=#<ActiveRecord::ConnectionAdapters::SqlTypeMetadata:0x007fd7ea3dc588 @sql_type=\"character varying\", @type=:string, @limit=nil, @precision=nil, @scale=nil>, @null=true, @default=nil, @default_function=nil, @collation=nil>]\n-- remove_column(:users, :title, :string)\n   -> 0.0005s\nAfter remove_column:\n[#<ActiveRecord::ConnectionAdapters::PostgreSQLColumn:0x007fd7ea3dc330 @name=\"title\", @table_name=\"users\", @sql_type_metadata=#<ActiveRecord::ConnectionAdapters::SqlTypeMetadata:0x007fd7ea3dc588 @sql_type=\"character varying\", @type=:string, @limit=nil, @precision=nil, @scale=nil>, @null=true, @default=nil, @default_function=nil, @collation=nil>]\n== 20160322170122 RemoveTitleFromUsers: migrated (0.0046s) ====================\n\nIn seeds:\n[]\n```\n### Expected behavior\n\n`User.columns` does not include a `title` object as that column has been removed.\n### Actual behavior\n\n`User.columns` includes a `title` object even as that column has been removed.\n### System configuration\n\n**Rails version**: Edge\n\n**Ruby version**: 2.3.0\n\nI'd love to help find a fix for this issue but would need a bit of guidance about where to start; I've not dug into the cacheing here before.\n\ncc/ @jrafanie @matthewd \n",
      "number": 24273,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chrisarcand/subscriptions",
         "received_events_url": "https://api.github.com/users/chrisarcand/received_events",
         "url": "https://api.github.com/users/chrisarcand",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2430490?v=4",
         "events_url": "https://api.github.com/users/chrisarcand/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chrisarcand/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chrisarcand/following{/other_user}",
         "repos_url": "https://api.github.com/users/chrisarcand/repos",
         "site_admin": false,
         "id": 2430490,
         "organizations_url": "https://api.github.com/users/chrisarcand/orgs",
         "login": "chrisarcand",
         "gists_url": "https://api.github.com/users/chrisarcand/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chrisarcand/followers",
         "html_url": "https://github.com/chrisarcand"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24273",
      "updated_at": "2016-03-28T20:11:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24273/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 142730343,
      "closed_at": "2016-03-28T20:11:38Z",
      "created_at": "2016-03-22T17:59:54Z",
      "title": "Schema cache does not update with removed columns",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24273/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24273/comments",
      "html_url": "https://github.com/rails/rails/issues/24273"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have a simple Rails 5.0.0beta3 app with a simple form to create a record. Default configuration and environment in development.\n\n> <%= form_for @node, url: admin_book_nodes_url, as: :node do |form| %>\n> <%= render \"form\", f: form %>\n> \n> <p><%= form.submit %> or <%= link_to \"Cancel\", admin_book_nodes_path %></p>\n> \n> <% end %>\n\nWhen the form is loaded through a link on another page of the app, on submission a `ActionController::InvalidAuthenticityToken` is generated.\n\n> 'Started POST \"/admin/book/nodes\" for ::1 at 2016-03-20 11:54:31 +0000\n> Processing by Admin::Book::NodesController#create as HTML\n>   Parameters: {\"utf8\"=>\"\u2713\", \"authenticity_token\"=>\"/G5pF6hSPx0Vf21Fi0FCh+VlOcHY4w8C5lmHmwr3NQRjfXUP9/xboybeV3tevmyTyHcwSX8LplU/HgZVGDbGlw==\", \"node\"=>{\"parent_id\"=>\"1\", \"position\"=>\"1\", \"title\"=>\"lkjlkj\", \"description\"=>\"lkjlj\", \"published\"=>\"0\", \"content\"=>\"lkjlkj\"}, \"commit\"=>\"Create node\"}\n> Can't verify CSRF token authenticity\n> Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms)'\n\nHowever if the form page is manually reload before being filled then everything works fine. The behaviour is the same with both Safari and Chrome.\n\nWhat I have noticed:\n- When the form is loaded from a link on another page (failure case), it is loaded by Turbolinks through an XHR request. In such case the page authenticity token in `csrf_meta_tags` and the form's token in `authenticity_token` have different values.\n- When the form is loaded or reloaded by the browser (successful case), so not by Turbolinks the tokens in  in `csrf_meta_tags` and the form's `authenticity_token` are the same.\n\nDisabling Turbolinks specifically for the link to the form (e.g. `<a data-turbolinks=\"false\" href=\"/admin/book/nodes/new\">New node</a>`) will also prevent the issue.\n\nIt does not seem the same as [#23524](https://github.com/rails/rails/issues/23524), but perhaps it is related.\n\nNote also my submission on [Stackoverflow](http://stackoverflow.com/questions/36112939/rails-5-0-0beta3-actioncontrollerinvalidauthenticitytoken-in-development).\n",
      "number": 24257,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/elbartoloco/subscriptions",
         "received_events_url": "https://api.github.com/users/elbartoloco/received_events",
         "url": "https://api.github.com/users/elbartoloco",
         "avatar_url": "https://avatars3.githubusercontent.com/u/17462960?v=4",
         "events_url": "https://api.github.com/users/elbartoloco/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/elbartoloco/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/elbartoloco/following{/other_user}",
         "repos_url": "https://api.github.com/users/elbartoloco/repos",
         "site_admin": false,
         "id": 17462960,
         "organizations_url": "https://api.github.com/users/elbartoloco/orgs",
         "login": "elbartoloco",
         "gists_url": "https://api.github.com/users/elbartoloco/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/elbartoloco/followers",
         "html_url": "https://github.com/elbartoloco"
      },
      "state": "closed",
      "closed_by": "1191",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24257",
      "updated_at": "2017-10-17T11:59:39Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24257/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 19,
      "id": 142184666,
      "closed_at": "2016-04-24T21:32:34Z",
      "created_at": "2016-03-20T17:38:33Z",
      "title": "Rails 5.0.0beta3: form authenticity_token does not work when page loaded by Turbolinks",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24257/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24257/comments",
      "html_url": "https://github.com/rails/rails/issues/24257"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n[executable test case](https://gist.github.com/willnet/ad7051680a340624b72c)\n- create new rails project\n- rails g scaffold post title\n- rails db:migrate\n- modify post model like following\n\n``` ruby\nclass Post < ApplicationRecord\n  attribute :title, :string, default: -> { 'hello' }\nend\n```\n- rails s\n- visit http://localhost:3000/posts/new\n### Expected behavior\n\n![image](https://cloud.githubusercontent.com/assets/82371/13899309/5948ba04-ee2e-11e5-937a-0dbe272f5503.png)\n### Actual behavior\n\n![image](https://cloud.githubusercontent.com/assets/82371/13899295/0446ee90-ee2e-11e5-9625-c82859032751.png)\n### System configuration\n\n**Rails version**:\n5.0.0.beta3 and master\n\n**Ruby version**:\n2.3.0\n",
      "number": 24249,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/willnet/subscriptions",
         "received_events_url": "https://api.github.com/users/willnet/received_events",
         "url": "https://api.github.com/users/willnet",
         "avatar_url": "https://avatars2.githubusercontent.com/u/82371?v=4",
         "events_url": "https://api.github.com/users/willnet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/willnet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/willnet/following{/other_user}",
         "repos_url": "https://api.github.com/users/willnet/repos",
         "site_admin": false,
         "id": 82371,
         "organizations_url": "https://api.github.com/users/willnet/orgs",
         "login": "willnet",
         "gists_url": "https://api.github.com/users/willnet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/willnet/followers",
         "html_url": "https://github.com/willnet"
      },
      "state": "closed",
      "closed_by": "a06dab",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24249",
      "updated_at": "2016-03-24T21:00:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24249/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 142069680,
      "closed_at": "2016-03-24T21:00:17Z",
      "created_at": "2016-03-19T15:07:07Z",
      "title": "text_field doesn't display correctly with attribute default value of Proc",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24249/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24249/comments",
      "html_url": "https://github.com/rails/rails/issues/24249"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nHello guys,\nCan't include **ActionController::Cookies** into controller inherited from **ActionController::API**\n[Here is a gist reproducing the bug](https://gist.github.com/tenshilg/056076c0507709c587b7) \n### Expected behavior\n\nSuccessfully included **ActionController::Cookies** into **ApplicationController** inherited from **ActionController::API**\n### Actual behavior\n\nCan't include module due to method missing in **ActionController::API**\n### System configuration\n\n**Rails version**: all since 5.0.0 beta1\n\n**Ruby version**: 2.2.3, 2.3.0\n",
      "number": 24239,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tenshilg/subscriptions",
         "received_events_url": "https://api.github.com/users/tenshilg/received_events",
         "url": "https://api.github.com/users/tenshilg",
         "avatar_url": "https://avatars3.githubusercontent.com/u/6728845?v=4",
         "events_url": "https://api.github.com/users/tenshilg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenshilg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenshilg/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenshilg/repos",
         "site_admin": false,
         "id": 6728845,
         "organizations_url": "https://api.github.com/users/tenshilg/orgs",
         "login": "tenshilg",
         "gists_url": "https://api.github.com/users/tenshilg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenshilg/followers",
         "html_url": "https://github.com/tenshilg"
      },
      "state": "closed",
      "closed_by": "24304",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24239",
      "updated_at": "2016-03-24T23:01:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24239/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 141915790,
      "closed_at": "2016-03-21T17:58:02Z",
      "created_at": "2016-03-18T16:29:29Z",
      "title": "Method missing when including ActionController::Cookies in Rails 5.0 API",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24239/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24239/comments",
      "html_url": "https://github.com/rails/rails/issues/24239"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nRun command `rails generate mailer LoanMailer`\n\nAdd code to mailer:\n\n```\n  def notify\n    mail(:from => \"loans@gmail.com\", :to => \"email@gmail.com\", :subject => \"New Email\")\n  end\n```\n\nCall mailer:\n\n`LoanMailer.notify.deliver`\n### Expected behavior\n\nThe email should be sent and delivered to the recipient. \n### Actual behavior\n\n```\nCould not render layout: undefined local variable or method `mailer' for #<LoanMailer:0x007f83b50c3448>\n```\n### System configuration\n\n**Rails version**: Rails 5.0.0.beta3\n\n**Ruby version**:\nruby 2.2.2p95\n\nSwitching the layout line in application_mailer.rb seems to do the trick and send the email as desired.\n\nSwitch  `layout :mailer` to `layout \"mailer\"`\n",
      "number": 24230,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/hallmatt/subscriptions",
         "received_events_url": "https://api.github.com/users/hallmatt/received_events",
         "url": "https://api.github.com/users/hallmatt",
         "avatar_url": "https://avatars0.githubusercontent.com/u/904874?v=4",
         "events_url": "https://api.github.com/users/hallmatt/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/hallmatt/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/hallmatt/following{/other_user}",
         "repos_url": "https://api.github.com/users/hallmatt/repos",
         "site_admin": false,
         "id": 904874,
         "organizations_url": "https://api.github.com/users/hallmatt/orgs",
         "login": "hallmatt",
         "gists_url": "https://api.github.com/users/hallmatt/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/hallmatt/followers",
         "html_url": "https://github.com/hallmatt"
      },
      "state": "closed",
      "closed_by": "24231",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24230",
      "updated_at": "2016-03-21T17:09:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24230/events",
      "assignee": null,
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 141705130,
      "closed_at": "2016-03-21T17:09:59Z",
      "created_at": "2016-03-17T20:58:40Z",
      "title": "`Could not render layout: undefined local variable or method `mailer' for #",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24230/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24230/comments",
      "html_url": "https://github.com/rails/rails/issues/24230"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nCall reset_session on api only project.\n\nhttps://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/http/request.rb#L340\n\nhttps://github.com/rails/rails/commit/add46482a540b33184f3011c5c307f4b8e90c9cc#diff-3179d24efacadd64068c4d9c1184eac3\n### Expected behavior\n\nShould reset session\n### Actual behavior\n\nThrows exception NoMethodError (undefined method `flash=' for #ActionDispatch::Request:0x0056141a714b78):\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: 2.3.0\n",
      "number": 24222,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/milep/subscriptions",
         "received_events_url": "https://api.github.com/users/milep/received_events",
         "url": "https://api.github.com/users/milep",
         "avatar_url": "https://avatars2.githubusercontent.com/u/72924?v=4",
         "events_url": "https://api.github.com/users/milep/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/milep/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/milep/following{/other_user}",
         "repos_url": "https://api.github.com/users/milep/repos",
         "site_admin": false,
         "id": 72924,
         "organizations_url": "https://api.github.com/users/milep/orgs",
         "login": "milep",
         "gists_url": "https://api.github.com/users/milep/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/milep/followers",
         "html_url": "https://github.com/milep"
      },
      "state": "closed",
      "closed_by": "24229",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24222",
      "updated_at": "2016-03-21T17:06:15Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24222/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 141528880,
      "closed_at": "2016-03-21T17:06:15Z",
      "created_at": "2016-03-17T09:36:44Z",
      "title": "Reference to request.flash left in request.rb",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24222/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24222/comments",
      "html_url": "https://github.com/rails/rails/issues/24222"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n[Here's a gist using the ActiveRecord bug template demonstrating the issue](https://gist.github.com/batter/6947876631e7d72144c9)\n### Expected behavior\n\nI would expect that calling `ModelKlass.new.attribute_name_changed?` to always return `true` or `false`. Specifically in this case it should return `false` if the attribute has yet to changed, since it is a method with a question mark appended to the end of it.\n### Actual behavior\n\nIt returns `nil` in these cases. This is a departure from the behavior in the rest of the Rails 4.2 releases\n### System configuration\n\n**Rails version**:\n4.2.6\n\n**Ruby version**:\nI saw it happen on 2.2.1 and 2.3.0\n",
      "number": 24220,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/batter/subscriptions",
         "received_events_url": "https://api.github.com/users/batter/received_events",
         "url": "https://api.github.com/users/batter",
         "avatar_url": "https://avatars0.githubusercontent.com/u/951821?v=4",
         "events_url": "https://api.github.com/users/batter/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/batter/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/batter/following{/other_user}",
         "repos_url": "https://api.github.com/users/batter/repos",
         "site_admin": false,
         "id": 951821,
         "organizations_url": "https://api.github.com/users/batter/orgs",
         "login": "batter",
         "gists_url": "https://api.github.com/users/batter/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/batter/followers",
         "html_url": "https://github.com/batter"
      },
      "state": "closed",
      "closed_by": "24515",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24220",
      "updated_at": "2016-04-20T19:58:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24220/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 7,
      "id": 141421537,
      "closed_at": "2016-04-20T19:58:22Z",
      "created_at": "2016-03-16T22:28:34Z",
      "title": "ActiveModel::Dirty #{attribute_name}_changed? returning nil instead of false",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24220/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24220/comments",
      "html_url": "https://github.com/rails/rails/issues/24220"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "As stated in the title: when I use `alias_attribute` in a PORO for the common use case of creating a \"ends in question mark\" alias for an attribute that should be boolean (just like AR automatically does for boolean columns), I get a syntax error:\n\n```\nclass Widget\n  attr_accessor :active\n  alias_attribute :active?, :active\nend\n# => syntax error, unexpected '?', expecting ';' or '\\n'\n#    def active??; self.active?; end \n```\n\nAfter some confusion, I realise that this is actually probably the intended behaviour, because _attribute_ names shouldn't end in `?`; I should use `alias_method` rather than `alias_attribute`.\n\nBut the error message is extremely unintuitive and confusing, as it raises a `SyntaxError` when (from my perspective looking only at the `Widget` class), there's no syntax error in the Ruby I've written.\n\nWhen I try to create an invalid attribute name with `attr_accesor`, Ruby is much clearer:\n\n```\nclass Widget\n  attr_accessor :active?\nend\n# => NameError: invalid attribute name `active?'\n```\n\nWould it be possible to patch `alias_attribute` so it behaves identical to plain old Ruby `attr_*` methods when passed an invalid attribute name? I'm happy to make this change myself, I just wanted to make sure it's something you guys would accept before I put the time in.\n\n(PS if I'm not mistaken, valid attribute names in Ruby are those that match the regex `/\\A[_a-zA-Z][_a-zA-Z0-9]*\\z/`, amirite?)\n",
      "number": 24208,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/georgemillo/subscriptions",
         "received_events_url": "https://api.github.com/users/georgemillo/received_events",
         "url": "https://api.github.com/users/georgemillo",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2656485?v=4",
         "events_url": "https://api.github.com/users/georgemillo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/georgemillo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/georgemillo/following{/other_user}",
         "repos_url": "https://api.github.com/users/georgemillo/repos",
         "site_admin": false,
         "id": 2656485,
         "organizations_url": "https://api.github.com/users/georgemillo/orgs",
         "login": "georgemillo",
         "gists_url": "https://api.github.com/users/georgemillo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/georgemillo/followers",
         "html_url": "https://github.com/georgemillo"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24208",
      "updated_at": "2016-03-21T21:39:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24208/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 2,
      "id": 140970145,
      "closed_at": "2016-03-21T21:39:39Z",
      "created_at": "2016-03-15T13:22:22Z",
      "title": "alias_attribute in a PORO crashes unintuitively when the first argument ends in a question mark.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24208/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24208/comments",
      "html_url": "https://github.com/rails/rails/issues/24208"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nUnfortunately I haven't managed to reproduce it with the template, the code basically looks like:\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'activerecord', '5.0.0beta3'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :tasks, force: true  do |t|\n    t.datetime \"start_at\"\n  end\nend\n\nclass Task < ActiveRecord::Base\nend\n\nclass BugTest < Minitest::Test\n  def test_datetime\n    task = Task.new(\n      \"start_at(1i)\" => \"2016\", \n      \"start_at(2i)\" => \"\", \n      \"start_at(3i)\" => \"\", \n      \"start_at(4i)\" => \"\", \n      \"start_at(5i)\" => \"\"\n    )\n    p task.start_at\n  end\nend\n```\n### Expected behavior\n\nWhen calling `task.start_at` it should return `nil` and not raise a `NoMethodError` exception.\n### Actual behavior\n\nThe above works when run by itself, but produces the following error when it's being executed as part of a Rails application:\n\n```\nNoMethodError - undefined method `in_time_zone' for 0:Fixnum:\n  activerecord (5.0.0.beta3) lib/active_record/attribute_methods/time_zone_conversion.rb:42:in `set_time_zone_without_conversion'\n  activerecord (5.0.0.beta3) lib/active_record/attribute_methods/time_zone_conversion.rb:15:in `cast'\n  activerecord (5.0.0.beta3) lib/active_record/attribute.rb:150:in `type_cast'\n  activerecord (5.0.0.beta3) lib/active_record/attribute.rb:38:in `value'\n  activerecord (5.0.0.beta3) lib/active_record/attribute_set.rb:42:in `fetch_value'\n  activerecord (5.0.0.beta3) lib/active_record/attribute_methods/read.rb:66:in `_read_attribute'\n  activerecord (5.0.0.beta3) lib/active_record/attribute_methods/read.rb:36:in `__temp__3747162747f51647'\n```\n\nThis only happens when the date parameters are incomplete, when all are provided it works as expected.\n### System configuration\n\n**Rails version**: 5.0.0beta3\n\n**Ruby version**: `ruby 2.2.3p173 (2015-08-18 revision 51636) [x86_64-linux]`\n\nThe real application is using PostgreSQL 9.4.6, maybe Rails stores a `nil` which PG converts to `0` thus resulting in the error when the attribute is being retrieved?\n",
      "number": 24195,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Zapotek/subscriptions",
         "received_events_url": "https://api.github.com/users/Zapotek/received_events",
         "url": "https://api.github.com/users/Zapotek",
         "avatar_url": "https://avatars1.githubusercontent.com/u/375743?v=4",
         "events_url": "https://api.github.com/users/Zapotek/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Zapotek/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Zapotek/following{/other_user}",
         "repos_url": "https://api.github.com/users/Zapotek/repos",
         "site_admin": false,
         "id": 375743,
         "organizations_url": "https://api.github.com/users/Zapotek/orgs",
         "login": "Zapotek",
         "gists_url": "https://api.github.com/users/Zapotek/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Zapotek/followers",
         "html_url": "https://github.com/Zapotek"
      },
      "state": "closed",
      "closed_by": "27093",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24195",
      "updated_at": "2016-11-03T16:19:39Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24195/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 140803611,
      "closed_at": "2016-11-03T16:19:39Z",
      "created_at": "2016-03-14T21:33:08Z",
      "title": "NoMethodError with incomplete datetime data in model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24195/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24195/comments",
      "html_url": "https://github.com/rails/rails/issues/24195"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nAssume a codebase with the following simple data model:\n\n``` ruby\nActiveRecord::Schema.define(version: 20160314184305) do\n\n  create_table \"comments\", force: :cascade do |t|\n    t.text     \"body\"\n    t.integer  \"post_id\"\n    t.integer  \"author_id\"\n    t.datetime \"created_at\", null: false\n    t.datetime \"updated_at\", null: false\n  end\n\n  add_index \"comments\", [\"author_id\"], name: \"index_comments_on_author_id\"\n  add_index \"comments\", [\"post_id\"], name: \"index_comments_on_post_id\"\n\n  create_table \"posts\", force: :cascade do |t|\n    t.string   \"title\"\n    t.text     \"body\"\n    t.datetime \"created_at\", null: false\n    t.datetime \"updated_at\", null: false\n  end\n\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments\nend\n\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post\nend\n```\n\nFor larger applications, we sometimes need to give the database query planner hints as to what indexes to use. For example https://github.com/mirakui/activerecord-mysql-index-hint\n\nThat boils down to overriding the `from()` in the query:\n\n``` ruby\n# sqlite3 example https://sqlite.org/lang_indexedby.html\nComment.from(\"comments INDEXED BY index_comments_on_post_id\").count\n\n# mysql example http://dev.mysql.com/doc/refman/5.7/en/index-hints.html\nComment.from(\"comments FORCE INDEX(index_comments_on_post_id)\").count\n```\n\nThat works swell for the most part until you bring in `eager_load(:model)` which fails inside rails. (Also happens with `includes(:model).where(model: { ... })` to force Rails to execute a single query instead of multiple).\n### Expected behavior\n\nIt should query and return the results as expected.\n### Actual behavior\n\n```\nComment.from(\"comments INDEXED BY index_comments_on_post_id\").eager_load(:post).count\nNoMethodError: undefined method `map' for \"comments INDEXED BY index_comments_on_post_id\":Arel::Nodes::SqlLiteral\nDid you mean?  tap\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/associations/alias_tracker.rb:29:in `initial_count_for'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/associations/alias_tracker.rb:19:in `block in create'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/associations/alias_tracker.rb:60:in `aliased_table_for'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/associations/join_dependency.rb:97:in `initialize'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/finder_methods.rb:364:in `new'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/finder_methods.rb:364:in `construct_join_dependency'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/finder_methods.rb:375:in `construct_relation_for_association_calculations'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:125:in `calculate'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:42:in `count'\n        from (irb):13\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/console.rb:110:in `start'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/console.rb:9:in `start'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:68:in `console'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands.rb:17:in `<top (required)>'\n        from bin/rails:4:in `require'\n        from bin/rails:4:in `<main>'\n```\n### System configuration\n\n**Rails version**: 4.2.6 (but it affects 4.1.x too)\n\n**Ruby version**: 2.3.0 (and earlier versions as well)\n### Additional Notes\n\nFrom what I can tell it's a problem with https://github.com/rails/rails/blob/4232f7ee427a510eb07e420f5883611bcb0abfae/activerecord/lib/active_record/relation/finder_methods.rb#L405-L407 that always assumes `from()` is an Arel::Table.\n\nI tried exploring Arel::Table to see if I could include the SQL hint with that instead, but that fails for a different reason (quoting):\n\n```\nirb(main):001:0> temp_arel_table = Comment.arel_table.dup\n=> #<Arel::Table:0x007f88632d48d8 @name=\"comments\", @engine=Comment (call 'Comment.connection' to establish a connection), @columns=nil, @aliases=[], @table_alias=nil, @primary_key=nil>\nirb(main):002:0> temp_arel_table.name = \"comments INDEXED BY index_comments_on_post_id\"\n=> \"comments INDEXED BY index_comments_on_post_id\"\nirb(main):003:0> Comment.from(temp_arel_table).eager_load(:post).count\n   (0.2ms)  SELECT COUNT(DISTINCT \"comments\".\"id\") FROM \"comments INDEXED BY index_comments_on_post_id\" LEFT OUTER JOIN \"posts\" ON \"posts\".\"id\" = \"comments\".\"post_id\"\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: comments INDEXED BY index_comments_on_post_id: SELECT COUNT(DISTINCT \"comments\".\"id\") FROM \"comments INDEXED BY index_comments_on_post_id\" LEFT OUTER JOIN \"posts\" ON \"posts\".\"id\" = \"comments\".\"post_id\"\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/sqlite3-1.3.11/lib/sqlite3/database.rb:91:in `initialize'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/sqlite3-1.3.11/lib/sqlite3/database.rb:91:in `new'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/sqlite3-1.3.11/lib/sqlite3/database.rb:91:in `prepare'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/sqlite3_adapter.rb:296:in `block in exec_query'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/abstract_adapter.rb:472:in `block in log'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activesupport-4.2.6/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/abstract_adapter.rb:466:in `log'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/sqlite3_adapter.rb:293:in `exec_query'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/abstract/database_statements.rb:356:in `select'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/abstract/database_statements.rb:32:in `select_all'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/connection_adapters/abstract/query_cache.rb:70:in `select_all'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:264:in `execute_simple_calculation'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:221:in `perform_calculation'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:127:in `calculate'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:125:in `calculate'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/activerecord-4.2.6/lib/active_record/relation/calculations.rb:42:in `count'\n        from (irb):3\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/console.rb:110:in `start'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/console.rb:9:in `start'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:68:in `console'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n        from /Users/zmoazeni/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/gems/railties-4.2.6/lib/rails/commands.rb:17:in `<top (required)>'\n        from bin/rails:4:in `require'\n        from bin/rails:4:in `<main>'\n```\n",
      "number": 24193,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zmoazeni/subscriptions",
         "received_events_url": "https://api.github.com/users/zmoazeni/received_events",
         "url": "https://api.github.com/users/zmoazeni",
         "avatar_url": "https://avatars0.githubusercontent.com/u/314?v=4",
         "events_url": "https://api.github.com/users/zmoazeni/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zmoazeni/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zmoazeni/following{/other_user}",
         "repos_url": "https://api.github.com/users/zmoazeni/repos",
         "site_admin": false,
         "id": 314,
         "organizations_url": "https://api.github.com/users/zmoazeni/orgs",
         "login": "zmoazeni",
         "gists_url": "https://api.github.com/users/zmoazeni/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zmoazeni/followers",
         "html_url": "https://github.com/zmoazeni"
      },
      "state": "closed",
      "closed_by": "25374",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24193",
      "updated_at": "2017-06-27T08:05:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24193/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 140766736,
      "closed_at": "2016-06-13T15:03:38Z",
      "created_at": "2016-03-14T18:58:29Z",
      "title": "Setting `from(\"some_string\")` fails when eagerly loading an association",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24193/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24193/comments",
      "html_url": "https://github.com/rails/rails/issues/24193"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n- Create and run the following migrations to create a `products` table with an index:\n\n``` ruby\nclass CreateProducts < ActiveRecord::Migration[5.0]\n  def change\n    create_table :products do |t|\n      t.string :name\n    end\n  end\nend\n```\n\n``` ruby\nclass AddProductNameIndex < ActiveRecord::Migration[5.0]\n  disable_ddl_transaction!\n\n  def change\n    add_index(:products, :name, algorithm: :concurrently)\n  end\nend\n```\n- Run `rake db:migrate` to run the migrations\n- Run `rake db:rollback` to undo the index migration\n### Expected behavior\n\nSince the migration created the index concurrently, I would expect undoing it to drop the index concurrently i.e. run the following SQL:\n\n``` sql\nDROP INDEX CONCURRENTLY \"index_products_on_name\"\n```\n### Actual behavior\n\nCurrently undoing the migration does not drop the index concurrently i.e. it runs the following SQL:\n\n``` sql\nDROP INDEX \"index_products_on_name\"\n```\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: ruby-2.2.2\n",
      "number": 24190,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jturkel/subscriptions",
         "received_events_url": "https://api.github.com/users/jturkel/received_events",
         "url": "https://api.github.com/users/jturkel",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2598096?v=4",
         "events_url": "https://api.github.com/users/jturkel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jturkel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jturkel/following{/other_user}",
         "repos_url": "https://api.github.com/users/jturkel/repos",
         "site_admin": false,
         "id": 2598096,
         "organizations_url": "https://api.github.com/users/jturkel/orgs",
         "login": "jturkel",
         "gists_url": "https://api.github.com/users/jturkel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jturkel/followers",
         "html_url": "https://github.com/jturkel"
      },
      "state": "closed",
      "closed_by": "24199",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24190",
      "updated_at": "2017-09-21T10:20:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24190/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 140708429,
      "closed_at": "2017-09-21T10:20:24Z",
      "created_at": "2016-03-14T15:30:49Z",
      "title": "Rolling back add_index should use the same concurrently algorithm",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24190/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24190/comments",
      "html_url": "https://github.com/rails/rails/issues/24190"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nnot_frozen_string = ''\nnot_frozen_string.frozen? # false\ncast_value(not_frozen_string)\nnot_frozen_string.frozen? # true\n### Expected behavior\n\nActiveModel::Type::String#cast_value(value) doesn't freeze string value in-place\nActiveModel::Type::ImmutableString#cast_value(value) doesn't freeze string value in-place\n### Actual behavior\n\nActiveModel::Type::String#cast_value(value) freezes string value in-place\nActiveModel::Type::ImmutableString#cast_value(value) freezes string value in-place\n### System configuration\n\nRails master\n### My monkey patch\n\n``` ruby\nActiveModel::Type::ImmutableString.class_eval do\n  def cast_value(value)\n    case value\n    when true then 't'.freeze\n    when false then 'f'.freeze\n    when ::String then ::String.new(value).freeze\n    else value.to_s.freeze\n    end\n  end\nend\n```\n",
      "number": 24185,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zlobz/subscriptions",
         "received_events_url": "https://api.github.com/users/zlobz/received_events",
         "url": "https://api.github.com/users/zlobz",
         "avatar_url": "https://avatars2.githubusercontent.com/u/5259797?v=4",
         "events_url": "https://api.github.com/users/zlobz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zlobz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zlobz/following{/other_user}",
         "repos_url": "https://api.github.com/users/zlobz/repos",
         "site_admin": false,
         "id": 5259797,
         "organizations_url": "https://api.github.com/users/zlobz/orgs",
         "login": "zlobz",
         "gists_url": "https://api.github.com/users/zlobz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zlobz/followers",
         "html_url": "https://github.com/zlobz"
      },
      "state": "closed",
      "closed_by": "28729",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24185",
      "updated_at": "2017-04-11T22:03:12Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24185/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 140654486,
      "closed_at": "2017-04-11T22:03:12Z",
      "created_at": "2016-03-14T12:03:07Z",
      "title": "ActiveModel::Type::ImmutableString, ActiveModel::Type::String #cast_value(value) freeze string value in-place",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24185/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24185/comments",
      "html_url": "https://github.com/rails/rails/issues/24185"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nWhen running `rails g controller`, the output doesn't include all available options. This is the output for Rails 4.2.6:\n\n```\nOptions:\n      [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n      [--skip-routes], [--no-skip-routes]        # Don't add routes to config/routes.rb.\n  -e, [--template-engine=NAME]                   # Template engine to be invoked\n                                                 # Default: erb\n  -t, [--test-framework=NAME]                    # Test framework to be invoked\n                                                 # Default: test_unit\n      [--helper]                                 # Indicates when to generate helper\n                                                 # Default: true\n      [--assets]                                 # Indicates when to generate assets\n                                                 # Default: true\n```\n\nAnd this is the output for Rails 5.0.0.beta3:\n\n```\nOptions:\n      [--skip-namespace], [--no-skip-namespace]  # Skip namespace (affects only isolated applications)\n      [--skip-routes], [--no-skip-routes]        # Don't add routes to config/routes.rb.\n                                                 # Default: true\n  -e, [--template-engine=NAME]                   # Template engine to be invoked\n                                                 # Default: erb\n  -t, [--test-framework=NAME]                    # Test framework to be invoked\n                                                 # Default: test_unit\n```\n\nNotice that even though options aren't displayed, one can still use these options.\n\n```\n$ rails g controller foo bar --no-helper --no-assets --skip-routes --no-test-framework\n      create  app/controllers/foo_controller.rb\n      invoke  erb\n      create    app/views/foo\n      create    app/views/foo/bar.html.erb\n```\n### Expected behavior\n\nHelp command should display all available options.\n### Actual behavior\n\nHelp command is not displaying all available options.\n### System configuration\n- **Rails version**: 5.0.0.beta3\n- **Ruby version**: 2.3.0\n",
      "number": 24168,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/fnando/subscriptions",
         "received_events_url": "https://api.github.com/users/fnando/received_events",
         "url": "https://api.github.com/users/fnando",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3009?v=4",
         "events_url": "https://api.github.com/users/fnando/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fnando/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fnando/following{/other_user}",
         "repos_url": "https://api.github.com/users/fnando/repos",
         "site_admin": false,
         "id": 3009,
         "organizations_url": "https://api.github.com/users/fnando/orgs",
         "login": "fnando",
         "gists_url": "https://api.github.com/users/fnando/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fnando/followers",
         "html_url": "https://github.com/fnando"
      },
      "state": "closed",
      "closed_by": "24170",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24168",
      "updated_at": "2016-05-21T15:50:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24168/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 140391001,
      "closed_at": "2016-05-21T15:50:54Z",
      "created_at": "2016-03-12T15:09:46Z",
      "title": "Controller generator doesn't display all available options",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24168/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24168/comments",
      "html_url": "https://github.com/rails/rails/issues/24168"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nhttps://gist.github.com/bquorning/0ac738564824aa8ce57b\n### Expected behavior\n\nEager loaded belongs_to associations should not be readonly.\n### Actual behavior\n\nEager loaded belongs_to associations are always readonly.\n### System configuration\n\n**Rails version**: v5.0.0.beta1 and up, including latest master\n\n**Ruby version**: All.\n### Extra\n\nIt seems the issue was introduced in #18097.\n",
      "number": 24093,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions",
         "received_events_url": "https://api.github.com/users/bquorning/received_events",
         "url": "https://api.github.com/users/bquorning",
         "avatar_url": "https://avatars2.githubusercontent.com/u/22333?v=4",
         "events_url": "https://api.github.com/users/bquorning/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bquorning/following{/other_user}",
         "repos_url": "https://api.github.com/users/bquorning/repos",
         "site_admin": false,
         "id": 22333,
         "organizations_url": "https://api.github.com/users/bquorning/orgs",
         "login": "bquorning",
         "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bquorning/followers",
         "html_url": "https://github.com/bquorning"
      },
      "state": "closed",
      "closed_by": "24099",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24093",
      "updated_at": "2016-08-19T02:19:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24093/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 138982123,
      "closed_at": "2016-08-19T02:19:00Z",
      "created_at": "2016-03-07T13:49:08Z",
      "title": "Eager loaded belongs_to associations are always readonly",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24093/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24093/comments",
      "html_url": "https://github.com/rails/rails/issues/24093"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nUpdated gemfile to beta3\nran bundle update rails\nran rake rails:update\nstarted my app in dev mode\n### Expected behavior\n\nRails should start up\n### Actual behavior\n\nCrashed\n/home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in `require': cannot load such file -- listen (LoadError)\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: ruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-linux]\n\nI commented out the block in activesupport-5.0.0.beta3/lib/active_support/evented_file_update_checker.rb:24 just so it runs, but seems to be causing the server to need\nto be restarted after any change, like in controllers or models.\n\nFull stack trace\n\n/home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in `require': cannot load such file -- listen (LoadError)\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in`block in require'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:268:in `load_dependency'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in`require'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/evented_file_update_checker.rb:24:in `block in initialize'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/core_ext/kernel/reporting.rb:13:in`block in silence_warnings'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/core_ext/kernel/reporting.rb:26:in `with_warnings'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/core_ext/kernel/reporting.rb:13:in`silence_warnings'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/evented_file_update_checker.rb:24:in `initialize'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/i18n_railtie.rb:59:in`new'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/i18n_railtie.rb:59:in `initialize_i18n'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/i18n_railtie.rb:15:in`block in class:Railtie'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/lazy_load_hooks.rb:36:in `execute_hook'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/lazy_load_hooks.rb:45:in`block in run_load_hooks'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/lazy_load_hooks.rb:44:in `each'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/lazy_load_hooks.rb:44:in`run_load_hooks'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/application/finisher.rb:62:in `block in <module:Finisher>'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/initializable.rb:30:in`instance_exec'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/initializable.rb:30:in `run'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/initializable.rb:55:in`block in run_initializers'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:228:in `block in tsort_each'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:350:in`block (2 levels) in each_strongly_connected_component'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:431:in `each_strongly_connected_component_from'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:349:in`block in each_strongly_connected_component'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:347:in `each'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:347:in`call'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:347:in `each_strongly_connected_component'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:226:in`tsort_each'\n    from /home/sadinie/dev/ruby/lib64/ruby/2.3.0/tsort.rb:205:in `tsort_each'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/initializable.rb:54:in`run_initializers'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/application.rb:350:in `initialize!'\n    from /home/sadinie/projects/jade-projects/jade/config/environment.rb:5:in`<top (required)>'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in `require'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in`block in require'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:268:in `load_dependency'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/activesupport-5.0.0.beta3/lib/active_support/dependencies.rb:302:in`require'\n    from /home/sadinie/projects/jade-projects/jade/config.ru:3:in `block in <main>'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/builder.rb:55:in`instance_eval'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/builder.rb:55:in `initialize'\n    from /home/sadinie/projects/jade-projects/jade/config.ru:in`new'\n    from /home/sadinie/projects/jade-projects/jade/config.ru:in `<main>'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/builder.rb:49:in`eval'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/builder.rb:49:in `new_from_string'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/builder.rb:40:in`parse_file'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/server.rb:318:in `build_app_and_options_from_config'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/server.rb:218:in`app'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/server.rb:58:in `app'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/rack-2.0.0.alpha/lib/rack/server.rb:353:in`wrapped_app'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/server.rb:136:in `log_to_stdout'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/server.rb:76:in`start'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/commands_tasks.rb:90:in `block in server'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/commands_tasks.rb:85:in`tap'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/commands_tasks.rb:85:in `server'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands/commands_tasks.rb:49:in`run_command!'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/command.rb:20:in `run'\n    from /home/sadinie/dev/ruby/lib64/ruby/gems/2.3.0/gems/railties-5.0.0.beta3/lib/rails/commands.rb:18:in`<top (required)>'\n    from /home/sadinie/projects/jade-projects/jade/bin/rails:4:in `require'\n    from /home/sadinie/projects/jade-projects/jade/bin/rails:4:in`<top (required)>'\n    from -e:1:in `load'\n    from -e:1:in`<main>'\n\nProcess finished with exit code 1\n",
      "number": 24063,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sadinie/subscriptions",
         "received_events_url": "https://api.github.com/users/sadinie/received_events",
         "url": "https://api.github.com/users/sadinie",
         "avatar_url": "https://avatars2.githubusercontent.com/u/17655353?v=4",
         "events_url": "https://api.github.com/users/sadinie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sadinie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sadinie/following{/other_user}",
         "repos_url": "https://api.github.com/users/sadinie/repos",
         "site_admin": false,
         "id": 17655353,
         "organizations_url": "https://api.github.com/users/sadinie/orgs",
         "login": "sadinie",
         "gists_url": "https://api.github.com/users/sadinie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sadinie/followers",
         "html_url": "https://github.com/sadinie"
      },
      "state": "closed",
      "closed_by": "hakacode/react-webpack-rails-tutorial#272",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24063",
      "updated_at": "2017-02-03T17:16:18Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24063/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 12,
      "id": 138584758,
      "closed_at": "2016-03-09T09:44:46Z",
      "created_at": "2016-03-04T20:58:47Z",
      "title": "Rails 5.0.0beta3 cannot load such file -- listen",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24063/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24063/comments",
      "html_url": "https://github.com/rails/rails/issues/24063"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n``` ruby\nclass Organisation < ActiveRecord::Base\n  has_one :user\nend\n\nclass User < ActiveRecord::Base\n  has_and_belongs_to_many :roles\n  belongs_to :organisation\nend\n\nclass Role < ActiveRecord::Base\n  has_and_belongs_to_many :users\nend\n\nuser = User.new\nuser.organisation = Organisation.new\nuser.roles << Role.new\nuser.save!\n```\n\nHere is my [Active Record Executable Test Case](https://gist.github.com/nbekirov/01c34d2b99ed5bcf9154)\n\nThis issue is related to [Rolify: Duplicate Roles #228](https://github.com/RolifyCommunity/rolify/issues/228)\n\nSome observations:\n- If I change the order of `has_and_belongs_to_many` and `belongs_to` in `User` there is no issue\n- If I add `autosave: false` to `has_and_belongs_to_many` in `User` there is no issue\n\nHere is an issue I've found that seems related but I don't think is quite the same: [has_and_belongs_to_many autosaves duplicate records](https://github.com/rails/rails/issues/3639)\n### Expected behavior\n\nOne `User` with one `Organisation` and one `Role` saved\n\n``` sql\nINSERT INTO \"organisations\" DEFAULT VALUES\nINSERT INTO \"users\" (\"organisation_id\") VALUES (?)  [[\"organisation_id\", 1]]\nINSERT INTO \"roles\" DEFAULT VALUES\nINSERT INTO \"roles_users\" (\"user_id\", \"role_id\") VALUES (?, ?)  [[\"user_id\", 1], [\"role_id\", 1]]\n```\n### Actual behavior\n\nOne `User` with one `Organisation` and **two** `Role`-s saved\n\n``` sql\nINSERT INTO \"organisations\" DEFAULT VALUES\nINSERT INTO \"users\" (\"organisation_id\") VALUES (?)  [[\"organisation_id\", 1]]\nINSERT INTO \"roles\" DEFAULT VALUES\nINSERT INTO \"roles_users\" (\"user_id\", \"role_id\") VALUES (?, ?)  [[\"user_id\", 1], [\"role_id\", 1]]\nINSERT INTO \"roles_users\" (\"user_id\", \"role_id\") VALUES (?, ?)  [[\"user_id\", 1], [\"role_id\", 1]]\n```\n### System configuration\n\n**Rails version**:\nN/A\n\n**Ruby version**:\n\n``` bash\n$ ruby -v\nruby 2.3.0p0 (2015-12-25 revision 53290) [x86_64-linux-gnu]\n```\n",
      "number": 24032,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nbekirov/subscriptions",
         "received_events_url": "https://api.github.com/users/nbekirov/received_events",
         "url": "https://api.github.com/users/nbekirov",
         "avatar_url": "https://avatars0.githubusercontent.com/u/705812?v=4",
         "events_url": "https://api.github.com/users/nbekirov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nbekirov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nbekirov/following{/other_user}",
         "repos_url": "https://api.github.com/users/nbekirov/repos",
         "site_admin": false,
         "id": 705812,
         "organizations_url": "https://api.github.com/users/nbekirov/orgs",
         "login": "nbekirov",
         "gists_url": "https://api.github.com/users/nbekirov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nbekirov/followers",
         "html_url": "https://github.com/nbekirov"
      },
      "state": "closed",
      "closed_by": "17fa0c",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/24032",
      "updated_at": "2017-04-20T23:48:02Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24032/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 8,
      "id": 138254238,
      "closed_at": "2017-04-20T23:48:01Z",
      "created_at": "2016-03-03T18:05:58Z",
      "title": "Duplicate insert on autosave for specific HABTM-has_one combo",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24032/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24032/comments",
      "html_url": "https://github.com/rails/rails/issues/24032"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nAdd to routes something like this:\n\n``` ruby\n    HTML = { constraints: { format: :html } }.freeze\n    scope HTML do\n      get 'x'\n    end\n```\n### Expected behavior\n\nIt should pass the options as expected.\n### Actual behavior\n\nRaises 'cannot modify frozen hash'. We should not be destructively modifying options, what if the same object is supplied to multiple scopes?\n\nStacktrace:\n\n```\n/Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/core_ext/hash/reverse_merge.rb:19:in `merge!': can't modify frozen Hash (RuntimeError)\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/core_ext/hash/reverse_merge.rb:19:in `reverse_merge!'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/actionpack-4.1.7/lib/action_dispatch/routing/mapper.rb:743:in `scope'\n    from /Users/sam/code/factual/front/apps/www/config/routes.rb:236:in `block in <top (required)>'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/actionpack-4.1.7/lib/action_dispatch/routing/route_set.rb:337:in `instance_exec'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/actionpack-4.1.7/lib/action_dispatch/routing/route_set.rb:337:in `eval_block'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/actionpack-4.1.7/lib/action_dispatch/routing/route_set.rb:315:in `draw'\n    from /Users/sam/code/factual/front/apps/www/config/routes.rb:3:in `<top (required)>'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/dependencies.rb:241:in `load'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/dependencies.rb:241:in `block in load'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/dependencies.rb:232:in `load_dependency'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/dependencies.rb:241:in `load'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:40:in `block in load_paths'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:40:in `each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:40:in `load_paths'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:16:in `reload!'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:26:in `block in updater'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/file_update_checker.rb:75:in `call'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7/lib/active_support/file_update_checker.rb:75:in `execute'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:27:in `updater'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/routes_reloader.rb:7:in `execute_if_updated'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application/finisher.rb:71:in `block in <module:Finisher>'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/initializable.rb:30:in `instance_exec'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/initializable.rb:30:in `run'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/initializable.rb:55:in `block in run_initializers'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:226:in `block in tsort_each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:348:in `block (2 levels) in each_strongly_connected_component'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:427:in `each_strongly_connected_component_from'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:347:in `block in each_strongly_connected_component'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:345:in `each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:345:in `call'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:345:in `each_strongly_connected_component'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:224:in `tsort_each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/2.1.0/tsort.rb:205:in `tsort_each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/initializable.rb:54:in `run_initializers'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/application.rb:300:in `initialize!'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/railtie.rb:194:in `public_send'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/railties-4.1.7/lib/rails/railtie.rb:194:in `method_missing'\n    from /Users/sam/code/factual/front/apps/www/config/environment.rb:6:in `<top (required)>'\n    from /Users/sam/code/factual/front/apps/www/spec/rails_helper.rb:2:in `require'\n    from /Users/sam/code/factual/front/apps/www/spec/rails_helper.rb:2:in `<top (required)>'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration.rb:1295:in `require'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration.rb:1295:in `block in requires='\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration.rb:1295:in `each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration.rb:1295:in `requires='\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration_options.rb:109:in `block in process_options_into'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration_options.rb:108:in `each'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration_options.rb:108:in `process_options_into'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/configuration_options.rb:21:in `configure'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/runner.rb:105:in `setup'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/runner.rb:92:in `run'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/runner.rb:78:in `run'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/lib/rspec/core/runner.rb:45:in `invoke'\n    from /Users/sam/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/rspec-core-3.4.3/exe/rspec:4:in `<main>'\n```\n### System configuration\n\n4.1.7 (but also applies to current master)\n\n**Ruby version**:\n2.1.5\n",
      "number": 24030,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/samphilipd/subscriptions",
         "received_events_url": "https://api.github.com/users/samphilipd/received_events",
         "url": "https://api.github.com/users/samphilipd",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4147639?v=4",
         "events_url": "https://api.github.com/users/samphilipd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/samphilipd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/samphilipd/following{/other_user}",
         "repos_url": "https://api.github.com/users/samphilipd/repos",
         "site_admin": false,
         "id": 4147639,
         "organizations_url": "https://api.github.com/users/samphilipd/orgs",
         "login": "samphilipd",
         "gists_url": "https://api.github.com/users/samphilipd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/samphilipd/followers",
         "html_url": "https://github.com/samphilipd"
      },
      "state": "closed",
      "closed_by": "24031",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/24030",
      "updated_at": "2016-04-19T22:04:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/24030/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 138210960,
      "closed_at": "2016-04-19T22:04:24Z",
      "created_at": "2016-03-03T15:30:51Z",
      "title": "Frozen hashes cannot be passed as route options",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24030/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24030/comments",
      "html_url": "https://github.com/rails/rails/issues/24030"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "https://github.com/rails/rails/commit/1afd414488fe73c927242e072af0ff9ab21d2599 introduced a change that defers opening a WebSocket connection until data is sent, which could be problematic. I outlined some concerns in https://github.com/rails/rails/commit/1afd414488fe73c927242e072af0ff9ab21d2599#commitcomment-16450672. It's not clear why this change was needed to implement https://github.com/rails/rails/pull/23488 and the commit message doesn't help clarify.\n\nEven if it works, I don't think the logic is quite right. Every call to `send` when the WebSocket's state isn't `OPEN` will attempt to open a connection ignoring the possibility that the state is `CONNECTING`.\n\n@maclover7, can you explain the purpose of the change? And please consider revising or reverting before another Rails release goes out.\n\n/cc @dhh \n",
      "number": 24026,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/javan/subscriptions",
         "received_events_url": "https://api.github.com/users/javan/received_events",
         "url": "https://api.github.com/users/javan",
         "avatar_url": "https://avatars3.githubusercontent.com/u/5355?v=4",
         "events_url": "https://api.github.com/users/javan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/javan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/javan/following{/other_user}",
         "repos_url": "https://api.github.com/users/javan/repos",
         "site_admin": false,
         "id": 5355,
         "organizations_url": "https://api.github.com/users/javan/orgs",
         "login": "javan",
         "gists_url": "https://api.github.com/users/javan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/javan/followers",
         "html_url": "https://github.com/javan"
      },
      "state": "closed",
      "closed_by": "24038",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/24026",
      "updated_at": "2016-03-04T00:04:36Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/24026/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 138194041,
      "closed_at": "2016-03-03T23:13:04Z",
      "created_at": "2016-03-03T14:34:05Z",
      "title": "Concerns with deferred Action Cable connection opening",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/24026/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/24026/comments",
      "html_url": "https://github.com/rails/rails/issues/24026"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I was trying to set strong ETags header by using the response.body inside the controller \n\n``` ruby\ndef set_etag # after_action callback\n  response.headers[\"ETag\"] = Digest::MD5.hexdigest(response.body)\nend\n```\n\nBut it gives following error - \n\n```\nActionDispatch::IllegalStateError (header already sent):\n\napp/controllers/posts_controller.rb:8:in `index'\n  Rendering /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout\n  Rendering /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/_source.html.erb\n  Rendered /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)\n  Rendering /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb\n  Rendered /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)\n  Rendering /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb\n  Rendered /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)\n  Rendered /Users/prathamesh/Projects/sources/rails/actionpack/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.1ms)\n```\n",
      "number": 23964,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "state": "closed",
      "closed_by": "24029",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/23964",
      "updated_at": "2016-05-06T19:22:05Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23964/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 12,
      "id": 137307371,
      "closed_at": "2016-05-06T19:22:05Z",
      "created_at": "2016-02-29T16:51:14Z",
      "title": "Accessing `response.body` inside any controller action messes up the response",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23964/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23964/comments",
      "html_url": "https://github.com/rails/rails/issues/23964"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\nhttps://gist.github.com/ctm/63e92e5dbc15e3574dec\n### Expected behavior\n\nThe test should pass, because it shouldn't take a tenth of a second (much less 30 seconds) to match the line, even though it is a long line.\n### Actual behavior\n\nThe test will fail.\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: 2.3.0\n",
      "number": 23947,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ctm/subscriptions",
         "received_events_url": "https://api.github.com/users/ctm/received_events",
         "url": "https://api.github.com/users/ctm",
         "avatar_url": "https://avatars0.githubusercontent.com/u/26245?v=4",
         "events_url": "https://api.github.com/users/ctm/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ctm/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ctm/following{/other_user}",
         "repos_url": "https://api.github.com/users/ctm/repos",
         "site_admin": false,
         "id": 26245,
         "organizations_url": "https://api.github.com/users/ctm/orgs",
         "login": "ctm",
         "gists_url": "https://api.github.com/users/ctm/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ctm/followers",
         "html_url": "https://github.com/ctm"
      },
      "state": "closed",
      "closed_by": "23948",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23947",
      "updated_at": "2016-03-01T18:18:52Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23947/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 137088142,
      "closed_at": "2016-03-01T18:18:52Z",
      "created_at": "2016-02-28T19:47:48Z",
      "title": "Regexp used to colorize sql logs can take several seconds to match a line",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23947/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23947/comments",
      "html_url": "https://github.com/rails/rails/issues/23947"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Prior to #18774, it was possible, with `rescue_from`, to rescue wrapped exceptions. Many of my applications use this technique to centralize error handling (logging, metrics, API visible display, etc), by `rescue_from StandardError`, and a handful of \"error type\" wrapper exceptions, ie. `BadRequest`, etc. This allowed me to determine in a controller how to respond to a third party gem's failure, by raising the appropriate wrapper exception, without having to mention every possible third party failure in my generic error handling code, but still maintain common error handling for exceptions I wasn't expecting.\n\nAfter the change in #18774, the wrapper exception's `cause` is being used to lookup a rescue handler. This means that if I don't have a handler registered for a specific exception (many coming out of third party gems), I can't rescue them, even if I catch and re-raise as a different type.\n### Steps to Reproduce\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails'\nend\n\nrequire 'action_controller/railtie'\n\nclass TestApp < Rails::Application\n  config.root = File.dirname(__FILE__)\n  config.session_store :cookie_store, key: 'cookie_store_key'\n  secrets.secret_token    = 'secret_token'\n  secrets.secret_key_base = 'secret_key_base'\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    get '/' => 'test#index'\n  end\nend\n\n# custom error classes\nclass BadRequestError < StandardError; end\nclass ThirdPartyGemError < StandardError; end\n\nclass TestController < ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  # generic error handling, 1/0 should still log, metrics, etc.\n  rescue_from StandardError, with: :error_handler\n\n  # this is just a bad request from the client\n  rescue_from BadRequestError, with: :specific_handler\n\n  def third_party_code(arg)\n    fail ThirdPartyGemError, \"something specific happened\"\n  end\n\n  def index\n    data = third_party_code(params[:arg])\n    render json: data\n  rescue ThirdPartyGemError\n    # third party gem failed, but I know it can only be because of bad request, use that\n    fail BadRequestError, \"failure to decode or whatever\"\n  end\n\n  def error_handler(ex)\n    render status: 500, plain: \"generic handler\"\n  end\n\n  def specific_handler(ex)\n    render status: 400, plain: \"bad request handler\"\n  end\nend\n\nrequire 'minitest/autorun'\nrequire 'rack/test'\n\nclass BugTest < Minitest::Test\n  include Rack::Test::Methods\n\n  def test_returns_success\n    get '/'\n    assert_equal last_response.body, \"specific handler\"\n    assert_equal last_response.status, 400\n  end\n\n  private\n    def app\n      Rails.application\n    end\nend\n```\n\n---\n\nNote that as far as I can tell from the documentation, even prior to the change `rescue_from StandardError` must be the first call (such that it's on the bottom of the search stack). RailsGuides also mentions that it's not-advised to rescue `StandardError`, but claims that it's due to missing out on default functionality of getting stack traces on error in development.\n### Expected behavior\n\nThe `specific_handler` method should be used to handle the raised `BadRequestError`.\n### Actual behavior\n\nThe `generic_handler` method is used to handle the wrapped `ThirdPartyGemError`, because [ActionController::Rescue.rescue_with_handler](https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/rescue.rb#L10) grabs `cause`, which is auto-set as of Ruby 2.1\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: 2.3.0\n",
      "number": 23925,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lygaret/subscriptions",
         "received_events_url": "https://api.github.com/users/lygaret/received_events",
         "url": "https://api.github.com/users/lygaret",
         "avatar_url": "https://avatars3.githubusercontent.com/u/15865?v=4",
         "events_url": "https://api.github.com/users/lygaret/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lygaret/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lygaret/following{/other_user}",
         "repos_url": "https://api.github.com/users/lygaret/repos",
         "site_admin": false,
         "id": 15865,
         "organizations_url": "https://api.github.com/users/lygaret/orgs",
         "login": "lygaret",
         "gists_url": "https://api.github.com/users/lygaret/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lygaret/followers",
         "html_url": "https://github.com/lygaret"
      },
      "state": "closed",
      "closed_by": "76b817",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23925",
      "updated_at": "2016-03-11T20:41:47Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23925/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
         "received_events_url": "https://api.github.com/users/jeremy/received_events",
         "url": "https://api.github.com/users/jeremy",
         "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
         "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeremy/repos",
         "site_admin": false,
         "id": 199,
         "organizations_url": "https://api.github.com/users/jeremy/orgs",
         "login": "jeremy",
         "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeremy/followers",
         "html_url": "https://github.com/jeremy"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 136891280,
      "closed_at": "2016-03-11T17:54:26Z",
      "created_at": "2016-02-27T07:12:49Z",
      "title": "`rescue_from` can no longer handle wrapped exceptions",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23925/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23925/comments",
      "html_url": "https://github.com/rails/rails/issues/23925"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "### Steps to reproduce\n\n**Routes**\n\n``` ruby\nRails.application.routes.draw do\n  resources :providers, only: [:create]\nend\n```\n\n**Controller**\n\n``` ruby\nclass ProvidersController < ApplicationController\n  def create\n    render json: { hello: 'world' }\n  end\nend\n```\n\nMake a POST HTTP request to `/providers` or `/providers.json` with `Accept` and `ContentType` headers set to `application/json`.\n\n**EDIT** In order to reproduce this you will need to have `jbuilder` as a dependency.\n### Expected behavior\n\nExpecting the following JSON to render:\n\n``` js\n{\n   \"hello\": \"world\"\n}\n```\n### Actual behavior\n\nGet the following error:\n\n```\nActionView::MissingTemplate:\n       Missing template providers/create, application/create with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:\n         * \"/usr/src/app/app/views\"\n```\n\nRails still seems to be attempting to render a view template rather than the value provided to `render json`.\n### System configuration\n\n**Rails version**: 5.0.0.beta3\n\n**Ruby version**: 2.3.0\n",
      "number": 23923,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
            "received_events_url": "https://api.github.com/users/spastorino/received_events",
            "url": "https://api.github.com/users/spastorino",
            "avatar_url": "https://avatars0.githubusercontent.com/u/52642?v=4",
            "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
            "repos_url": "https://api.github.com/users/spastorino/repos",
            "site_admin": false,
            "id": 52642,
            "organizations_url": "https://api.github.com/users/spastorino/orgs",
            "login": "spastorino",
            "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/spastorino/followers",
            "html_url": "https://github.com/spastorino"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/anthonator/subscriptions",
         "received_events_url": "https://api.github.com/users/anthonator/received_events",
         "url": "https://api.github.com/users/anthonator",
         "avatar_url": "https://avatars2.githubusercontent.com/u/420061?v=4",
         "events_url": "https://api.github.com/users/anthonator/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/anthonator/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/anthonator/following{/other_user}",
         "repos_url": "https://api.github.com/users/anthonator/repos",
         "site_admin": false,
         "id": 420061,
         "organizations_url": "https://api.github.com/users/anthonator/orgs",
         "login": "anthonator",
         "gists_url": "https://api.github.com/users/anthonator/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/anthonator/followers",
         "html_url": "https://github.com/anthonator"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23923",
      "updated_at": "2016-04-15T16:58:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23923/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
         "received_events_url": "https://api.github.com/users/spastorino/received_events",
         "url": "https://api.github.com/users/spastorino",
         "avatar_url": "https://avatars0.githubusercontent.com/u/52642?v=4",
         "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
         "repos_url": "https://api.github.com/users/spastorino/repos",
         "site_admin": false,
         "id": 52642,
         "organizations_url": "https://api.github.com/users/spastorino/orgs",
         "login": "spastorino",
         "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/spastorino/followers",
         "html_url": "https://github.com/spastorino"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 16,
      "id": 136875936,
      "closed_at": "2016-04-15T16:58:40Z",
      "created_at": "2016-02-27T04:03:08Z",
      "title": "Controllers still try to render view when using \"render json\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23923/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23923/comments",
      "html_url": "https://github.com/rails/rails/issues/23923"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Now that we have the lovely [X/Y cache hits] formats for partial collections, I think we should expand that to single partial renders as well.\n\nHere's what things currently look like:\n\n```\nRead fragment views/v1/2914079/v1/2914079/recordings/70182313-20160225015037000000/d0bdf2974e1ef6d31685c3b392ad0b74 (0.6ms)\nRendered messages/_message.html.erb in 1.2 ms\nWrite fragment views/v1/2914079/v1/2914079/recordings/70182313-20160225015037000000/3b4e249ac9d168c617e32e84b99218b5 (1.1ms)\nRendered recordings/threads/_thread.html.erb in 1.5 ms\n```\n\nI'd like to see this instead:\n\n```\nRendered messages/_message.html.erb in 1.2 ms [cache hit]\nRendered recordings/threads/_thread.html.erb in 1.5 ms [cache miss]\n```\n",
      "number": 23879,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "25825",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/23879",
      "updated_at": "2016-08-08T09:50:17Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23879/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         }
      ],
      "comments": 19,
      "id": 136352575,
      "closed_at": "2016-08-08T09:50:17Z",
      "created_at": "2016-02-25T11:00:07Z",
      "title": "Better logging of cached partial renders",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23879/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23879/comments",
      "html_url": "https://github.com/rails/rails/issues/23879"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Currently, on master, if you save a record in an `after_create` on a model with a uniqueness validation, the validation always fails.  This was previously working in 5.0.0.beta2 and also works on rails 4.2.5.\n\nI have git bisected this to: https://github.com/rails/rails/pull/23581\n\nNote: From #23581, changing from `id` to `id_was` breaks `after_create` and `after_save` callbacks because `id_was` trails `id` for these callbacks.  In other words, the `id_was` value is the pre-save/pre-create value.  In my example below, `id_was` is nil in the `after_create`, while `id` is not nil.\n\nFull recreation script and output is here:\nhttps://gist.github.com/jrafanie/083fff24b2c1532d2545\n\n**With rails master**: \nBecause `id_was` is nil, the validation query from the gist above looks like this:\n\n```\nTopic Exists (0.1ms)  SELECT  1 AS one FROM \"topics\" WHERE \"topics\".\"title\" = ? AND (\"topics\".\"id\" IS NOT NULL) LIMIT ?  [[\"title\", \"test\"], [\"LIMIT\", 1]]\n```\n\nNote, the \"topics\".\"id\" where clause doesn't exclude itself, the just saved object, so the validation fails!\n\n**With gem 'rails', \"=5.0.0.beta2\"**:\nThe validation works correctly by issuing the following query:\n\n```\nTopic Exists (0.1ms)  SELECT  1 AS one FROM \"topics\" WHERE \"topics\".\"title\" = ? AND (\"topics\".\"id\" != ?) LIMIT ?  [[\"title\", \"test\"], [\"id\", 1], [\"LIMIT\", 1]]\n```\n\nNote, the \"topics\".\"id\" where clause excludes itself, the just saved object, so the validation passes.\n\nI have hacked the change from #23581 to use the `id` if `id_was` is nil and all tests pass.  Clearly, this isn't correct but I wanted to try the easiest thing.\n\n``` diff\ndiff --git a/activerecord/lib/active_record/validations/uniqueness.rb b/activerecord/lib/active_record/validations/uniqueness.rb\nindex 13053be..4a80cda 100644\n--- a/activerecord/lib/active_record/validations/uniqueness.rb\n+++ b/activerecord/lib/active_record/validations/uniqueness.rb\n@@ -18,7 +18,7 @@ module ActiveRecord\n         relation = build_relation(finder_class, table, attribute, value)\n         if record.persisted?\n           if finder_class.primary_key\n-            relation = relation.where.not(finder_class.primary_key => record.id_was)\n+            relation = relation.where.not(finder_class.primary_key => record.id_was || record.id)\n           else\n             raise UnknownPrimaryKey.new(finder_class, \"Can not validate uniqueness for persisted record without primary key.\")\n           end\n```\n",
      "number": 23844,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jrafanie/subscriptions",
         "received_events_url": "https://api.github.com/users/jrafanie/received_events",
         "url": "https://api.github.com/users/jrafanie",
         "avatar_url": "https://avatars0.githubusercontent.com/u/19339?v=4",
         "events_url": "https://api.github.com/users/jrafanie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jrafanie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jrafanie/following{/other_user}",
         "repos_url": "https://api.github.com/users/jrafanie/repos",
         "site_admin": false,
         "id": 19339,
         "organizations_url": "https://api.github.com/users/jrafanie/orgs",
         "login": "jrafanie",
         "gists_url": "https://api.github.com/users/jrafanie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jrafanie/followers",
         "html_url": "https://github.com/jrafanie"
      },
      "state": "closed",
      "closed_by": "23887",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23844",
      "updated_at": "2016-02-25T18:39:42Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23844/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 135956269,
      "closed_at": "2016-02-25T18:39:42Z",
      "created_at": "2016-02-24T05:00:32Z",
      "title": "Regression saving in an after_create with a uniqueness validation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23844/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23844/comments",
      "html_url": "https://github.com/rails/rails/issues/23844"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here's a common pattern if you want to build a decorator:\n\n``` ruby\n    class Partition\n      def initialize(first_event)\n        @events = [ first_event ]\n      end\n\n      def people\n        if @events.first.detail.people.any?\n          @events.collect { |e| Array(e.detail.people) }.flatten.uniq\n        else\n          @events.collect(&:creator).uniq\n        end\n      end\n\n      private\n        def respond_to_missing?(name, include_private = false)\n          @events.respond_to?(name, include_private)\n        end\n\n        def method_missing(method, *args, &block)\n          @events.send(method, *args, &block)\n        end\n    end\n```\n\nWould be nice to have it as:\n\n``` ruby\n    class Partition\n      delegate_missing_to :@events\n\n      def initialize(first_event)\n        @events = [ first_event ]\n      end\n\n      def people\n        if @events.first.detail.people.any?\n          @events.collect { |e| Array(e.detail.people) }.flatten.uniq\n        else\n          @events.collect(&:creator).uniq\n        end\n      end\n    end\n```\n",
      "number": 23824,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "23930",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/23824",
      "updated_at": "2016-05-25T05:40:54Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/49",
         "description": "",
         "updated_at": "2017-05-01T10:41:26Z",
         "number": 49,
         "due_on": null,
         "id": 1601639,
         "open_issues": 0,
         "closed_issues": 102,
         "created_at": "2016-02-24T03:19:34Z",
         "title": "5.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/49/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/49",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23824/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 12,
      "id": 135751753,
      "closed_at": "2016-05-24T21:45:52Z",
      "created_at": "2016-02-23T14:29:42Z",
      "title": "Add Module#delegate_missing_to",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23824/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23824/comments",
      "html_url": "https://github.com/rails/rails/issues/23824"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` rb\na = ActionController::Parameters.new(foo: 'bar')\n#=> <ActionController::Parameters {\"foo\"=>\"bar\"}>\nb = ActionController::Parameters.new(foo: 'bar').permit(:foo)\n#=> <ActionController::Parameters {\"foo\"=>\"bar\"}>\na == b\n#=> false\na.inspect == b.inspect\n#=> true\n```\n\nThis makes it hard to debug failing specs (here, a snippet from RSpec output):\n\n```\nexpected: (<ActionController::Parameters {foo: \"bar\"}>)\n     got: (<ActionController::Parameters {foo: \"bar\"}>)\n```\n",
      "number": 23822,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions",
         "received_events_url": "https://api.github.com/users/bquorning/received_events",
         "url": "https://api.github.com/users/bquorning",
         "avatar_url": "https://avatars2.githubusercontent.com/u/22333?v=4",
         "events_url": "https://api.github.com/users/bquorning/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bquorning/following{/other_user}",
         "repos_url": "https://api.github.com/users/bquorning/repos",
         "site_admin": false,
         "id": 22333,
         "organizations_url": "https://api.github.com/users/bquorning/orgs",
         "login": "bquorning",
         "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bquorning/followers",
         "html_url": "https://github.com/bquorning"
      },
      "state": "closed",
      "closed_by": "23849",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23822",
      "updated_at": "2016-02-24T13:10:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23822/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 135706447,
      "closed_at": "2016-02-24T13:10:45Z",
      "created_at": "2016-02-23T11:07:33Z",
      "title": "AC::Parameters#inspect doesn\u2019t reveal what\u2019s permitted",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23822/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23822/comments",
      "html_url": "https://github.com/rails/rails/issues/23822"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "While I love psql for fun and profit, it fails without warning in Rails.  When loading a file using -f, psql returns a zero code (aka: no error) on error, preventing pstgresql_database_tasks from signaling that there is an error.  This hides bad things in structure.sql.\n\nhttps://github.com/rails/rails/blame/v4.2.5/activerecord/lib/active_record/tasks/postgresql_database_tasks.rb#L62\n\nThat command needs to include `-v ON_ERROR_STOP=1` as an argument to psql so that the db rake tasks using psql with the -f flag will fail on non-zero return codes.\n",
      "number": 23818,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/thesmart/subscriptions",
         "received_events_url": "https://api.github.com/users/thesmart/received_events",
         "url": "https://api.github.com/users/thesmart",
         "avatar_url": "https://avatars1.githubusercontent.com/u/280877?v=4",
         "events_url": "https://api.github.com/users/thesmart/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/thesmart/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/thesmart/following{/other_user}",
         "repos_url": "https://api.github.com/users/thesmart/repos",
         "site_admin": false,
         "id": 280877,
         "organizations_url": "https://api.github.com/users/thesmart/orgs",
         "login": "thesmart",
         "gists_url": "https://api.github.com/users/thesmart/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/thesmart/followers",
         "html_url": "https://github.com/thesmart"
      },
      "state": "closed",
      "closed_by": "24773",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23818",
      "updated_at": "2016-06-17T00:17:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23818/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 1,
      "id": 135593130,
      "closed_at": "2016-06-17T00:07:27Z",
      "created_at": "2016-02-23T00:56:19Z",
      "title": "db:structure:load silently fails on SQL error",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23818/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23818/comments",
      "html_url": "https://github.com/rails/rails/issues/23818"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello guys,\n\nUsing rspec-rails on my project, I noticed a strange behavior, \n\nWhen I make a post sending a hash object like:\n\n`{id: 1}`\n\nthe number 1 will be converted to String.\n\nIt doesnt happens with Minitest only on RSpec.\n\nplease consider this script:\n\n[https://gist.github.com/leonardoprg/d667920604659294b42f](https://gist.github.com/leonardoprg/d667920604659294b42f)\n\nIf you guys take a look on the line 50, when using .to_json and sending a string as parameter to post method, it will works correctly.\n\nSwimming in the code I noted that:\n1. The problem is at `actionpack/lib/test_case.rb`\n2. RSpec use the method post at [test_case.rb#L519](https://github.com/rails/rails/blob/4-2-stable/actionpack/lib/action_controller/test_case.rb#L519)\n3. minitest doesn't use it.\n\nThe problem here is \n[test_case.rb#L598](https://github.com/rails/rails/blob/4-2-stable/actionpack/lib/action_controller/test_case.rb#L598)\n\nIf RSpec try to send a string, it assume it will be a raw data (like an json object)  and set it to request env `RAW_POST_DATA`, Which is correctly.\nbut, the code that take care with this env var, is a middleware at:\n[params_parser.rb#L42](https://github.com/rails/rails/blob/4-2-stable/actionpack/lib/action_dispatch/middleware/params_parser.rb#L42)\n\nand it is never called, because the method on test_case just call the controller method as an plain object.\n\nI will open a PR to correct this behaviour.\n\nRegards,\n",
      "number": 23779,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/leonardoprg/subscriptions",
         "received_events_url": "https://api.github.com/users/leonardoprg/received_events",
         "url": "https://api.github.com/users/leonardoprg",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1134099?v=4",
         "events_url": "https://api.github.com/users/leonardoprg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/leonardoprg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/leonardoprg/following{/other_user}",
         "repos_url": "https://api.github.com/users/leonardoprg/repos",
         "site_admin": false,
         "id": 1134099,
         "organizations_url": "https://api.github.com/users/leonardoprg/orgs",
         "login": "leonardoprg",
         "gists_url": "https://api.github.com/users/leonardoprg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/leonardoprg/followers",
         "html_url": "https://github.com/leonardoprg"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23779",
      "updated_at": "2016-02-21T05:19:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23779/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 134900811,
      "closed_at": "2016-02-21T05:19:59Z",
      "created_at": "2016-02-19T16:01:40Z",
      "title": "Test case use RAW_POST_DATA but it is not used anywhere",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23779/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23779/comments",
      "html_url": "https://github.com/rails/rails/issues/23779"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Normally ActionCable::ServerWorker::ActiveRecordConnectionManagement takes care to ensure connections are checked back into the pool. This is not ensured when using ActiveRecord from within a ActionCable::Channel::Streams stream_form/stream_for callback.\n\nObserved this behaviour in rails 5.0.0.beta2.\n\nExample:\n\n```\nclass MyChannel < ApplicationCable::Channel\n  def subscribed\n    queue = \"my_channels_queue\"\n    stream_from queue, -> (message) do\n      # open a db connection, this will not be returned to the pool\n      ActiveRecord::Base.connection\n      transmit ActiveSupport::JSON.decode(message), via: queue\n    end\n  end\nend\n```\n",
      "number": 23778,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/AndreasWurm/subscriptions",
         "received_events_url": "https://api.github.com/users/AndreasWurm/received_events",
         "url": "https://api.github.com/users/AndreasWurm",
         "avatar_url": "https://avatars3.githubusercontent.com/u/115934?v=4",
         "events_url": "https://api.github.com/users/AndreasWurm/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/AndreasWurm/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/AndreasWurm/following{/other_user}",
         "repos_url": "https://api.github.com/users/AndreasWurm/repos",
         "site_admin": false,
         "id": 115934,
         "organizations_url": "https://api.github.com/users/AndreasWurm/orgs",
         "login": "AndreasWurm",
         "gists_url": "https://api.github.com/users/AndreasWurm/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/AndreasWurm/followers",
         "html_url": "https://github.com/AndreasWurm"
      },
      "state": "closed",
      "closed_by": "24540",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23778",
      "updated_at": "2016-04-14T17:25:56Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23778/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
         "received_events_url": "https://api.github.com/users/jeremy/received_events",
         "url": "https://api.github.com/users/jeremy",
         "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
         "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeremy/repos",
         "site_admin": false,
         "id": 199,
         "organizations_url": "https://api.github.com/users/jeremy/orgs",
         "login": "jeremy",
         "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeremy/followers",
         "html_url": "https://github.com/jeremy"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 16,
      "id": 134880766,
      "closed_at": "2016-04-14T17:25:08Z",
      "created_at": "2016-02-19T14:39:03Z",
      "title": "ActionCable can deplete AR's connection pool",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23778/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23778/comments",
      "html_url": "https://github.com/rails/rails/issues/23778"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "An intermittent issue, happens on Heroku with Puma and Thin.\n\nRails revision: 72e28bc75ecb9de71e1139caac33d57d02481536\nRails branch: 4-2-stable\n\nI can't manually reproduce this, but often see this error in airbrake.\n\nBacktrace:\n\n```\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:85 in dup\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:85 in cache_sql\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:68 in select_all\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/querying.rb:39 in find_by_sql\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/statement_cache.rb:107 in execute\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/associations/singular_association.rb:53 in get_records\n/gems/composite_primary_keys-8.1.2/lib/composite_primary_keys/associations/singular_association.rb:11 in get_records_with_cpk_support\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/associations/singular_association.rb:57 in find_target\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/associations/association.rb:138 in load_target\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/associations/association.rb:53 in reload\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/associations/singular_association.rb:9 in reader\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/associations/builder/association.rb:115 in program\n/gems/cancancan-1.12.0/lib/cancan/controller_resource.rb:100 in find_resource\n/gems/cancancan-1.12.0/lib/cancan/controller_resource.rb:63 in load_resource_instance\n/gems/cancancan-1.12.0/lib/cancan/controller_resource.rb:32 in load_resource\n/gems/cancancan-1.12.0/lib/cancan/controller_resource.rb:25 in load_and_authorize_resource\n/gems/cancancan-1.12.0/lib/cancan/controller_resource.rb:10 in block in add_before_filter\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:448 in instance_exec\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:448 in block in make_lambda\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:164 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:164 in block in halting\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:504 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:504 in block in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:504 in each\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:504 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:498 in block (2 levels) in around\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:313 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:313 in block (2 levels) in halting\napp/controllers/api_controller.rb:36 in handle_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:432 in block in make_lambda\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:312 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:312 in block in halting\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:497 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:497 in block in around\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:505 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:505 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:92 in __run_callbacks__\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:778 in _run_process_action_callbacks\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:81 in run_callbacks\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/abstract_controller/callbacks.rb:19 in process_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal/rescue.rb:29 in process_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal/instrumentation.rb:32 in block in process_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/notifications.rb:164 in block in instrument\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/notifications/instrumenter.rb:20 in instrument\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/notifications.rb:164 in instrument\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal/instrumentation.rb:30 in process_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal/params_wrapper.rb:250 in process_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/railties/controller_runtime.rb:18 in process_action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/abstract_controller/base.rb:137 in process\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionview/lib/action_view/rendering.rb:30 in process\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal.rb:196 in dispatch\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal/rack_delegation.rb:13 in dispatch\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_controller/metal.rb:237 in block in action\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/routing/route_set.rb:74 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/routing/route_set.rb:74 in dispatch\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/routing/route_set.rb:43 in serve\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/journey/router.rb:43 in block in serve\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/journey/router.rb:30 in each\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/journey/router.rb:30 in serve\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/routing/route_set.rb:817 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-pjax-0.8.0/lib/rack/pjax.rb:12 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/rack/agent_hooks.rb:30 in traced_call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/rack/browser_monitoring.rb:32 in traced_call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-attack-4.3.1/lib/rack/attack.rb:106 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/warden-1.2.6/lib/warden/manager.rb:35 in block in call\n/gems/warden-1.2.6/lib/warden/manager.rb:34 in catch\n/gems/warden-1.2.6/lib/warden/manager.rb:34 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/etag.rb:24 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/conditionalget.rb:25 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/head.rb:13 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/remotipart-1.2.1/lib/remotipart/middleware.rb:27 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/params_parser.rb:27 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/flash.rb:260 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:225 in context\n/gems/rack-1.6.4/lib/rack/session/abstract/id.rb:220 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/cookies.rb:560 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/query_cache.rb:36 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:653 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/callbacks.rb:29 in block in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:88 in __run_callbacks__\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:778 in _run_call_callbacks\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/callbacks.rb:81 in run_callbacks\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/callbacks.rb:27 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/remote_ip.rb:78 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/airbrake-5.0.5/lib/airbrake/rack/middleware.rb:22 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:17 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/railties/lib/rails/rack/logger.rb:38 in call_app\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/railties/lib/rails/rack/logger.rb:20 in block in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/tagged_logging.rb:68 in block in tagged\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/tagged_logging.rb:26 in tagged\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/tagged_logging.rb:68 in tagged\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/railties/lib/rails/rack/logger.rb:20 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/request_id.rb:21 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/methodoverride.rb:22 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/runtime.rb:18 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:28 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-rewrite-1.5.1/lib/rack/rewrite.rb:24 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/actionpack/lib/action_dispatch/middleware/static.rb:120 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/heroku_rails_deflate-1.0.3/lib/heroku_rails_deflate/serve_zipped_assets.rb:58 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/deflater.rb:35 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-1.6.4/lib/rack/sendfile.rb:113 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/rack-cors-0.4.0/lib/rack/cors.rb:80 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/railties/lib/rails/engine.rb:518 in call\n[GEM_ROOT]/bundler/gems/rails-72e28bc75ecb/railties/lib/rails/application.rb:165 in call\n/gems/newrelic_rpm-3.14.1.311/lib/new_relic/agent/instrumentation/middleware_tracing.rb:79 in call\n/gems/thin-1.6.4/lib/thin/connection.rb:86 in block in pre_process\n/gems/thin-1.6.4/lib/thin/connection.rb:84 in catch\n/gems/thin-1.6.4/lib/thin/connection.rb:84 in pre_process\n/gems/eventmachine-1.0.8/lib/eventmachine.rb:1062 in call\n/gems/eventmachine-1.0.8/lib/eventmachine.rb:1062 in block in spawn_threadpool\n```\n",
      "number": 23774,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/heaven/subscriptions",
         "received_events_url": "https://api.github.com/users/heaven/received_events",
         "url": "https://api.github.com/users/heaven",
         "avatar_url": "https://avatars0.githubusercontent.com/u/126732?v=4",
         "events_url": "https://api.github.com/users/heaven/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/heaven/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/heaven/following{/other_user}",
         "repos_url": "https://api.github.com/users/heaven/repos",
         "site_admin": false,
         "id": 126732,
         "organizations_url": "https://api.github.com/users/heaven/orgs",
         "login": "heaven",
         "gists_url": "https://api.github.com/users/heaven/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/heaven/followers",
         "html_url": "https://github.com/heaven"
      },
      "state": "closed",
      "closed_by": "27341",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23774",
      "updated_at": "2016-12-15T22:02:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23774/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 3,
      "id": 134855186,
      "closed_at": "2016-12-15T22:02:23Z",
      "created_at": "2016-02-19T12:32:58Z",
      "title": "ActiveRecord::ConnectionAdapters::QueryCache can't dup NilClass",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23774/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23774/comments",
      "html_url": "https://github.com/rails/rails/issues/23774"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm having an issue with a HABTM relationship that has a custom `class_name` set.  I poked around for a bit to try and figure out where the problem was, but I wasn't able to figure it out.  I am using Rails 5 beta 2, and I also tried out master, which also had the same problem.\n\nI was able to find a workaround that worked for me.  I'll post the simplest setup that didn't work, and then my work around.\n#### schema.rb\n\n``` ruby\n  enable_extension \"plpgsql\"\n  enable_extension \"uuid-ossp\"\n\n  create_table \"ballots\", id: :uuid, default: -> { \"uuid_generate_v4()\" }, force: :cascade do |t|\n    t.string   \"name\"\n    t.datetime \"created_at\", null: false\n    t.datetime \"updated_at\", null: false\n  end\n\n  create_table \"ballots_users\", id: false, force: :cascade do |t|\n    t.uuid    \"ballot_id\"\n    t.integer \"user_id\"\n  end\n\n  create_table \"users\", force: :cascade do |t|\n    t.string   \"email\",            null: false\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n```\n#### Models\n\n``` ruby\nclass User < ApplicationRecord\n  has_and_belongs_to_many :invited_ballots, association_foreign_key: :ballot_id, class_name: Ballot\nend\n\nclass Ballot < ApplicationRecord\n  has_and_belongs_to_many :users\nend\n```\n#### The error\n\n_inside rails console_\n\n```\n[1] pry(main)> User.first.invited_ballots\nException: NoMethodError: undefined method `match' for #<Class:0x007feac55c71c0>\nDid you mean?  catch\n--\n 0: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/dynamic_matchers.rb:21:in `method_missing'\n 1: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/inheritance.rb:137:in `compute_type'\n 2: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/builder/has_and_belongs_to_many.rb:20:in `klass'\n 3: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/builder/has_and_belongs_to_many.rb:14:in `join_table'\n 4: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/builder/has_and_belongs_to_many.rb:57:in `table_name'\n 5: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/core.rb:246:in `arel_table'\n 6: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/core.rb:281:in `relation'\n 7: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/scoping/named.rb:38:in `default_scoped'\n 8: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/scoping/named.rb:28:in `all'\n 9: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/through_association.rb:17:in `block in target_scope'\n10: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/through_association.rb:16:in `each'\n11: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/through_association.rb:16:in `target_scope'\n12: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/association.rb:86:in `scope'\n13: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/collection_association.rb:447:in `scope'\n14: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/collection_proxy.rb:37:in `initialize'\n15: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/relation/delegation.rb:100:in `new'\n16: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/relation/delegation.rb:100:in `create'\n17: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/collection_association.rb:47:in `reader'\n18: /Users/will/.gem/ruby/2.3.0/bundler/gems/rails-454bc1deab3b/activerecord/lib/active_record/associations/builder/association.rb:111:in `invited_ballots'\n```\n#### The workaround\n\n``` ruby\nclass User < ApplicationRecord\n  has_and_belongs_to_many :invited_ballots, association_foreign_key: :ballot_id, class_name: Ballot, join_table: :ballots_users\nend\n```\n\nLet me know if there's any other info I can post to help debug this issue.  Thanks!\n",
      "number": 23767,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/willcosgrove/subscriptions",
         "received_events_url": "https://api.github.com/users/willcosgrove/received_events",
         "url": "https://api.github.com/users/willcosgrove",
         "avatar_url": "https://avatars0.githubusercontent.com/u/77887?v=4",
         "events_url": "https://api.github.com/users/willcosgrove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/willcosgrove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/willcosgrove/following{/other_user}",
         "repos_url": "https://api.github.com/users/willcosgrove/repos",
         "site_admin": false,
         "id": 77887,
         "organizations_url": "https://api.github.com/users/willcosgrove/orgs",
         "login": "willcosgrove",
         "gists_url": "https://api.github.com/users/willcosgrove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/willcosgrove/followers",
         "html_url": "https://github.com/willcosgrove"
      },
      "state": "closed",
      "closed_by": "23770",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23767",
      "updated_at": "2016-10-28T02:31:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23767/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 134709144,
      "closed_at": "2016-10-28T02:31:44Z",
      "created_at": "2016-02-18T22:01:57Z",
      "title": "HABTM undefined method 'match'",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23767/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23767/comments",
      "html_url": "https://github.com/rails/rails/issues/23767"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Oddly, [this bug report script](https://gist.github.com/rthbound/09463c89a243d00a5ab8) does not fail, even though \"application/vnd.api+json\" is not registered as a mime type. I really hoped to produce a failure with the bug report template.\n\nI can show this bug by generating a fresh rails app as follows:\n\n```\nmkdir recreate_bug\necho \"2.3.0\" >> recreate_bug/.ruby-version\ncd recreate_bug\necho \"source 'https://rubygems.org'\" >> Gemfile\necho \"gem 'rails', github: 'rails/rails'\"  >> Gemfile\ngem install bundler --no-ri --no-rdoc\nbundle\nrails new --api --force .\nsed -i \"s/gem 'rails.*$/gem 'rails', github: 'rails\\/rails'/g\" Gemfile\nbundle\nspring stop\nrails g scaffold Bug\nrake db:migrate\necho \"Mime::Type.unregister :json\" >> config/initializers/mime_types.rb\necho \"Mime::Type.register 'application/json', :json, %w( text/x-json application/jsonrequest application/vnd.api+json )\" >> config/initializers/mime_types.rb\nrails s\n```\n\nNow just curl:\n\n```\ncurl -XPOST -H 'Content-Type: application/vnd.api+json' http://localhost:3000/bugs -d '{\"maybe_a_bug\": true}'\n```\n\nYour server window should show that it wasn't processed properly:\n\n```\nProcessing by BugsController#create as */*\n  Parameters: {\"bug\"=>{}}\n```\n\nI pushed an app created this way (includes a test case) to: https://github.com/rthbound/una-otra ...\n",
      "number": 23766,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rthbound/subscriptions",
         "received_events_url": "https://api.github.com/users/rthbound/received_events",
         "url": "https://api.github.com/users/rthbound",
         "avatar_url": "https://avatars1.githubusercontent.com/u/708692?v=4",
         "events_url": "https://api.github.com/users/rthbound/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rthbound/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rthbound/following{/other_user}",
         "repos_url": "https://api.github.com/users/rthbound/repos",
         "site_admin": false,
         "id": 708692,
         "organizations_url": "https://api.github.com/users/rthbound/orgs",
         "login": "rthbound",
         "gists_url": "https://api.github.com/users/rthbound/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rthbound/followers",
         "html_url": "https://github.com/rthbound"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23766",
      "updated_at": "2016-02-23T00:40:39Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23766/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 134703982,
      "closed_at": "2016-02-23T00:40:39Z",
      "created_at": "2016-02-18T21:37:21Z",
      "title": "Params not processed properly when content type is \"application/vnd.api+json\" as of c4d90b7 ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23766/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23766/comments",
      "html_url": "https://github.com/rails/rails/issues/23766"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Let's assume we called `reject` in `channel#subscribed`, then client ignores rejection and makes a call to some action in that channel, which is being successfully processed ignoring the fact that it was rejected. So each action should check for `subscription_rejected?` ?\n",
      "number": 23757,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nateless/subscriptions",
         "received_events_url": "https://api.github.com/users/nateless/received_events",
         "url": "https://api.github.com/users/nateless",
         "avatar_url": "https://avatars3.githubusercontent.com/u/470685?v=4",
         "events_url": "https://api.github.com/users/nateless/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nateless/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nateless/following{/other_user}",
         "repos_url": "https://api.github.com/users/nateless/repos",
         "site_admin": false,
         "id": 470685,
         "organizations_url": "https://api.github.com/users/nateless/orgs",
         "login": "nateless",
         "gists_url": "https://api.github.com/users/nateless/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nateless/followers",
         "html_url": "https://github.com/nateless"
      },
      "state": "closed",
      "closed_by": "23759",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23757",
      "updated_at": "2016-08-21T19:21:44Z",
      "milestone": {
         "closed_at": "2017-05-01T10:41:43Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/53",
         "description": "",
         "updated_at": "2017-10-15T14:22:34Z",
         "number": 53,
         "due_on": null,
         "id": 1730927,
         "open_issues": 6,
         "closed_issues": 57,
         "created_at": "2016-04-26T02:02:53Z",
         "title": "5.0.x",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/53/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/53",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23757/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 134627610,
      "closed_at": "2016-08-21T19:21:44Z",
      "created_at": "2016-02-18T16:26:17Z",
      "title": "Why it's possible to invoke channel actions after subscription was rejected?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23757/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23757/comments",
      "html_url": "https://github.com/rails/rails/issues/23757"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Added log \"Rendering ...\", when starting to render a template, to log that we have started to render something, at the very beginning.\n\nThis helps to easily identify queries from controller vs views\n\nFixes #23710\n\nr? @dhh \n",
      "number": 23717,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
            "received_events_url": "https://api.github.com/users/sikachu/received_events",
            "url": "https://api.github.com/users/sikachu",
            "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
            "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
            "repos_url": "https://api.github.com/users/sikachu/repos",
            "site_admin": false,
            "id": 4912,
            "organizations_url": "https://api.github.com/users/sikachu/orgs",
            "login": "sikachu",
            "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sikachu/followers",
            "html_url": "https://github.com/sikachu"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vipulnsward/subscriptions",
         "received_events_url": "https://api.github.com/users/vipulnsward/received_events",
         "url": "https://api.github.com/users/vipulnsward",
         "avatar_url": "https://avatars1.githubusercontent.com/u/567626?v=4",
         "events_url": "https://api.github.com/users/vipulnsward/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vipulnsward/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vipulnsward/following{/other_user}",
         "repos_url": "https://api.github.com/users/vipulnsward/repos",
         "site_admin": false,
         "id": 567626,
         "organizations_url": "https://api.github.com/users/vipulnsward/orgs",
         "login": "vipulnsward",
         "gists_url": "https://api.github.com/users/vipulnsward/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vipulnsward/followers",
         "html_url": "https://github.com/vipulnsward"
      },
      "state": "closed",
      "closed_by": "23915",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/23717",
      "updated_at": "2016-02-26T19:08:18Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23717/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
         "received_events_url": "https://api.github.com/users/sikachu/received_events",
         "url": "https://api.github.com/users/sikachu",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
         "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
         "repos_url": "https://api.github.com/users/sikachu/repos",
         "site_admin": false,
         "id": 4912,
         "organizations_url": "https://api.github.com/users/sikachu/orgs",
         "login": "sikachu",
         "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sikachu/followers",
         "html_url": "https://github.com/sikachu"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 134052068,
      "closed_at": "2016-02-26T19:08:18Z",
      "created_at": "2016-02-16T17:57:51Z",
      "title": "Added log \"Rendering ...\", when starting to render a template",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23717/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23717/comments",
      "pull_request": {
         "patch_url": "https://github.com/rails/rails/pull/23717.patch",
         "url": "https://api.github.com/repos/rails/rails/pulls/23717",
         "diff_url": "https://github.com/rails/rails/pull/23717.diff",
         "html_url": "https://github.com/rails/rails/pull/23717"
      },
      "html_url": "https://github.com/rails/rails/pull/23717"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here's my code:\n\n``` ruby\nclass Friendship < ApplicationRecord\n  belongs_to :user\n  belongs_to :friend,class_name:\"User\"\n  validates :user_id, uniqueness: {scope: :friend_id}\n\n  def self.are_friends?(user,friend)\n    Friendship.where(user:user,friend:friend_id).or(' id=2 ')\n  end\nend\n\n```\n\nHere's the error:\n\n``` ruby\nundefined method `limit_value' for \" id=2 \":String\n```\n\nI've tried changing the or argument to a Hash without positive results.\n\n``` ruby\nclass Friendship < ApplicationRecord\n  belongs_to :user\n  belongs_to :friend,class_name:\"User\"\n  validates :user_id, uniqueness: {scope: :friend_id}\n\n  def self.are_friends?(user,friend)\n       #This is the actual query I'm trying to archive\n    Friendship.where(user:user,friend:friend_id).or(user:friend,friend:user)\n  end\nend\n```\n\nIn this case the error is:\n\n``` ruby\nundefined method `limit_value' for #<Hash:0x007ff34cb34830>\n```\n\nThe framework trace points to this line: https://github.com/rails/rails/blob/master/activerecord/lib/active_record/relation/query_methods.rb#L1209\n\nI'm using rails 5.0.0.beta2 and activerecord 5.0.0.beta2\n",
      "number": 23714,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
            "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
            "url": "https://api.github.com/users/prathamesh-sonpatki",
            "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
            "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
            "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
            "site_admin": false,
            "id": 621238,
            "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
            "login": "prathamesh-sonpatki",
            "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
            "html_url": "https://github.com/prathamesh-sonpatki"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/urielhdz/subscriptions",
         "received_events_url": "https://api.github.com/users/urielhdz/received_events",
         "url": "https://api.github.com/users/urielhdz",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1594405?v=4",
         "events_url": "https://api.github.com/users/urielhdz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/urielhdz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/urielhdz/following{/other_user}",
         "repos_url": "https://api.github.com/users/urielhdz/repos",
         "site_admin": false,
         "id": 1594405,
         "organizations_url": "https://api.github.com/users/urielhdz/orgs",
         "login": "urielhdz",
         "gists_url": "https://api.github.com/users/urielhdz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/urielhdz/followers",
         "html_url": "https://github.com/urielhdz"
      },
      "state": "closed",
      "closed_by": "23727",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23714",
      "updated_at": "2016-02-17T06:54:13Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23714/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/prathamesh-sonpatki/subscriptions",
         "received_events_url": "https://api.github.com/users/prathamesh-sonpatki/received_events",
         "url": "https://api.github.com/users/prathamesh-sonpatki",
         "avatar_url": "https://avatars2.githubusercontent.com/u/621238?v=4",
         "events_url": "https://api.github.com/users/prathamesh-sonpatki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prathamesh-sonpatki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prathamesh-sonpatki/following{/other_user}",
         "repos_url": "https://api.github.com/users/prathamesh-sonpatki/repos",
         "site_admin": false,
         "id": 621238,
         "organizations_url": "https://api.github.com/users/prathamesh-sonpatki/orgs",
         "login": "prathamesh-sonpatki",
         "gists_url": "https://api.github.com/users/prathamesh-sonpatki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prathamesh-sonpatki/followers",
         "html_url": "https://github.com/prathamesh-sonpatki"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 134035474,
      "closed_at": "2016-02-17T06:42:02Z",
      "created_at": "2016-02-16T16:58:53Z",
      "title": "#or triggers an error \" undefined method `limit_value' \"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23714/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23714/comments",
      "html_url": "https://github.com/rails/rails/issues/23714"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It would be helpful to know in the log when rendering of the view templates started, so you can quickly glance and see which SQL and other calls are happening in the controller and which are being triggered in the view. I propose:\n\n```\nProcessing by My::Navigation::ChatsController#index as HTML\n  Person Load (0.2ms)  SELECT  `people`.* FROM `people` WHERE `people`.`personable_id` = 950737458 AND `people`.`personable_type` = 'User' LIMIT 1\nView ->\n  Recording Load (0.2ms)  SELECT  `recordings`.* FROM `recordings` WHERE `recordings`.`id` = 9007199254741011 LIMIT 1\n  Rendered my/navigation/chats/_bookmark.html.erb (3.6ms)\nCompleted 200 OK in 529ms (Views: 24.8ms | ActiveRecord: 30.1ms)\n```\n",
      "number": 23710,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/23710",
      "updated_at": "2016-02-26T19:08:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23710/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 18,
      "id": 134003414,
      "closed_at": "2016-02-26T19:08:27Z",
      "created_at": "2016-02-16T15:00:38Z",
      "title": "Mark the start of rendering in the log",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23710/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23710/comments",
      "html_url": "https://github.com/rails/rails/issues/23710"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm not if this is an issue or get something wrong. I'm using ActionCable.beta2 and i'm trying to do kind of \"available online\" chat feature. It's obvious that `subscribed` method is called when user is connected to channel, but `unsubscribed` is never called. I tried waiting for few hours, turning off browser or even computer. Every page refresh adds new subscriber to list, but there is no event to unsubscribe one. This leads to strange behaviour when message is broadcasted to huge amount of subscribers even when they are not really connected.\n\nSo my question is - what are the requirements to user get properly disconnected (on tab close, browser close or just navigate to subpage that don't have this channel subscription)?\n\nPS. I set logger on disconnect in Connection too, it's just.. never called. I'm using Puma server and async adapter on development environment.\n",
      "number": 23708,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Nekromancer/subscriptions",
         "received_events_url": "https://api.github.com/users/Nekromancer/received_events",
         "url": "https://api.github.com/users/Nekromancer",
         "avatar_url": "https://avatars0.githubusercontent.com/u/3933348?v=4",
         "events_url": "https://api.github.com/users/Nekromancer/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Nekromancer/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Nekromancer/following{/other_user}",
         "repos_url": "https://api.github.com/users/Nekromancer/repos",
         "site_admin": false,
         "id": 3933348,
         "organizations_url": "https://api.github.com/users/Nekromancer/orgs",
         "login": "Nekromancer",
         "gists_url": "https://api.github.com/users/Nekromancer/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Nekromancer/followers",
         "html_url": "https://github.com/Nekromancer"
      },
      "state": "closed",
      "closed_by": "23715",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23708",
      "updated_at": "2016-02-19T00:47:51Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23708/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 12,
      "id": 133960261,
      "closed_at": "2016-02-19T00:47:51Z",
      "created_at": "2016-02-16T11:47:31Z",
      "title": "ActionCable disconnect client",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23708/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23708/comments",
      "html_url": "https://github.com/rails/rails/issues/23708"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The code that rewrites deprecated positional argument version of [`get`, `post`, `put`, etc](https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/testing/integration.rb) does not properly rewrite positional arguments to keyword arguments. This appears to be an issue with nested hashes of params.\n\nHere is the bug template to reproduce this:\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', github: 'rails/rails'\n  gem 'arel', github: 'rails/arel'\n  gem 'rack', github: 'rack/rack'\n  gem 'sprockets', github: 'rails/sprockets'\n  gem 'sprockets-rails', github: 'rails/sprockets-rails'\n  gem 'sass-rails', github: 'rails/sass-rails'\nend\n\nrequire 'action_controller/railtie'\n\nclass TestApp < Rails::Application\n  config.root = File.dirname(__FILE__)\n  config.session_store :cookie_store, key: 'cookie_store_key'\n  secrets.secret_token    = 'secret_token'\n  secrets.secret_key_base = 'secret_key_base'\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    resources :test, only: [:index]\n  end\nend\n\nclass TestController < ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  def index\n    render plain: 'Home'\n\n    if params[:session][:password].nil?\n      raise \"parameter not present\"\n    end\n  end\nend\n\nputs Rails.application.routes\n\nrequire 'minitest/autorun'\nrequire 'rack/test'\n\nclass TestControllerTest < ActionController::TestCase\n  def setup\n    @routes = Rails.application.routes\n  end\n\n  def test_with_positional\n    get :index, session: { password: \"foo\" }\n  end\n\n  def test_with_kwargs\n    get :index, params: { session: { password: \"foo\" } }\n  end\n\n  private\n    def app\n      Rails.application\n    end\nend\n```\n\nThe `test_with_positional` method will blow up because `params[:session]` is nil in the controller.\n",
      "number": 23643,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/derekprior/subscriptions",
         "received_events_url": "https://api.github.com/users/derekprior/received_events",
         "url": "https://api.github.com/users/derekprior",
         "avatar_url": "https://avatars0.githubusercontent.com/u/152152?v=4",
         "events_url": "https://api.github.com/users/derekprior/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/derekprior/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/derekprior/following{/other_user}",
         "repos_url": "https://api.github.com/users/derekprior/repos",
         "site_admin": false,
         "id": 152152,
         "organizations_url": "https://api.github.com/users/derekprior/orgs",
         "login": "derekprior",
         "gists_url": "https://api.github.com/users/derekprior/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/derekprior/followers",
         "html_url": "https://github.com/derekprior"
      },
      "state": "closed",
      "closed_by": "24657",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23643",
      "updated_at": "2016-04-21T03:24:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23643/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 18,
      "id": 133314925,
      "closed_at": "2016-04-21T03:24:21Z",
      "created_at": "2016-02-12T18:48:23Z",
      "title": "ActionDispatch request helpers don't properly rewrite positional arguments to keyword arguments",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23643/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23643/comments",
      "html_url": "https://github.com/rails/rails/issues/23643"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The documentation states truncation by words to limit to 20 characters, but that's not quite what happens:\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  # Activate the gem you are reporting the issue against.\n  gem 'activerecord', '5.0.0'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :firms, force: true do |t|\n    t.string :name\n  end\nend\n\nclass Firm < ActiveRecord::Base\n  to_param :name\nend\n\nclass BugTest < Minitest::Test\n  def test_to_param_truncation\n    firm = Firm.create!(name: \"If I look at words\")\n\n    expected = \"1-if-i-look-at-words\"\n    assert_equal expected, firm.to_param, firm.name\n\n    firm.name << \" why do I get shorter?\"\n    assert_equal expected, firm.to_param, firm.name\n  end\nend\n```\n",
      "number": 23635,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rab/subscriptions",
         "received_events_url": "https://api.github.com/users/rab/received_events",
         "url": "https://api.github.com/users/rab",
         "avatar_url": "https://avatars3.githubusercontent.com/u/21304?v=4",
         "events_url": "https://api.github.com/users/rab/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rab/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rab/following{/other_user}",
         "repos_url": "https://api.github.com/users/rab/repos",
         "site_admin": false,
         "id": 21304,
         "organizations_url": "https://api.github.com/users/rab/orgs",
         "login": "rab",
         "gists_url": "https://api.github.com/users/rab/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rab/followers",
         "html_url": "https://github.com/rab"
      },
      "state": "closed",
      "closed_by": "23636",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23635",
      "updated_at": "2016-07-08T21:44:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23635/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 133269889,
      "closed_at": "2016-07-08T21:44:26Z",
      "created_at": "2016-02-12T15:32:29Z",
      "title": "AR's to_param does not work as documented",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23635/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23635/comments",
      "html_url": "https://github.com/rails/rails/issues/23635"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails helper converts attributes differently based on declaration.\n\n```\n> link_to 'aaa', '#', 'class' => nil, 'data-tooltip' => nil\n=> \"<a href=\\\"#\\\">aaa</a>\"\n> link_to 'aaa', '#', class: nil, data: {tooltip: nil}\n=> \"<a data-tooltip=\\\"null\\\" href=\\\"#\\\">aaa</a>\"\n```\n\nI'd expect output to have no attributes with \"null\" value in both ways.\nhttps://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/tag_helper.rb#L173-L179\n",
      "number": 23634,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pluff/subscriptions",
         "received_events_url": "https://api.github.com/users/pluff/received_events",
         "url": "https://api.github.com/users/pluff",
         "avatar_url": "https://avatars2.githubusercontent.com/u/790802?v=4",
         "events_url": "https://api.github.com/users/pluff/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pluff/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pluff/following{/other_user}",
         "repos_url": "https://api.github.com/users/pluff/repos",
         "site_admin": false,
         "id": 790802,
         "organizations_url": "https://api.github.com/users/pluff/orgs",
         "login": "pluff",
         "gists_url": "https://api.github.com/users/pluff/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pluff/followers",
         "html_url": "https://github.com/pluff"
      },
      "state": "closed",
      "closed_by": "23648",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23634",
      "updated_at": "2016-02-14T12:04:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23634/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 133248118,
      "closed_at": "2016-02-14T12:04:49Z",
      "created_at": "2016-02-12T13:55:17Z",
      "title": "tag data attributes has different behavior dependent on declaration",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23634/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23634/comments",
      "html_url": "https://github.com/rails/rails/issues/23634"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I ran into this on 5.0.0.beta1 but it behaves the same on beta2.\n\nI'm using uuid column type as primary key for table. Update when model doesn't have validation works as expected. If model have validation, update fails with error of uuid not being uniq. I'm not sure if this is because of incorrect table declaration or if this is bug.\n\nHere is failing test\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  gem 'rails', git: 'git@github.com:rails/rails.git', branch: 'v5.0.0.beta2'\n  gem 'arel', github: 'rails/arel'\n  gem 'rack', github: 'rack/rack'\n  gem 'sprockets', github: 'rails/sprockets'\n  gem 'sprockets-rails', github: 'rails/sprockets-rails'\n  gem 'sass-rails', github: 'rails/sass-rails'\n  gem 'pg'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'postgresql', database: 'report_db')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :items, force: true, id: false do |t|\n    t.uuid :uuid, primary_key: true\n    t.string :title\n  end\nend\n\nclass Item < ActiveRecord::Base\nend\n\nclass ValidatingItem < Item\n  validates_uniqueness_of :uuid\nend\n\nclass BugTest < Minitest::Test\n  def test_update\n    item = Item.create!(uuid: SecureRandom.uuid, title: 'item1')\n    item.update(title: 'item1-title2')\n\n    assert_empty item.errors\n\n    item2 = ValidatingItem.create!(uuid: SecureRandom.uuid, title: 'item2')\n    item2.update(title: 'item2-title2')\n\n    assert_empty item2.errors\n\n  end\nend\n```\n\nand output\n\n``` bash\n-- create_table(:items, {:force=>true, :id=>false})\nD, [2016-02-12T01:55:14.428369 #96236] DEBUG -- :    (4.7ms)  DROP TABLE \"items\"\nD, [2016-02-12T01:55:14.434925 #96236] DEBUG -- :    (6.2ms)  CREATE TABLE \"items\" (\"uuid\" uuid PRIMARY KEY, \"title\" character varying)\n   -> 0.0584s\nD, [2016-02-12T01:55:14.454753 #96236] DEBUG -- :   ActiveRecord::InternalMetadata Load (0.6ms)  SELECT  \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" ORDER BY \"ar_internal_metadata\".\"key\" ASC LIMIT $1  [[\"LIMIT\", 1]]\nD, [2016-02-12T01:55:14.465138 #96236] DEBUG -- :    (0.1ms)  BEGIN\nD, [2016-02-12T01:55:14.466125 #96236] DEBUG -- :    (0.1ms)  COMMIT\nRun options: --seed 15933\n\n# Running:\n\nD, [2016-02-12T01:55:14.497080 #96236] DEBUG -- :    (0.1ms)  BEGIN\nD, [2016-02-12T01:55:14.498754 #96236] DEBUG -- :   SQL (0.7ms)  INSERT INTO \"items\" (\"uuid\", \"title\") VALUES ($1, $2) RETURNING \"uuid\"  [[\"uuid\", \"18d12e5c-e9b9-4eaa-b325-8d6c480313f3\"], [\"title\", \"item1\"]]\nD, [2016-02-12T01:55:14.499456 #96236] DEBUG -- :    (0.3ms)  COMMIT\nD, [2016-02-12T01:55:14.499714 #96236] DEBUG -- :    (0.1ms)  BEGIN\nD, [2016-02-12T01:55:14.501272 #96236] DEBUG -- :   SQL (0.5ms)  UPDATE \"items\" SET \"title\" = $1 WHERE \"items\".\"uuid\" = $2  [[\"title\", \"item1-title2\"], [\"uuid\", \"18d12e5c-e9b9-4eaa-b325-8d6c480313f3\"]]\nD, [2016-02-12T01:55:14.501778 #96236] DEBUG -- :    (0.4ms)  COMMIT\nD, [2016-02-12T01:55:14.503960 #96236] DEBUG -- :    (0.1ms)  BEGIN\nD, [2016-02-12T01:55:14.512227 #96236] DEBUG -- :   ValidatingItem Exists (0.4ms)  SELECT  1 AS one FROM \"items\" WHERE \"items\".\"uuid\" = $1 LIMIT $2  [[\"uuid\", \"b0db8b7c-291e-4206-a819-435428d4e7a8\"], [\"LIMIT\", 1]]\nD, [2016-02-12T01:55:14.513066 #96236] DEBUG -- :   SQL (0.3ms)  INSERT INTO \"items\" (\"uuid\", \"title\") VALUES ($1, $2) RETURNING \"uuid\"  [[\"uuid\", \"b0db8b7c-291e-4206-a819-435428d4e7a8\"], [\"title\", \"item2\"]]\nD, [2016-02-12T01:55:14.513550 #96236] DEBUG -- :    (0.3ms)  COMMIT\nD, [2016-02-12T01:55:14.513746 #96236] DEBUG -- :    (0.1ms)  BEGIN\nD, [2016-02-12T01:55:14.515572 #96236] DEBUG -- :   ValidatingItem Exists (1.0ms)  SELECT  1 AS one FROM \"items\" WHERE \"items\".\"uuid\" = $1 LIMIT $2  [[\"uuid\", \"b0db8b7c-291e-4206-a819-435428d4e7a8\"], [\"LIMIT\", 1]]\nD, [2016-02-12T01:55:14.532580 #96236] DEBUG -- :    (0.2ms)  ROLLBACK\nF\n\nFinished in 0.045453s, 22.0008 runs/s, 88.0030 assertions/s.\n\n  1) Failure:\nBugTest#test_update [report.rb:51]:\nExpected #<ActiveModel::Errors:0x007fc4854b2458 @base=#<ValidatingItem uuid: \"b0db8b7c-291e-4206-a819-435428d4e7a8\", title: \"item2-title2\">, @messages={:uuid=>[\"has already been taken\"]}, @details={:uuid=>[{:error=>:taken, :value=>\"b0db8b7c-291e-4206-a819-435428d4e7a8\"}]}> to be empty.\n\n1 runs, 4 assertions, 1 failures, 0 errors, 0 skips\n```\n",
      "number": 23625,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/martinek/subscriptions",
         "received_events_url": "https://api.github.com/users/martinek/received_events",
         "url": "https://api.github.com/users/martinek",
         "avatar_url": "https://avatars2.githubusercontent.com/u/226277?v=4",
         "events_url": "https://api.github.com/users/martinek/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/martinek/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/martinek/following{/other_user}",
         "repos_url": "https://api.github.com/users/martinek/repos",
         "site_admin": false,
         "id": 226277,
         "organizations_url": "https://api.github.com/users/martinek/orgs",
         "login": "martinek",
         "gists_url": "https://api.github.com/users/martinek/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/martinek/followers",
         "html_url": "https://github.com/martinek"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23625",
      "updated_at": "2016-02-23T19:24:30Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23625/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 133131184,
      "closed_at": "2016-02-23T19:24:30Z",
      "created_at": "2016-02-12T00:56:34Z",
      "title": "When validates_uniqness_of is used on primary key column of type uuid validation fails on update",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23625/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23625/comments",
      "html_url": "https://github.com/rails/rails/issues/23625"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If running actioncable in app when the app is configured with force_ssl = true the SSL middleware 301s the wss requests to https which prevents the web socket communications from connecting\n",
      "number": 23620,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/twalpole/subscriptions",
         "received_events_url": "https://api.github.com/users/twalpole/received_events",
         "url": "https://api.github.com/users/twalpole",
         "avatar_url": "https://avatars2.githubusercontent.com/u/16556?v=4",
         "events_url": "https://api.github.com/users/twalpole/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/twalpole/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/twalpole/following{/other_user}",
         "repos_url": "https://api.github.com/users/twalpole/repos",
         "site_admin": false,
         "id": 16556,
         "organizations_url": "https://api.github.com/users/twalpole/orgs",
         "login": "twalpole",
         "gists_url": "https://api.github.com/users/twalpole/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/twalpole/followers",
         "html_url": "https://github.com/twalpole"
      },
      "state": "closed",
      "closed_by": "23632",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23620",
      "updated_at": "2016-02-23T04:56:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23620/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 133101554,
      "closed_at": "2016-02-23T04:55:43Z",
      "created_at": "2016-02-11T22:13:31Z",
      "title": "ActionCable in app conflicts with force_ssl ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23620/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23620/comments",
      "html_url": "https://github.com/rails/rails/issues/23620"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm not sure if this was intended but it does seem odd. \nIf you're app was made with the `--api` flag then the mailer generator doesn't make any views. It probably should because even in an API only backend the emails being sent should have html. \nIt seems a little odd to have the mailer active by default but have the generator not make any views.\n",
      "number": 23617,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/benbotwin/subscriptions",
         "received_events_url": "https://api.github.com/users/benbotwin/received_events",
         "url": "https://api.github.com/users/benbotwin",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1340967?v=4",
         "events_url": "https://api.github.com/users/benbotwin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/benbotwin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/benbotwin/following{/other_user}",
         "repos_url": "https://api.github.com/users/benbotwin/repos",
         "site_admin": false,
         "id": 1340967,
         "organizations_url": "https://api.github.com/users/benbotwin/orgs",
         "login": "benbotwin",
         "gists_url": "https://api.github.com/users/benbotwin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/benbotwin/followers",
         "html_url": "https://github.com/benbotwin"
      },
      "state": "closed",
      "closed_by": "23631",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23617",
      "updated_at": "2016-02-15T14:25:52Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23617/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 2,
      "id": 133075606,
      "closed_at": "2016-02-15T14:25:52Z",
      "created_at": "2016-02-11T20:05:08Z",
      "title": "Mailer generator doesn't generate view in Rails 5 in API mode",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23617/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23617/comments",
      "html_url": "https://github.com/rails/rails/issues/23617"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I've tested on rails 5.0.0.beta2 and the master branch. In both, I see this behavior from a rails console:\n\n```\n$ rails console\nRunning via Spring preloader in process 19351\nLoading development environment (Rails 5.0.0.beta2)\n2.2.3 :001 > Rails.logger.info Rails.version; Rails.logger.silence { Rails.logger.info \"quiet\" }\n5.0.0.beta2\nquiet\n => true\n```\n\nNotice that \"quiet\" was logged in the output, even though it should have been silenced.\n\nThe same thing running in rails 4.2:\n\n```\nrails c\nLoading development environment (Rails 4.2.5.1)\n2.2.3 :001 > Rails.logger.info Rails.version; Rails.logger.silence { Rails.logger.info \"quiet\" }\n4.2.5.1\n => true\n```\n\nHere, the \"quiet\" was silenced, as expected.\n\nIt looks like there was a lot of work attempting to make it threadsafe. Could be related to https://github.com/rails/rails/pull/20507/\n",
      "number": 23609,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/joshuaflanagan/subscriptions",
         "received_events_url": "https://api.github.com/users/joshuaflanagan/received_events",
         "url": "https://api.github.com/users/joshuaflanagan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/81455?v=4",
         "events_url": "https://api.github.com/users/joshuaflanagan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/joshuaflanagan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/joshuaflanagan/following{/other_user}",
         "repos_url": "https://api.github.com/users/joshuaflanagan/repos",
         "site_admin": false,
         "id": 81455,
         "organizations_url": "https://api.github.com/users/joshuaflanagan/orgs",
         "login": "joshuaflanagan",
         "gists_url": "https://api.github.com/users/joshuaflanagan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/joshuaflanagan/followers",
         "html_url": "https://github.com/joshuaflanagan"
      },
      "state": "closed",
      "closed_by": "vrone/quiet_assets#47",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23609",
      "updated_at": "2016-02-22T16:25:55Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23609/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 4,
      "id": 132881731,
      "closed_at": "2016-02-22T16:25:55Z",
      "created_at": "2016-02-11T03:52:26Z",
      "title": "Rails.logger.silence does not work",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23609/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23609/comments",
      "html_url": "https://github.com/rails/rails/issues/23609"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If you post JSON in testing, it's likely you want to test JSON coming back too. Providing @response.parsed_body will save everyone from having to do `JSON.parse @response.body` over and over again.\n",
      "number": 23594,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
            "received_events_url": "https://api.github.com/users/kaspth/received_events",
            "url": "https://api.github.com/users/kaspth",
            "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
            "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
            "repos_url": "https://api.github.com/users/kaspth/repos",
            "site_admin": false,
            "id": 350807,
            "organizations_url": "https://api.github.com/users/kaspth/orgs",
            "login": "kaspth",
            "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/kaspth/followers",
            "html_url": "https://github.com/kaspth"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "23597",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/23594",
      "updated_at": "2016-02-10T21:39:29Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23594/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/kaspth/subscriptions",
         "received_events_url": "https://api.github.com/users/kaspth/received_events",
         "url": "https://api.github.com/users/kaspth",
         "avatar_url": "https://avatars0.githubusercontent.com/u/350807?v=4",
         "events_url": "https://api.github.com/users/kaspth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaspth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaspth/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaspth/repos",
         "site_admin": false,
         "id": 350807,
         "organizations_url": "https://api.github.com/users/kaspth/orgs",
         "login": "kaspth",
         "gists_url": "https://api.github.com/users/kaspth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaspth/followers",
         "html_url": "https://github.com/kaspth"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 132766428,
      "closed_at": "2016-02-10T21:39:29Z",
      "created_at": "2016-02-10T17:30:48Z",
      "title": "Provide @response.parsed_body to work together with post ..., as: :json for testing",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23594/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23594/comments",
      "html_url": "https://github.com/rails/rails/issues/23594"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When you declare a wildcard template dependency like `Template Dependency: events/*`, the digest differs from machine to machine. This suggests that something in the wildcard dependency walker is non-deterministic. Basically, it means that each app server generates a different digest for the same dependency tree, which renders the feature broken, as each server creates their own cache for the same content.\n",
      "number": 23592,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "23604",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/23592",
      "updated_at": "2016-02-15T17:39:02Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23592/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 132745230,
      "closed_at": "2016-02-15T17:39:02Z",
      "created_at": "2016-02-10T16:18:47Z",
      "title": "Action View Digests for wildcard declarations aren't deterministic",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23592/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23592/comments",
      "html_url": "https://github.com/rails/rails/issues/23592"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We hit an interesting gotcha with STI models where one queries the base model using the `unscoped` relation.\n\nThe problem is that any queries for subclass models will not include the `type` condition if those queries occur in a stack frame that is beneath the call to `unscoped`.\n\nHere's a gist with a test case that recreates the issue: https://gist.github.com/dougbarth/44eb4adc28f8d6026322\n\nTo explain the problem a bit more clearly, consider the case where we have the following STI hierarchy: `SubPost < Post < ActiveRecord::Base`. `SubPost` includes an `after_save` callback that queries the database for `SubPost` records\n\nCode like this will work as expected:\n\n``` ruby\nclass SubPost < Post\n  after_save :query_subposts\n\n  def query_subposts\n    SubPost.all\n  end\nend\n\npost = Post.unscoped.find(some_id)  # This ID references a SubPost row\npost.touch\npost.save!    # query_subposts callback includes a condition on type = 'SubPost'\n```\n\nHowever, if we refactor the logic to move the find and modifying logic onto the `Post` class, the callback's query drops the `type` condition.\n\n``` ruby\nclass Post\n  def self.find_and_touch(some_id)\n    p = find(some_id)\n    p.touch\n    p.save!   # query_subposts skips the type condition\n  end\nend\n\nPost.unscoped.find_and_touch(some_id) # Loading a SubPost row\n```\n\nWe're happy to try to fix this, but we wanted to get some feedback on whether code like this should work. From our perspective, having callback code that dramatically changes its query based on the calling frame is very surprising.\n\n/cc @DavidRagone\n",
      "number": 23576,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dougbarth/subscriptions",
         "received_events_url": "https://api.github.com/users/dougbarth/received_events",
         "url": "https://api.github.com/users/dougbarth",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3844?v=4",
         "events_url": "https://api.github.com/users/dougbarth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dougbarth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dougbarth/following{/other_user}",
         "repos_url": "https://api.github.com/users/dougbarth/repos",
         "site_admin": false,
         "id": 3844,
         "organizations_url": "https://api.github.com/users/dougbarth/orgs",
         "login": "dougbarth",
         "gists_url": "https://api.github.com/users/dougbarth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dougbarth/followers",
         "html_url": "https://github.com/dougbarth"
      },
      "state": "closed",
      "closed_by": "29199",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23576",
      "updated_at": "2017-11-05T23:29:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23576/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 132515106,
      "closed_at": "2017-11-05T23:29:41Z",
      "created_at": "2016-02-09T19:49:08Z",
      "title": "Using unscoped on an STI base class breaks queries for subclass entities",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23576/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23576/comments",
      "html_url": "https://github.com/rails/rails/issues/23576"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Proof I have accepts_nested_attributes_for configured properly:\n\n``` ruby\nDashboard.new(measures_attributes: [{name_of_measure: \"Height\"}])\n#=> #<Dashboard id: nil, guid: nil, position: nil, display_label: nil, created_at: nil, updated_at: nil>\n```\n\nThe incorrect error message:\n\n``` ruby\nDashboard.new(measures_attributes: [{stinky: \"yup\"}])\n#=> ActiveModel::UnknownAttributeError: unknown attribute 'measures_attributes' for Dashboard.\n```\n\nWhat the error should be:\n\n``` ruby\nDashboard.new.measures_attributes = [{stinky: \"yup\"}]\n#=> ActiveModel::UnknownAttributeError: unknown attribute 'stinky' for Measure.\n```\n",
      "number": 23568,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rthbound/subscriptions",
         "received_events_url": "https://api.github.com/users/rthbound/received_events",
         "url": "https://api.github.com/users/rthbound",
         "avatar_url": "https://avatars1.githubusercontent.com/u/708692?v=4",
         "events_url": "https://api.github.com/users/rthbound/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rthbound/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rthbound/following{/other_user}",
         "repos_url": "https://api.github.com/users/rthbound/repos",
         "site_admin": false,
         "id": 708692,
         "organizations_url": "https://api.github.com/users/rthbound/orgs",
         "login": "rthbound",
         "gists_url": "https://api.github.com/users/rthbound/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rthbound/followers",
         "html_url": "https://github.com/rthbound"
      },
      "state": "closed",
      "closed_by": "23570",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23568",
      "updated_at": "2016-02-17T21:15:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23568/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 5,
      "id": 132321539,
      "closed_at": "2016-02-17T21:15:23Z",
      "created_at": "2016-02-09T03:21:32Z",
      "title": "Incorrect error message with accepts_nested_attributes_for / has_many",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23568/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23568/comments",
      "html_url": "https://github.com/rails/rails/issues/23568"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This will cause problems for automation tools like mechanize.\n\nReproduction instructions: view source on any page that uses `form_for`.  Any edit page generated by scaffolding will do.  What you will see will be something like:\n\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Demo</title>\n    <meta name=\"csrf-param\" content=\"authenticity_token\" />\n<meta name=\"csrf-token\" content=\"R/+8o7qCIsdpxYv0X/fxuZg8Tq5At6st3wmNM5vHgr7qdo29rBsTIE4mtxOFbGYTfcXTTI+Da88GirnPQUDkKQ==\" />\n    <meta name=\"action-cable-url\" content=\"/cable\" />\n\n    <link rel=\"stylesheet\" media=\"all\" href=\"/assets/companies.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1\" data-turbolinks-track=\"true\" />\n<link rel=\"stylesheet\" media=\"all\" href=\"/assets/scaffolds.self-13e017ed781aee5641573fc553cae1177b6eb2ae02ee29ba9a3927350998c06d.css?body=1\" data-turbolinks-track=\"true\" />\n<link rel=\"stylesheet\" media=\"all\" href=\"/assets/application.self-af04b226fd7202dfc532ce7aedb95a0128277937e90d3b3a3d35e1cce9e16886.css?body=1\" data-turbolinks-track=\"true\" />\n    <script src=\"/assets/jquery.self-c64a74367bda6ef8b860f19e74df08927ca99d2be2ac934e9e92d5fd361e0da4.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/jquery_ujs.self-d602bdfe68ffc63b9f9cc512872aa3cfff046228a0a36e90dd476e8ef54c1b09.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/turbolinks.self-088c452541bc2cb3c0ff28ae33e5c6516d309f7e097363b1d7d062f9cbe5a947.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/action_cable.self-8fc7cfd5b796d0299c89a57dbf5b046051f42ce410f160fd7f1e677c8dc07def.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/action_cable/connection.self-5625494ff511c0f78cd0746ef7e14909f3d517ceb45f989511e4b216c1862593.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/action_cable/connection_monitor.self-ca8bfd8bf7c622d03bf8314cbde2cf77e5a7732c8082e2fc50828a14175f6b53.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/action_cable/subscriptions.self-156d38d6efaf3f6139b95c7fc9fcfc44a62d77f2c13108a2d58c33b0017eec10.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/action_cable/subscription.self-63bb8fcaf3e18e3bb4b849c831819921afe52d3e48e77f3c0d2d50fdf43a9b0c.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/action_cable/consumer.self-d0a6518de32602abb57c66be88b1fd0445527abfb6d8fad3a0be0c59eb6b7fd1.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/cable.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/companies.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1\" data-turbolinks-track=\"true\"></script>\n<script src=\"/assets/application.self-b89234cf2659d7fedea75bca0b8d231ad7dfc2f3f57fcbaf5f44ed9dc384137b.js?body=1\" data-turbolinks-track=\"true\"></script>\n  </head>\n\n  <body>\n    <h1>Editing Company</h1>\n\n<form class=\"edit_company\" id=\"edit_company_2\" action=\"/companies/2\" accept-charset=\"UTF-8\" method=\"post\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" /><input type=\"hidden\" name=\"_method\" value=\"patch\" /><input type=\"hidden\" name=\"authenticity_token\" value=\"1HxW3jw7tINiIbD8X25t15MukXOFV4g6sXD666f1oCt2BqGlZ1xGPHZ3w9NHuoISBFCynd63mETK8MHETZCTYw==\" />\n\n  <div class=\"field\">\n    <label for=\"company_name\">Name</label>\n    <input type=\"text\" value=\"asdf\" name=\"company[name]\" id=\"company_name\" />\n  </div>\n\n  <div class=\"actions\">\n    <input type=\"submit\" name=\"commit\" value=\"Update company\" data-disable-with=\"Update company\" />\n  </div>\n</form>\n\n<a href=\"/companies/2\">Show</a> |\n<a href=\"/companies\">Back</a>\n\n  </body>\n</html>\n```\n\nThe important lines are:\n\n```\n<meta name=\"csrf-token\" content=\"R/+8o7qCIsdpxYv0X/fxuZg8Tq5At6st3wmNM5vHgr7qdo29rBsTIE4mtxOFbGYTfcXTTI+Da88GirnPQUDkKQ==\" />\n```\n\nand\n\n```\n<input type=\"hidden\" name=\"authenticity_token\" value=\"1HxW3jw7tINiIbD8X25t15MukXOFV4g6sXD666f1oCt2BqGlZ1xGPHZ3w9NHuoISBFCynd63mETK8MHETZCTYw==\" />\n```\n\nNote that the values don't match.  They do with Rails 4.x releases.\n",
      "number": 23524,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
            "received_events_url": "https://api.github.com/users/sikachu/received_events",
            "url": "https://api.github.com/users/sikachu",
            "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
            "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
            "repos_url": "https://api.github.com/users/sikachu/repos",
            "site_admin": false,
            "id": 4912,
            "organizations_url": "https://api.github.com/users/sikachu/orgs",
            "login": "sikachu",
            "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sikachu/followers",
            "html_url": "https://github.com/sikachu"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rubys/subscriptions",
         "received_events_url": "https://api.github.com/users/rubys/received_events",
         "url": "https://api.github.com/users/rubys",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4815?v=4",
         "events_url": "https://api.github.com/users/rubys/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rubys/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rubys/following{/other_user}",
         "repos_url": "https://api.github.com/users/rubys/repos",
         "site_admin": false,
         "id": 4815,
         "organizations_url": "https://api.github.com/users/rubys/orgs",
         "login": "rubys",
         "gists_url": "https://api.github.com/users/rubys/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rubys/followers",
         "html_url": "https://github.com/rubys"
      },
      "state": "closed",
      "closed_by": "23752",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23524",
      "updated_at": "2016-02-22T15:46:01Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23524/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
         "received_events_url": "https://api.github.com/users/sikachu/received_events",
         "url": "https://api.github.com/users/sikachu",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
         "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
         "repos_url": "https://api.github.com/users/sikachu/repos",
         "site_admin": false,
         "id": 4912,
         "organizations_url": "https://api.github.com/users/sikachu/orgs",
         "login": "sikachu",
         "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sikachu/followers",
         "html_url": "https://github.com/sikachu"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 131856378,
      "closed_at": "2016-02-22T15:46:01Z",
      "created_at": "2016-02-06T13:42:16Z",
      "title": "rails5 form authenticity_tokens don't work",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23524/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23524/comments",
      "html_url": "https://github.com/rails/rails/issues/23524"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Given a dummy Rails app with large number of scaffold-generated objects (Code LOC: 18849) and hundred gems (sample taken from https://github.com/discourse/discourse/blob/master/Gemfile) tried to measure performance hit for static assets. Newelic in development mode helped to figure it out thoroughly.\n\nThe problem is a middleware responsible for [Ruby classes reload](https://github.com/rails/rails/blob/857263445035404786e1f9785b76f3f4ddb7ca12/railties/lib/rails/application/default_middleware_stack.rb#L63-L65) slows serving static assets down. Profiling with Newrelic shows the following results (88% spent on Reloader middleware):\n\n![screen shot 2016-02-06 at 01 08 48](https://cloud.githubusercontent.com/assets/14601/12863468/5ecfdcb4-cc6e-11e5-8c38-2afed69d1023.png)\n\nsiege benchmark results (siege -b http://localhost:3000/assets/application.js):\n\n```\nTransaction rate:           2.60 trans/sec\nConcurrency:               11.87\n```\n\nI tried to skip this middleware for static assets based on condition expression (correct me if I'm wrong) _env['PATH_INFO'].include?(Rails.application.config.assets.prefix)_ the results suprised me a bit:\n\n![screen shot 2016-02-06 at 01 09 30](https://cloud.githubusercontent.com/assets/14601/12863470/62b71612-cc6e-11e5-8ad1-bae964ad4e59.png)\n\nsiege benchmark results (siege -b http://localhost:3000/assets/application.js):\n\n```\nTransaction rate:          16.13 trans/sec\nConcurrency:               11.82\n```\n\nHaving some change in application.js doesn't require rails server to restart, changes reloaded on-fly as usual, the difference is no callbacks chain and no clears dependencies for static assets anymore.\n\nThis change makes a diffference in development mode when serve static assets without Nginx. Please let me know what you think, patch is available as gist for a moment: https://gist.github.com/mikhailov/7e6d925044327a87db4f\n\nIncrease LOC from 18K to 27K followed by slowness of response for non-patched middleware. It seems the complexity is O(n) compare to O(1) for code with the patch.\n",
      "number": 23510,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mikhailov/subscriptions",
         "received_events_url": "https://api.github.com/users/mikhailov/received_events",
         "url": "https://api.github.com/users/mikhailov",
         "avatar_url": "https://avatars1.githubusercontent.com/u/14601?v=4",
         "events_url": "https://api.github.com/users/mikhailov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mikhailov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mikhailov/following{/other_user}",
         "repos_url": "https://api.github.com/users/mikhailov/repos",
         "site_admin": false,
         "id": 14601,
         "organizations_url": "https://api.github.com/users/mikhailov/orgs",
         "login": "mikhailov",
         "gists_url": "https://api.github.com/users/mikhailov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mikhailov/followers",
         "html_url": "https://github.com/mikhailov"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23510",
      "updated_at": "2016-02-06T14:36:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23510/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 8,
      "id": 131802324,
      "closed_at": "2016-02-06T14:36:03Z",
      "created_at": "2016-02-06T01:17:41Z",
      "title": "Speed up ActionDispatch::Reloader for static assets 10x",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23510/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23510/comments",
      "html_url": "https://github.com/rails/rails/issues/23510"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Adding the following to any controller:\n\n``` ruby\ninclude ActionController::Live\n```\n\ncauses all requests to hang.\n\nFull scenario: http://intertwingly.net/tmp/live_hang.html#create_company\n",
      "number": 23503,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rubys/subscriptions",
         "received_events_url": "https://api.github.com/users/rubys/received_events",
         "url": "https://api.github.com/users/rubys",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4815?v=4",
         "events_url": "https://api.github.com/users/rubys/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rubys/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rubys/following{/other_user}",
         "repos_url": "https://api.github.com/users/rubys/repos",
         "site_admin": false,
         "id": 4815,
         "organizations_url": "https://api.github.com/users/rubys/orgs",
         "login": "rubys",
         "gists_url": "https://api.github.com/users/rubys/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rubys/followers",
         "html_url": "https://github.com/rubys"
      },
      "state": "closed",
      "closed_by": "23532",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23503",
      "updated_at": "2016-02-07T22:16:36Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23503/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 131749482,
      "closed_at": "2016-02-07T20:12:49Z",
      "created_at": "2016-02-05T20:37:34Z",
      "title": "rails5 ActionController::Live causes requests to hang",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23503/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23503/comments",
      "html_url": "https://github.com/rails/rails/issues/23503"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## Steps to reproduce\n1. Checkout https://github.com/rails/actioncable-examples\n2. Run ./bin/cable\n3. Send the following request to localhost port 28080:\n\n```\nGET / HTTP/1.1\nConnection: Upgrade\nCookie: _cable_session=M0Z2L0FlUWxVS1FIRktiSmpDMlBuU2Q4NTFGOXdSUGUyMlhMQWhHeFVXaEJjSXgwQXpoQ2dZZFcrWUZja3hMTndIZnlTTWpibHkzdk5hUlFHWGJaaEU3WmxJMWpPUW5WTGZGZ3pTV0dmRVREL0tWOGVSV2w4VGNmVHZnU2MzVzIvUnNEYzc0Njgzbmk4akw1a3puSFpnPT0tLTNrZEZYT3hmZitKTWxpM2ZrcGxGR0E9PQ%3D%3D--baa167504c217cd78610153142b477f339d43c90; user_id=IjEi--04353b53d72f012e1f904ffd2ec798c2a0b1e01f; _actioncable-examples_session=SnhGTHBMTlJHM2xJRUtUbnRTcUE0OUdwWEVsOG1CcW9sNGlUOVJSVDVqYVFrSUphTDVvNmFINHBKb1dHUHBNU0dQczVwcWhDdzlSdnZvS2d4UitKaHF0RXpsTjZoY3dvNTR2amxmbE03U3dkTkRkK3RSYVdjOXJQaXdBRXVWbDRXRDRBS2kwYXNaMFN4ZXdacGluUnRnPT0tLXZEaXlKY05YVFljMS9yWWFVSTMwVlE9PQ%3D%3D--998c37beee14a4f16754a24a3b270217c7b62e0d\nHost: localhost:28080\nOrigin: http://0.0.0.0:3000\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\nSec-WebSocket-Key: ZemGLPAgmIVhQiOXrKoxkw==\nSec-WebSocket-Version: 13\nUpgrade: websocket\n```\n## Expected result\n\nThe request's origin is 0.0.0.0, but should be localhost, so the request should be rejected with some kind of error response.\n## Actual result\n\nlog/development.log logs \"Request origin not allowed: http://0.0.0.0:3000\", which is correct. However, no error response is sent. Instead, the socket just hangs without any activity.\n## Cause\n\nActionCable::Server, in its #call method, creates an ActionCable::Connection object and calls #process on it. ActionCable::Connection::Base#process indeed tries to send an error response (#respond_to_invalid_request), but it doesn't work.\n\nThe reason for that is because ActionCable::Connection::Base#initialize creates a ActionCable::Connection::WebSocket, which in turn creates a ActionCable::Connection::ClientSocket, which in turn creates a ActionCable::Connection::Stream, which in turn **hijacks the socket** immediately. By the time #respond_to_invalid_request is called, the socket is already hijacked, so no regular Rack response can be sent back.\n",
      "number": 23471,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/FooBarWidget/subscriptions",
         "received_events_url": "https://api.github.com/users/FooBarWidget/received_events",
         "url": "https://api.github.com/users/FooBarWidget",
         "avatar_url": "https://avatars3.githubusercontent.com/u/819?v=4",
         "events_url": "https://api.github.com/users/FooBarWidget/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/FooBarWidget/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/FooBarWidget/following{/other_user}",
         "repos_url": "https://api.github.com/users/FooBarWidget/repos",
         "site_admin": false,
         "id": 819,
         "organizations_url": "https://api.github.com/users/FooBarWidget/orgs",
         "login": "FooBarWidget",
         "gists_url": "https://api.github.com/users/FooBarWidget/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/FooBarWidget/followers",
         "html_url": "https://github.com/FooBarWidget"
      },
      "state": "closed",
      "closed_by": "536cc8",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23471",
      "updated_at": "2016-02-25T03:30:31Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23471/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 131287364,
      "closed_at": "2016-02-25T03:30:31Z",
      "created_at": "2016-02-04T09:20:00Z",
      "title": "ActionCable does not properly reject WebSockets with invalid origin",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23471/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23471/comments",
      "html_url": "https://github.com/rails/rails/issues/23471"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If you want to access an error for an attribute with `model.errors[:foo]` if there are any error on that attribute, it creates an entry on messages hash with this attribute name. So after try to access errors of an attribute if you want to get all error keys from the `ActiveModel::Errors` instance it will return wrong keys. Lets look at the example;\n\n``` ruby\n  post = Post.new\n  post.errors.keys # => []\n  post.errors[:foo] # => []\n  post.errors.keys # => [:foo]\n```\n\nI think this is intended behaviour but it's weird and error prone. Is there any reason to create a key on messages hash for given attribute name if there are any errors on that attribute?\n",
      "number": 23468,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/meinac/subscriptions",
         "received_events_url": "https://api.github.com/users/meinac/received_events",
         "url": "https://api.github.com/users/meinac",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1840945?v=4",
         "events_url": "https://api.github.com/users/meinac/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/meinac/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/meinac/following{/other_user}",
         "repos_url": "https://api.github.com/users/meinac/repos",
         "site_admin": false,
         "id": 1840945,
         "organizations_url": "https://api.github.com/users/meinac/orgs",
         "login": "meinac",
         "gists_url": "https://api.github.com/users/meinac/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/meinac/followers",
         "html_url": "https://github.com/meinac"
      },
      "state": "closed",
      "closed_by": "28584",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23468",
      "updated_at": "2017-03-28T17:44:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23468/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 16,
      "id": 131244467,
      "closed_at": "2017-03-28T17:44:42Z",
      "created_at": "2016-02-04T04:59:31Z",
      "title": "ActiveModel#Errors creates key in messages hash if there are any errors for that given key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23468/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23468/comments",
      "html_url": "https://github.com/rails/rails/issues/23468"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The default logger needs to send a CR after the request is over. Right now it's all smushed together like:\n\n```\nProcessing by PostsController#show as HTML\n  Parameters: {\"id\"=>\"1\"}\n  Post Load (0.1ms)  SELECT  \"posts\".* FROM \"posts\" WHERE \"posts\".\"id\" = ? LIMIT ?  [[\"id\", 1], [\"LIMIT\", 1]]\n  Rendered posts/show.html.erb within layouts/application (0.6ms)\nCompleted 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 0.1ms)\nStarted GET \"/posts\" for ::1 at 2016-02-02 16:06:30 +0100\nProcessing by PostsController#index as HTML\n  Post Load (0.2ms)  SELECT \"posts\".* FROM \"posts\"\n  Rendered posts/index.html.erb within layouts/application (1.9ms)\nCompleted 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.2ms)\n```\n\nShould be:\n\n```\nProcessing by PostsController#show as HTML\n  Parameters: {\"id\"=>\"1\"}\n  Post Load (0.1ms)  SELECT  \"posts\".* FROM \"posts\" WHERE \"posts\".\"id\" = ? LIMIT ?  [[\"id\", 1], [\"LIMIT\", 1]]\n  Rendered posts/show.html.erb within layouts/application (0.6ms)\nCompleted 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 0.1ms)\n\nStarted GET \"/posts\" for ::1 at 2016-02-02 16:06:30 +0100\nProcessing by PostsController#index as HTML\n  Post Load (0.2ms)  SELECT \"posts\".* FROM \"posts\"\n  Rendered posts/index.html.erb within layouts/application (1.9ms)\nCompleted 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.2ms)\n```\n",
      "number": 23428,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "23443",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/23428",
      "updated_at": "2016-02-03T15:29:29Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23428/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 6,
      "id": 130710742,
      "closed_at": "2016-02-03T15:29:29Z",
      "created_at": "2016-02-02T15:10:51Z",
      "title": "Better spacing with the default logger on Puma",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23428/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23428/comments",
      "html_url": "https://github.com/rails/rails/issues/23428"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here's the snippet of code to replicate: https://gist.github.com/claudiob/f2096db9d47e35d19ad2\n\nIn short, given a hash with indifferent access like\n\n``` ruby\ndata = {\"this\" => {\"views\" => 1234}}.with_indifferent_access\n```\n\nThen calling `data.dig(:this, :views)` was correctly returning 1234 under beta1 but returns `nil` under beta2.\n\nEven calling `data.dig(:this)` returns `nil` under beta2.\n",
      "number": 23411,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/claudiob/subscriptions",
         "received_events_url": "https://api.github.com/users/claudiob/received_events",
         "url": "https://api.github.com/users/claudiob",
         "avatar_url": "https://avatars1.githubusercontent.com/u/10076?v=4",
         "events_url": "https://api.github.com/users/claudiob/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/claudiob/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/claudiob/following{/other_user}",
         "repos_url": "https://api.github.com/users/claudiob/repos",
         "site_admin": false,
         "id": 10076,
         "organizations_url": "https://api.github.com/users/claudiob/orgs",
         "login": "claudiob",
         "gists_url": "https://api.github.com/users/claudiob/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/claudiob/followers",
         "html_url": "https://github.com/claudiob"
      },
      "state": "closed",
      "closed_by": "23414",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/23411",
      "updated_at": "2016-02-02T03:21:06Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23411/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 130523415,
      "closed_at": "2016-02-02T03:21:06Z",
      "created_at": "2016-02-01T23:54:14Z",
      "title": "HashWithIndifferentAccess#dig does not behave in Rails 5.0.0.beta2 as it did in beta1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23411/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23411/comments",
      "html_url": "https://github.com/rails/rails/issues/23411"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Easiest fix is to add a line to `ADDITIONAL_COMMANDS` in `railties/lib/rails/commands/commands_tasks.rb`.  I'm happy to submit a PR for that.\n\nHowever, this seems like a short-term fix...  Is there any reason Rails commands don't self-document the way Rake tasks do?  (It seems odd that all Rake tasks -- but not all Rails commands -- are listed in `rails --help`.)\n\nI can submit a more comprehensive PR to move documentation into the individual commands if desired.  It seems like this was the original intention of `set_banner` in https://github.com/rails/rails/commit/2ddb5997108c4612dd96747fb082ba7f93427a31.\n",
      "number": 23410,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bronson/subscriptions",
         "received_events_url": "https://api.github.com/users/bronson/received_events",
         "url": "https://api.github.com/users/bronson",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1776?v=4",
         "events_url": "https://api.github.com/users/bronson/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bronson/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bronson/following{/other_user}",
         "repos_url": "https://api.github.com/users/bronson/repos",
         "site_admin": false,
         "id": 1776,
         "organizations_url": "https://api.github.com/users/bronson/orgs",
         "login": "bronson",
         "gists_url": "https://api.github.com/users/bronson/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bronson/followers",
         "html_url": "https://github.com/bronson"
      },
      "state": "closed",
      "closed_by": "a2aea9",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23410",
      "updated_at": "2016-02-08T14:23:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23410/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 4,
      "id": 130513300,
      "closed_at": "2016-02-08T14:23:23Z",
      "created_at": "2016-02-01T23:03:02Z",
      "title": "dev:cache command isn't listed in rails --help",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23410/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23410/comments",
      "html_url": "https://github.com/rails/rails/issues/23410"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The Rails uniqueness validator performs it's query based on the current value of the id attribute as opposed to the original value of id (id_was).  This leads to an error condition when you allow the user to update the id itself.  \n\nExample:\n\nMigration: \n\n```\nclass CreateOrganizations < ActiveRecord::Migration\n  def change\n    create_table :organizations, id: false do |t|\n      t.integer :id, primary_key: true\n      t.string :name\n\n      t.timestamps null: false\n    end\n  end\nend\n```\n\nModel:\n\n```\nclass Organization < ActiveRecord::Base\n  validates :id, presence: true, uniqueness: true\n  validates :name, presence: true, uniqueness: true\nend\n```\n\nCode:\n\n```\no1 = Organization.create!(id: 1, name: \"Org 1\")\no2 = Organization.create!(id: 2, name: \"Org 2\")\n\no1.id = o2.id\n\no1.save!\n```\n\nIn the above example, you should get a validation error on ID, instead you get it on name because Rails generates the query based on the newly assigned id of 2 instead of the original id of 1\n\n`SELECT  1 AS one FROM \"organizations\" WHERE (\"organizations\".\"name\" = 'Org 1' AND \"organizations\".\"id\" != 2) LIMIT 1`\n\nError reproduced successfully in 4.2.5, haven't tried 5.0 beta yet.\n",
      "number": 23399,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pharmmd-rich/subscriptions",
         "received_events_url": "https://api.github.com/users/pharmmd-rich/received_events",
         "url": "https://api.github.com/users/pharmmd-rich",
         "avatar_url": "https://avatars1.githubusercontent.com/u/16308798?v=4",
         "events_url": "https://api.github.com/users/pharmmd-rich/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pharmmd-rich/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pharmmd-rich/following{/other_user}",
         "repos_url": "https://api.github.com/users/pharmmd-rich/repos",
         "site_admin": false,
         "id": 16308798,
         "organizations_url": "https://api.github.com/users/pharmmd-rich/orgs",
         "login": "pharmmd-rich",
         "gists_url": "https://api.github.com/users/pharmmd-rich/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pharmmd-rich/followers",
         "html_url": "https://github.com/pharmmd-rich"
      },
      "state": "closed",
      "closed_by": "23657",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23399",
      "updated_at": "2017-03-04T13:18:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23399/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 130422837,
      "closed_at": "2017-03-04T13:18:40Z",
      "created_at": "2016-02-01T17:14:54Z",
      "title": "Rails uniqueness validator incorrectly checks previous record.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23399/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23399/comments",
      "html_url": "https://github.com/rails/rails/issues/23399"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "#16359 added support for after_bundle to app generation, but did not for plugin generation.  This prevents certain actions from occurring that may be dependent upon bundle install (e.g. rspec test generation).  It is somewhat misleading as the developer guide makes it seem like after_bundle should work in both kinds of generation.\n",
      "number": 23315,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rfmanuel/subscriptions",
         "received_events_url": "https://api.github.com/users/rfmanuel/received_events",
         "url": "https://api.github.com/users/rfmanuel",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1699559?v=4",
         "events_url": "https://api.github.com/users/rfmanuel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rfmanuel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rfmanuel/following{/other_user}",
         "repos_url": "https://api.github.com/users/rfmanuel/repos",
         "site_admin": false,
         "id": 1699559,
         "organizations_url": "https://api.github.com/users/rfmanuel/orgs",
         "login": "rfmanuel",
         "gists_url": "https://api.github.com/users/rfmanuel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rfmanuel/followers",
         "html_url": "https://github.com/rfmanuel"
      },
      "state": "closed",
      "closed_by": "23317",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23315",
      "updated_at": "2016-01-29T07:02:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23315/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 129542359,
      "closed_at": "2016-01-29T07:02:32Z",
      "created_at": "2016-01-28T18:53:13Z",
      "title": "Rails 4.2 added support for after_bundle to app generation but not for plugin generation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23315/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23315/comments",
      "html_url": "https://github.com/rails/rails/issues/23315"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Cached counters on a belongs_to association of a model (e.g. Comment) are being updated twice when the model is reassigned after first being created and loaded back from the database.\n\nExample:\n\n<pre>\nclass Post < ActiveRecord::Base  #domain\n  has_many :posts\nend\n\nclass Comment < ActiveRecord::Base  #hg\n  belongs_to :post, :counter_cache => :comments_count\nend\n\nclass BugTest < Minitest::Test\n  def test_counter_update\n    post1, post2 = Post.create!, Post.create!\n\n    comment1 = Comment.create!(:post => post1)\n    assert_equal 1, post1.reload.comments_count\n    assert_equal 0, post2.reload.comments_count\n\n    # Remove this finder to prevent a reload, which exposes the bug.  Using the same\n    # newly created object prevents the counter being incremented again.\n    comment1 = Comment.find_by_id(comment1.id)\n\n    # The counter of both models are updated twice in this call instead of once.\n    #\n    # It's the model's association setter that's incrementing the counter, as well as\n    # a model callback monitoring post_id for changes.\n    comment1.update_attribute(:post, post2)\n\n    assert_equal 0, post1.reload.comments_count\n    assert_equal 1, post2.reload.comments_count\n  end\nend\n</pre>\n\n\nThe last two assertions will fail (the following on line 66 is the `post1.reload.comments_count` assertion):\n\n<pre>\n  1) Failure:\nBugTest#test_counter_update [reproducer.rb:66]:\nExpected: 0\n  Actual: -1\n\n1 runs, 3 assertions, 1 failures, 0 errors, 0 skips\n</pre>\n\n- Full reproducer script: https://gist.github.com/domcleal/295f13e17886095d3ea7\n- ActiveRecord test: https://github.com/domcleal/rails/commit/4ab6ba4092f16c2e611996ad58d0f5d13656c2f7\n\nThe existing AR tests for reassignment run correctly, but they use a newly created model which has slightly different behaviour.  The commit above changes the test to reload the model to show the problem.\n\nAn instance variable on the belongs_to association stops counters being updated twice for newly created models:\n\nhttps://github.com/rails/rails/blob/v4.2.5/activerecord/lib/active_record/associations/builder/belongs_to.rb#L36\n\nand so on a model that isn't newly created, causes it to increment/decrement counters here:\n\nhttps://github.com/rails/rails/blob/v4.2.5/activerecord/lib/active_record/associations/builder/belongs_to.rb#L44\n\nThe second counter update appears to come from here:\n\nhttps://github.com/rails/rails/blob/v4.2.5/activerecord/lib/active_record/associations/belongs_to_association.rb#L13\n\nThe reproducer seems to pass OK on 3-2-stable, but fails on 4-1-stable and above (I didn't try 4-0-stable).\n",
      "number": 23265,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/domcleal/subscriptions",
         "received_events_url": "https://api.github.com/users/domcleal/received_events",
         "url": "https://api.github.com/users/domcleal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/482089?v=4",
         "events_url": "https://api.github.com/users/domcleal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/domcleal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/domcleal/following{/other_user}",
         "repos_url": "https://api.github.com/users/domcleal/repos",
         "site_admin": false,
         "id": 482089,
         "organizations_url": "https://api.github.com/users/domcleal/orgs",
         "login": "domcleal",
         "gists_url": "https://api.github.com/users/domcleal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/domcleal/followers",
         "html_url": "https://github.com/domcleal"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23265",
      "updated_at": "2016-05-03T12:27:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23265/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 128860091,
      "closed_at": "2016-05-03T07:12:42Z",
      "created_at": "2016-01-26T15:48:29Z",
      "title": "Cached counter updated twice when reassigning association on persisted model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23265/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23265/comments",
      "html_url": "https://github.com/rails/rails/issues/23265"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The `pg v0.18.4` gem \"[works with PostgreSQL 8.4 and later](https://rubygems.org/gems/pg/versions/0.18.4)\", however, in Rails 5, ActiveRecord makes use of `pg_collation` function which was introduced in PostgreSQL 9.1.\n\nThis causes Rails apps to error when connecting to the 8.4 PG database (see error below).\n\nIs PG 8.4 support being dropped intentionally or is this a bug?\n\nThis is the code in question in Rails 4.2:\nhttps://github.com/rails/rails/blob/4-2-stable/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb#L732\n\n```\n        def column_definitions(table_name) # :nodoc:\n          exec_query(<<-end_sql, 'SCHEMA').rows\n              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '#{quote_table_name(table_name)}'::regclass\n                 AND a.attnum > 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n          end_sql\n        end\n```\n\nAnd this is what it looks like in Rails 5 (master branch):\nhttps://github.com/rails/rails/blob/de2259791cd21e80d44ec7c7562324c73ff85699/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb#L720\n\n```\n        def column_definitions(table_name) # :nodoc:\n          query(<<-end_sql, 'SCHEMA')\n              SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation)\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '#{quote_table_name(table_name)}'::regclass\n                 AND a.attnum > 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n          end_sql\n        end\n```\n\nHere is what the error looks like:\n\n```\n2.3.0 :001 > User.first\nActiveRecord::StatementInvalid: PG::UndefinedTable: ERROR:  relation \"pg_collation\" does not exist\nLINE 3:              (SELECT c.collname FROM pg_collation c, pg_type...\n                                             ^\n:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n             (SELECT c.collname FROM pg_collation c, pg_type t\n               WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation)\n                FROM pg_attribute a LEFT JOIN pg_attrdef d\n                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n               WHERE a.attrelid = '\"users\"'::regclass\n                 AND a.attnum > 0 AND NOT a.attisdropped\n               ORDER BY a.attnum\n\n    from /usr/local/rvm/gems/ruby-2.3.0/gems/activerecord-5.0.0.beta1/lib/active_record/connection_adapters/postgresql/database_statements.rb:147:in `async_exec'\n```\n\nThanks!\n\nEdit: Here's the commit that introduced the change: f8e748b4e85996cb70a3e6f258944ad45f07a802\n\nEdit2: I also added a pull request that fixes this for PG 8.4, (but maintains new functionality for 9.1+): #23234 \n",
      "number": 23232,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/remomueller/subscriptions",
         "received_events_url": "https://api.github.com/users/remomueller/received_events",
         "url": "https://api.github.com/users/remomueller",
         "avatar_url": "https://avatars2.githubusercontent.com/u/316479?v=4",
         "events_url": "https://api.github.com/users/remomueller/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/remomueller/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/remomueller/following{/other_user}",
         "repos_url": "https://api.github.com/users/remomueller/repos",
         "site_admin": false,
         "id": 316479,
         "organizations_url": "https://api.github.com/users/remomueller/orgs",
         "login": "remomueller",
         "gists_url": "https://api.github.com/users/remomueller/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/remomueller/followers",
         "html_url": "https://github.com/remomueller"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23232",
      "updated_at": "2016-02-02T21:53:43Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23232/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 0,
      "id": 128547693,
      "closed_at": "2016-02-02T21:53:43Z",
      "created_at": "2016-01-25T14:27:41Z",
      "title": "Is Rails 5 dropping support for PostgreSQL 8.4?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23232/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23232/comments",
      "html_url": "https://github.com/rails/rails/issues/23232"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is a default application that was created to reproduce the issue.\n\n```\nrails new TestApp\nbin/rails g scaffold TestModel thing:string\nbin/rails s\n```\n\nThe attached image demonstrates the issue I am seeing. It happens on Rails Master and 5.0.0-beta1, with a new application and existing application.\n\n![image](https://cloud.githubusercontent.com/assets/3074765/12533968/1baa48d0-c213-11e5-8baa-fd16fa529004.png)\n",
      "number": 23215,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jules2689/subscriptions",
         "received_events_url": "https://api.github.com/users/jules2689/received_events",
         "url": "https://api.github.com/users/jules2689",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3074765?v=4",
         "events_url": "https://api.github.com/users/jules2689/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jules2689/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jules2689/following{/other_user}",
         "repos_url": "https://api.github.com/users/jules2689/repos",
         "site_admin": false,
         "id": 3074765,
         "organizations_url": "https://api.github.com/users/jules2689/orgs",
         "login": "jules2689",
         "gists_url": "https://api.github.com/users/jules2689/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jules2689/followers",
         "html_url": "https://github.com/jules2689"
      },
      "state": "closed",
      "closed_by": "23428",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23215",
      "updated_at": "2016-01-29T07:45:52Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23215/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 11,
      "id": 128366703,
      "closed_at": "2016-01-29T07:45:52Z",
      "created_at": "2016-01-24T01:55:11Z",
      "title": "Rails 5 Logging adds extra lines that should not be there",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23215/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23215/comments",
      "html_url": "https://github.com/rails/rails/issues/23215"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "[Testcase](https://gist.github.com/ojab/6a5c0853fda1cc37f20b).\nIf column for enum is created with default value:\nin rails master: Model instance is built with field == nil\nin rails-before-bad-commit: Model is built with filed == default value.\n\n```\n991c7b8cd69d7ba5e221a19e5f386e3ba02eb9d is the first bad commit\ncommit e991c7b8cd69d7ba5e221a19e5f386e3ba02eb9d\nAuthor: Santiago Pastorino <santiago@wyeworks.com>\nDate:   Thu Dec 31 19:45:47 2015 -0300\n\n    value has the right type here\n\n    using `enum kind: [ :any, :income, :expense ]` syntax, value is already an\n    integer and using `enum kind: { any: 'any', income: 'income', expense:\n    'expense' }` syntax value is a string.\n\n    This allows us to define the mapping in the enum definition.\n\n    This reverts commit 933decceaf6092020ba7ba768b51b2db9d5b882f.\n\n:040000 040000 9d5c346b7de41f9b6cb0b9d23fd2ac5787fc0cbb 7a8f8fd4d6faaa43b779102fae172a874ce5b644 M  activerecord\nbisect run success\n```\n\nping @spastorino \n",
      "number": 23187,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
            "received_events_url": "https://api.github.com/users/spastorino/received_events",
            "url": "https://api.github.com/users/spastorino",
            "avatar_url": "https://avatars0.githubusercontent.com/u/52642?v=4",
            "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
            "repos_url": "https://api.github.com/users/spastorino/repos",
            "site_admin": false,
            "id": 52642,
            "organizations_url": "https://api.github.com/users/spastorino/orgs",
            "login": "spastorino",
            "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/spastorino/followers",
            "html_url": "https://github.com/spastorino"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ojab/subscriptions",
         "received_events_url": "https://api.github.com/users/ojab/received_events",
         "url": "https://api.github.com/users/ojab",
         "avatar_url": "https://avatars0.githubusercontent.com/u/153388?v=4",
         "events_url": "https://api.github.com/users/ojab/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ojab/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ojab/following{/other_user}",
         "repos_url": "https://api.github.com/users/ojab/repos",
         "site_admin": false,
         "id": 153388,
         "organizations_url": "https://api.github.com/users/ojab/orgs",
         "login": "ojab",
         "gists_url": "https://api.github.com/users/ojab/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ojab/followers",
         "html_url": "https://github.com/ojab"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23187",
      "updated_at": "2016-01-23T15:49:22Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23187/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
         "received_events_url": "https://api.github.com/users/spastorino/received_events",
         "url": "https://api.github.com/users/spastorino",
         "avatar_url": "https://avatars0.githubusercontent.com/u/52642?v=4",
         "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
         "repos_url": "https://api.github.com/users/spastorino/repos",
         "site_admin": false,
         "id": 52642,
         "organizations_url": "https://api.github.com/users/spastorino/orgs",
         "login": "spastorino",
         "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/spastorino/followers",
         "html_url": "https://github.com/spastorino"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 128184886,
      "closed_at": "2016-01-23T15:49:22Z",
      "created_at": "2016-01-22T15:51:50Z",
      "title": "Setting enum default via ':default' on DB field is broken [bisected] ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23187/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23187/comments",
      "html_url": "https://github.com/rails/rails/issues/23187"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If we create a child association on a parent, then save the parent where BOTH associations have autosave: true set, identical update statements are issued twice on the parent.\n\nTest case:\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  # Activate the gem you are reporting the issue against.\n  gem 'activerecord', github: 'rails/rails', branch: 'master'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\nrequire 'active_support/test_case'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts, force: true do |t|\n    t.string :body\n  end\n\n  create_table :comments, force: true do |t|\n    t.integer :post_id\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments, autosave: true\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post, autosave: true\nend\n\n# NOTE: ripped the class below directly out of the AR test suite, don't worry if it looks complicated.\nclass SQLCounter\n  class << self\n    attr_accessor :ignored_sql, :log, :log_all\n    def clear_log; self.log = []; self.log_all = []; end\n  end\n\n  self.clear_log\n\n  self.ignored_sql = [/^PRAGMA/, /^SELECT currval/, /^SELECT CAST/, /^SELECT @@IDENTITY/, /^SELECT @@ROWCOUNT/, /^SAVEPOINT/, /^ROLLBACK TO SAVEPOINT/, /^RELEASE SAVEPOINT/, /^SHOW max_identifier_length/, /^BEGIN/i, /^COMMIT/i]\n\n  # FIXME: this needs to be refactored so specific database can add their own\n  # ignored SQL, or better yet, use a different notification for the queries\n  # instead examining the SQL content.\n  oracle_ignored     = [/^select .*nextval/i, /^SAVEPOINT/, /^ROLLBACK TO/, /^\\s*select .* from all_triggers/im, /^\\s*select .* from all_constraints/im, /^\\s*select .* from all_tab_cols/im]\n  mysql_ignored      = [/^SHOW FULL TABLES/i, /^SHOW FULL FIELDS/, /^SHOW CREATE TABLE /i, /^SHOW VARIABLES /, /^\\s*SELECT (?:column_name|table_name)\\b.*\\bFROM information_schema\\.(?:key_column_usage|tables)\\b/im]\n  postgresql_ignored = [/^\\s*select\\b.*\\bfrom\\b.*pg_namespace\\b/im, /^\\s*select tablename\\b.*from pg_tables\\b/im, /^\\s*select\\b.*\\battname\\b.*\\bfrom\\b.*\\bpg_attribute\\b/im, /^SHOW search_path/i]\n  sqlite3_ignored =    [/^\\s*SELECT name\\b.*\\bFROM sqlite_master/im, /^\\s*SELECT sql\\b.*\\bFROM sqlite_master/im]\n\n  [oracle_ignored, mysql_ignored, postgresql_ignored, sqlite3_ignored].each do |db_ignored_sql|\n    ignored_sql.concat db_ignored_sql\n  end\n\n  attr_reader :ignore\n\n  def initialize(ignore = Regexp.union(self.class.ignored_sql))\n    @ignore = ignore\n  end\n\n  def call(name, start, finish, message_id, values)\n    sql = values[:sql]\n\n    # FIXME: this seems bad. we should probably have a better way to indicate\n    # the query was cached\n    return if 'CACHE' == values[:name]\n\n    self.class.log_all << sql\n    self.class.log << sql unless ignore =~ sql\n  end\nend\nActiveSupport::Notifications.subscribe('sql.active_record', SQLCounter.new)\n\nclass TestDoesNotUpdateTwiceForBidirectionalAutosave < ActiveSupport::TestCase\n  def test_should_not_update_twice_for_bidirectional_autosave\n    post = Post.create!(body: '')\n    post.comments.create(post: post)\n\n    assert_queries(1) { post.body = 'Oh noes, we updated the same post twice!'; post.save! }\n  end\n\n  private\n\n  def assert_queries(num = 1, options = {})\n    ignore_none = options.fetch(:ignore_none) { num == :any }\n    SQLCounter.clear_log\n    x = yield\n    the_log = ignore_none ? SQLCounter.log_all : SQLCounter.log\n    if num == :any\n      assert_operator the_log.size, :>=, 1, \"1 or more queries expected, but none were executed.\"\n    else\n      mesg = \"#{the_log.size} instead of #{num} queries were executed.#{the_log.size == 0 ? '' : \"\\nQueries:\\n#{the_log.join(\"\\n\")}\"}\"\n      assert_equal num, the_log.size, mesg\n    end\n    x\n  end\nend\n```\n",
      "number": 23171,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/samphilipd/subscriptions",
         "received_events_url": "https://api.github.com/users/samphilipd/received_events",
         "url": "https://api.github.com/users/samphilipd",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4147639?v=4",
         "events_url": "https://api.github.com/users/samphilipd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/samphilipd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/samphilipd/following{/other_user}",
         "repos_url": "https://api.github.com/users/samphilipd/repos",
         "site_admin": false,
         "id": 4147639,
         "organizations_url": "https://api.github.com/users/samphilipd/orgs",
         "login": "samphilipd",
         "gists_url": "https://api.github.com/users/samphilipd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/samphilipd/followers",
         "html_url": "https://github.com/samphilipd"
      },
      "state": "closed",
      "closed_by": "1603",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23171",
      "updated_at": "2016-11-02T00:21:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23171/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 2,
      "id": 128054471,
      "closed_at": "2016-11-02T00:21:51Z",
      "created_at": "2016-01-22T00:33:22Z",
      "title": "Bidirectional autosave causes double update on save of parent model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23171/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23171/comments",
      "html_url": "https://github.com/rails/rails/issues/23171"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "EDIT: < removed reference to closed PR, see test case below >\n\nBasically the problem comes because we are setting `@automatic_inverse_of = false` in `MacroReflection#autosave=`.\n\nI think this may have been intended as an optimization, but it causes the inverse lookup to fail when saving associated records on an un-persisted parent, and leads to a failure of the included test case.\n\nI wanted to generate some discussion about this - namely, is it safe to remove this line? I guess it might cause a small performance hit but are the performance savings worth the cost of incorrect behavior?\n\nNOTE: I think this might be similar (or identical to?) this issue: https://github.com/rails/rails/pull/22391\n",
      "number": 23163,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/samphilipd/subscriptions",
         "received_events_url": "https://api.github.com/users/samphilipd/received_events",
         "url": "https://api.github.com/users/samphilipd",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4147639?v=4",
         "events_url": "https://api.github.com/users/samphilipd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/samphilipd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/samphilipd/following{/other_user}",
         "repos_url": "https://api.github.com/users/samphilipd/repos",
         "site_admin": false,
         "id": 4147639,
         "organizations_url": "https://api.github.com/users/samphilipd/orgs",
         "login": "samphilipd",
         "gists_url": "https://api.github.com/users/samphilipd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/samphilipd/followers",
         "html_url": "https://github.com/samphilipd"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23163",
      "updated_at": "2016-11-02T00:21:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23163/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 127986107,
      "closed_at": "2016-11-02T00:21:40Z",
      "created_at": "2016-01-21T18:12:02Z",
      "title": "Cannot validate presence of parent object when children are created using accepts_nested_attributes_for",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23163/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23163/comments",
      "html_url": "https://github.com/rails/rails/issues/23163"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The getting started guide does not explain why it is generating a model with a :references data type column. It should be explained in a bit of details.. Section 6.1\nhttp://guides.rubyonrails.org/getting_started.html \n",
      "number": 23157,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/shakib609/subscriptions",
         "received_events_url": "https://api.github.com/users/shakib609/received_events",
         "url": "https://api.github.com/users/shakib609",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3992124?v=4",
         "events_url": "https://api.github.com/users/shakib609/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/shakib609/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/shakib609/following{/other_user}",
         "repos_url": "https://api.github.com/users/shakib609/repos",
         "site_admin": false,
         "id": 3992124,
         "organizations_url": "https://api.github.com/users/shakib609/orgs",
         "login": "shakib609",
         "gists_url": "https://api.github.com/users/shakib609/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/shakib609/followers",
         "html_url": "https://github.com/shakib609"
      },
      "state": "closed",
      "closed_by": "b42667",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23157",
      "updated_at": "2016-01-21T20:39:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23157/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 127932389,
      "closed_at": "2016-01-21T20:39:57Z",
      "created_at": "2016-01-21T14:12:57Z",
      "title": "Getting Started guide should be more informative about :references",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23157/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23157/comments",
      "html_url": "https://github.com/rails/rails/issues/23157"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "With #17573, Rails will only generate \"weak\" etags. We need the following changes to go with that PR:\n- [x] Mention this as a (minor) breaking change in the 5.0 release notes (and upgrade guides?)\n- [x] Go through the guides and docs to see if anything needs to be updated\n- [x] Document how to override this behavior (and add a test, probably)\n- [x] Nice to have: briefly explain the difference between strong and weak etags (probably just a sentence or two with links to external resources), any gotchas and how to customize this behavior\n\nMost of these are fairly easy; please feel free to grab and work on these items!\n",
      "number": 23148,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "state": "closed",
      "closed_by": "23862",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/23148",
      "updated_at": "2016-02-25T08:33:00Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23148/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 8,
      "id": 127799867,
      "closed_at": "2016-02-25T08:32:49Z",
      "created_at": "2016-01-20T22:32:36Z",
      "title": "Docs and guides update for #17573",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23148/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23148/comments",
      "html_url": "https://github.com/rails/rails/issues/23148"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Sample repo: https://github.com/bbonamin/render-content-type-status-api\n(app generated with `rails new --api`)\n\nIn https://github.com/bbonamin/render-content-type-status-api/blob/master/app/controllers/status_controller.rb\n\n`render json: {what: 'oops!'}, status: 500`\nRenders with 500 Internal Server Error \u221a\n\n`render plain: 'oops!', status: 500`\nRenders with status 200 OK (500 is expected)\n\nThis also happens with `render text: 'foo', status: 500`\n\nAn app created without `--api` works as expected, I suspect this behavior might be coming from somewhere related to `ActionController::API`\n\nThanks :smile: \n",
      "number": 23142,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
            "received_events_url": "https://api.github.com/users/spastorino/received_events",
            "url": "https://api.github.com/users/spastorino",
            "avatar_url": "https://avatars0.githubusercontent.com/u/52642?v=4",
            "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
            "repos_url": "https://api.github.com/users/spastorino/repos",
            "site_admin": false,
            "id": 52642,
            "organizations_url": "https://api.github.com/users/spastorino/orgs",
            "login": "spastorino",
            "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/spastorino/followers",
            "html_url": "https://github.com/spastorino"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bbonamin/subscriptions",
         "received_events_url": "https://api.github.com/users/bbonamin/received_events",
         "url": "https://api.github.com/users/bbonamin",
         "avatar_url": "https://avatars1.githubusercontent.com/u/713787?v=4",
         "events_url": "https://api.github.com/users/bbonamin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bbonamin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bbonamin/following{/other_user}",
         "repos_url": "https://api.github.com/users/bbonamin/repos",
         "site_admin": false,
         "id": 713787,
         "organizations_url": "https://api.github.com/users/bbonamin/orgs",
         "login": "bbonamin",
         "gists_url": "https://api.github.com/users/bbonamin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bbonamin/followers",
         "html_url": "https://github.com/bbonamin"
      },
      "state": "closed",
      "closed_by": "23149",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23142",
      "updated_at": "2016-01-21T03:23:16Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23142/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions",
         "received_events_url": "https://api.github.com/users/spastorino/received_events",
         "url": "https://api.github.com/users/spastorino",
         "avatar_url": "https://avatars0.githubusercontent.com/u/52642?v=4",
         "events_url": "https://api.github.com/users/spastorino/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/spastorino/following{/other_user}",
         "repos_url": "https://api.github.com/users/spastorino/repos",
         "site_admin": false,
         "id": 52642,
         "organizations_url": "https://api.github.com/users/spastorino/orgs",
         "login": "spastorino",
         "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/spastorino/followers",
         "html_url": "https://github.com/spastorino"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 127754199,
      "closed_at": "2016-01-21T03:23:16Z",
      "created_at": "2016-01-20T18:35:34Z",
      "title": "5.0.0.beta1 --api rendering does not follow `status:` on certain content types",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23142/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23142/comments",
      "html_url": "https://github.com/rails/rails/issues/23142"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hey guys!\n\nI used this cache collection in Rails 4 and worked fine. Now I've got an error:\n\narticles/index.html.haml\n\n```\n- cache([I18n.locale, @articles]) do\n  .static-page.articles\n  ...\n```\n\ncontrollers/articles_controller.rb\n\n```\ndef index\n    @articles = Article.published.includes(:category, :user).order(published_at: :desc).paginate(page: params[:page])\nend\n```\n\nTrace:\n\n```\nNoMethodError - undefined method `[]' for nil:NilClass:\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/collection_cache_key.rb:20:in `collection_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/relation.rb:329:in `cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/cache.rb:94:in `retrieve_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/cache.rb:95:in `block in retrieve_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/cache.rb:95:in `retrieve_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/cache.rb:95:in `block in retrieve_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/cache.rb:95:in `retrieve_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/cache.rb:87:in `expand_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/caching/fragments.rb:67:in `fragment_cache_key'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/caching/fragments.rb:88:in `read_fragment'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/helpers/cache_helper.rb:238:in `read_fragment_for'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/helpers/cache_helper.rb:234:in `fragment_for'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/helpers/cache_helper.rb:169:in `cache'\n  app/views/articles/index.html.haml:4:in `_app_views_articles_index_html_haml__1711303327448566922_70207311347160'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/template.rb:159:in `block in render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications.rb:166:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/template.rb:353:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/template.rb:157:in `render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/template_renderer.rb:54:in `block (2 levels) in render_template'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/abstract_renderer.rb:39:in `block in instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications.rb:164:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/template_renderer.rb:53:in `block in render_template'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/template_renderer.rb:61:in `render_with_layout'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/template_renderer.rb:52:in `render_template'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/template_renderer.rb:14:in `render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/renderer.rb:42:in `render_template'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/renderer/renderer.rb:23:in `render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/rendering.rb:103:in `_render_template'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/streaming.rb:217:in `_render_template'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/rendering.rb:83:in `render_to_body'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/rendering.rb:52:in `render_to_body'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/renderers.rb:144:in `render_to_body'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/abstract_controller/rendering.rb:25:in `render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/rendering.rb:36:in `render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/instrumentation.rb:43:in `block (2 levels) in render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `block in ms'\n  /Users/me/.rbenv/versions/2.3.0/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/core_ext/benchmark.rb:12:in `ms'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/instrumentation.rb:43:in `block in render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/instrumentation.rb:86:in `cleanup_view_runtime'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/railties/controller_runtime.rb:30:in `cleanup_view_runtime'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/instrumentation.rb:42:in `render'\n  meta-tags (2.1.0) lib/meta_tags/controller_helper.rb:26:in `render_with_meta_tags'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/implicit_render.rb:19:in `default_render'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/basic_implicit_render.rb:4:in `block in send_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/basic_implicit_render.rb:4:in `send_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/abstract_controller/base.rb:183:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/rendering.rb:30:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/abstract_controller/callbacks.rb:20:in `block in process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:126:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:455:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:101:in `__run_callbacks__'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:750:in `_run_process_action_callbacks'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:90:in `run_callbacks'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/abstract_controller/callbacks.rb:19:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/rescue.rb:27:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications.rb:164:in `block in instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications/instrumenter.rb:21:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/notifications.rb:164:in `instrument'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/instrumentation.rb:29:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal/params_wrapper.rb:248:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/railties/controller_runtime.rb:18:in `process_action'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/abstract_controller/base.rb:128:in `process'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/rendering.rb:30:in `process'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal.rb:192:in `dispatch'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_controller/metal.rb:264:in `dispatch'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/routing/route_set.rb:32:in `serve'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/journey/router.rb:42:in `block in serve'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/journey/router.rb:29:in `serve'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/routing/route_set.rb:724:in `call'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:186:in `call!'\n  omniauth (1.3.1) lib/omniauth/strategy.rb:164:in `call'\n  http_accept_language (2.0.5) lib/http_accept_language/middleware.rb:14:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionview/lib/action_view/digestor.rb:14:in `call'\n  warden (1.2.4) lib/warden/manager.rb:35:in `block in call'\n  warden (1.2.4) lib/warden/manager.rb:34:in `call'\n  rack (2.0.0.alpha) lib/rack/etag.rb:25:in `call'\n  rack (2.0.0.alpha) lib/rack/conditional_get.rb:25:in `call'\n  rack (2.0.0.alpha) lib/rack/head.rb:12:in `call'\n  rack (2.0.0.alpha) lib/rack/session/abstract/id.rb:220:in `context'\n  rack (2.0.0.alpha) lib/rack/session/abstract/id.rb:214:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/cookies.rb:608:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/query_cache.rb:36:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:963:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activerecord/lib/active_record/migration.rb:558:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:97:in `__run_callbacks__'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:750:in `_run_call_callbacks'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/callbacks.rb:90:in `run_callbacks'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/reloader.rb:71:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'\n  airbrake (4.3.5) lib/airbrake/rails/middleware.rb:13:in `call'\n  better_errors (2.1.1) lib/better_errors/middleware.rb:84:in `protected_app_call'\n  better_errors (2.1.1) lib/better_errors/middleware.rb:79:in `better_errors_call'\n  better_errors (2.1.1) lib/better_errors/middleware.rb:57:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/railties/lib/rails/rack/logger.rb:42:in `call_app'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/railties/lib/rails/rack/logger.rb:24:in `block in call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/tagged_logging.rb:70:in `block in tagged'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/tagged_logging.rb:26:in `tagged'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/activesupport/lib/active_support/tagged_logging.rb:70:in `tagged'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/railties/lib/rails/rack/logger.rb:24:in `call'\n  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'\n  request_store (1.2.1) lib/request_store/middleware.rb:8:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/request_id.rb:24:in `call'\n  rack (2.0.0.alpha) lib/rack/method_override.rb:22:in `call'\n  rack (2.0.0.alpha) lib/rack/runtime.rb:22:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/load_interlock.rb:13:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/actionpack/lib/action_dispatch/middleware/static.rb:136:in `call'\n  rack (2.0.0.alpha) lib/rack/sendfile.rb:111:in `call'\n  airbrake (4.3.5) lib/airbrake/user_informer.rb:16:in `_call'\n  airbrake (4.3.5) lib/airbrake/user_informer.rb:12:in `call'\n   () Users/me/.rbenv/versions/2.3.0/lib/ruby/gems/2.3.0/bundler/gems/rails-13fc49509b69/railties/lib/rails/engine.rb:522:in `call'\n  puma (2.15.3) lib/puma/server.rb:541:in `handle_request'\n  puma (2.15.3) lib/puma/server.rb:388:in `process_client'\n  puma (2.15.3) lib/puma/server.rb:270:in `block in run'\n  puma (2.15.3) lib/puma/thread_pool.rb:106:in `block in spawn_thread'\n```\n\nNote: I've got this error only on not first page\n`articles?page=2`\n`articles?page=3`\netc.\n\nQuery for 1st page:\n\n```\nCache digest for app/views/articles/index.html.haml: b3aff447bc72cbbbabca539f3a2eee01\n   (1.1ms)  SELECT  COUNT(*) AS size, MAX(\"articles\".\"updated_at\") AS timestamp FROM \"articles\" WHERE \"articles\".\"status\" IN ('published', 'changes_proposed') LIMIT $1 OFFSET $2  [[\"LIMIT\", 5], [\"OFFSET\", 0]]\n```\n\nQuery for 2nd page:\n\n```\nCache digest for app/views/articles/index.html.haml: b3aff447bc72cbbbabca539f3a2eee01\n   (1.3ms)  SELECT  COUNT(*) AS size, MAX(\"articles\".\"updated_at\") AS timestamp FROM \"articles\" WHERE \"articles\".\"status\" IN ('published', 'changes_proposed') LIMIT $1 OFFSET $2  [[\"LIMIT\", 5], [\"OFFSET\", 5]]\n```\n\nAny help please? \n",
      "number": 23063,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kesha-antonov/subscriptions",
         "received_events_url": "https://api.github.com/users/kesha-antonov/received_events",
         "url": "https://api.github.com/users/kesha-antonov",
         "avatar_url": "https://avatars2.githubusercontent.com/u/11584712?v=4",
         "events_url": "https://api.github.com/users/kesha-antonov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kesha-antonov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kesha-antonov/following{/other_user}",
         "repos_url": "https://api.github.com/users/kesha-antonov/repos",
         "site_admin": false,
         "id": 11584712,
         "organizations_url": "https://api.github.com/users/kesha-antonov/orgs",
         "login": "kesha-antonov",
         "gists_url": "https://api.github.com/users/kesha-antonov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kesha-antonov/followers",
         "html_url": "https://github.com/kesha-antonov"
      },
      "state": "closed",
      "closed_by": "23081",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23063",
      "updated_at": "2016-01-24T15:24:31Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23063/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 126826339,
      "closed_at": "2016-01-24T15:24:31Z",
      "created_at": "2016-01-15T08:12:34Z",
      "title": "Rails 5 + collection cache",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23063/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23063/comments",
      "html_url": "https://github.com/rails/rails/issues/23063"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "With activesupport-5.0.0.beta1 and ruby 2.3.0, I get the following error if I set `config.active_support.deprecation = :raise` (and I have deprecations in my app):\n\n```\n.../activesupport-5.0.0.beta1/lib/active_support/deprecation/behaviors.rb:16:in `set_backtrace': backtrace must be Array of String (TypeError)\n```\n\nThe reason is that `set_backtrace` is [being called](https://github.com/rails/rails/blob/27eccc27cbe987be04bb97b49aff1d7fd118634c/activesupport/lib/active_support/deprecation/behaviors.rb#L12) with the [return value of `caller_locations`](https://github.com/rails/rails/blob/491f488f5ac4e50abfbd1a434971e41e48aa2f15/activesupport/lib/active_support/deprecation/reporting.rb#L17-L20), which is an array of `Thread::Backtrace::Location`.\n\nI guess the fix would be to modify `behaviors.rb`:\n\n``` ruby\ne.set_backtrace(callstack.map(&:to_s))\n```\n\nalthough it seems silly to me that `set_backtrace` can't be called with `caller_locations` directly, so maybe a Ruby bug would be in order too.\n",
      "number": 23058,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/afn/subscriptions",
         "received_events_url": "https://api.github.com/users/afn/received_events",
         "url": "https://api.github.com/users/afn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2779422?v=4",
         "events_url": "https://api.github.com/users/afn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/afn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/afn/following{/other_user}",
         "repos_url": "https://api.github.com/users/afn/repos",
         "site_admin": false,
         "id": 2779422,
         "organizations_url": "https://api.github.com/users/afn/orgs",
         "login": "afn",
         "gists_url": "https://api.github.com/users/afn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/afn/followers",
         "html_url": "https://github.com/afn"
      },
      "state": "closed",
      "closed_by": "23596",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/23058",
      "updated_at": "2016-02-11T00:03:10Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23058/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 126735961,
      "closed_at": "2016-02-11T00:03:10Z",
      "created_at": "2016-01-14T19:58:32Z",
      "title": "set_backtrace is called with the wrong arguments",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23058/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23058/comments",
      "html_url": "https://github.com/rails/rails/issues/23058"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`ActionController::Parameters#as_json` does not behave in the same way under Rails 4.2 and under Rails 5.0.0.beta1.\n\nIn my opinion, this is a regression and can easily be fixed, but before submitting a patch, I would like to know the opinion of @sikachu who worked on having AC::Parameters not inherit from Hash https://github.com/rails/rails/pull/14384.\n\nReproducing the issue is really easy: just run `ActionController::Parameters.new(hello: :world).as_json`.\n\n``` ruby\n# under Rails 4.2\nActionController::Parameters.new(hello: :world).as_json\n# {\"hello\"=>\"world\"}\n\n# under Rails 5.0.0.beta1\nActionController::Parameters.new(hello: :world).as_json\n# => {\"parameters\"=>{\"hello\"=>\"world\"}, \"permitted\"=>false} \n```\n\nThe reason is that [Object#as_json](https://github.com/rails/rails/blame/f718e52bcce02bc137263ead3a9d9f5df1c42c37/activesupport/lib/active_support/core_ext/object/json.rb#L49) checks whether the object `respond_to?(:to_hash)` and, [as already commented](https://github.com/rails/rails/pull/18006#issue-51798294), `ActionController::Parameters#to_hash` will no longer work in Rails 5.0+ as we stop inheriting Parameters from Hash.\n",
      "number": 23026,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/claudiob/subscriptions",
         "received_events_url": "https://api.github.com/users/claudiob/received_events",
         "url": "https://api.github.com/users/claudiob",
         "avatar_url": "https://avatars1.githubusercontent.com/u/10076?v=4",
         "events_url": "https://api.github.com/users/claudiob/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/claudiob/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/claudiob/following{/other_user}",
         "repos_url": "https://api.github.com/users/claudiob/repos",
         "site_admin": false,
         "id": 10076,
         "organizations_url": "https://api.github.com/users/claudiob/orgs",
         "login": "claudiob",
         "gists_url": "https://api.github.com/users/claudiob/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/claudiob/followers",
         "html_url": "https://github.com/claudiob"
      },
      "state": "closed",
      "closed_by": "23034",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/23026",
      "updated_at": "2016-01-12T19:38:22Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/23026/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 5,
      "id": 126196792,
      "closed_at": "2016-01-12T19:38:22Z",
      "created_at": "2016-01-12T14:54:17Z",
      "title": "ActionController::Parameters#as_json has changed format",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23026/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23026/comments",
      "html_url": "https://github.com/rails/rails/issues/23026"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello everyone,\nI think I've found a spooky bug in Rails `~> 5.0.0.beta1`( last commit 179df9df6839 ).\n**The code below worked perfectly fine on Rails `~> 4.2.0`**\n\nConsider this dead simple `erb` view, under specific circumstances(which I will outline below), the `request<ActionDispatch::Request>` instance variable is changed, simply by invoking `root_path`:\n\n``` erb\n\n# GET /action_1 \n# Before invoking root_path, the value of request.path_parameters is:\n# request.path_parameters = {.. action: action_1 ..}\n\n# An innocent call:\n<% root_path %>\n\n# AFTER invoking root_path, the value of request.path_parameters is:\n# notice that the action value changed from :action_1 to :index\n# request.path_parameters = {.. action: **index**  ..}\n\n# EXAMPLE:\n#url_for is using request.parameters under the hood to build its options; hence it's completely\n# broken now(it points to index action or crashes when it does not exist; instead of action_1)\n\n<%= url_for(locale: :ar) %>\n# UrlGenerationError: No route matches {:action=>\"index\", :controller=>\"custom\", :locale=>:ar}\n\n```\n# Reproduction:\n\n`Gemfile`:\n\n``` Ruby\n\nsource 'https://rubygems.org'\n\nruby '2.3.0'\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', github: 'rails/rails' #last commit 179df9d at the time of writing\n\ngem 'sqlite3'\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug'\nend\n\ngroup :development do\n  gem 'web-console', '~> 3.0'\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\nend\n\n# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ngem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]\n\n\n```\n\n`routes.rb`:\n\n``` ruby\nRails.application.routes.draw do\n\n\n  scope \"/:locale\", locale: /en|ar/ do\n\n    root \"application#index\"\n\n    get 'action_1' => 'custom#action_1'\n  end\nend\n\n```\n\n`custom_controller.rb`:\n\n``` ruby\nclass CustomController < ActionController::Base\n\n  def action_1\n  end\n\nend\n```\n\n`custom/action_1.html.erb`:\n\n``` erb\n\n# original (expected) value of request here...\n<%= root_path %>\n\n# modified (unexpected) value of request\n\n# unexpected URL is generated here, since action the key used internally by #url_for is index and not action_1\n<%= url_for(locale: :ar) %>\n\n# Error raised by #url_for in this example:\n# ActionController::UrlGenerationError in Custom#action_1: No route matches {:action=>\"index\", :controller=>\"custom\", :locale=>:ar}\n\n```\n# Blind Workaround: \n\n**Although the root path is being defined within a scope, which makes no sense; the bug itself could possibly point to a deeper problem, especially that it did not exist in Rails 4.2**\nFor those of us who have to use Rails 5 awesomeness while this bug is still alive and kicking, I found a blind workaround for this, simply move out the `root \"application#index\"` outside the scope block, and the bug will magically disappear.\n\nnew `routes.rb`:\n\n``` ruby\nRails.application.routes.draw do\n\n  root \"application#index\"\n\n  scope \"/:locale\", locale: 'en' do\n\n\n    get 'action_1' => 'custom#action_1'\n  end\nend\n\n```\n\nRuby: 2.3.0\nUbuntu 15.10 x86_32\n",
      "number": 23019,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/AbdulazizGH/subscriptions",
         "received_events_url": "https://api.github.com/users/AbdulazizGH/received_events",
         "url": "https://api.github.com/users/AbdulazizGH",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3087191?v=4",
         "events_url": "https://api.github.com/users/AbdulazizGH/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/AbdulazizGH/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/AbdulazizGH/following{/other_user}",
         "repos_url": "https://api.github.com/users/AbdulazizGH/repos",
         "site_admin": false,
         "id": 3087191,
         "organizations_url": "https://api.github.com/users/AbdulazizGH/orgs",
         "login": "AbdulazizGH",
         "gists_url": "https://api.github.com/users/AbdulazizGH/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/AbdulazizGH/followers",
         "html_url": "https://github.com/AbdulazizGH"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/23019",
      "updated_at": "2016-04-13T16:12:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/23019/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 3,
      "id": 126048488,
      "closed_at": "2016-04-13T16:12:31Z",
      "created_at": "2016-01-11T22:08:24Z",
      "title": "The global request variable<ActionDispatch::Request> is spookingly altered when invoking a url helper method within views under special circumstances",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/23019/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/23019/comments",
      "html_url": "https://github.com/rails/rails/issues/23019"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Requests tagged with `:request_id` do not show up on ever line when there is an error. Example: \n\n```\n[7f8f84ce-d134-4b77-88dc-bac10b54a410]\n2016-01-08T20:38:23.835130+00:00 app[web.3]: ActionView::Template::Error (undefined method `new_user_registration_path' for #<ActionDispatch::Routing::RoutesProxy:0x007fece81b1548>):\n2016-01-08T20:38:23.835131+00:00 app[web.3]:     3: <% end -%>\n2016-01-08T20:38:23.835132+00:00 app[web.3]:     4:\n2016-01-08T20:38:23.835133+00:00 app[web.3]:     5: <%- if devise_mapping.registerable? && controller_name != 'registrations' %>\n2016-01-08T20:38:23.835134+00:00 app[web.3]:     6:   <%= link_to \"Sign up\", new_registration_path(resource_name) %><br />\n2016-01-08T20:38:23.835134+00:00 app[web.3]:     7: <% end -%>\n2016-01-08T20:38:23.835135+00:00 app[web.3]:     8:\n2016-01-08T20:38:23.835136+00:00 app[web.3]:     9: <%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>\n2016-01-08T20:38:23.835137+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionpack-4.2.5/lib/action_dispatch/routing/routes_proxy.rb:36:in `method_missing'\n2016-01-08T20:38:23.835138+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/devise-3.5.2/lib/devise/controllers/url_helpers.rb:51:in `block (4 levels) in generate_helpers!'\n2016-01-08T20:38:23.835139+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb:6:in `_vendor_bundle_ruby_______gems_devise_______app_views_devise_shared__links_html_erb__2183085242633923340_70327838930360'\n2016-01-08T20:38:23.835140+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/template.rb:145:in `block in render'\n2016-01-08T20:38:23.835141+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/activesupport-4.2.5/lib/active_support/notifications.rb:166:in `instrument'\n2016-01-08T20:38:23.835142+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/template.rb:333:in `instrument'\n2016-01-08T20:38:23.835143+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/template.rb:143:in `render'\n2016-01-08T20:38:23.835144+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/renderer/partial_renderer.rb:339:in `render_partial'\n2016-01-08T20:38:23.835144+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/renderer/partial_renderer.rb:310:in `block in render'\n2016-01-08T20:38:23.835145+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/renderer/abstract_renderer.rb:39:in `block in instrument'\n2016-01-08T20:38:23.835146+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/activesupport-4.2.5/lib/active_support/notifications.rb:164:in `block in instrument'\n2016-01-08T20:38:23.835147+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/activesupport-4.2.5/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n2016-01-08T20:38:23.835147+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/activesupport-4.2.5/lib/active_support/notifications.rb:164:in `instrument'\n2016-01-08T20:38:23.835148+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/renderer/abstract_renderer.rb:39:in `instrument'\n2016-01-08T20:38:23.835149+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/renderer/partial_renderer.rb:309:in `render'\n2016-01-08T20:38:23.835150+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/renderer/renderer.rb:47:in `render_partial'\n2016-01-08T20:38:23.835150+00:00 app[web.3]:   vendor/bundle/ruby/2.3.0/gems/actionview-4.2.5/lib/action_view/helpers/rendering_helper.rb:35:in `render'\n```\n\nversus\n\n```\n2016-01-08T20:38:28.672073+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b] Processing by PagesController#index as HTML\n2016-01-08T20:38:28.685667+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b]   Rendered application/_github.html.slim (0.2ms)\n2016-01-08T20:38:28.758460+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b]   Rendered repos/_repo.html.slim (39.8ms)\n2016-01-08T20:38:28.762702+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b]   Rendered pages/index.html.slim within layouts/application (84.9ms)\n2016-01-08T20:38:28.765791+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b]   Rendered application/_flashes.html.slim (0.2ms)\n2016-01-08T20:38:28.770927+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b]   Rendered application/_nav.html.slim (4.7ms)\n2016-01-08T20:38:28.776329+00:00 app[web.1]: [547856d7-3f24-484c-8f40-0cd9b9d26c2b]   Rendered application/_footer.html.slim (4.1ms)\n```\n",
      "number": 22979,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/schneems/subscriptions",
         "received_events_url": "https://api.github.com/users/schneems/received_events",
         "url": "https://api.github.com/users/schneems",
         "avatar_url": "https://avatars2.githubusercontent.com/u/59744?v=4",
         "events_url": "https://api.github.com/users/schneems/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/schneems/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/schneems/following{/other_user}",
         "repos_url": "https://api.github.com/users/schneems/repos",
         "site_admin": false,
         "id": 59744,
         "organizations_url": "https://api.github.com/users/schneems/orgs",
         "login": "schneems",
         "gists_url": "https://api.github.com/users/schneems/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/schneems/followers",
         "html_url": "https://github.com/schneems"
      },
      "state": "closed",
      "closed_by": "23203",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/22979",
      "updated_at": "2016-02-16T20:54:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22979/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 7,
      "id": 125689828,
      "closed_at": "2016-02-16T20:54:35Z",
      "created_at": "2016-01-08T20:41:36Z",
      "title": "Request IDs don't show on every line for errors",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22979/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22979/comments",
      "html_url": "https://github.com/rails/rails/issues/22979"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "For some certain inputs, `String#to_time` cannot parse the date correctly, but returns the current date at midnight instead of nil.\nTake a look at the following example\n\n```\n'gibberish'.to_time\n# => nil\n'010'.to_time\n# => 2016-01-07 00:00:00 +0200 # current date at the time of writing\n'010'.to_datetime\n# => Sun, 10 Jan 2016 00:00:00 +0000\n```\n\nAccording to `Date._parse` the string 010 represents the 10. day of the year. However, `String#to_time` does not use the `:yday` parameter returned by `Date._parse` and just uses the default according to the documentation instead.\n\nExpected behaviour would be to use all parameters returned by `Date._parse` to build the `Time` object or return `nil` if the hash returned by `Date._parse` does not contain any parameters that are used in the construction of the `Time` object.\n\nTested with both Rails 4.2.1 and Rails 5.0.0.beta1.\n",
      "number": 22958,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sliiser/subscriptions",
         "received_events_url": "https://api.github.com/users/sliiser/received_events",
         "url": "https://api.github.com/users/sliiser",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6681358?v=4",
         "events_url": "https://api.github.com/users/sliiser/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sliiser/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sliiser/following{/other_user}",
         "repos_url": "https://api.github.com/users/sliiser/repos",
         "site_admin": false,
         "id": 6681358,
         "organizations_url": "https://api.github.com/users/sliiser/orgs",
         "login": "sliiser",
         "gists_url": "https://api.github.com/users/sliiser/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sliiser/followers",
         "html_url": "https://github.com/sliiser"
      },
      "state": "closed",
      "closed_by": "c2c677",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22958",
      "updated_at": "2016-04-03T23:02:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22958/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 125361488,
      "closed_at": "2016-04-03T23:02:57Z",
      "created_at": "2016-01-07T09:57:48Z",
      "title": "String#to_time and String#to_datetime return different dates for certain input.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22958/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22958/comments",
      "html_url": "https://github.com/rails/rails/issues/22958"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm not sure if this is something rails should take care of, sorry in advance if it's not the case.\n`rake stats` will raise a `ArgumentError: invalid byte sequence in UTF-8` if there is a binary file inside a directory.\nThe most common reason of having binary files inside directories would be because of temporary files.\n\nAn easy solution would be to not process if it's an hidden file (starting by `.`)\n",
      "number": 22919,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Edouard-chin/subscriptions",
         "received_events_url": "https://api.github.com/users/Edouard-chin/received_events",
         "url": "https://api.github.com/users/Edouard-chin",
         "avatar_url": "https://avatars0.githubusercontent.com/u/8122246?v=4",
         "events_url": "https://api.github.com/users/Edouard-chin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Edouard-chin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Edouard-chin/following{/other_user}",
         "repos_url": "https://api.github.com/users/Edouard-chin/repos",
         "site_admin": false,
         "id": 8122246,
         "organizations_url": "https://api.github.com/users/Edouard-chin/orgs",
         "login": "Edouard-chin",
         "gists_url": "https://api.github.com/users/Edouard-chin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Edouard-chin/followers",
         "html_url": "https://github.com/Edouard-chin"
      },
      "state": "closed",
      "closed_by": "23006",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/22919",
      "updated_at": "2016-01-18T18:47:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22919/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 124863083,
      "closed_at": "2016-01-18T18:47:17Z",
      "created_at": "2016-01-04T23:32:57Z",
      "title": "CodeStatisticCalculator raises exception when there is binary file",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22919/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22919/comments",
      "html_url": "https://github.com/rails/rails/issues/22919"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When attempting to deploy the simple chat example https://github.com/HectorPerez/chat-in-rails5\nto a single EC2 instance on AWS we get 'Error during WebSocket handshake: Unexpected response code: 404'. This works locally with RAILS_ENV=production but fails when deployed.\n\n<strong>Steps to reproduce:</strong>\n\n1) Clone https://github.com/HectorPerez/chat-in-rails5\n\n2) Add redis install script by adding .ebextensions/ruby.config like this: https://gist.github.com/KeithP/08b38189372b7fd241e5#file-ebextensions-redis-config ; Git commit and deploy. \n\n3) Use Elastic Beanstalk to spin up a single instance thus:\n\n```\neb create dev-env -p \u201c64bit Amazon Linux 2015.09 v2.0.4 running Ruby\n2.2 (Puma)\u201d \u2013single -i t2.micro --envvars\nSECRET_KEY_BASE=g5dh9cg614a37d4bdece9126b42d50d0ab8b2fc785daa1e0dac0383d6387f36b\n```\n\n4) Open in a browser, inspect and see this repeating error in the console:\n\n```\napplication-a57354de3399cd895ca366df9bd7316ab69e81d266b63be7d7be563ebc78ab9d.js:27 \nWebSocket connection to \u2018ws://dev-env-y2e5dcrxqk.elasticbeanstalk.com/cable\u2019 failed: \nError during WebSocket handshake: Unexpected response code: 404\n```\n\n![chatroom2](https://cloud.githubusercontent.com/assets/265490/12064677/6b29d826-afc1-11e5-8fbb-6439dfeed1ab.JPG)\n\nCheck the logs and verify redis installed and started ok\n\nThis is also asked on stackoverflow: http://stackoverflow.com/questions/34536926/rails-5-0-0-beta1-activecable-error-during-websocket-handshake-unexpected-resp\n",
      "number": 22871,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/KeithP/subscriptions",
         "received_events_url": "https://api.github.com/users/KeithP/received_events",
         "url": "https://api.github.com/users/KeithP",
         "avatar_url": "https://avatars3.githubusercontent.com/u/265490?v=4",
         "events_url": "https://api.github.com/users/KeithP/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/KeithP/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/KeithP/following{/other_user}",
         "repos_url": "https://api.github.com/users/KeithP/repos",
         "site_admin": false,
         "id": 265490,
         "organizations_url": "https://api.github.com/users/KeithP/orgs",
         "login": "KeithP",
         "gists_url": "https://api.github.com/users/KeithP/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/KeithP/followers",
         "html_url": "https://github.com/KeithP"
      },
      "state": "closed",
      "closed_by": "25955",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/22871",
      "updated_at": "2016-02-23T21:41:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22871/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 124473206,
      "closed_at": "2016-02-23T21:41:32Z",
      "created_at": "2015-12-31T13:58:14Z",
      "title": "error when deployed: \"Error during WebSocket handshake: Unexpected response code: 404\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22871/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22871/comments",
      "html_url": "https://github.com/rails/rails/issues/22871"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The section for ['Functional Tests for your Controllers'](http://edgeguides.rubyonrails.org/testing.html#functional-tests-for-your-controllers) contains an issue if the user is working with their code from the 'Getting Started' guide.\n\nThe text supports creating the tests from:\n1. the `scaffold_controller` generator\n2. the `test_unit:scaffold` generator, which adds only testing scaffold. \n\nCase **1** is fine. The problem is with **2**.\nSpecifically, if the user is using their code from 'Getting Started' and they went through until the last section, where HTTP Basic authentication (and authorization) is added.\n\nThe end of this section says, if you follow the step to modify one test, then **'you can try running all the tests and they should pass.'** but that's not true if they set up authentication.\n\nPossible solutions:\n\n**A**) Add a note after `test_unit:scaffold` command about removing the `http_basic_authenticate_with name: \"dhh\", password: \"secret\"` lines from ArticlesController and CommentsController.\n\n**B**) Add a note about adding the following to the `setup` block:\n\n```\nrequest.headers['Authorization'] = ActionController::HttpAuthentication::Basic.\n  encode_credentials('dhh', 'secret')\n```\n\n| Solutions | Pro | Con |\n| --- | --- | --- |\n| **A** | simpler | might give impression that testing can't deal with authentication |\n| **B** | more complete, retains security | not sure where it would go, since it only affects some readers |\n\nI'd be happy to implement do either. Just let me know which approach you think is better.\n",
      "number": 22862,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cllns/subscriptions",
         "received_events_url": "https://api.github.com/users/cllns/received_events",
         "url": "https://api.github.com/users/cllns",
         "avatar_url": "https://avatars1.githubusercontent.com/u/632942?v=4",
         "events_url": "https://api.github.com/users/cllns/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cllns/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cllns/following{/other_user}",
         "repos_url": "https://api.github.com/users/cllns/repos",
         "site_admin": false,
         "id": 632942,
         "organizations_url": "https://api.github.com/users/cllns/orgs",
         "login": "cllns",
         "gists_url": "https://api.github.com/users/cllns/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cllns/followers",
         "html_url": "https://github.com/cllns"
      },
      "state": "closed",
      "closed_by": "27204",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/22862",
      "updated_at": "2016-11-29T00:53:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22862/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 7,
      "id": 124419784,
      "closed_at": "2016-11-29T00:53:31Z",
      "created_at": "2015-12-31T01:08:19Z",
      "title": "Guide issue: 'Functional Tests for your Controllers'",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22862/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22862/comments",
      "html_url": "https://github.com/rails/rails/issues/22862"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "```\nActionController::Parameters.new(foo: 'bar') == ActionController::Parameters.new(foo: 'bar')\n=> false\n```\n\nCompare to:\n\n```\n{ foo: 'bar' } == { foo: 'bar' }\n=> true\n```\n\nWhy is this behavior different?\n",
      "number": 22820,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jcoyne/subscriptions",
         "received_events_url": "https://api.github.com/users/jcoyne/received_events",
         "url": "https://api.github.com/users/jcoyne",
         "avatar_url": "https://avatars2.githubusercontent.com/u/92044?v=4",
         "events_url": "https://api.github.com/users/jcoyne/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jcoyne/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jcoyne/following{/other_user}",
         "repos_url": "https://api.github.com/users/jcoyne/repos",
         "site_admin": false,
         "id": 92044,
         "organizations_url": "https://api.github.com/users/jcoyne/orgs",
         "login": "jcoyne",
         "gists_url": "https://api.github.com/users/jcoyne/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jcoyne/followers",
         "html_url": "https://github.com/jcoyne"
      },
      "state": "closed",
      "closed_by": "23733",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/22820",
      "updated_at": "2016-02-18T19:19:09Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/22820/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 124134796,
      "closed_at": "2016-02-18T19:04:57Z",
      "created_at": "2015-12-28T22:22:37Z",
      "title": "AC::Parameters doesn't compare (==) in a sane way",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22820/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22820/comments",
      "html_url": "https://github.com/rails/rails/issues/22820"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I create new rails app and try to run it with `-d` option\n\n```\nrails _5.0.0.beta1_ new example_app -G -d sqlite3\ncd example_app\n./bin/rails server -d\n```\n\nOutput:\n\n```\n=> Booting Puma\n=> Rails 5.0.0.beta1 application starting in development on http://localhost:3000\n=> Run `rails server -h` for more startup options\nI, [2015-12-28T16:56:38.914107 #54996]  INFO -- : Celluloid 0.17.2 is running in BACKPORTED mode. [ http://git.io/vJf3J ]\n```\n\nFrom log file:\n\n```\nDEPRECATION WARNING: alias_method_chain is deprecated. Please, use Module#prepend instead. From module, you can access the original method using super. (called from block in tsort_each at /Users/pavel/.rbenv/versions/2.2.3/lib/ruby/2.2.0/tsort.rb:226)\nDEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <top (required)> at /Sites/example_app/app/controllers/application_controller.rb:1)\nDEPRECATION WARNING: after_filter is deprecated and will be removed in Rails 5.1. Use after_action instead. (called from <top (required)> at /Sites/example_app/app/controllers/application_controller.rb:1)\nDEPRECATION WARNING: alias_method_chain is deprecated. Please, use Module#prepend instead. From module, you can access the original method using super. (called from block in tsort_each at /Users/pavel/.rbenv/versions/2.2.3/lib/ruby/2.2.0/tsort.rb:226)\nDEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <top (required)> at /Sites/example_app/app/controllers/application_controller.rb:1)\nDEPRECATION WARNING: after_filter is deprecated and will be removed in Rails 5.1. Use after_action instead. (called from <top (required)> at /Sites/example_app/app/controllers/application_controller.rb:1)\nCouldn't cleanly terminate all actors in 10 seconds!\n```\n\nWhen running without `-d` it works just fine\n",
      "number": 22811,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Paxa/subscriptions",
         "received_events_url": "https://api.github.com/users/Paxa/received_events",
         "url": "https://api.github.com/users/Paxa",
         "avatar_url": "https://avatars3.githubusercontent.com/u/26019?v=4",
         "events_url": "https://api.github.com/users/Paxa/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Paxa/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Paxa/following{/other_user}",
         "repos_url": "https://api.github.com/users/Paxa/repos",
         "site_admin": false,
         "id": 26019,
         "organizations_url": "https://api.github.com/users/Paxa/orgs",
         "login": "Paxa",
         "gists_url": "https://api.github.com/users/Paxa/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Paxa/followers",
         "html_url": "https://github.com/Paxa"
      },
      "state": "closed",
      "closed_by": "23008",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/22811",
      "updated_at": "2016-01-17T09:57:51Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/22811/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 124045830,
      "closed_at": "2016-01-16T16:08:53Z",
      "created_at": "2015-12-28T10:03:15Z",
      "title": "Starting rails 5 as a daemon",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22811/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22811/comments",
      "html_url": "https://github.com/rails/rails/issues/22811"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We're experiencing some weird behavior in an integration test that uses open_session multiple times. I've put together a fresh sample app to and made the code as close to the [integration test examples](http://guides.rubyonrails.org/testing.html#integration-testing-examples) as possible, and I'm still seeing the issue.\n\n``` ruby\nclass SessionIntegrationTest < ActionDispatch::IntegrationTest\n  test 'two session test' do # passes\n    mel = login(:melissa)\n    luis = login(:luis)\n\n    assert_equal 'Welcome melissa!', mel.flash[:notice]\n    assert_equal 'Welcome luis!', luis.flash[:notice]\n  end\n\n  test 'three session test' do # fails\n    mel = login(:melissa)\n    luis = login(:luis)\n    frank = login(:frank)\n\n    assert_equal 'Welcome melissa!', mel.flash[:notice]\n    assert_equal 'Welcome luis!', luis.flash[:notice]  # <---- fails here with \"Welcome frank!\"\n    assert_equal 'Welcome frank!', frank.flash[:notice]\n  end\n\n  private\n\n  def login(name, password: 'password')\n    open_session do |sess|\n      sess.post sessions_url, username: name, password: password\n      assert_equal '/sessions', sess.path\n    end\n  end\nend\n```\n\nIt seems as though the 2nd session is shared with the 3rd session. Any idea what could be causing this? I've tried digging into the source code for the integration tests but I'm not finding the logic that easy to follow.\n\ncc @dvallance\n",
      "number": 22742,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jhubert/subscriptions",
         "received_events_url": "https://api.github.com/users/jhubert/received_events",
         "url": "https://api.github.com/users/jhubert",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3384?v=4",
         "events_url": "https://api.github.com/users/jhubert/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jhubert/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jhubert/following{/other_user}",
         "repos_url": "https://api.github.com/users/jhubert/repos",
         "site_admin": false,
         "id": 3384,
         "organizations_url": "https://api.github.com/users/jhubert/orgs",
         "login": "jhubert",
         "gists_url": "https://api.github.com/users/jhubert/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jhubert/followers",
         "html_url": "https://github.com/jhubert"
      },
      "state": "closed",
      "closed_by": "27103",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/22742",
      "updated_at": "2016-04-29T21:59:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22742/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 123383860,
      "closed_at": "2016-04-29T21:59:29Z",
      "created_at": "2015-12-21T23:50:17Z",
      "title": "Unexpected session sharing with integration tests leads to errors",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22742/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22742/comments",
      "html_url": "https://github.com/rails/rails/issues/22742"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Recently I stumbled upon a problem with `changed?` method on array columns in AR. Assigning identical arrays to created AR model generates changes even though arrays are equal. I managed to observe the behaviour only with array containing unicode strings.\n\nMore descriptive example with failing test:\n\n``` ruby\n def test_change_of_unicode_string_in_array\n    x = PgArray.create!(tags: ['nov\u00fd']) # 'new'\n\n    assert_not(x.changed?)\n\n    x.tags = ['nov\u00fd']\n\n    assert_not(x.changed?) # Failure: Expected true to be nil or false\n\n    x.reload\n    x.tags << 'modr\u00fd' # 'blue'\n\n    assert_equal(x.tags, ['nov\u00fd', 'modr\u00fd'])\n    assert(x.changed?)\n\n    x.save!\n\n    assert_not(x.changed?)\n  end\n```\n\nTest passes with value `novy` instead of unicode one `nov\u00fd`. This probably isn't a proper behaviour. Am I missing some settings or is this a bug?\n",
      "number": 22730,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/smolnar/subscriptions",
         "received_events_url": "https://api.github.com/users/smolnar/received_events",
         "url": "https://api.github.com/users/smolnar",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1520466?v=4",
         "events_url": "https://api.github.com/users/smolnar/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/smolnar/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/smolnar/following{/other_user}",
         "repos_url": "https://api.github.com/users/smolnar/repos",
         "site_admin": false,
         "id": 1520466,
         "organizations_url": "https://api.github.com/users/smolnar/orgs",
         "login": "smolnar",
         "gists_url": "https://api.github.com/users/smolnar/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/smolnar/followers",
         "html_url": "https://github.com/smolnar"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22730",
      "updated_at": "2016-09-01T09:15:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22730/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         },
         {
            "id": 131864,
            "url": "https://api.github.com/repos/rails/rails/labels/third%20party%20issue",
            "color": "02d7e1",
            "default": false,
            "name": "third party issue"
         }
      ],
      "comments": 8,
      "id": 123321979,
      "closed_at": "2016-09-01T09:15:43Z",
      "created_at": "2015-12-21T17:28:21Z",
      "title": "Strange equality check for PostgreSQL arrays with unicode string characters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22730/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22730/comments",
      "html_url": "https://github.com/rails/rails/issues/22730"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "_From @KevinMcHugh on August 20, 2015 19:33_\n\nI've got ActionCable running in a Rails 4 app and it's wonderful, it feels very rails-y already. Thank you to everyone for your hard work.\n\nIn writing my client of the ActionCable websockets, I was surprised that the messages to subscribe and follow channels are as following:\n`{\"command\":\"subscribe\",\"identifier\":\"{\\\"channel\\\":\\\"CommentsChannel\\\"}\"}`\nand\n`{\"command\":\"message\",\"identifier\":\"{\\\"channel\\\":\\\"CommentsChannel\\\"}\",\"data\":\"{\\\"message_id\\\":1,\\\"action\\\":\\\"follow\\\"}\"}`\n(pulled from the example app in [rails/actioncable-examples](https://github.com/rails/actioncable-examples)).\n\nGenerating those messages in my client (a rails-agnostic ReactJS app) was more complicated than it could have been. I was surprised that those messages weren't:\n`{\"command\":\"subscribe\",\"identifier\": {\"channel\": \"CommentsChannel\"}}`\nand\n`{\"command\":\"message\",\"identifier\": {\"channel\":\"CommentsChannel\"}\",\n  \"data\":\"{\"message_id\":1,\"action\":\"follow\"}\"}`\n\nThe latter is more easily serialized and easier to generate. I think I'm missing some aspect that makes the escaped `identity` and `data` values superior. Is there a principle or detail here that I should know about for continuing to develop code against ActionCable?\n\n(This isn't a bug, but it made developing JS against ActionCable painful in a surprising way. If this isn't the correct place for me to ask my question, I apologize and would be happy to know where I should be asking this sort of thing.)\n\n_Copied from original issue: rails/actioncable#64_\n",
      "number": 22675,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "state": "closed",
      "closed_by": "23649",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/22675",
      "updated_at": "2016-03-18T04:32:52Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/22675/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 19,
      "id": 123036694,
      "closed_at": "2016-03-02T15:11:37Z",
      "created_at": "2015-12-18T22:26:37Z",
      "title": "Websocket messages have surprising escaping",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22675/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22675/comments",
      "html_url": "https://github.com/rails/rails/issues/22675"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "_From @rafaelfranca on November 4, 2015 17:13_\n\n_From @openscript on November 4, 2015 10:21_\n\nThe release of Rails 5 is coming closer and closer. I've been spending some time with ActionCable, but I think there are still a few things to discover. Howsoever, I thought I can contribute something to the guides. So let's start the ActionCable topic.\n\n---\n\nHere is my idea about the chapter structure, based on Active Job Basics and Action Mailer Basics:\n- [ ] Introduction: A few lines about what's ActionCable\n- [ ] Technical background: How does ActionCable work? What's the PubSub pattern?\n- [ ] Configuration of the service\n- [ ] Creating a Cable\n  - [ ] At the server-side\n  - [ ] At the browser-side\n- [ ] Opening a channel\n  - [ ] At the server-side\n  - [ ] At the browser-side\n- [ ] Running the service\n\n---\n\nWhat do you think about? Is someone else working on this? \n\n_Copied from original issue: rails/rails#22178_\n\n_Copied from original issue: rails/actioncable#114_\n",
      "number": 22673,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "state": "closed",
      "closed_by": "23176",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/22673",
      "updated_at": "2016-01-22T06:58:59Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/22673/events",
      "assignee": null,
      "labels": [
         {
            "id": 300028327,
            "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
            "color": "bfdadc",
            "default": false,
            "name": "actioncable"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 17,
      "id": 123035801,
      "closed_at": "2016-01-22T06:58:59Z",
      "created_at": "2015-12-18T22:18:46Z",
      "title": "Add ActionCable as a topic to the guide",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22673/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22673/comments",
      "html_url": "https://github.com/rails/rails/issues/22673"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "BCrypt actually uses the first 72 bytes in password, as shown in this [gist](https://gist.github.com/jokester/da75e217f1653e125c40). While [rails](https://github.com/rails/rails/blob/master/activemodel/lib/active_model/secure_password.rb#L77) is validating the length in characters instead of bytes.\n\nI suppose this differs when password contains multibyte characters, and propose to validate the size in `to_s.bytes.length`, or at least mention this difference in document.\n",
      "number": 22617,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jokester/subscriptions",
         "received_events_url": "https://api.github.com/users/jokester/received_events",
         "url": "https://api.github.com/users/jokester",
         "avatar_url": "https://avatars0.githubusercontent.com/u/802130?v=4",
         "events_url": "https://api.github.com/users/jokester/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jokester/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jokester/following{/other_user}",
         "repos_url": "https://api.github.com/users/jokester/repos",
         "site_admin": false,
         "id": 802130,
         "organizations_url": "https://api.github.com/users/jokester/orgs",
         "login": "jokester",
         "gists_url": "https://api.github.com/users/jokester/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jokester/followers",
         "html_url": "https://github.com/jokester"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22617",
      "updated_at": "2016-03-07T21:57:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22617/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 122642646,
      "closed_at": "2016-03-07T21:57:56Z",
      "created_at": "2015-12-17T01:38:56Z",
      "title": "`has_secure_password` limits password to 72 characters, while the limitation is actually in bytes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22617/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22617/comments",
      "html_url": "https://github.com/rails/rails/issues/22617"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Counter caches for associations with string keys have issues in at least 4.1. In 4.2 we noticed it because they throw exceptions when they try to use the string key to lookup the record on its primary key. This causes out of range exceptions if we have large numbers as string keys. Linked are test cases to reproduce. Throws exceptions in 4.2 and have test case failures in 4.1.\n\n[string_keys_and_counter_cache_4-1.rb](https://gist.github.com/amalagaura/7de9a6716748b818e8f6)\n[string_keys_and_counter_cache_4-2.rb](https://gist.github.com/amalagaura/e426722f80dc4a0ec690)\n\nI tested 4.2.0 - 4.2.5. All with same behavior.\n",
      "number": 22602,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/amalagaura/subscriptions",
         "received_events_url": "https://api.github.com/users/amalagaura/received_events",
         "url": "https://api.github.com/users/amalagaura",
         "avatar_url": "https://avatars0.githubusercontent.com/u/498234?v=4",
         "events_url": "https://api.github.com/users/amalagaura/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/amalagaura/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/amalagaura/following{/other_user}",
         "repos_url": "https://api.github.com/users/amalagaura/repos",
         "site_admin": false,
         "id": 498234,
         "organizations_url": "https://api.github.com/users/amalagaura/orgs",
         "login": "amalagaura",
         "gists_url": "https://api.github.com/users/amalagaura/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/amalagaura/followers",
         "html_url": "https://github.com/amalagaura"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22602",
      "updated_at": "2017-03-03T00:36:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22602/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 5,
      "id": 122328862,
      "closed_at": "2017-03-03T00:36:44Z",
      "created_at": "2015-12-15T17:54:28Z",
      "title": "Counter caches for associations with non-primary keys do not work. increment_counters only takes a primary key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22602/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22602/comments",
      "html_url": "https://github.com/rails/rails/issues/22602"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "SQLite documentation for an autoincrement column states:\n\n\" In SQLite, a column with type INTEGER PRIMARY KEY is an alias for the ROWID (except in WITHOUT ROWID tables) which is always a 64-bit signed integer. \"\n\nhttps://www.sqlite.org/autoinc.html\n\nI can then do:\n\n<pre>\nsqlite> create table tests (a integer primary key);\nsqlite> insert into tests (a) values (1311016998372151528);\nsqlite> select * from tests;\n1311016998372151528\n</pre>\n\n\nHowever, trying to set the same field in an active record model fails:\n\n<pre>\nirb(main):002:0> class Test < ActiveRecord::Base; end\n=> nil\nirb(main):003:0> Test.new(a: 1311016998372151528).save!\n   (0.1ms)  begin transaction\n   (0.1ms)  rollback transaction\nRangeError: 1311016998372151528 is out of range for ActiveRecord::Type::Integer with limit 4\n...\n</pre>\n\n\nI initially ran into this issue while trying to use https://github.com/caboteria/rails-bigint-pk.\n",
      "number": 22594,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/p/subscriptions",
         "received_events_url": "https://api.github.com/users/p/received_events",
         "url": "https://api.github.com/users/p",
         "avatar_url": "https://avatars0.githubusercontent.com/u/125612?v=4",
         "events_url": "https://api.github.com/users/p/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/p/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/p/following{/other_user}",
         "repos_url": "https://api.github.com/users/p/repos",
         "site_admin": false,
         "id": 125612,
         "organizations_url": "https://api.github.com/users/p/orgs",
         "login": "p",
         "gists_url": "https://api.github.com/users/p/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/p/followers",
         "html_url": "https://github.com/p"
      },
      "state": "closed",
      "closed_by": "28379",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22594",
      "updated_at": "2017-12-03T18:38:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22594/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 5,
      "id": 122174119,
      "closed_at": "2017-12-03T06:45:41Z",
      "created_at": "2015-12-15T01:51:46Z",
      "title": "SQLite primary keys are 64 bit but AR treats them as 32 bit",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22594/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22594/comments",
      "html_url": "https://github.com/rails/rails/issues/22594"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using postgres.  With this as our migration:\n\n``` ruby\nadd_column :my_table, :score, :float, default: Float::INFINITY\n```\n\nWhen I run `bin/rake db:schema:dump`, the column is dumped as this:\n\n``` ruby\n t.float    \"score\",         default: Infinity\n```\n\nThis is, of course, results in \"uninitialized constant Infinity\".  See [this thread](http://stackoverflow.com/questions/18460785/what-are-the-types-of-infinity-and-nan).\n\nThis is a problem because it makes schema.rb unusable if the changes are actually checked in :-/\n",
      "number": 22396,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pehrlich/subscriptions",
         "received_events_url": "https://api.github.com/users/pehrlich/received_events",
         "url": "https://api.github.com/users/pehrlich",
         "avatar_url": "https://avatars3.githubusercontent.com/u/407497?v=4",
         "events_url": "https://api.github.com/users/pehrlich/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pehrlich/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pehrlich/following{/other_user}",
         "repos_url": "https://api.github.com/users/pehrlich/repos",
         "site_admin": false,
         "id": 407497,
         "organizations_url": "https://api.github.com/users/pehrlich/orgs",
         "login": "pehrlich",
         "gists_url": "https://api.github.com/users/pehrlich/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pehrlich/followers",
         "html_url": "https://github.com/pehrlich"
      },
      "state": "closed",
      "closed_by": "24571",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22396",
      "updated_at": "2016-04-29T22:01:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22396/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 3,
      "id": 118662043,
      "closed_at": "2016-04-29T22:01:59Z",
      "created_at": "2015-11-24T17:23:26Z",
      "title": "Schema.rb generated incorrectly for columns with default of Infinity",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22396/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22396/comments",
      "html_url": "https://github.com/rails/rails/issues/22396"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello, I think I have found a bug with Rails. I have tested this with version 4.2.0, 4.2.3, 4.2.4, and 4.2.5 and the issue appears in all those versions.\n\nI have a reproduction program in a gist https://gist.github.com/burnt43/67d03704cb67bfadfa1a.\n\nThe problem happens with the following conditions\n1. Model A that has many of Model B\n2. Model B belongs to Model A.\n3. Model A accepts nested attributes for Model B\n4. Model B validates presence of Model A\n\nWhen you do what I think is called an 'inline save' like below\n\n``` ruby\nModelA.new({\n  field1: 'whatever',\n  model_bs: [\n    ModelB.new( field1: 'whatever' )\n  ]\n}).save\n```\n\nThe save will fail and return false because ModelB is validating the presence of ModelA for some reason it is not setting model_a_id.\n\nHowever, if I comment out the accepts_nested_attributes_for in ModelA then the save works as intended.\n\nYou can see in my reproduction program that `Bar` and `Qux` are identical and I save a new `Foo` in the exact same way, but the only different is `Foo` `accepts_nested_attributes_for :quxes`, but does not for `:bars`. The second assertion in my test fails, but the first will pass.\n",
      "number": 22358,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/burnt43/subscriptions",
         "received_events_url": "https://api.github.com/users/burnt43/received_events",
         "url": "https://api.github.com/users/burnt43",
         "avatar_url": "https://avatars0.githubusercontent.com/u/8127785?v=4",
         "events_url": "https://api.github.com/users/burnt43/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/burnt43/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/burnt43/following{/other_user}",
         "repos_url": "https://api.github.com/users/burnt43/repos",
         "site_admin": false,
         "id": 8127785,
         "organizations_url": "https://api.github.com/users/burnt43/orgs",
         "login": "burnt43",
         "gists_url": "https://api.github.com/users/burnt43/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/burnt43/followers",
         "html_url": "https://github.com/burnt43"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22358",
      "updated_at": "2016-11-02T00:21:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22358/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 12,
      "id": 118139154,
      "closed_at": "2016-11-02T00:21:26Z",
      "created_at": "2015-11-20T22:22:34Z",
      "title": "bad interaction with has_many, accepts_nested_attributes_for, and validates_presence_of",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22358/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22358/comments",
      "html_url": "https://github.com/rails/rails/issues/22358"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using activesupport to parse JSON a seemingly valid datetime string (``\"2015-02-14T02:21:34\"`) seems to not get parsed into a valid datetime.\n\nFull example:\n\n```\n$ rails c\nLoading development environment (Rails 4.2.4)\n2.2.3 :001 > ActiveSupport.parse_json_times = True\n2.2.3 :002 > ActiveSupport::JSON.decode('{\"a\":\"2015-02-14T02:21:34\"}')\n => {\"a\"=>\"2015-02-14T02:21:34\"}  # Incorrectly a string\n\n2.2.3 :003 > ActiveSupport::JSON.decode('{\"a\":\"2015-02-14T02:21:34Z\"}')\n => {\"a\"=>Sat, 14 Feb 2015 02:21:34 +0000}  # Correctly a datetime\n```\n\nI believe the string `\"2015-02-14T02:21:34\"` is a valid iso8601 datetime string (it just doesn't have a timezone indicator). \n\nIf you trace the source of this it goes to `activesupport/lib/activesupport/decoding.rb` and the regular expression\n\n```\nDATE_REGEX = /^(?:\\d{4}-\\d{2}-\\d{2}|\\d{4}-\\d{1,2}-\\d{1,2}[T \\t]+\\d{1,2}:\\d{2}:\\d{2}(\\.[0-9]*)?(([ \\t]*)Z|[-+]\\d{2}?(:\\d{2})?))$/\n```\n\nShould probably be\n\n```\nDATE_REGEX = /^(?:\\d{4}-\\d{2}-\\d{2}|\\d{4}-\\d{1,2}-\\d{1,2}[T \\t]+\\d{1,2}:\\d{2}:\\d{2}(\\.[0-9]*)?(([ \\t]*)Z|[-+]\\d{2}?(:\\d{2})?)?)$/\n```\n\nNote the `?` as the 4rd to last character in the expression\n",
      "number": 22171,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/trcarden/subscriptions",
         "received_events_url": "https://api.github.com/users/trcarden/received_events",
         "url": "https://api.github.com/users/trcarden",
         "avatar_url": "https://avatars2.githubusercontent.com/u/460530?v=4",
         "events_url": "https://api.github.com/users/trcarden/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/trcarden/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/trcarden/following{/other_user}",
         "repos_url": "https://api.github.com/users/trcarden/repos",
         "site_admin": false,
         "id": 460530,
         "organizations_url": "https://api.github.com/users/trcarden/orgs",
         "login": "trcarden",
         "gists_url": "https://api.github.com/users/trcarden/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/trcarden/followers",
         "html_url": "https://github.com/trcarden"
      },
      "state": "closed",
      "closed_by": "23011",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22171",
      "updated_at": "2016-06-25T13:21:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22171/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 17,
      "id": 114895240,
      "closed_at": "2016-06-25T04:03:30Z",
      "created_at": "2015-11-03T19:49:00Z",
      "title": "ActiveSupport::JSON.decode Fails Decoding ISO8601 Date/Time String",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22171/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22171/comments",
      "html_url": "https://github.com/rails/rails/issues/22171"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When the absolute path and name of a view is provided in the mail() method argument list the mail method does not find the specified file even though it exists:\n\n``` ruby\n    mail( :to => recipients,\n          :from => fm_address,\n          :subject => subject,\n          :template_name => \"hll_th_forex_commercial_rates_notice.text.erb\",\n          :template_path => File.join( File.dirname( __FILE__ ), \"views\" )\n        )\n```\n\n> Missing template /home/byrnejb/Projects/Software/theHeart/code/hll_th_main/lib/hll_action_mailer/hll_th_forex_mailer/views/hll_th_forex_commercial_rates_notice.text.erb with \"mailer\".\n> Searched in:\n>        \\* \"/home/byrnejb/Projects/Software/theHeart/code/hll_th_main/lib/hll_action_mailer/hll_th_forex_mailer/views\"\n> \n> ls -l /home/byrnejb/Projects/Software/theHeart/code/hll_th_main/lib/hll_action_mailer/hll_th_forex_mailer/views\n> -rw-rw-r--. 1 byrnejb byrnejb 2010 Oct 20 16:10 hll_th_forex_commercial_rates_notice.text.erb\n",
      "number": 22047,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/byrnejb/subscriptions",
         "received_events_url": "https://api.github.com/users/byrnejb/received_events",
         "url": "https://api.github.com/users/byrnejb",
         "avatar_url": "https://avatars1.githubusercontent.com/u/37126?v=4",
         "events_url": "https://api.github.com/users/byrnejb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/byrnejb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/byrnejb/following{/other_user}",
         "repos_url": "https://api.github.com/users/byrnejb/repos",
         "site_admin": false,
         "id": 37126,
         "organizations_url": "https://api.github.com/users/byrnejb/orgs",
         "login": "byrnejb",
         "gists_url": "https://api.github.com/users/byrnejb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/byrnejb/followers",
         "html_url": "https://github.com/byrnejb"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22047",
      "updated_at": "2017-03-03T00:36:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22047/events",
      "assignee": null,
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 2,
      "id": 113033279,
      "closed_at": "2017-03-03T00:36:43Z",
      "created_at": "2015-10-23T14:40:10Z",
      "title": "action-mailer 4.2 mail method does not find :template_name and :template_path specified view",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22047/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22047/comments",
      "html_url": "https://github.com/rails/rails/issues/22047"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "While I understand that most of the time if you can't deserialize a job's attributes then retrying it is probably not useful, however it is possible to get this exception under recoverable circumstances where retrying could be useful.\n\nFor example, we have been seeing some cases of `ActiveJob::DeserializationError` that were caused by an `ActiveRecord::ConnectionTimeoutError` - so the records passed as attributes exist, we just had a database cough at the wrong moment - trying again later should allow the job to run successfully. By examining the `cause` of the deserialization exception we retry only when the underlying problem was a connection timeout, however when we do this the recreated job is delivered to Sidekiq with no arguments and so immediately crashes when it is run.\n\nHaving had a dig around it seems that (unsurprisingly!) in a `rescue_from` block for an `ActiveJob::DeserializationError`, the job's `self.attributes` is empty, however the original serialized values are still stored in `@serialized_arguments`. For now, I've put a money patch into our application that extends the `serialize` method of `ActiveJob::Base` (from `ActiveJob::Core`), allowing a job to recycle the `@serialized_arguments` if they are present but the arguments were going to be returned empty.\n",
      "number": 22044,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/DMA57361/subscriptions",
         "received_events_url": "https://api.github.com/users/DMA57361/received_events",
         "url": "https://api.github.com/users/DMA57361",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1375133?v=4",
         "events_url": "https://api.github.com/users/DMA57361/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/DMA57361/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/DMA57361/following{/other_user}",
         "repos_url": "https://api.github.com/users/DMA57361/repos",
         "site_admin": false,
         "id": 1375133,
         "organizations_url": "https://api.github.com/users/DMA57361/orgs",
         "login": "DMA57361",
         "gists_url": "https://api.github.com/users/DMA57361/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/DMA57361/followers",
         "html_url": "https://github.com/DMA57361"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/22044",
      "updated_at": "2017-03-21T19:14:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/22044/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 6,
      "id": 113022593,
      "closed_at": "2017-03-21T19:14:02Z",
      "created_at": "2015-10-23T13:45:05Z",
      "title": "ActiveJob retry_job in rescue_from ActiveJob::DeserializationError retries with no arguments",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/22044/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/22044/comments",
      "html_url": "https://github.com/rails/rails/issues/22044"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "https://github.com/rails/rails/blob/2061c15f80f0c0302f8aadd201e8ef0ee5e59803/activesupport/lib/active_support/values/time_zone.rb#L283\n\nI would recommend changing this to utc_total_offset to take Daylight Savings Time into consideration, unless this was done on purpose for a reason that I'm currently unaware of.\n\nExample: time_zone_select shows US/Pacific as \"(GMT-08:00) US/Pacific\", when it should be -07:00 right now.\n",
      "number": 21942,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/MatTarantini/subscriptions",
         "received_events_url": "https://api.github.com/users/MatTarantini/received_events",
         "url": "https://api.github.com/users/MatTarantini",
         "avatar_url": "https://avatars0.githubusercontent.com/u/8454444?v=4",
         "events_url": "https://api.github.com/users/MatTarantini/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/MatTarantini/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/MatTarantini/following{/other_user}",
         "repos_url": "https://api.github.com/users/MatTarantini/repos",
         "site_admin": false,
         "id": 8454444,
         "organizations_url": "https://api.github.com/users/MatTarantini/orgs",
         "login": "MatTarantini",
         "gists_url": "https://api.github.com/users/MatTarantini/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/MatTarantini/followers",
         "html_url": "https://github.com/MatTarantini"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21942",
      "updated_at": "2016-10-10T08:48:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21942/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 8,
      "id": 111069645,
      "closed_at": "2016-10-10T08:48:56Z",
      "created_at": "2015-10-12T22:44:22Z",
      "title": "Timezone offsets in time_zone_select not taking into consideration DST",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21942/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21942/comments",
      "html_url": "https://github.com/rails/rails/issues/21942"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I've been doing some extensive caching on my Rails project and encountered the following bug:\n\nWhen relying on the ActiveRecord `cache_key` and on an OS that supports nanoseconds-time there is a synchronisation problem between the `cache_key` of the Ruby object returned by `.create` and the same object re-fetched from the database. The former is with nanoseconds precision and the second one with microseconds (at most) precision. Therefor the `cache_keys` don't match.\n\nThis template illustrates the 'bug', it fails on Ubuntu but passes on OS X:\nhttps://gist.github.com/tarzan/77298ec393598dd4e854\n\nI think it would be wise to tone down the precision of the `cache_key` timestamp to micro-seconds and am willing to do this in a PR. Are you guys interested?\n",
      "number": 21815,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/tarzan/subscriptions",
         "received_events_url": "https://api.github.com/users/tarzan/received_events",
         "url": "https://api.github.com/users/tarzan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/140655?v=4",
         "events_url": "https://api.github.com/users/tarzan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tarzan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tarzan/following{/other_user}",
         "repos_url": "https://api.github.com/users/tarzan/repos",
         "site_admin": false,
         "id": 140655,
         "organizations_url": "https://api.github.com/users/tarzan/orgs",
         "login": "tarzan",
         "gists_url": "https://api.github.com/users/tarzan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tarzan/followers",
         "html_url": "https://github.com/tarzan"
      },
      "state": "closed",
      "closed_by": "6d2924",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/21815",
      "updated_at": "2015-10-20T20:21:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21815/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 108871722,
      "closed_at": "2015-10-20T20:21:26Z",
      "created_at": "2015-09-29T13:42:14Z",
      "title": "ActiveRecord `cache_key` goes out-of-sync because of nanoseconds precision",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21815/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21815/comments",
      "html_url": "https://github.com/rails/rails/issues/21815"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The following code is failing in Rails 4.2.4:\n\n```\nActiveSupport::SafeBuffer.new(\"test_test_again\").titleize\nActiveSupport::SafeBuffer.new(\"test test again\").titleize\n```\n\nwhile these work fine:\n\n```\n\"test_test_again\".titleize\n\"test test again\".titleize\nActiveSupport::SafeBuffer.new(\"test\").titleize\nActiveSupport::SafeBuffer.new(\"test_test_again\").capitalize\nActiveSupport::SafeBuffer.new(\"test test again\").capitalize\n```\n\nSeems the regular expression in titleize inflector doesn't like non-alphanumeric values when it is within a safe buffer. When in a normal string though, this works without issues.\n\nAll examples worked in Rails 3.2.\n\nA very weird issue.\n\nEdit: Appears to have been picked up before and fixed in this pull request:\nhttps://github.com/rails/rails/pull/19428\n",
      "number": 21808,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/KieranP/subscriptions",
         "received_events_url": "https://api.github.com/users/KieranP/received_events",
         "url": "https://api.github.com/users/KieranP",
         "avatar_url": "https://avatars3.githubusercontent.com/u/16620?v=4",
         "events_url": "https://api.github.com/users/KieranP/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/KieranP/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/KieranP/following{/other_user}",
         "repos_url": "https://api.github.com/users/KieranP/repos",
         "site_admin": false,
         "id": 16620,
         "organizations_url": "https://api.github.com/users/KieranP/orgs",
         "login": "KieranP",
         "gists_url": "https://api.github.com/users/KieranP/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/KieranP/followers",
         "html_url": "https://github.com/KieranP"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21808",
      "updated_at": "2016-05-18T21:24:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21808/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 108789161,
      "closed_at": "2016-05-18T21:23:39Z",
      "created_at": "2015-09-29T03:46:04Z",
      "title": "Titleize on SafeBuffer with non-alphanumeric values results in nil.capitalize exception",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21808/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21808/comments",
      "html_url": "https://github.com/rails/rails/issues/21808"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "active_record/connection_adapters/postgresql/schema_statements.rb linha 155\n# Returns an array of indexes for the given table.\n## def indexes(table_name, name = nil)\n## \n\nend\n# -> Line 172 -> Return indkey = 0\n\nindkey = row[2].split(\" \").map(&:to_i)  \n# -> Lines 183 -> Indexes function always returns empty\n\ncolumn_names = columns.values_at(*indkey).compact  \n\n1) Does not return indexes function\n\nexample\n- Indexes function\n  CREATE INDEX ix_tabela_1 ON tabela USING btree ( date_part('year'::text, created_at ))\n  CREATE INDEX ix_tabela_1 ON tabela USING btree ( unaccent(name))\n\n2) The return of indkey = 0 e column_names is empty\n\n3) My suggestion, returns all columns separated by \"|\" even with indices functions\n\n # Returns an array of indexes for the given table.\ndef indexes(table_name, name = nil)\n   result = query(<<-SQL, 'SCHEMA')\n    SELECT distinct i.relname, d.indisunique, pg_get_indexdef(d.indexrelid),\n        array_to_string\n        (\n          ARRAY\n          (\n           SELECT pg_get_indexdef(d.indexrelid, k + 1, TRUE)\n           FROM generate_subscripts(d.indkey, 1) AS k ORDER BY k\n          )\n          , '|'\n        ) AS index_keys\n   FROM pg_class t\n   INNER JOIN pg_index d ON t.oid = d.indrelid\n   INNER JOIN pg_class i ON d.indexrelid = i.oid\n   WHERE i.relkind = 'i'\n     AND d.indisprimary = 'f'\n     AND t.relname = '#{table_name}'\n     AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname = ANY (current_schemas(false)) )\n   ORDER BY i.relname\n  SQL\n\n  result.map do |row|\n    index_name = row[0]\n    unique = row[1] == 't'\n    inddef = row[2]\n    column_names = row[3].split('|')\n\n```\nunless column_names.empty?\n  # add info on sort order for columns (only desc order is explicitly specified, asc is the default)\n  desc_order_columns = inddef.scan(/(\\w+) DESC/).flatten\n  orders = desc_order_columns.any? ? Hash[desc_order_columns.map {|order_column| [order_column, :desc]}] : {}\n  where = inddef.scan(/WHERE (.+)$/).flatten[0]\n  using = inddef.scan(/USING (.+?) /).flatten[0].to_sym\n\n  IndexDefinition.new(table_name, index_name, unique, column_names, [], orders, where, nil, using)\nend\n```\n\n  end.compact\nend\n\nSorry if it is not a problem! What do you think?\n",
      "number": 21765,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/henriqueltrindade/subscriptions",
         "received_events_url": "https://api.github.com/users/henriqueltrindade/received_events",
         "url": "https://api.github.com/users/henriqueltrindade",
         "avatar_url": "https://avatars2.githubusercontent.com/u/7923162?v=4",
         "events_url": "https://api.github.com/users/henriqueltrindade/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/henriqueltrindade/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/henriqueltrindade/following{/other_user}",
         "repos_url": "https://api.github.com/users/henriqueltrindade/repos",
         "site_admin": false,
         "id": 7923162,
         "organizations_url": "https://api.github.com/users/henriqueltrindade/orgs",
         "login": "henriqueltrindade",
         "gists_url": "https://api.github.com/users/henriqueltrindade/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/henriqueltrindade/followers",
         "html_url": "https://github.com/henriqueltrindade"
      },
      "state": "closed",
      "closed_by": "dc2b77",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21765",
      "updated_at": "2016-04-24T21:58:51Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21765/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 108318041,
      "closed_at": "2016-04-24T21:58:51Z",
      "created_at": "2015-09-25T12:40:37Z",
      "title": "ActiveRecord::Base.connection.indexes() Postgres. Does not return indexes with functions",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21765/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21765/comments",
      "html_url": "https://github.com/rails/rails/issues/21765"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## As arguments:\n\n``` ruby\nclass DeliverMessageJob < ActiveJob::Base\n  queue_as :default\n\n  def perform(to_user)\n  end\nend\n```\n\n``` shell\n[ActiveJob] Enqueued DeliverMessageJob (Job ID: 4e634bba-04cb-463e-803a-280875ddb31c) to Sidekiq(Hyper.default) with arguments: gid://hyper/User/032f6db6-06c2-4fc9-9170-1c6297ede07b\n```\n## As keyword arguments:\n\n``` ruby\nclass DeliverMessageJob < ActiveJob::Base\n  queue_as :default\n\n  def perform(to_user:)\n  end\nend\n```\n\n```\n[ActiveJob] Enqueued DeliverMessageJob (Job ID: 0cf51f97-9b76-415d-a684-0d8d01bb4285) to Sidekiq(Hyper.default) with arguments: {:to_user=>#<User id: \"032f6db6-06c2-4fc9-9170-1c6297ede07b\">\n```\n## Gemfile.lock\n\n```\nGIT\n  remote: git://github.com/linjunpop/rong_cloud.git\n  revision: b2a0101f2ebcf9586f69075a741c3d5dd1778f29\n  specs:\n    rong_cloud (0.1.0)\n\nGIT\n  remote: git://github.com/rails-api/active_model_serializers.git\n  revision: 8d3a89e106a2be49e52185a766ac90b6628b2979\n  specs:\n    active_model_serializers (0.10.0.rc2)\n      actionpack (>= 4.0)\n      activemodel (>= 4.0)\n      railties (>= 4.0)\n\nGEM\n  remote: https://rubygems.org/\n  remote: https://rails-assets.org/\n  specs:\n    actionmailer (4.2.4)\n      actionpack (= 4.2.4)\n      actionview (= 4.2.4)\n      activejob (= 4.2.4)\n      mail (~> 2.5, >= 2.5.4)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n    actionpack (4.2.4)\n      actionview (= 4.2.4)\n      activesupport (= 4.2.4)\n      rack (~> 1.6)\n      rack-test (~> 0.6.2)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n      rails-html-sanitizer (~> 1.0, >= 1.0.2)\n    actionview (4.2.4)\n      activesupport (= 4.2.4)\n      builder (~> 3.1)\n      erubis (~> 2.7.0)\n      rails-dom-testing (~> 1.0, >= 1.0.5)\n      rails-html-sanitizer (~> 1.0, >= 1.0.2)\n    active_link_to (1.0.3)\n      actionpack\n    activejob (4.2.4)\n      activesupport (= 4.2.4)\n      globalid (>= 0.3.0)\n    activemodel (4.2.4)\n      activesupport (= 4.2.4)\n      builder (~> 3.1)\n    activerecord (4.2.4)\n      activemodel (= 4.2.4)\n      activesupport (= 4.2.4)\n      arel (~> 6.0)\n    activerecord-colored_log_subscriber (0.1.0)\n      activerecord (>= 3.2, < 5.0)\n    activesupport (4.2.4)\n      i18n (~> 0.7)\n      json (~> 1.7, >= 1.7.7)\n      minitest (~> 5.1)\n      thread_safe (~> 0.3, >= 0.3.4)\n      tzinfo (~> 1.1)\n    ansi (1.5.0)\n    api-pagination (4.1.1)\n    arel (6.0.3)\n    assert_json (0.4.1)\n      activesupport\n    autoprefixer-rails (5.2.1.3)\n      execjs\n      json\n    bcrypt (3.1.10)\n    binding_of_caller (0.7.2)\n      debug_inspector (>= 0.0.1)\n    builder (3.2.2)\n    bullet (4.14.7)\n      activesupport (>= 3.0.0)\n      uniform_notifier (~> 1.9.0)\n    byebug (5.0.0)\n      columnize (= 0.9.0)\n    cancancan (1.12.0)\n    capistrano (3.4.0)\n      i18n\n      rake (>= 10.0.0)\n      sshkit (~> 1.3)\n    capistrano-bundler (1.1.4)\n      capistrano (~> 3.1)\n      sshkit (~> 1.2)\n    capistrano-chruby (0.1.2)\n      capistrano (~> 3.0)\n      sshkit (~> 1.3)\n    capistrano-passenger (0.1.1)\n      capistrano (~> 3.0)\n    capistrano-rails (1.1.3)\n      capistrano (~> 3.1)\n      capistrano-bundler (~> 1.1)\n    capistrano-sidekiq (0.5.3)\n      capistrano\n      sidekiq\n    celluloid (0.16.1)\n      timers (~> 4.0.0)\n    coderay (1.1.0)\n    coffee-rails (4.1.0)\n      coffee-script (>= 2.2.0)\n      railties (>= 4.0.0, < 5.0)\n    coffee-script (2.4.1)\n      coffee-script-source\n      execjs\n    coffee-script-source (1.9.1.1)\n    colorize (0.7.7)\n    columnize (0.9.0)\n    connection_pool (2.2.0)\n    dalli (2.7.4)\n    database_cleaner (1.4.1)\n    debug_inspector (0.0.2)\n    erubis (2.7.0)\n    execjs (2.6.0)\n    factory_girl (4.5.0)\n      activesupport (>= 3.0.0)\n    factory_girl_rails (4.5.0)\n      factory_girl (~> 4.5.0)\n      railties (>= 3.0.0)\n    faker (1.5.0)\n      i18n (~> 0.5)\n    font-awesome-rails (4.4.0.0)\n      railties (>= 3.2, < 5.0)\n    globalid (0.3.6)\n      activesupport (>= 4.1.0)\n    haml (4.0.7)\n      tilt\n    hitimes (1.2.2)\n    http_accept_language (2.0.5)\n    httplog (0.2.10)\n    i18n (0.7.0)\n    jpush (3.2.1)\n    jquery-fileupload-rails (0.4.5)\n      actionpack (>= 3.1)\n      railties (>= 3.1)\n      sass (>= 3.2)\n    jquery-rails (4.0.4)\n      rails-dom-testing (~> 1.0)\n      railties (>= 4.2.0)\n      thor (>= 0.14, < 2.0)\n    jquery-ui-rails (5.0.5)\n      railties (>= 3.2.16)\n    json (1.8.3)\n    kaminari (0.16.3)\n      actionpack (>= 3.0.0)\n      activesupport (>= 3.0.0)\n    loofah (2.0.3)\n      nokogiri (>= 1.5.9)\n    mail (2.6.3)\n      mime-types (>= 1.16, < 3)\n    metaclass (0.0.4)\n    method_source (0.8.2)\n    mime-types (2.4.3)\n    mini_portile (0.6.2)\n    minitest (5.8.0)\n    minitest-reporters (1.0.20)\n      ansi\n      builder\n      minitest (>= 5.0)\n      ruby-progressbar\n    mocha (1.1.0)\n      metaclass (~> 0.0.1)\n    nested_form (0.3.2)\n    net-scp (1.2.1)\n      net-ssh (>= 2.6.5)\n    net-ssh (2.9.2)\n    netrc (0.10.3)\n    newrelic_rpm (3.13.0.299)\n    nokogiri (1.6.6.2)\n      mini_portile (~> 0.6.0)\n    pg (0.18.2)\n    polyamorous (1.2.0)\n      activerecord (>= 3.0)\n    pry (0.10.1)\n      coderay (~> 1.1.0)\n      method_source (~> 0.8.1)\n      slop (~> 3.4)\n    pry-byebug (3.2.0)\n      byebug (~> 5.0)\n      pry (~> 0.10)\n    pry-doc (0.8.0)\n      pry (~> 0.9)\n      yard (~> 0.8)\n    pry-rails (0.3.4)\n      pry (>= 0.9.10)\n    puma (2.13.4)\n    qiniu (6.5.0)\n      json (~> 1.8)\n      mime-types (~> 2.4.3)\n      rest-client (~> 1.7.3)\n      ruby-hmac (~> 0.4)\n    qiniu_direct_uploader (0.0.5)\n      coffee-rails (>= 3.2.1)\n      jquery-fileupload-rails (~> 0.4.1)\n      qiniu (>= 6.2.1)\n      rails (>= 3.2)\n      sass-rails (>= 3.2.5)\n    rack (1.6.4)\n    rack-pjax (0.8.0)\n      nokogiri (~> 1.5)\n      rack (~> 1.1)\n    rack-protection (1.5.3)\n      rack\n    rack-test (0.6.3)\n      rack (>= 1.0)\n    rails (4.2.4)\n      actionmailer (= 4.2.4)\n      actionpack (= 4.2.4)\n      actionview (= 4.2.4)\n      activejob (= 4.2.4)\n      activemodel (= 4.2.4)\n      activerecord (= 4.2.4)\n      activesupport (= 4.2.4)\n      bundler (>= 1.3.0, < 2.0)\n      railties (= 4.2.4)\n      sprockets-rails\n    rails-api (0.4.0)\n      actionpack (>= 3.2.11)\n      railties (>= 3.2.11)\n    rails-assets-moment (2.10.6)\n    rails-assets-rome (2.1.22)\n    rails-deprecated_sanitizer (1.0.3)\n      activesupport (>= 4.2.0.alpha)\n    rails-dom-testing (1.0.7)\n      activesupport (>= 4.2.0.beta, < 5.0)\n      nokogiri (~> 1.6.0)\n      rails-deprecated_sanitizer (>= 1.0.1)\n    rails-html-sanitizer (1.0.2)\n      loofah (~> 2.0)\n    rails-i18n (4.0.4)\n      i18n (~> 0.6)\n      railties (~> 4.0)\n    rails_12factor (0.0.3)\n      rails_serve_static_assets\n      rails_stdout_logging\n    rails_admin (0.7.0)\n      builder (~> 3.1)\n      coffee-rails (~> 4.0)\n      font-awesome-rails (>= 3.0, < 5)\n      haml (~> 4.0)\n      jquery-rails (>= 3.0, < 5)\n      jquery-ui-rails (~> 5.0)\n      kaminari (~> 0.14)\n      nested_form (~> 0.3)\n      rack-pjax (~> 0.7)\n      rails (~> 4.0)\n      remotipart (~> 1.0)\n      safe_yaml (~> 1.0)\n      sass-rails (>= 4.0, < 6)\n    rails_serve_static_assets (0.0.4)\n    rails_stdout_logging (0.0.4)\n    railties (4.2.4)\n      actionpack (= 4.2.4)\n      activesupport (= 4.2.4)\n      rake (>= 0.8.7)\n      thor (>= 0.18.1, < 2.0)\n    rake (10.4.2)\n    ransack (1.7.0)\n      actionpack (>= 3.0)\n      activerecord (>= 3.0)\n      activesupport (>= 3.0)\n      i18n\n      polyamorous (~> 1.2)\n    rdoc (4.2.0)\n    redis (3.2.1)\n    redis-namespace (1.5.2)\n      redis (~> 3.0, >= 3.0.4)\n    remotipart (1.2.1)\n    rest-client (1.7.3)\n      mime-types (>= 1.16, < 3.0)\n      netrc (~> 0.7)\n    rolify (4.1.1)\n    rollbar (2.2.0)\n    ruby-hmac (0.4.0)\n    ruby-progressbar (1.7.5)\n    safe_yaml (1.0.4)\n    sass (3.4.18)\n    sass-rails (5.0.3)\n      railties (>= 4.0.0, < 5.0)\n      sass (~> 3.1)\n      sprockets (>= 2.8, < 4.0)\n      sprockets-rails (>= 2.0, < 4.0)\n      tilt (~> 1.1)\n    sdoc (0.4.1)\n      json (~> 1.7, >= 1.7.7)\n      rdoc (~> 4.0)\n    select2-rails (3.5.9.3)\n      thor (~> 0.14)\n    sidekiq (3.4.2)\n      celluloid (~> 0.16.0)\n      connection_pool (~> 2.2, >= 2.2.0)\n      json (~> 1.0)\n      redis (~> 3.2, >= 3.2.1)\n      redis-namespace (~> 1.5, >= 1.5.2)\n    sinatra (1.4.6)\n      rack (~> 1.4)\n      rack-protection (~> 1.4)\n      tilt (>= 1.3, < 3)\n    slop (3.6.0)\n    spring (1.3.6)\n    sprockets (3.3.3)\n      rack (~> 1.0)\n    sprockets-rails (2.3.2)\n      actionpack (>= 3.0)\n      activesupport (>= 3.0)\n      sprockets (>= 2.8, < 4.0)\n    sshkit (1.7.1)\n      colorize (>= 0.7.0)\n      net-scp (>= 1.1.2)\n      net-ssh (>= 2.8.0)\n    thor (0.19.1)\n    thread_safe (0.3.5)\n    tilt (1.4.1)\n    timers (4.0.1)\n      hitimes\n    turbolinks (2.5.3)\n      coffee-rails\n    twitter-bootstrap-rails (3.2.0)\n      actionpack (~> 4.1)\n      execjs (~> 2.2)\n      rails (~> 4.1)\n      railties (~> 4.1)\n    tzinfo (1.2.2)\n      thread_safe (~> 0.1)\n    uglifier (2.7.2)\n      execjs (>= 0.3.0)\n      json (>= 1.8.0)\n    uniform_notifier (1.9.0)\n    web-console (2.2.1)\n      activemodel (>= 4.0)\n      binding_of_caller (>= 0.7.2)\n      railties (>= 4.0)\n      sprockets-rails (>= 2.0, < 4.0)\n    yard (0.8.7.6)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  active_link_to\n  active_model_serializers!\n  activerecord-colored_log_subscriber\n  api-pagination\n  assert_json\n  autoprefixer-rails\n  bcrypt (~> 3.1.7)\n  bullet\n  byebug\n  cancancan\n  capistrano-chruby\n  capistrano-passenger\n  capistrano-rails\n  capistrano-sidekiq\n  coffee-rails (~> 4.1.0)\n  dalli\n  database_cleaner\n  factory_girl_rails\n  faker\n  http_accept_language\n  httplog\n  jpush\n  jquery-rails\n  kaminari\n  minitest-reporters\n  mocha\n  newrelic_rpm\n  pg\n  pry-byebug\n  pry-doc\n  pry-rails\n  puma\n  qiniu\n  qiniu_direct_uploader\n  rails (= 4.2.4)\n  rails-api\n  rails-assets-moment!\n  rails-assets-rome!\n  rails-i18n (~> 4.0.0)\n  rails_12factor\n  rails_admin\n  ransack\n  rolify\n  rollbar\n  rong_cloud!\n  sass-rails (~> 5.0)\n  sdoc (~> 0.4.0)\n  select2-rails\n  sidekiq\n  sinatra\n  spring\n  timers (= 4.0.1)\n  turbolinks\n  twitter-bootstrap-rails\n  uglifier (>= 1.3.0)\n  web-console (~> 2.0)\n\nBUNDLED WITH\n   1.10.6\n```\n",
      "number": 21510,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/linjunpop/subscriptions",
         "received_events_url": "https://api.github.com/users/linjunpop/received_events",
         "url": "https://api.github.com/users/linjunpop",
         "avatar_url": "https://avatars0.githubusercontent.com/u/214616?v=4",
         "events_url": "https://api.github.com/users/linjunpop/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/linjunpop/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/linjunpop/following{/other_user}",
         "repos_url": "https://api.github.com/users/linjunpop/repos",
         "site_admin": false,
         "id": 214616,
         "organizations_url": "https://api.github.com/users/linjunpop/orgs",
         "login": "linjunpop",
         "gists_url": "https://api.github.com/users/linjunpop/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/linjunpop/followers",
         "html_url": "https://github.com/linjunpop"
      },
      "state": "closed",
      "closed_by": "21518",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21510",
      "updated_at": "2015-09-17T03:04:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21510/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 105068350,
      "closed_at": "2015-09-17T03:04:18Z",
      "created_at": "2015-09-06T03:16:15Z",
      "title": "ActiveJob does not support GlobalID for keyword arguments",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21510/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21510/comments",
      "html_url": "https://github.com/rails/rails/issues/21510"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`ActiveSupport::TimeZone#formatted_offset` does not respect Central European Summer Time\" (UTC+2:00). Instead it shows \"Central European Time Zone\" (UTC+1:00)\n\nI created failing tests https://github.com/rails/rails/compare/master...ilyakatz:timezone?expand=1 but got confused on the implementation. There seems to be some overlap with  `ActiveSupport::TimeWithZone`. Happy to implement with some guidance\n",
      "number": 21501,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ilyakatz/subscriptions",
         "received_events_url": "https://api.github.com/users/ilyakatz/received_events",
         "url": "https://api.github.com/users/ilyakatz",
         "avatar_url": "https://avatars1.githubusercontent.com/u/282514?v=4",
         "events_url": "https://api.github.com/users/ilyakatz/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ilyakatz/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ilyakatz/following{/other_user}",
         "repos_url": "https://api.github.com/users/ilyakatz/repos",
         "site_admin": false,
         "id": 282514,
         "organizations_url": "https://api.github.com/users/ilyakatz/orgs",
         "login": "ilyakatz",
         "gists_url": "https://api.github.com/users/ilyakatz/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ilyakatz/followers",
         "html_url": "https://github.com/ilyakatz"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/21501",
      "updated_at": "2016-10-10T08:50:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21501/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 13,
      "id": 104963048,
      "closed_at": "2016-10-10T08:50:11Z",
      "created_at": "2015-09-04T20:17:16Z",
      "title": "ActiveSupport::TimeZone#formatted_offset doesn't respect CEST",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21501/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21501/comments",
      "html_url": "https://github.com/rails/rails/issues/21501"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The association guide, http://edgeguides.rubyonrails.org/association_basics.html use the Order class as an example for expressing most association information.\n\nHowever, that name conflicts with the 'order' scoping directive meaning that it is harder than necessary to search the guide for how to set up a default ordering.\n\nNoticed when upgrading to 4.x and looking for the correct ordering syntax.\n",
      "number": 21500,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "url": "https://api.github.com/users/zzak",
            "avatar_url": "https://avatars1.githubusercontent.com/u/277819?v=4",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "site_admin": false,
            "id": 277819,
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "login": "zzak",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "html_url": "https://github.com/zzak"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yxhuvud/subscriptions",
         "received_events_url": "https://api.github.com/users/yxhuvud/received_events",
         "url": "https://api.github.com/users/yxhuvud",
         "avatar_url": "https://avatars1.githubusercontent.com/u/155895?v=4",
         "events_url": "https://api.github.com/users/yxhuvud/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yxhuvud/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yxhuvud/following{/other_user}",
         "repos_url": "https://api.github.com/users/yxhuvud/repos",
         "site_admin": false,
         "id": 155895,
         "organizations_url": "https://api.github.com/users/yxhuvud/orgs",
         "login": "yxhuvud",
         "gists_url": "https://api.github.com/users/yxhuvud/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yxhuvud/followers",
         "html_url": "https://github.com/yxhuvud"
      },
      "state": "closed",
      "closed_by": "21555",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21500",
      "updated_at": "2016-01-18T17:48:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21500/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
         "received_events_url": "https://api.github.com/users/zzak/received_events",
         "url": "https://api.github.com/users/zzak",
         "avatar_url": "https://avatars1.githubusercontent.com/u/277819?v=4",
         "events_url": "https://api.github.com/users/zzak/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zzak/following{/other_user}",
         "repos_url": "https://api.github.com/users/zzak/repos",
         "site_admin": false,
         "id": 277819,
         "organizations_url": "https://api.github.com/users/zzak/orgs",
         "login": "zzak",
         "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zzak/followers",
         "html_url": "https://github.com/zzak"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 6,
      "id": 104907779,
      "closed_at": "2016-01-18T17:48:12Z",
      "created_at": "2015-09-04T15:01:37Z",
      "title": "Association Guide use Order as example, which is already used.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21500/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21500/comments",
      "html_url": "https://github.com/rails/rails/issues/21500"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In the main_app, Rails.application.routes.recognize_path('path/in/engine') \ne.g. we have a Dummy engine and OccupancyYearsController\n\n```\nRails.application.routes.recognize_path('dummy/occupancy_years')\n```\n\nwill throw an exception \n\n```\nActionController::RoutingError: A route matches \"/dummy/occupancy_years\", but references missing controller: DummyController\nfrom /Users/user_name/.rvm/gems/ruby-2.2.3/gems/actionpack-4.0.12/lib/action_dispatch/routing/route_set.rb:711:in `block in recognize_path'\n```\n\nthough\n\n```\nDummy::Engine.routes.recognize_path('occupancy_years')\n```\n\n works just fine giving\n `{:action=>\"index\", :controller=>\"dummy/occupancy_years\"}`\n\nrecognize_path calls #recognize  https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/journey/router.rb#L57\n\nwhere as normal request calls #serve https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/journey/router.rb#L28\n\nAre there any plans to make normal request and recognize_path#recognize consistent or support passing an option to recognize_path to recognize engine paths?\n",
      "number": 21477,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/orlandoAppfolio/subscriptions",
         "received_events_url": "https://api.github.com/users/orlandoAppfolio/received_events",
         "url": "https://api.github.com/users/orlandoAppfolio",
         "avatar_url": "https://avatars2.githubusercontent.com/u/7295758?v=4",
         "events_url": "https://api.github.com/users/orlandoAppfolio/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/orlandoAppfolio/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/orlandoAppfolio/following{/other_user}",
         "repos_url": "https://api.github.com/users/orlandoAppfolio/repos",
         "site_admin": false,
         "id": 7295758,
         "organizations_url": "https://api.github.com/users/orlandoAppfolio/orgs",
         "login": "orlandoAppfolio",
         "gists_url": "https://api.github.com/users/orlandoAppfolio/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/orlandoAppfolio/followers",
         "html_url": "https://github.com/orlandoAppfolio"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21477",
      "updated_at": "2016-11-29T22:23:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21477/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         }
      ],
      "comments": 6,
      "id": 104593206,
      "closed_at": "2016-01-15T05:13:06Z",
      "created_at": "2015-09-02T23:43:09Z",
      "title": "Rails.application.routes.recognize_path is not working for paths in engine",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21477/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21477/comments",
      "html_url": "https://github.com/rails/rails/issues/21477"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "After upgrading to 4.2.x, I'm noticing that I'm getting intermittent test failures with [this change](https://github.com/rails/rails/commit/c4f4123ef45463a09b36186047dbdc82f933fe46) because the deliveries array isn't cleared out **prior** to tests running.  I had written quite a few tests that asserted that the deliveries array is `empty?` since the [guides](http://guides.rubyonrails.org/testing.html) and other docs say that the actionmailer tests are reset automatically.  (Although, combing through the docs now, it doesn't seem extremely clear that it states _when_ they're reset...)\n\nIt seems surprising to me that more people haven't run into test failures here, since if you turn on randomized test ordering the following sequence is a definite possibility:\n1. A controller test adds mail to the deliveries array\n2. The next test that runs is in a mailer test, asserts `ActionMailer::Base.deliveries.empty?`\n3. Failure because deliveries is not cleared in initialization anymore\n\nIs this the intended behavior?  I've had to add a `setup` block that simply clears out the email deliveries, but it feels dirty :cry:  \n\nOne other thing to mention: the example provided in the rails guides could now result in a false positive (test passing when it should have failed), since the deliveries array may not actually be empty.\n\nexample from rails guides:\n\n``` ruby\nrequire 'test_helper'\n\nclass UserMailerTest < ActionMailer::TestCase\n  test \"invite\" do\n    # Send the email, then test that it got queued\n    email = UserMailer.create_invite('me@example.com',\n                                     'friend@example.com', Time.now).deliver_now\n    assert_not ActionMailer::Base.deliveries.empty?\n\n    # Test the body of the sent email contains what we expect it to\n    assert_equal ['me@example.com'], email.from\n    assert_equal ['friend@example.com'], email.to\n    assert_equal 'You have been invited by me@example.com', email.subject\n    assert_equal read_fixture('invite').join, email.body.to_s\n  end\nend\n```\n",
      "number": 21434,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mgodwin/subscriptions",
         "received_events_url": "https://api.github.com/users/mgodwin/received_events",
         "url": "https://api.github.com/users/mgodwin",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1121058?v=4",
         "events_url": "https://api.github.com/users/mgodwin/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mgodwin/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mgodwin/following{/other_user}",
         "repos_url": "https://api.github.com/users/mgodwin/repos",
         "site_admin": false,
         "id": 1121058,
         "organizations_url": "https://api.github.com/users/mgodwin/orgs",
         "login": "mgodwin",
         "gists_url": "https://api.github.com/users/mgodwin/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mgodwin/followers",
         "html_url": "https://github.com/mgodwin"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21434",
      "updated_at": "2016-04-26T03:19:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21434/events",
      "assignee": null,
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 103929800,
      "closed_at": "2016-04-26T03:19:32Z",
      "created_at": "2015-08-30T15:09:10Z",
      "title": "ActionMailer tests no longer clear deliveries before test execution",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21434/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21434/comments",
      "html_url": "https://github.com/rails/rails/issues/21434"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Noticed this inconsistency when doing some time work today:\n\n``` irb\npry(main)> DateTime.now.end_of_day\n=> Fri, 28 Aug 2015 23:59:59 -0400\npry(main)> DateTime.now.end_of_day.usec\n=> 0\npry(main)> Time.now.end_of_day\n=> 2015-08-28 23:59:59 -0400\npry(main)> Time.now.end_of_day.usec\n=> 999999\npry(main)> Date.today.end_of_day\n=> Fri, 28 Aug 2015 23:59:59 UTC +00:00\npry(main)> Date.today.end_of_day.usec\n=> 999999\n```\n\nAfter reading through the code, it looks like this is true for all `end_of` helper functions [here](https://github.com/rails/rails/blob/4-2-stable/activesupport/lib/active_support/core_ext/date_time/calculations.rb#L114)\n\nIs there a point for this inconsistency, or should I submit a PR/CHANGELOG?\n",
      "number": 21424,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/toobulkeh/subscriptions",
         "received_events_url": "https://api.github.com/users/toobulkeh/received_events",
         "url": "https://api.github.com/users/toobulkeh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1342064?v=4",
         "events_url": "https://api.github.com/users/toobulkeh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/toobulkeh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/toobulkeh/following{/other_user}",
         "repos_url": "https://api.github.com/users/toobulkeh/repos",
         "site_admin": false,
         "id": 1342064,
         "organizations_url": "https://api.github.com/users/toobulkeh/orgs",
         "login": "toobulkeh",
         "gists_url": "https://api.github.com/users/toobulkeh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/toobulkeh/followers",
         "html_url": "https://github.com/toobulkeh"
      },
      "state": "closed",
      "closed_by": "28242",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21424",
      "updated_at": "2017-03-02T07:57:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21424/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 103824563,
      "closed_at": "2017-03-02T07:57:11Z",
      "created_at": "2015-08-29T03:09:14Z",
      "title": "DateTime End of X does not match Time/Ruby1.9+ usec",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21424/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21424/comments",
      "html_url": "https://github.com/rails/rails/issues/21424"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi,\nAt the moment Rails only supports the West Central Africa time zone. Namibia uses this time zone but they also use \"West Africa Summer Time (Daylight Saving Time)\". Can you please add this time zone as well?\n\nThank you.\n",
      "number": 21285,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/eyaleizenberg/subscriptions",
         "received_events_url": "https://api.github.com/users/eyaleizenberg/received_events",
         "url": "https://api.github.com/users/eyaleizenberg",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1061345?v=4",
         "events_url": "https://api.github.com/users/eyaleizenberg/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eyaleizenberg/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eyaleizenberg/following{/other_user}",
         "repos_url": "https://api.github.com/users/eyaleizenberg/repos",
         "site_admin": false,
         "id": 1061345,
         "organizations_url": "https://api.github.com/users/eyaleizenberg/orgs",
         "login": "eyaleizenberg",
         "gists_url": "https://api.github.com/users/eyaleizenberg/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eyaleizenberg/followers",
         "html_url": "https://github.com/eyaleizenberg"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21285",
      "updated_at": "2017-02-25T21:48:28Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21285/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 101620351,
      "closed_at": "2017-02-25T21:48:27Z",
      "created_at": "2015-08-18T10:08:05Z",
      "title": "Missing time zone for Namibia",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21285/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21285/comments",
      "html_url": "https://github.com/rails/rails/issues/21285"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have the following routes defined:\n\n``` ruby\nRails.application.routes.draw do\n  root to: redirect(\"/ui\")\n\n  mount UI, at: \"/ui\"\nend\n```\n\nI am deploying my Rails 4.2 app to a subdirectory, `/api`. Unfortunately I am finding that the app's root URL redirects to `http://example.com/ui`, _not_ to my Rack app mounted at `http://example.com/api/ui`.\n\nIf I manually navigate to `http://example.com/api/ui`, I can definitely access the Rack app. So it's only the root URL redirect that isn't working.\n\nEventually, I managed to get the redirect working by defining `$RAILS_RELATIVE_URL_ROOT` and changing my routes to this:\n\n``` ruby\nRails.application.routes.draw do\n  root to: redirect(\"#{Rails.application.config.relative_url_root}/ui\")\n\n  mount UI, at: \"/ui\"\nend\n```\n\nBut this isn't ideal. How come I don't need to specify `relative_url_root` for the Rack app, but I do for the root URL? :disappointed: Is this a bug?\n\nIt would be cool if we could use relative paths in redirects. Example: `redirect(\"./ui\")` (which would be equivalent to `redirect(\"#{Rails.application.config.relative_url_root}/ui\")`).\n",
      "number": 21193,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lukehorvat/subscriptions",
         "received_events_url": "https://api.github.com/users/lukehorvat/received_events",
         "url": "https://api.github.com/users/lukehorvat",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1034878?v=4",
         "events_url": "https://api.github.com/users/lukehorvat/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lukehorvat/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lukehorvat/following{/other_user}",
         "repos_url": "https://api.github.com/users/lukehorvat/repos",
         "site_admin": false,
         "id": 1034878,
         "organizations_url": "https://api.github.com/users/lukehorvat/orgs",
         "login": "lukehorvat",
         "gists_url": "https://api.github.com/users/lukehorvat/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lukehorvat/followers",
         "html_url": "https://github.com/lukehorvat"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21193",
      "updated_at": "2017-03-03T00:36:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21193/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 35206628,
            "url": "https://api.github.com/repos/rails/rails/labels/routing",
            "color": "e102d8",
            "default": false,
            "name": "routing"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 10,
      "id": 100244810,
      "closed_at": "2017-03-03T00:36:45Z",
      "created_at": "2015-08-11T07:24:13Z",
      "title": "Redirect not working for app deployed to a subdirectory",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21193/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21193/comments",
      "html_url": "https://github.com/rails/rails/issues/21193"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'd like to suggest an improvement for the error messages.\n\nI deleted a relation from my model but it was still referenced in an includes clause.\n\nSo I got an error message like:\n'Association named 'label' was not found on Disk; perhaps you misspelled it?'\nand it was not really obvious where this came from.\n\nI believe the error message can be improved.\nThis obviously comes from a part of rails that wants to resolve the includes clause.\n\nSo maybe something like:\n'Association named 'label' **_referenced in includes**_ was not found on Disk; perhaps you misspelled it?'\ncould be done\n\nI was thinking about:\nWe might want to add more information to the call chain,\nto improve error reporting (in debug mode)\n\nWe actually might want to add a debug:{} to every binding.\n2p\n\n~eike\n",
      "number": 21111,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/eiked/subscriptions",
         "received_events_url": "https://api.github.com/users/eiked/received_events",
         "url": "https://api.github.com/users/eiked",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2196134?v=4",
         "events_url": "https://api.github.com/users/eiked/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eiked/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eiked/following{/other_user}",
         "repos_url": "https://api.github.com/users/eiked/repos",
         "site_admin": false,
         "id": 2196134,
         "organizations_url": "https://api.github.com/users/eiked/orgs",
         "login": "eiked",
         "gists_url": "https://api.github.com/users/eiked/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eiked/followers",
         "html_url": "https://github.com/eiked"
      },
      "state": "closed",
      "closed_by": "22518",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/21111",
      "updated_at": "2017-11-06T03:42:03Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21111/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 98825866,
      "closed_at": "2017-11-06T03:42:03Z",
      "created_at": "2015-08-03T19:52:16Z",
      "title": "improve error message for relations missing in includes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21111/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21111/comments",
      "html_url": "https://github.com/rails/rails/issues/21111"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I believe that the section \" 3.2 Enqueue the Job \" misses information about how to pass arguments to the job. I assume the mentioned \"record\" is a passed argument to the perform method. It would be clearer to mention it.\n## Original text :\n\n> 3.2 Enqueue the Job\n> \n> Enqueue a job like so:\n> \n> ``` ruby\n> # Enqueue a job to be performed as soon the queuing system is\n> # free.\n> MyJob.perform_later record\n> # Enqueue a job to be performed tomorrow at noon.\n> MyJob.set(wait_until: Date.tomorrow.noon).perform_later(record)\n> # Enqueue a job to be performed 1 week from now.\n> MyJob.set(wait: 1.week).perform_later(record)\n> ```\n> \n> That's it!\n",
      "number": 21073,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhiachou/subscriptions",
         "received_events_url": "https://api.github.com/users/dhiachou/received_events",
         "url": "https://api.github.com/users/dhiachou",
         "avatar_url": "https://avatars3.githubusercontent.com/u/6137390?v=4",
         "events_url": "https://api.github.com/users/dhiachou/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhiachou/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhiachou/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhiachou/repos",
         "site_admin": false,
         "id": 6137390,
         "organizations_url": "https://api.github.com/users/dhiachou/orgs",
         "login": "dhiachou",
         "gists_url": "https://api.github.com/users/dhiachou/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhiachou/followers",
         "html_url": "https://github.com/dhiachou"
      },
      "state": "closed",
      "closed_by": "21120",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/21073",
      "updated_at": "2015-08-13T14:59:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/21073/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 4,
      "id": 98182273,
      "closed_at": "2015-08-13T14:59:23Z",
      "created_at": "2015-07-30T14:23:09Z",
      "title": "[edge guides] [Active Job Basics] Unclear information about queueing a job with args",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21073/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21073/comments",
      "html_url": "https://github.com/rails/rails/issues/21073"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`ActionController::Parameters#==` will return false even if the hash and AC::Parameters hash same because of the `HashWithIndifferentAccess`. But the documentation of `==` method says we can compare `ActionController::Parameters` with `Hash-Like` objects.\n\n``` ruby\nhash = { foo: :bar }\nparams = ActionController::Parameters.new(hash)\nparams == hash #returns false\n```\n\nI believe this is not the bug about `ActionController::Parameters` this is about `HashWithIndifferentAccess`. I think we should implement `==`, `eql?` methods in `HashWithIndifferentAccess` to give correct results. If you are OK with implementing these methods in `HashWithIndifferentAccess` I'm going to finish my initial work on it.\n",
      "number": 21032,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
            "received_events_url": "https://api.github.com/users/sikachu/received_events",
            "url": "https://api.github.com/users/sikachu",
            "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
            "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
            "repos_url": "https://api.github.com/users/sikachu/repos",
            "site_admin": false,
            "id": 4912,
            "organizations_url": "https://api.github.com/users/sikachu/orgs",
            "login": "sikachu",
            "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sikachu/followers",
            "html_url": "https://github.com/sikachu"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/meinac/subscriptions",
         "received_events_url": "https://api.github.com/users/meinac/received_events",
         "url": "https://api.github.com/users/meinac",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1840945?v=4",
         "events_url": "https://api.github.com/users/meinac/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/meinac/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/meinac/following{/other_user}",
         "repos_url": "https://api.github.com/users/meinac/repos",
         "site_admin": false,
         "id": 1840945,
         "organizations_url": "https://api.github.com/users/meinac/orgs",
         "login": "meinac",
         "gists_url": "https://api.github.com/users/meinac/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/meinac/followers",
         "html_url": "https://github.com/meinac"
      },
      "state": "closed",
      "closed_by": "23167",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/21032",
      "updated_at": "2016-01-21T22:36:10Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/21032/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
         "received_events_url": "https://api.github.com/users/sikachu/received_events",
         "url": "https://api.github.com/users/sikachu",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
         "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
         "repos_url": "https://api.github.com/users/sikachu/repos",
         "site_admin": false,
         "id": 4912,
         "organizations_url": "https://api.github.com/users/sikachu/orgs",
         "login": "sikachu",
         "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sikachu/followers",
         "html_url": "https://github.com/sikachu"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 97335713,
      "closed_at": "2016-01-21T22:36:10Z",
      "created_at": "2015-07-26T17:27:20Z",
      "title": "ActionController::Parameters#== does not works as expected",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/21032/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/21032/comments",
      "html_url": "https://github.com/rails/rails/issues/21032"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When running a Rails v4.2.2 app under a relative url with an isolated mounted engine, the engine named route helpers generate the correct path. This is no longer the case in Rails v4.2.3 or 4-2-stable.\n\nI believe the change in behavior stems from this commit: 0703453fabc4a47411c2f9df291acfdfbcaf5ae4.\n\nPer 5b3bb61f3fb82c7300d4dac374fe7aeafff6bda0, mounted engines use `options[:original_script_name]` for the prefix generation instead of `options[:script_name]`. Defaulting an absent `options[:script_name]` with `relative_url_root` causes the code to include the relative url twice in the generated path (e.g. \"/sub_uri/sub_uri/engine/route\" instead of \"/sub_uri/engine/route\").\n\nI have created a test app with a failing test to demonstrate this issue: https://github.com/merhard/rails-regression-testapp\n\nPull request for fix: #20958\n",
      "number": 20920,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/merhard/subscriptions",
         "received_events_url": "https://api.github.com/users/merhard/received_events",
         "url": "https://api.github.com/users/merhard",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3860146?v=4",
         "events_url": "https://api.github.com/users/merhard/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/merhard/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/merhard/following{/other_user}",
         "repos_url": "https://api.github.com/users/merhard/repos",
         "site_admin": false,
         "id": 3860146,
         "organizations_url": "https://api.github.com/users/merhard/orgs",
         "login": "merhard",
         "gists_url": "https://api.github.com/users/merhard/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/merhard/followers",
         "html_url": "https://github.com/merhard"
      },
      "state": "closed",
      "closed_by": "cfbd8b",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/20920",
      "updated_at": "2015-10-07T21:26:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20920/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 95736203,
      "closed_at": "2015-10-07T21:26:44Z",
      "created_at": "2015-07-17T20:17:18Z",
      "title": "Mounted Engine named_routes Regression in v4.2.3",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20920/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20920/comments",
      "html_url": "https://github.com/rails/rails/issues/20920"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It seems that the commit callbacks (defined in https://github.com/rails/rails/blob/master/activerecord/lib/active_record/transactions.rb#L230) is defined differently from the rest of the callbacks (defined in https://github.com/rails/rails/blob/master/activemodel/lib/active_model/callbacks.rb#L103).\n\nI experienced this difference in the order `after_commit` is executed. It seems that `after_*` callbacks are executed in reverse order, and `after_commit` doesn't handle this:\n\n``` ruby\nclass M < ActiveRecord::Base\n  before_create :a\n  before_create :b\n  after_create :c\n  after_create :d\n  after_commit :e\n  after_commit :f\n\n  def a; puts 'a'; end\n  def b; puts 'b'; end\n  def c; puts 'c'; end\n  def d; puts 'd'; end\n  def e; puts 'e'; end\n  def f; puts 'f'; end\nend\n\nM._create_callbacks.select { |c| c.kind == :before }.map(&:filter)\n=> [:a, :b]\nM._create_callbacks.select { |c| c.kind == :after }.map(&:filter)\n=> [:d, :c] # Weird behavior in after_* callbacks\nM._commit_callbacks.select { |c| c.kind == :after }.map(&:filter)\n=> [:e, :f]\n\nM.create\n=> a\n=> b\n=> c\n=> d\n=> f # The result of after_commit not handling the weird behavior\n=> e\n```\n\n`after_*` callbacks add a default (actually, they override) `prepend: true` to the options to resolve this (see here https://github.com/rails/rails/blob/master/activemodel/lib/active_model/callbacks.rb#L139), while `after_commit` doesn't, thus the inconsistency.\n\nThe culprit seems to be the reverse execution in `after_*` callbacks and not really `after_commit`, I would say the code in `after_*` is just a patch to solve this. This patch actually prevents using the `:prepend` option in the `after_*` callbacks.\n\nI would also change the definition of the transactions callbacks to use the same logic of the rest of the callbacks to prevent inconsistencies in the future.\n",
      "number": 20911,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/odedniv/subscriptions",
         "received_events_url": "https://api.github.com/users/odedniv/received_events",
         "url": "https://api.github.com/users/odedniv",
         "avatar_url": "https://avatars3.githubusercontent.com/u/894198?v=4",
         "events_url": "https://api.github.com/users/odedniv/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/odedniv/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/odedniv/following{/other_user}",
         "repos_url": "https://api.github.com/users/odedniv/repos",
         "site_admin": false,
         "id": 894198,
         "organizations_url": "https://api.github.com/users/odedniv/orgs",
         "login": "odedniv",
         "gists_url": "https://api.github.com/users/odedniv/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/odedniv/followers",
         "html_url": "https://github.com/odedniv"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20911",
      "updated_at": "2017-03-15T18:57:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20911/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         }
      ],
      "comments": 11,
      "id": 95611204,
      "closed_at": "2016-04-24T22:32:17Z",
      "created_at": "2015-07-17T08:20:12Z",
      "title": "after_commit order inconsistent with other callbacks ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20911/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20911/comments",
      "html_url": "https://github.com/rails/rails/issues/20911"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The issue can be reproduced by creating a belongs_to association with an optional scope which returns nil.\n\n```\nbelongs_to :account, -> { nil }\n```\n\nThis generates the following error when calling the parent association:\nundefined method `visited' for nil:NilClass\n\nThe stack trace is not very useful either. It can be non-obvious locating the issue if the scope does not obviously return nil, or only sometimes does (for example, if there's an if statement).\n",
      "number": 20823,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ZeroFries/subscriptions",
         "received_events_url": "https://api.github.com/users/ZeroFries/received_events",
         "url": "https://api.github.com/users/ZeroFries",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2095552?v=4",
         "events_url": "https://api.github.com/users/ZeroFries/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ZeroFries/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ZeroFries/following{/other_user}",
         "repos_url": "https://api.github.com/users/ZeroFries/repos",
         "site_admin": false,
         "id": 2095552,
         "organizations_url": "https://api.github.com/users/ZeroFries/orgs",
         "login": "ZeroFries",
         "gists_url": "https://api.github.com/users/ZeroFries/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ZeroFries/followers",
         "html_url": "https://github.com/ZeroFries"
      },
      "state": "closed",
      "closed_by": "25e6d5",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20823",
      "updated_at": "2017-09-03T19:18:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20823/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 4,
      "id": 94137423,
      "closed_at": "2017-09-03T19:18:34Z",
      "created_at": "2015-07-09T19:49:23Z",
      "title": "Belongs to with nil scope gives confusing error message",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20823/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20823/comments",
      "html_url": "https://github.com/rails/rails/issues/20823"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Active Record 4.2.1 breaks association subqueries that worked in 4.2.0\n\n[bugtest gist](https://gist.github.com/griffithchaffee/7e4613940cbaa88e7533)\n### Overview:\n\n``` ruby\n# always works: SELECT \"admin_groups\".\"group_id\"\ngood_query = Admin.where(group_id: AdminGroup.select(:group_id))\n# breaks with AR 4.2.1: SELECT \"admin_groups\".\"group_id\", \"admin_groups\".\"id\"\nbad_query  = Admin.where(group: AdminGroup.select(:group_id))\n```\n\n``` sql\n# good query\nSELECT COUNT(*) FROM \"admins\" WHERE \"admins\".\"group_id\" IN (SELECT \"admin_groups\".\"group_id\" FROM \"admin_groups\")\n# bad query\nSELECT COUNT(*) FROM \"admins\" WHERE \"admins\".\"group_id\" IN (SELECT \"admin_groups\".\"group_id\", \"admin_groups\".\"id\" FROM \"admin_groups\")\n# notice the invalid subquery select columns (pulls id and group_id)\n```\n",
      "number": 20802,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/griffithchaffee/subscriptions",
         "received_events_url": "https://api.github.com/users/griffithchaffee/received_events",
         "url": "https://api.github.com/users/griffithchaffee",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1286451?v=4",
         "events_url": "https://api.github.com/users/griffithchaffee/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/griffithchaffee/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/griffithchaffee/following{/other_user}",
         "repos_url": "https://api.github.com/users/griffithchaffee/repos",
         "site_admin": false,
         "id": 1286451,
         "organizations_url": "https://api.github.com/users/griffithchaffee/orgs",
         "login": "griffithchaffee",
         "gists_url": "https://api.github.com/users/griffithchaffee/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/griffithchaffee/followers",
         "html_url": "https://github.com/griffithchaffee"
      },
      "state": "closed",
      "closed_by": "28743",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20802",
      "updated_at": "2017-04-14T14:37:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20802/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 93673042,
      "closed_at": "2017-04-14T14:37:11Z",
      "created_at": "2015-07-08T02:06:04Z",
      "title": "ActiveRecord 4.2.1 breaks association subqueries working in 4.2.0",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20802/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20802/comments",
      "html_url": "https://github.com/rails/rails/issues/20802"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The current ActiveJob implementation does not store `I18n.locale` during its serialization.\n\nThis results e.g. in emails, that are sent with the wrong language settings, described in #20774.\n\nMy previous PR #20758 didn't tackle the problem right, it just solved it on the layer of ActionMailer. The expected behavior would be that the locale is stored on and restored from the queue and is used while performing the job. \n",
      "number": 20799,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/xijo/subscriptions",
         "received_events_url": "https://api.github.com/users/xijo/received_events",
         "url": "https://api.github.com/users/xijo",
         "avatar_url": "https://avatars0.githubusercontent.com/u/104711?v=4",
         "events_url": "https://api.github.com/users/xijo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/xijo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/xijo/following{/other_user}",
         "repos_url": "https://api.github.com/users/xijo/repos",
         "site_admin": false,
         "id": 104711,
         "organizations_url": "https://api.github.com/users/xijo/orgs",
         "login": "xijo",
         "gists_url": "https://api.github.com/users/xijo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/xijo/followers",
         "html_url": "https://github.com/xijo"
      },
      "state": "closed",
      "closed_by": "860e6b",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/20799",
      "updated_at": "2015-08-04T09:58:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20799/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 93613703,
      "closed_at": "2015-08-04T09:58:22Z",
      "created_at": "2015-07-07T19:51:08Z",
      "title": "ActiveJob ignores locale during serialization",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20799/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20799/comments",
      "html_url": "https://github.com/rails/rails/issues/20799"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I did not find this information in documentation but often facing projects without tests I think it is very useful information:\n\nrails g test_unit:scaffold user\nIt will generate controller test with filled all usual actions.\n      create  test/controllers/users_controller_test.rb\n\nrails g test_unit:model user\n      create  test/models/user_test.rb\n      create  test/fixtures/users.yml\n",
      "number": 20694,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kasiaul/subscriptions",
         "received_events_url": "https://api.github.com/users/kasiaul/received_events",
         "url": "https://api.github.com/users/kasiaul",
         "avatar_url": "https://avatars1.githubusercontent.com/u/12282343?v=4",
         "events_url": "https://api.github.com/users/kasiaul/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kasiaul/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kasiaul/following{/other_user}",
         "repos_url": "https://api.github.com/users/kasiaul/repos",
         "site_admin": false,
         "id": 12282343,
         "organizations_url": "https://api.github.com/users/kasiaul/orgs",
         "login": "kasiaul",
         "gists_url": "https://api.github.com/users/kasiaul/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kasiaul/followers",
         "html_url": "https://github.com/kasiaul"
      },
      "state": "closed",
      "closed_by": "20812",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20694",
      "updated_at": "2015-07-15T13:55:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20694/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 1,
      "id": 90793904,
      "closed_at": "2015-07-15T13:55:23Z",
      "created_at": "2015-06-24T22:28:11Z",
      "title": "A Guide to Testing Rails Applications: generate unit test if controller and/or model exist",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20694/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20694/comments",
      "html_url": "https://github.com/rails/rails/issues/20694"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "From what I can tell, we are supposed to rescue this by default and return a 406 (Not Acceptable). At least on Rails 4.1 and 4.2 this doesn't seem to be the case \u2013 I generated a fresh Rails app with a scaffold resource and ran Rails server in production. `curl -H \"Accept: text/xml\" http://localhost:3000/posts` and `curl http://localhost:3000/posts.xml` both gives me a 500 instead. \n\nWould be great if someone can look into this :wink:\n",
      "number": 20666,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
            "received_events_url": "https://api.github.com/users/maclover7/received_events",
            "url": "https://api.github.com/users/maclover7",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
            "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
            "repos_url": "https://api.github.com/users/maclover7/repos",
            "site_admin": false,
            "id": 3020626,
            "organizations_url": "https://api.github.com/users/maclover7/orgs",
            "login": "maclover7",
            "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/maclover7/followers",
            "html_url": "https://github.com/maclover7"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "state": "closed",
      "closed_by": "23827",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/20666",
      "updated_at": "2016-02-25T09:30:00Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/20666/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/maclover7/subscriptions",
         "received_events_url": "https://api.github.com/users/maclover7/received_events",
         "url": "https://api.github.com/users/maclover7",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3020626?v=4",
         "events_url": "https://api.github.com/users/maclover7/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/maclover7/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/maclover7/following{/other_user}",
         "repos_url": "https://api.github.com/users/maclover7/repos",
         "site_admin": false,
         "id": 3020626,
         "organizations_url": "https://api.github.com/users/maclover7/orgs",
         "login": "maclover7",
         "gists_url": "https://api.github.com/users/maclover7/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/maclover7/followers",
         "html_url": "https://github.com/maclover7"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         }
      ],
      "comments": 22,
      "id": 90188429,
      "closed_at": "2016-02-25T09:30:00Z",
      "created_at": "2015-06-22T19:28:00Z",
      "title": "ActionController::UnknownFormat should return HTTP 406",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20666/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20666/comments",
      "html_url": "https://github.com/rails/rails/issues/20666"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## Synopsis\n\nSelecting from a table while using the same table as a `where` clause complains with `ActiveRecord::UnknownPrimaryKey: Unknown primary key for table`:\n\n``` ruby\nUserGroup.where(group: UserGroup.all.select(:group_id))\n```\n\nThis worked correctly in ActiveRecord 4.1.8 and 4.2.0.\n## Reproduction\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  # Activate the gem you are reporting the issue against.\n  gem 'activerecord', '4.2.1'\n  # gem 'activerecord', '4.1.8'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :user_groups, id: false, force: true do |t|\n    t.integer :group_id\n  end\n\n  create_table :groups, force: true do |t|\n    t.integer :post_id\n  end\nend\n\nclass UserGroup < ActiveRecord::Base\n  belongs_to :group\nend\n\nclass Group < ActiveRecord::Base\n  has_many :user_groups\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    group = Group.create!\n    user_group = group.user_groups.create!\n\n    groups = UserGroup.where(group: UserGroup.all.select(:group_id))\n\n    assert_equal [user_group.id], groups.map(&:id)\n  end\nend\n```\n## Stack trace\n\n```\nActiveRecord::UnknownPrimaryKey: Unknown primary key for table user_groups in model UserGroup.\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/reflection.rb:571:in `primary_key'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/reflection.rb:315:in `association_primary_key'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/predicate_builder.rb:68:in `expand'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/predicate_builder.rb:43:in `block in build_from_hash'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/predicate_builder.rb:21:in `each'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/predicate_builder.rb:21:in `build_from_hash'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/query_methods.rb:960:in `build_where'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/query_methods.rb:584:in `where!'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/relation/query_methods.rb:574:in `where'\n    /Users/jakegoulding/.rvm/gems/ruby-2.1.5/gems/activerecord-4.2.1/lib/active_record/querying.rb:10:in `where'\n    repro.rb:50:in `test_association_stuff'\n```\n",
      "number": 20602,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions",
         "received_events_url": "https://api.github.com/users/shepmaster/received_events",
         "url": "https://api.github.com/users/shepmaster",
         "avatar_url": "https://avatars0.githubusercontent.com/u/174509?v=4",
         "events_url": "https://api.github.com/users/shepmaster/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/shepmaster/following{/other_user}",
         "repos_url": "https://api.github.com/users/shepmaster/repos",
         "site_admin": false,
         "id": 174509,
         "organizations_url": "https://api.github.com/users/shepmaster/orgs",
         "login": "shepmaster",
         "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/shepmaster/followers",
         "html_url": "https://github.com/shepmaster"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20602",
      "updated_at": "2017-04-30T11:30:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20602/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 17,
      "id": 89014268,
      "closed_at": "2017-04-30T11:30:33Z",
      "created_at": "2015-06-17T13:18:10Z",
      "title": "Regression in ActiveRecord 4.2.1 - ActiveRecord::UnknownPrimaryKey when the current table is used as a where clause",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20602/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20602/comments",
      "html_url": "https://github.com/rails/rails/issues/20602"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Suppose you have a Car model and a Wheel model, where Wheel belongs_to Car and Car has_many Wheels.  If you attempt to do `Wheel.new(car: \"hi\")`, you receive an error of type ActiveRecord::AssociationTypeMismatch because `\"hi\"`is not of class Car.  This works if Wheel and Car are at the root namespace.  If Wheel and Car are in a namespace, however, you receive a confusing `NameError: uninitialized constant Car`.  I'm guessing that this is thrown inside of Rails while trying to do the type checking or throw the correct error.\n\nHere's a test case.  The relationships and assertions are the same, the only difference is that one is namespaced in the `Namespace` module and one is not.  I had to use 2 differently named sets of models so that the error for `Namespace::Apple` didn't accidentally reference `::Apple`.\n\n``` ruby\nbegin\n  require 'bundler/inline'\nrescue LoadError => e\n  $stderr.puts 'Bundler version 1.10 or later is required. Please update your Bundler'\n  raise e\nend\n\ngemfile(true) do\n  source 'https://rubygems.org'\n  # Activate the gem you are reporting the issue against.\n  gem 'activerecord', '4.2.1'\n  gem 'sqlite3'\nend\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table \"cars\", force: :cascade do |t|\n  end\n\n  create_table \"wheels\", force: :cascade do |t|\n    t.integer  \"car_id\"\n  end\n\n  create_table \"namespace_apples\", force: :cascade do |t|\n    t.integer  \"teacher_id\"\n  end\n\n  create_table \"namespace_teachers\", force: :cascade do |t|\n  end\nend\n\nclass Wheel < ActiveRecord::Base\n  belongs_to :car\nend\n\nclass Car < ActiveRecord::Base\n  has_many :wheels\nend\n\nmodule Namespace\n  def self.table_name_prefix\n    'namespace_'\n  end\nend\n\nclass Namespace::Teacher < ActiveRecord::Base\n  has_many :apples\nend\n\nclass Namespace::Apple < ActiveRecord::Base\n  belongs_to :teacher\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    assert_raises(ActiveRecord::AssociationTypeMismatch) { Namespace::Apple.new(teacher: \"hello\") }\n    assert_raises(ActiveRecord::AssociationTypeMismatch) { Wheel.new(car: \"hello\") }\n  end\nend\n```\n",
      "number": 20541,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/danfinnie/subscriptions",
         "received_events_url": "https://api.github.com/users/danfinnie/received_events",
         "url": "https://api.github.com/users/danfinnie",
         "avatar_url": "https://avatars0.githubusercontent.com/u/92105?v=4",
         "events_url": "https://api.github.com/users/danfinnie/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/danfinnie/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/danfinnie/following{/other_user}",
         "repos_url": "https://api.github.com/users/danfinnie/repos",
         "site_admin": false,
         "id": 92105,
         "organizations_url": "https://api.github.com/users/danfinnie/orgs",
         "login": "danfinnie",
         "gists_url": "https://api.github.com/users/danfinnie/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/danfinnie/followers",
         "html_url": "https://github.com/danfinnie"
      },
      "state": "closed",
      "closed_by": "20545",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20541",
      "updated_at": "2015-06-23T09:09:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20541/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 87897500,
      "closed_at": "2015-06-23T07:10:43Z",
      "created_at": "2015-06-13T01:11:07Z",
      "title": "NameError instead of AssociationTypeMismatch when passing the wrong class of object to namespaced model associations",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20541/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20541/comments",
      "html_url": "https://github.com/rails/rails/issues/20541"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We discovered while trying to silence certain of our requests that changing the Rails.logger level is not thread safe. The main issue appears to be that Rails.logger is a singleton. As I started digging through the ActiveSupport::Logger code, I realized that Rails.logger.silence suffers from the same issue we discovered in our codebase.\n\nI have created executable tests displaying the issue here: https://gist.github.com/rdubya/5c3ffb3e49d0c2bd42e9 We discovered the issue in JRuby, but I have gotten the tests in the gist to fail in both JRuby and MRI 2.2.\n\nIf you look at the second test case, the worst case scenario is that your log level is permanently changed to whatever level is passed to the call to #silence or ::Logger::ERROR if nothing is passed.\n\nA couple of thoughts that I had for possible solutions:\n- Update ActiveSupport::Logger to use thread variables to store the level (could possibly make this an option when the logger is created)\n- Create a new class (such as ActiveSupport::ThreadsafeLogger or ActiveSupport::Logger::Threadsafe) which extends ActiveSupport::Logger and uses thread variables to store the level\n- Update Rails.logger to optionally maintain separate loggers or log levels for each thread\n\nI'm willing to take a shot at creating a patch for this, but wanted to get an idea of the right direction to head down.\n",
      "number": 20490,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rdubya/subscriptions",
         "received_events_url": "https://api.github.com/users/rdubya/received_events",
         "url": "https://api.github.com/users/rdubya",
         "avatar_url": "https://avatars0.githubusercontent.com/u/572868?v=4",
         "events_url": "https://api.github.com/users/rdubya/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rdubya/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rdubya/following{/other_user}",
         "repos_url": "https://api.github.com/users/rdubya/repos",
         "site_admin": false,
         "id": 572868,
         "organizations_url": "https://api.github.com/users/rdubya/orgs",
         "login": "rdubya",
         "gists_url": "https://api.github.com/users/rdubya/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rdubya/followers",
         "html_url": "https://github.com/rdubya"
      },
      "state": "closed",
      "closed_by": "20507",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20490",
      "updated_at": "2015-12-23T19:37:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20490/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 16,
      "id": 86585811,
      "closed_at": "2015-12-23T19:37:04Z",
      "created_at": "2015-06-09T12:39:38Z",
      "title": "Rails.logger log level is not thread safe",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20490/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20490/comments",
      "html_url": "https://github.com/rails/rails/issues/20490"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The `EtagWithTemplateDigest` concern is ignoring the fact that controllers may be namespaced while looking up the template digest to include in the ETag for a request.\n\nGiven the following controller:\n\n``` ruby\nmodule Foo\n  class BarsController < ApplicationController\n    def show\n      @bar = Bar.find(params[:id])\n\n      respond_to(:html) if stale?(@bar)\n    end\n  end\nend\n```\n\nWhen requesting the page, a warning appears in the output:\n\n> Couldn't find template for digesting: bars/show\n\nThe implicit view to be rendered for this controller is `foo/bars/show`, so `EtagWithTemplateDigest` should ideally honor this convention.\n",
      "number": 20333,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/fivedigit/subscriptions",
         "received_events_url": "https://api.github.com/users/fivedigit/received_events",
         "url": "https://api.github.com/users/fivedigit",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2509695?v=4",
         "events_url": "https://api.github.com/users/fivedigit/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fivedigit/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fivedigit/following{/other_user}",
         "repos_url": "https://api.github.com/users/fivedigit/repos",
         "site_admin": false,
         "id": 2509695,
         "organizations_url": "https://api.github.com/users/fivedigit/orgs",
         "login": "fivedigit",
         "gists_url": "https://api.github.com/users/fivedigit/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fivedigit/followers",
         "html_url": "https://github.com/fivedigit"
      },
      "state": "closed",
      "closed_by": "25817",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20333",
      "updated_at": "2016-07-13T21:19:24Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20333/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 7,
      "id": 81883802,
      "closed_at": "2016-07-13T21:19:13Z",
      "created_at": "2015-05-28T11:16:16Z",
      "title": "ETag with template digests ignoring controller namespace",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20333/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20333/comments",
      "html_url": "https://github.com/rails/rails/issues/20333"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The last step of `bin/setup` is to run `touch tmp/restart`: https://github.com/rails/rails/blob/master/railties/lib/rails/generators/rails/app/templates/bin/setup#L28\n\nThis doesn't seem to work after cloning a Rails app:\n\n```\n== Restarting application server ==\ntouch: tmp/restart.txt: No such file or directory\n```\n\nPresumably, this is because the `tmp` directory doesn't exists since it is `.gitignore`d by default.\n1. we should make it work\n2. `tmp` should probably exists after clone (maybe `.gitkeep`?)\n3. we should probably use [`rake restart`](https://github.com/rails/rails/blob/230393a5bdf10089006b7666fa15cb4543a46486/railties/lib/rails/tasks/restart.rake#L1-L3) instead of touching the file directly\n",
      "number": 20299,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "state": "closed",
      "closed_by": "fc83f8",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/20299",
      "updated_at": "2015-05-30T08:03:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20299/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 7,
      "id": 80679148,
      "closed_at": "2015-05-30T08:03:13Z",
      "created_at": "2015-05-25T21:45:37Z",
      "title": "bin/setup doesn't work out of the box after git clone",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20299/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20299/comments",
      "html_url": "https://github.com/rails/rails/issues/20299"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Often applications allow a client to supply an associated id and then validate that the referenced record does in fact exist. For example:\n\n``` ruby\nclass Bone < ActiveRecord::Base\n  belongs_to :dog\n  validates :dog, presence: true\nend\n```\n\nThus when a non-existant but legal `dog_id` is supplied the result is a validation error and `bone.dog` produces `nil`.\n\nHowever, if lookup of an illegal `dog_id` supplied results in a `RangeError` then the validations cannot be run, validation errors are not generated, and this makes it difficult to support a good user experience in this case.\n\nI propose that a `RangeError` produced when looking up an association should result in that association being assigned as `nil` and then validations proceeding as per usual.\n",
      "number": 20140,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/thomasfedb/subscriptions",
         "received_events_url": "https://api.github.com/users/thomasfedb/received_events",
         "url": "https://api.github.com/users/thomasfedb",
         "avatar_url": "https://avatars0.githubusercontent.com/u/193831?v=4",
         "events_url": "https://api.github.com/users/thomasfedb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/thomasfedb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/thomasfedb/following{/other_user}",
         "repos_url": "https://api.github.com/users/thomasfedb/repos",
         "site_admin": false,
         "id": 193831,
         "organizations_url": "https://api.github.com/users/thomasfedb/orgs",
         "login": "thomasfedb",
         "gists_url": "https://api.github.com/users/thomasfedb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/thomasfedb/followers",
         "html_url": "https://github.com/thomasfedb"
      },
      "state": "closed",
      "closed_by": "25280",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/20140",
      "updated_at": "2016-12-10T11:21:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20140/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 6,
      "id": 75978226,
      "closed_at": "2016-12-10T11:21:55Z",
      "created_at": "2015-05-13T13:10:14Z",
      "title": "Out of range association ids throw exception before validation.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20140/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20140/comments",
      "html_url": "https://github.com/rails/rails/issues/20140"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Commit 20c065594f1434c93e6fe64cad062a0df1f42a8e corrects the behavior of `HashWithIndifferentAccess#select` to be consistent with that of `Hash#select`, in that it returns the hash itself when unchanged. \n\nHowever, that fix introduced a different inconsistency with `Hash#select`, whereby HWIA's version will no longer return an `Enumerator` when no block is given. Thus `select` can no longer be added to with other Enumerator methods such as `with_index` and `with_object` and breaks expectations for anyone treating HWIA instances as full implementations of Enumerable.\n\nA proposed solution follows after this demonstration of the issue.\n\n**Example behavior for standard Hash**\n\n``` ruby\nsome_hash = { a: 1, b: 2, c: 3 }\n\n# Hash#select behavior with block:\nsome_hash.select { |k, v| true }\n# => {:a=>1, :b=>2, :c=>3}\n\n# Hash#select behavior without block:\nsome_hash.select\n#<Enumerator: {:a=>1, :b=>2, :c=>3}:select> \nsome_hash.select.with_index\n=> #<Enumerator: #<Enumerator: {:a=>1, :b=>2, :c=>3}:select>:with_index> \n```\n\n**HWIA behavior before 20c065594f1434c93e6fe64cad062a0df1f42a8e**\n\n``` ruby\nsome_hwia = HashWithIndifferentAccess.new({ a: 1, b: 2, c: 3 })\n\n# HWIA#select with block is inconsistent:\nsome_hwia.select { |k, v| true }\n# => nil\n\n# HWIA#select without block is consistent:\nsome_hwia.select\n=> #<Enumerator: {:a=>1, :b=>2, :c=>3}:select>\nsome_hwia.select.with_index\n=> #<Enumerator: #<Enumerator: {:a=>1, :b=>2, :c=>3}:select>:with_index>\n```\n\n**HWIA behavior after 20c065594f1434c93e6fe64cad062a0df1f42a8e**\n\n``` ruby\nsome_hwia = HashWithIndifferentAccess.new({ a: 1, b: 2, c: 3 })\n\n# HWIA#select with block is now consistent:\nsome_hwia.select { |k, v| true }\n# => {\"a\"=>1, \"b\"=>2, \"c\"=>3}\n\n# HWIA#select without block is now inconsistent:\nsome_hwia.select\n# => {\"a\"=>1, \"b\"=>2, \"c\"=>3}\nsome_hwia.select.with_index\n# NoMethodError: undefined method `with_index' for {\"a\"=>1, \"b\"=>2, \"c\"=>3}:ActiveSupport::HashWithIndifferentAccess\n```\n\nThe issue can be resolved, and both cases made consistent, if `HWIA#select` is implemented thusly:\n\n``` ruby\ndef select(*args, &block)\n  copy = dup\n  copy.select!(*args, &block) || copy\nend\n```\n\nI do not immediately have a forked copy of Rails set up with which to provide tests and a pull request, but will endeavor to do so in the coming week. \n\nPlease let me know if there is anything I can do to improve the description of this issue.\n",
      "number": 20095,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/swifthand/subscriptions",
         "received_events_url": "https://api.github.com/users/swifthand/received_events",
         "url": "https://api.github.com/users/swifthand",
         "avatar_url": "https://avatars3.githubusercontent.com/u/948048?v=4",
         "events_url": "https://api.github.com/users/swifthand/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/swifthand/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/swifthand/following{/other_user}",
         "repos_url": "https://api.github.com/users/swifthand/repos",
         "site_admin": false,
         "id": 948048,
         "organizations_url": "https://api.github.com/users/swifthand/orgs",
         "login": "swifthand",
         "gists_url": "https://api.github.com/users/swifthand/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/swifthand/followers",
         "html_url": "https://github.com/swifthand"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/20095",
      "updated_at": "2015-12-30T01:39:07Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/20095/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 74858966,
      "closed_at": "2015-12-30T01:39:07Z",
      "created_at": "2015-05-10T07:32:38Z",
      "title": "HashWithIndifferentAccess#select fails to return Enumerator",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/20095/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/20095/comments",
      "html_url": "https://github.com/rails/rails/issues/20095"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "content_for(:somesing) do\n  'something'\nend\n\ncontent_for(:something, flush: true) - not clear content\ncontent_for(:something, nil, flush: true) - not clear content\ncontent_for(:something, '', flush: true) - clear content but wrong future capture\ncontent_for(:something, ''.html_safe, flush: true) - ONLY this clear content\n",
      "number": 19890,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Sega100500/subscriptions",
         "received_events_url": "https://api.github.com/users/Sega100500/received_events",
         "url": "https://api.github.com/users/Sega100500",
         "avatar_url": "https://avatars3.githubusercontent.com/u/584144?v=4",
         "events_url": "https://api.github.com/users/Sega100500/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Sega100500/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Sega100500/following{/other_user}",
         "repos_url": "https://api.github.com/users/Sega100500/repos",
         "site_admin": false,
         "id": 584144,
         "organizations_url": "https://api.github.com/users/Sega100500/orgs",
         "login": "Sega100500",
         "gists_url": "https://api.github.com/users/Sega100500/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Sega100500/followers",
         "html_url": "https://github.com/Sega100500"
      },
      "state": "closed",
      "closed_by": "2347",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19890",
      "updated_at": "2016-01-16T06:24:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19890/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 70699932,
      "closed_at": "2016-01-16T06:24:25Z",
      "created_at": "2015-04-24T14:09:56Z",
      "title": "Rails 4.2 content_for not clear content",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19890/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19890/comments",
      "html_url": "https://github.com/rails/rails/issues/19890"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## The problem :cry:\n\nAccording to the [latest Rails guides](https://github.com/rails/rails/blob/f5ae289/guides/source/configuring.md#initialization-events) as of this writing:\n\n> `before_configuration`: This is run as soon as the application constant inherits from `Rails::Application`. The `config` calls are evaluated before this happens.\n\nPart of the issue here may be poor wording of this documentation. The meaning of the last sentence isn't entirely clear. My focus for this issue is the first sentence:\n\n> This is run as soon as the application constant inherits from `Rails::Application`.\n\nThis was true until recently. In the latest release, `before_configuration` hooks are **not** run immediately after the application constant definition/inheritance, but should be.\n## Rails :four::point_right::one:\n\nHere's a slimmed down `config/application.rb` under Rails 4.1.10 to demonstrate:\n\n``` ruby\nrequire \"rails\"\n\nclass EarlyRailtie < Rails::Railtie\n  config.before_configuration do\n    puts \"before_configuration hook\"\n  end\nend\n\nmodule Example\n  class Application < Rails::Application\n    puts \"before config call\"\n    config.foo = \"bar\"\n    puts \"after config call\"\n  end\nend\n```\n\nWhen I run `bundle exec rails console`, I get the following output:\n\n```\nbefore_configuration hook\nbefore config call\nafter config call\n```\n\nThis is the expected behavior and what's described by the Rails Guides. :+1:\n## Rails :four::point_right::two:\n\nWith the same `application.rb` as above, Rails 4.2.1 produces a different result:\n\n```\nbefore config call\nbefore_configuration hook\nafter config call\n```\n\nRails 4.2 is running `before_configuration` hooks later than should. :-1:\n\nIt looks like the `config` method is [delegated](https://github.com/rails/rails/blob/master/railties/lib/rails/railtie/configurable.rb#L9) to `instance`, which is [overridden](https://github.com/rails/rails/blob/master/railties/lib/rails/application.rb#L95-L97) in `Rails::Application` to run the load hooks. This lazy evaluation is the cause of the `before_configuration` hook's delay.\n\nMight it work to initialize the Rails::Application instance immediately upon constant [inheritance](https://github.com/rails/rails/blob/master/railties/lib/rails/application.rb#L89-L93)?\n## So what? :trollface:\n\nThe `before_configuration` hook is meant to be the earliest hook run during the Rails initialization process where one can count on Rails already being initialized with `Rails.root`, `Rails.env`, etc.\n\n[Figaro](https://github.com/laserlemon/figaro) is a Rails configuration library so `before_configuration` is the logical choice as Figaro makes use of both `Rails.root` and `Rails.env`. With the release of Rails 4.2, there have been [reports](https://github.com/laserlemon/figaro/issues/186) of Figaro not running early enough during Rails initialization, which led me to discover this regression.\n\nAny library that depends on the ability to run as early as possible during Rails initialization could suffer from this behavior, particularly configuration libraries.\n\nPlease let me know if I can provide any more information.\n\n**Thank you!** :clap: :heart: :trophy: :bouquet: \n",
      "number": 19880,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/laserlemon/subscriptions",
         "received_events_url": "https://api.github.com/users/laserlemon/received_events",
         "url": "https://api.github.com/users/laserlemon",
         "avatar_url": "https://avatars1.githubusercontent.com/u/34264?v=4",
         "events_url": "https://api.github.com/users/laserlemon/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/laserlemon/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/laserlemon/following{/other_user}",
         "repos_url": "https://api.github.com/users/laserlemon/repos",
         "site_admin": false,
         "id": 34264,
         "organizations_url": "https://api.github.com/users/laserlemon/orgs",
         "login": "laserlemon",
         "gists_url": "https://api.github.com/users/laserlemon/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/laserlemon/followers",
         "html_url": "https://github.com/laserlemon"
      },
      "state": "closed",
      "closed_by": "26216",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19880",
      "updated_at": "2016-08-19T14:26:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19880/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 13,
      "id": 70504602,
      "closed_at": "2016-08-19T03:52:54Z",
      "created_at": "2015-04-23T20:22:22Z",
      "title": "Rails 4.2 Regression: before_configuration hook is run too late",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19880/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19880/comments",
      "html_url": "https://github.com/rails/rails/issues/19880"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "config.assets.cache_store no longer seems to do anything. In my own console:\n\n```\nirb(main):004:0> Rails.application.config.assets.cache_store\n=> :memory_store\nirb(main):005:0> Rails.application.assets.cache.class\n=> Sprockets::Cache::FileStore\n```\n\nand elsewhere on the web:\n\n  https://github.com/rails/rails/issues/10334  \n  http://damon.theidealweb.com/config-assets-cache_store-and-rails-4/\n\nBut it is still mentioned as the default way to configure the cache in http://guides.rubyonrails.org/asset_pipeline.html#assets-cache-store\n",
      "number": 19835,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jonswar/subscriptions",
         "received_events_url": "https://api.github.com/users/jonswar/received_events",
         "url": "https://api.github.com/users/jonswar",
         "avatar_url": "https://avatars0.githubusercontent.com/u/43083?v=4",
         "events_url": "https://api.github.com/users/jonswar/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jonswar/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jonswar/following{/other_user}",
         "repos_url": "https://api.github.com/users/jonswar/repos",
         "site_admin": false,
         "id": 43083,
         "organizations_url": "https://api.github.com/users/jonswar/orgs",
         "login": "jonswar",
         "gists_url": "https://api.github.com/users/jonswar/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jonswar/followers",
         "html_url": "https://github.com/jonswar"
      },
      "state": "closed",
      "closed_by": "23375",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19835",
      "updated_at": "2016-02-01T13:00:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19835/events",
      "assignee": null,
      "labels": [
         {
            "id": 128693,
            "url": "https://api.github.com/repos/rails/rails/labels/asset%20pipeline",
            "color": "d7e102",
            "default": false,
            "name": "asset pipeline"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 6,
      "id": 69700054,
      "closed_at": "2016-02-01T13:00:56Z",
      "created_at": "2015-04-20T23:02:27Z",
      "title": "Asset pipeline docs refer to no-longer-working config.assets.cache_store",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19835/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19835/comments",
      "html_url": "https://github.com/rails/rails/issues/19835"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "For example:\n\n``` ruby\nclass UserMailer < ActionMailer::Base\n  def payment_required(customer)\n    # ...\n  end\nend\n```\n\nIf I send delayed email:\n\n``` ruby\nUserMailer.payment_required(customer).deliver_later(wait: 30.days)\n```\n\nAnd then user deletes his account the mailer fails with error `ActiveJob::DeserializationErrorError while trying to deserialize arguments: Couldn't find User with 'id'=2`\n\nSo I can't cancel this job and I can catch this error to deal with it some way\n",
      "number": 19793,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bolshakov/subscriptions",
         "received_events_url": "https://api.github.com/users/bolshakov/received_events",
         "url": "https://api.github.com/users/bolshakov",
         "avatar_url": "https://avatars0.githubusercontent.com/u/991265?v=4",
         "events_url": "https://api.github.com/users/bolshakov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bolshakov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bolshakov/following{/other_user}",
         "repos_url": "https://api.github.com/users/bolshakov/repos",
         "site_admin": false,
         "id": 991265,
         "organizations_url": "https://api.github.com/users/bolshakov/orgs",
         "login": "bolshakov",
         "gists_url": "https://api.github.com/users/bolshakov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bolshakov/followers",
         "html_url": "https://github.com/bolshakov"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19793",
      "updated_at": "2016-06-22T15:07:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19793/events",
      "assignee": null,
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 9,
      "id": 69107801,
      "closed_at": "2016-05-14T07:32:34Z",
      "created_at": "2015-04-17T10:00:09Z",
      "title": "Can't catch deserialization error when sending email with ActiveJob",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19793/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19793/comments",
      "html_url": "https://github.com/rails/rails/issues/19793"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In Rails 3.x URL rewriting with IPv6 addresses worked for the application I work on. In the Rails 4.1 branch we are using after upgrading the application the redirection fails. The problem is in the `ActionDispatch::Http::URL#url_for` method (_and related private methods_). \n\nHere is a working test case that shows the problem\n\n``` ruby\nrequire 'abstract_unit'\n\nclass IPv6IntegrationTest < ActionDispatch::IntegrationTest\n  Routes = ActionDispatch::Routing::RouteSet.new\n  include Routes.url_helpers\n\n  class ::BadRouteRequestController < ActionController::Base\n    include Routes.url_helpers\n    def index\n      render :text => foo_path\n    end\n\n    def foo\n      redirect_to :action => :index\n    end\n  end\n\n  Routes.draw do\n    get \"/\",    :to => 'bad_route_request#index', :as => :index\n    get \"/foo\", :to => \"bad_route_request#foo\", :as => :foo\n  end\n\n  def _routes\n    Routes\n  end\n\n  # Rails 4.1 Stable\n  # def app\n  #   Routes\n  # end\n\n  # Rails 4.2 Stable and master\n  APP = build_app Routes\n  def app\n    APP\n  end\n\n  test \"bad IPv6 redirection\" do\n    #   def test_simple_redirect\n    request_env = {\n      'REMOTE_ADDR' => 'fd07:2fa:6cff:2112:225:90ff:fec7:22aa',\n      'HTTP_HOST'   => '[fd07:2fa:6cff:2112:225:90ff:fec7:22aa]:3000',\n      'SERVER_NAME' => '[fd07:2fa:6cff:2112:225:90ff:fec7:22aa]',\n      'SERVER_PORT' => 3000 }\n\n    get '/foo', nil, request_env\n    assert_response :redirect\n    assert_equal 'http://[fd07:2fa:6cff:2112:225:90ff:fec7:22aa]:3000/', redirect_to_url\n  end\nend\n```\n\nIf the file is installed in _actionpack/test/ipv6_redirect_fail.rb_ and executed with the test framework it shows the incorrect redirect.\n\n`(cd actionpack/ ; bundle exec rake test TEST=test/ipv6_redirect_fail.rb)`\n\n```\n  1) Failure:\nIPv6IntegrationTest#test_bad_IPv6_redirection [/Volumes/PowerIQ/3rd-party/rails-cmdrclueless.git/actionpack/test/ipv6_redirect_fail.rb:48]:\n--- expected\n+++ actual\n@@ -1 +1 @@\n-\"http://[fd07:2fa:6cff:2112:225:90ff:fec7:22aa]:3000/\"\n+\"http://[fd07:3000/\"\n```\n",
      "number": 19784,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cmdrclueless/subscriptions",
         "received_events_url": "https://api.github.com/users/cmdrclueless/received_events",
         "url": "https://api.github.com/users/cmdrclueless",
         "avatar_url": "https://avatars3.githubusercontent.com/u/160170?v=4",
         "events_url": "https://api.github.com/users/cmdrclueless/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cmdrclueless/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cmdrclueless/following{/other_user}",
         "repos_url": "https://api.github.com/users/cmdrclueless/repos",
         "site_admin": false,
         "id": 160170,
         "organizations_url": "https://api.github.com/users/cmdrclueless/orgs",
         "login": "cmdrclueless",
         "gists_url": "https://api.github.com/users/cmdrclueless/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cmdrclueless/followers",
         "html_url": "https://github.com/cmdrclueless"
      },
      "state": "closed",
      "closed_by": "lataformatec/responders#125",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19784",
      "updated_at": "2015-09-01T04:33:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19784/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 68988499,
      "closed_at": "2015-09-01T04:33:08Z",
      "created_at": "2015-04-16T19:00:23Z",
      "title": "URL redirect fails with non-hostname IPv6 address request ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19784/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19784/comments",
      "html_url": "https://github.com/rails/rails/issues/19784"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Example spec fail here - https://gist.github.com/malmckay/1262766f0d8980db6fe7\n\nWhen I disable partial_writes my HABTM association error on save (in some cases).\n\nPrimaryKey#id_was raises, because the join table does not have a primary key.\n",
      "number": 19663,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/malmckay/subscriptions",
         "received_events_url": "https://api.github.com/users/malmckay/received_events",
         "url": "https://api.github.com/users/malmckay",
         "avatar_url": "https://avatars1.githubusercontent.com/u/33397?v=4",
         "events_url": "https://api.github.com/users/malmckay/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/malmckay/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/malmckay/following{/other_user}",
         "repos_url": "https://api.github.com/users/malmckay/repos",
         "site_admin": false,
         "id": 33397,
         "organizations_url": "https://api.github.com/users/malmckay/orgs",
         "login": "malmckay",
         "gists_url": "https://api.github.com/users/malmckay/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/malmckay/followers",
         "html_url": "https://github.com/malmckay"
      },
      "state": "closed",
      "closed_by": "19759",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19663",
      "updated_at": "2016-10-28T21:16:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19663/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 6,
      "id": 66500079,
      "closed_at": "2016-10-28T21:16:40Z",
      "created_at": "2015-04-06T00:58:24Z",
      "title": "HABTM new records error when saving when partial writes are off",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19663/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19663/comments",
      "html_url": "https://github.com/rails/rails/issues/19663"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It appears that in **Rails** / **ActiveRecord** `4.2.1`, that the `references` column \"type\" ignores `ActiveRecord::Base.pluralize_table_names` or doesn't work as expected when configured to `false`:\n\n``` sh\n$ grep plural config/environment.rb\nActiveRecord::Base.pluralize_table_names = false\n```\n\n``` sh\n$ rails generate model foo\n      invoke  active_record\n      create    db/migrate/015_create_foo.rb\n      create    app/models/foo.rb\n      invoke    minitest\n      create      test/models/foo_test.rb\n      create      test/fixtures/foos.yml\n\n$ rails generate model bar foo:references\n      invoke  active_record\n      create    db/migrate/016_create_bar.rb\n      create    app/models/bar.rb\n      invoke    minitest\n      create      test/models/bar_test.rb\n      create      test/fixtures/bars.yml\n\n$ cat db/migrate/015_create_foo.rb\nclass CreateFoo < ActiveRecord::Migration\n  def change\n    create_table :foo do |t|\n\n      t.timestamps null: false\n    end\n  end\nend\n\n$ cat db/migrate/016_create_bar.rb\nclass CreateBar < ActiveRecord::Migration\n  def change\n    create_table :bar do |t|\n      t.references :foo, index: true, foreign_key: true\n\n      t.timestamps null: false\n    end\n  end\nend\n\n$ rake db:migrate\n...\nActiveRecord::StatementInvalid: Mysql2::Error: Can't create table 'planner_dev.#sql-52f_b' (errno: 150): ALTER TABLE `bar` ADD CONSTRAINT `fk_rails_e70b15738f`\nFOREIGN KEY (`foo_id`)\n  REFERENCES `foos` (`id`)\n```\n",
      "number": 19643,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/senny/subscriptions",
            "received_events_url": "https://api.github.com/users/senny/received_events",
            "url": "https://api.github.com/users/senny",
            "avatar_url": "https://avatars2.githubusercontent.com/u/5402?v=4",
            "events_url": "https://api.github.com/users/senny/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/senny/following{/other_user}",
            "repos_url": "https://api.github.com/users/senny/repos",
            "site_admin": false,
            "id": 5402,
            "organizations_url": "https://api.github.com/users/senny/orgs",
            "login": "senny",
            "gists_url": "https://api.github.com/users/senny/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/senny/followers",
            "html_url": "https://github.com/senny"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/erikj/subscriptions",
         "received_events_url": "https://api.github.com/users/erikj/received_events",
         "url": "https://api.github.com/users/erikj",
         "avatar_url": "https://avatars2.githubusercontent.com/u/20881?v=4",
         "events_url": "https://api.github.com/users/erikj/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/erikj/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/erikj/following{/other_user}",
         "repos_url": "https://api.github.com/users/erikj/repos",
         "site_admin": false,
         "id": 20881,
         "organizations_url": "https://api.github.com/users/erikj/orgs",
         "login": "erikj",
         "gists_url": "https://api.github.com/users/erikj/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/erikj/followers",
         "html_url": "https://github.com/erikj"
      },
      "state": "closed",
      "closed_by": "19652",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19643",
      "updated_at": "2015-04-06T08:55:12Z",
      "milestone": {
         "closed_at": "2015-06-25T21:29:04Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/40",
         "description": "",
         "updated_at": "2015-06-25T21:29:04Z",
         "number": 40,
         "due_on": null,
         "id": 988887,
         "open_issues": 0,
         "closed_issues": 24,
         "created_at": "2015-02-20T21:21:55Z",
         "title": "4.2.3",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/40/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/40",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/19643/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/senny/subscriptions",
         "received_events_url": "https://api.github.com/users/senny/received_events",
         "url": "https://api.github.com/users/senny",
         "avatar_url": "https://avatars2.githubusercontent.com/u/5402?v=4",
         "events_url": "https://api.github.com/users/senny/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/senny/following{/other_user}",
         "repos_url": "https://api.github.com/users/senny/repos",
         "site_admin": false,
         "id": 5402,
         "organizations_url": "https://api.github.com/users/senny/orgs",
         "login": "senny",
         "gists_url": "https://api.github.com/users/senny/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/senny/followers",
         "html_url": "https://github.com/senny"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 66238920,
      "closed_at": "2015-04-06T08:55:12Z",
      "created_at": "2015-04-03T22:19:14Z",
      "title": "ActiveRecord::Migration table.references() ignores ActiveRecord::Base.pluralize_table_names = false",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19643/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19643/comments",
      "html_url": "https://github.com/rails/rails/issues/19643"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When generating a model w/ `ActiveRecord::Base.pluralize_table_names` set to `false`, the singular-named table is created, correctly, but a plural-named fixture file is created, incorrectly, which raises an error on `$ rake test`:\n\n`config/environment.rb`:\n\n``` ruby\nActiveRecord::Base.pluralize_table_names = false\n```\n\n``` sh\n$ rails generate model foo\n      invoke  active_record\n      create    db/migrate/011_create_foo.rb\n      create    app/models/foo.rb\n      invoke    minitest\n      create      test/models/foo_test.rb\n      create      test/fixtures/foos.yml\n```\n\nThe plural-named fixture, `foos.yml` causes `$ rake test` to raise an error:\n\n```\nMysql2::Error: Table 'planner_test.foos' doesn't exist\n```\n\nI am experiencing this w/ Rails 4.2.1, and I think that it was also occurring w/ 4.2.0.\n\nthanks.\n",
      "number": 19519,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/erikj/subscriptions",
         "received_events_url": "https://api.github.com/users/erikj/received_events",
         "url": "https://api.github.com/users/erikj",
         "avatar_url": "https://avatars2.githubusercontent.com/u/20881?v=4",
         "events_url": "https://api.github.com/users/erikj/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/erikj/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/erikj/following{/other_user}",
         "repos_url": "https://api.github.com/users/erikj/repos",
         "site_admin": false,
         "id": 20881,
         "organizations_url": "https://api.github.com/users/erikj/orgs",
         "login": "erikj",
         "gists_url": "https://api.github.com/users/erikj/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/erikj/followers",
         "html_url": "https://github.com/erikj"
      },
      "state": "closed",
      "closed_by": "19540",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19519",
      "updated_at": "2015-03-27T08:37:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19519/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 64366142,
      "closed_at": "2015-03-27T08:37:19Z",
      "created_at": "2015-03-25T20:33:40Z",
      "title": "generated fixture filename for model ignores ActiveRecord::Base.pluralize_table_names = false",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19519/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19519/comments",
      "html_url": "https://github.com/rails/rails/issues/19519"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`GET \"/products/\"`\n\n```\ncurrent_page?(products_path trailing_slash: true) # => false\n```\n",
      "number": 19472,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/araslanov-e/subscriptions",
         "received_events_url": "https://api.github.com/users/araslanov-e/received_events",
         "url": "https://api.github.com/users/araslanov-e",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1290711?v=4",
         "events_url": "https://api.github.com/users/araslanov-e/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/araslanov-e/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/araslanov-e/following{/other_user}",
         "repos_url": "https://api.github.com/users/araslanov-e/repos",
         "site_admin": false,
         "id": 1290711,
         "organizations_url": "https://api.github.com/users/araslanov-e/orgs",
         "login": "araslanov-e",
         "gists_url": "https://api.github.com/users/araslanov-e/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/araslanov-e/followers",
         "html_url": "https://github.com/araslanov-e"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19472",
      "updated_at": "2016-07-20T05:18:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19472/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 63690451,
      "closed_at": "2016-07-20T05:18:43Z",
      "created_at": "2015-03-23T10:35:51Z",
      "title": "current_page? with trailing_slash",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19472/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19472/comments",
      "html_url": "https://github.com/rails/rails/issues/19472"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I use the gem [syslogger](https://github.com/crohr/syslogger). In the latest release of the gem (1.6.1), they defined a method `tagged` on the logger.\n\nThis seemingly innocuous change caused an error \n\n```\nNoMethodError: undefined method `current_tags' for #<Proc:0x007f102dc0ed30>\n```\n\nto be thrown when I tried to enqueue an `Active Job`.\n\nDigging in to the problem, I found that in [activejob/lib/active_job/logging.rb#50](https://github.com/rails/rails/blob/master/activejob/lib/active_job/logging.rb#L50), we are calling `current_tags` with no check that the method exists on the log formatter.\n\nI would suggest that this be wrapped with a `logger.formatter.respond_to?(:current_tags)` to avoid the error. I would think that if the formatter does not respond to current tags then `logger_tagged_by_active_job?` should return true as we do not want to keep adding tags if we cannot track the current tags.\n",
      "number": 19439,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/robdimarco/subscriptions",
         "received_events_url": "https://api.github.com/users/robdimarco/received_events",
         "url": "https://api.github.com/users/robdimarco",
         "avatar_url": "https://avatars0.githubusercontent.com/u/14490?v=4",
         "events_url": "https://api.github.com/users/robdimarco/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/robdimarco/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/robdimarco/following{/other_user}",
         "repos_url": "https://api.github.com/users/robdimarco/repos",
         "site_admin": false,
         "id": 14490,
         "organizations_url": "https://api.github.com/users/robdimarco/orgs",
         "login": "robdimarco",
         "gists_url": "https://api.github.com/users/robdimarco/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/robdimarco/followers",
         "html_url": "https://github.com/robdimarco"
      },
      "state": "closed",
      "closed_by": "1431",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19439",
      "updated_at": "2017-03-03T00:36:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19439/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 8,
      "id": 63347086,
      "closed_at": "2017-03-03T00:36:47Z",
      "created_at": "2015-03-21T02:37:30Z",
      "title": "Error in ActiveJob when logger defines method tagged, but logger formatter does not have method current_tags",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19439/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19439/comments",
      "html_url": "https://github.com/rails/rails/issues/19439"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Integer#years returns a `Float` while the rest of the accompanying methods return a `Fixnum`:\n\n``` ruby\n1.second       # => 1\n1.minute       # => 60\n1.hour         # => 3600\n1.day          # => 86400\n1.week         # => 604800\n1.fortnight    # => 1209600\n1.month        # => 2592000\n1.year         # => 31557600.0\n```\n\nThis being the result of:\n\n``` ruby\ndef years\n  ActiveSupport::Duration.new(self * 365.25.days, [[:years, self]])\nend\n```\n\nGiven that 365.25.days results to an integer (_31557600.0_), I was thinking that we could improve the consistency of the API by modifying the previous method to :\n\n``` ruby\ndef years\n  ActiveSupport::Duration.new(self * 365.25.days.to_i, [[:years, self]])\nend\n```\n\nI would like to prepare a quick PR on this but I wanted first to take feedback in case I am missing something from previous discussions or someone can come up with a better way to handle this.\n",
      "number": 19320,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rousisk/subscriptions",
         "received_events_url": "https://api.github.com/users/rousisk/received_events",
         "url": "https://api.github.com/users/rousisk",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1429943?v=4",
         "events_url": "https://api.github.com/users/rousisk/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rousisk/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rousisk/following{/other_user}",
         "repos_url": "https://api.github.com/users/rousisk/repos",
         "site_admin": false,
         "id": 1429943,
         "organizations_url": "https://api.github.com/users/rousisk/orgs",
         "login": "rousisk",
         "gists_url": "https://api.github.com/users/rousisk/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rousisk/followers",
         "html_url": "https://github.com/rousisk"
      },
      "state": "closed",
      "closed_by": "19327",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19320",
      "updated_at": "2015-10-22T13:07:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19320/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 61092202,
      "closed_at": "2015-10-22T13:07:27Z",
      "created_at": "2015-03-13T15:13:17Z",
      "title": "Integer#years returns Float while all other helper methods return Fixnums",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19320/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19320/comments",
      "html_url": "https://github.com/rails/rails/issues/19320"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Please view this, http://stackoverflow.com/questions/14552303/opensslcipherciphererror-with-rails4-on-jruby\nIn short, an error is thrown when rails tries to encrypt:\n\n```\nOpenSSL::Cipher::CipherError: Illegal key size: possibly you need to install Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files for your JRE\n```\n\nI was thinking if it we could add **config/initializers/unlimited_strength_cryptography.rb** to the rails generator templates with the following code:\n\n```\nif RUBY_PLATFORM == 'java' # Allows the application to work with other Rubies if not JRuby\n  require 'java'\n  java_import 'java.lang.ClassNotFoundException'\n\n  begin\n    security_class = java.lang.Class.for_name('javax.crypto.JceSecurity')\n    restricted_field = security_class.get_declared_field('isRestricted')\n    restricted_field.accessible = true\n    restricted_field.set nil, false\n  rescue ClassNotFoundException => e\n    # Handle Mac Java, etc not having this configuration setting\n    $stderr.print \"Java told me: #{e}n\"\n  end\nend\n```\n",
      "number": 19235,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sivsushruth/subscriptions",
         "received_events_url": "https://api.github.com/users/sivsushruth/received_events",
         "url": "https://api.github.com/users/sivsushruth",
         "avatar_url": "https://avatars1.githubusercontent.com/u/5187494?v=4",
         "events_url": "https://api.github.com/users/sivsushruth/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sivsushruth/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sivsushruth/following{/other_user}",
         "repos_url": "https://api.github.com/users/sivsushruth/repos",
         "site_admin": false,
         "id": 5187494,
         "organizations_url": "https://api.github.com/users/sivsushruth/orgs",
         "login": "sivsushruth",
         "gists_url": "https://api.github.com/users/sivsushruth/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sivsushruth/followers",
         "html_url": "https://github.com/sivsushruth"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/19235",
      "updated_at": "2016-11-14T21:31:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19235/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 5944892,
            "url": "https://api.github.com/repos/rails/rails/labels/JRuby",
            "color": "02d7e1",
            "default": false,
            "name": "JRuby"
         }
      ],
      "comments": 9,
      "id": 60176987,
      "closed_at": "2016-11-14T21:31:23Z",
      "created_at": "2015-03-07T00:02:06Z",
      "title": "JRuby OpenSSL::Cipher::CipherError",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19235/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19235/comments",
      "html_url": "https://github.com/rails/rails/issues/19235"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In the method `ActiveSupport:: Inflector#apply_inflections`, the current locale is not respected - it just assumes the default on `:en`. This means that `uncountable` rules aren't observed for other languages than English.\n",
      "number": 19109,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/troelskn/subscriptions",
         "received_events_url": "https://api.github.com/users/troelskn/received_events",
         "url": "https://api.github.com/users/troelskn",
         "avatar_url": "https://avatars0.githubusercontent.com/u/37910?v=4",
         "events_url": "https://api.github.com/users/troelskn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/troelskn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/troelskn/following{/other_user}",
         "repos_url": "https://api.github.com/users/troelskn/repos",
         "site_admin": false,
         "id": 37910,
         "organizations_url": "https://api.github.com/users/troelskn/orgs",
         "login": "troelskn",
         "gists_url": "https://api.github.com/users/troelskn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/troelskn/followers",
         "html_url": "https://github.com/troelskn"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19109",
      "updated_at": "2017-05-16T03:01:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19109/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 59223679,
      "closed_at": "2015-05-19T17:33:19Z",
      "created_at": "2015-02-27T11:21:17Z",
      "title": "Bug in inflections",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19109/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19109/comments",
      "html_url": "https://github.com/rails/rails/issues/19109"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi all,\n\nWhen you cut and paste the following into rails console with Rails 4.2. It hangs...\n\n```\n\"Hello,\\n    I am available at after 12 every sunday. Saturday afternoons after 2\\npm. 2 hours every session.\\n\\n2015-02-23 20:02 GMT+08:00 Name <email@example.com>:\".truncate_words(30)\n```\n\nScenario: I am trying to parse inbound emails. The hanging is causing 504s to happen eventually, when all threads are taken up as Mandrill keeps retrying.\n\nIn the above case, changing 30 to 20 returns successfully (and introduces truncation). I would narrow down the string to try to see what's causing it but I haven't found a shorter string in which this recurs. \n",
      "number": 19070,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ernsheong/subscriptions",
         "received_events_url": "https://api.github.com/users/ernsheong/received_events",
         "url": "https://api.github.com/users/ernsheong",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1343284?v=4",
         "events_url": "https://api.github.com/users/ernsheong/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ernsheong/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ernsheong/following{/other_user}",
         "repos_url": "https://api.github.com/users/ernsheong/repos",
         "site_admin": false,
         "id": 1343284,
         "organizations_url": "https://api.github.com/users/ernsheong/orgs",
         "login": "ernsheong",
         "gists_url": "https://api.github.com/users/ernsheong/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ernsheong/followers",
         "html_url": "https://github.com/ernsheong"
      },
      "state": "closed",
      "closed_by": "19076",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/19070",
      "updated_at": "2015-02-25T15:14:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/19070/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 58860676,
      "closed_at": "2015-02-25T15:14:11Z",
      "created_at": "2015-02-25T07:20:55Z",
      "title": "truncate_words is hanging on certain texts (Rails 4.2 new method)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/19070/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/19070/comments",
      "html_url": "https://github.com/rails/rails/issues/19070"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi,\n\nwhen I use belongs_to with both counter_cache and foreign_key it doesn't update the counter cache correctly, since the update_counters method always operates on the table's primary key, instead of the foreign_key relevant in this case - as can be seen [here](https://github.com/rails/rails/blob/1152219fa2d7968f864b3a5ebb78d2f95ca4fb5c/activerecord/lib/active_record/counter_cache.rb#L83).\n\nI guess what could be done is to add a parameter holding the column that id references, which evaluates to the table's primary_key by default. This would have to be passed on by belongs_to when using increment_counter and decrement_counter [here](https://github.com/rails/rails/blob/78dab2a8569408658542e462a957ea5a35aa4679/activerecord/lib/active_record/associations/builder/belongs_to.rb#L42).\n\nShould I try to make a pull request (would be my first to rails)? If yes, could someone please point me to file(s) appropriate fro the tests?\n\nCheers, Arno\n",
      "number": 18988,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/arnodirlam/subscriptions",
         "received_events_url": "https://api.github.com/users/arnodirlam/received_events",
         "url": "https://api.github.com/users/arnodirlam",
         "avatar_url": "https://avatars1.githubusercontent.com/u/43364?v=4",
         "events_url": "https://api.github.com/users/arnodirlam/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arnodirlam/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arnodirlam/following{/other_user}",
         "repos_url": "https://api.github.com/users/arnodirlam/repos",
         "site_admin": false,
         "id": 43364,
         "organizations_url": "https://api.github.com/users/arnodirlam/orgs",
         "login": "arnodirlam",
         "gists_url": "https://api.github.com/users/arnodirlam/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arnodirlam/followers",
         "html_url": "https://github.com/arnodirlam"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/18988",
      "updated_at": "2017-03-03T00:36:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18988/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 6,
      "id": 58072495,
      "closed_at": "2017-03-03T00:36:43Z",
      "created_at": "2015-02-18T14:14:55Z",
      "title": "Bug in belongs_to when using counter_cache together with foreign_key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18988/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18988/comments",
      "html_url": "https://github.com/rails/rails/issues/18988"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Currently, `variant=` sets an ivar with an array of the options. So request.variant will return something like `[ :phone ]` if you set `request.variant = :phone`. That's cumbersome to deal with on query. You now have to do either `request.variant.first == :phone` or you have to do `request.variant == [ :phone ]`. It gets even worse if you set multiple variants, like `request.variant = [ :tablet, :phone ]`. Checking if either is in there is a hassle.\n\nSo, let's wrap that variant in a better access class, so the following api works:\n\n``` ruby\nrequest.variant = :phone\nrequest.variant.phone? # => true\nrequest.variant.whatever? # => false\n\nrequest.variant = [ :tablet, :phone ]\nrequest.variant.tablet? # => true\nrequest.variant.phone? # => true\nrequest.variant.any?(:tablet, :phone) => true\nrequest.variant.any?(:tablet, :desktop) => true\nrequest.variant.any?(:watch, :desktop) => false\n```\n",
      "number": 18933,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "18939",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/18933",
      "updated_at": "2015-12-30T17:52:22Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/18933/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 57664655,
      "closed_at": "2015-03-27T19:22:06Z",
      "created_at": "2015-02-13T22:49:19Z",
      "title": "Better access to request.variant",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18933/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18933/comments",
      "html_url": "https://github.com/rails/rails/issues/18933"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is a common pattern: `rake routes | grep pattern`. Let's bake it into the command once we have #18878 in place with `rails routes -g pattern`.\n",
      "number": 18902,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
         "received_events_url": "https://api.github.com/users/dhh/received_events",
         "url": "https://api.github.com/users/dhh",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2741?v=4",
         "events_url": "https://api.github.com/users/dhh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dhh/following{/other_user}",
         "repos_url": "https://api.github.com/users/dhh/repos",
         "site_admin": false,
         "id": 2741,
         "organizations_url": "https://api.github.com/users/dhh/orgs",
         "login": "dhh",
         "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dhh/followers",
         "html_url": "https://github.com/dhh"
      },
      "state": "closed",
      "closed_by": "23225",
      "author_association": "OWNER",
      "url": "https://api.github.com/repos/rails/rails/issues/18902",
      "updated_at": "2016-02-01T21:09:23Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/18902/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 14,
      "id": 57357735,
      "closed_at": "2016-02-01T21:09:23Z",
      "created_at": "2015-02-11T18:40:58Z",
      "title": "rails routes -g pattern to search for specific routes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18902/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18902/comments",
      "html_url": "https://github.com/rails/rails/issues/18902"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi, I have an engine in my app and I'm trying to `render_to_string` a template, that uses engine routes helper.\nSo I'm rendering with `ApplicationController.new.render_to_string...`\nIn the main app routes.rb I mounted the engine to `my_engine_name`, so in my template I use `my_engine_name.some_path`.\n\nMain app routes works ok when rendering through `render_to_string`, because they are generated through ActionDispatch https://github.com/rails/rails/blob/3-2-stable/actionpack/lib/action_dispatch/routing/url_for.rb#L148\n\nBut `main_app.*` and `my_engine_name.*` get an error `#<ActionView::Template::Error: undefined method `host' for nil:NilClass>` because of they need a request https://github.com/rails/rails/blob/3-2-stable/actionpack/lib/action_controller/metal/url_for.rb#L29\n\nI'm using Rails 3.2.18, but I see the problem is still present in Rails 4.2 code.\n\nThanks.\n",
      "number": 18869,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sevaorlov/subscriptions",
         "received_events_url": "https://api.github.com/users/sevaorlov/received_events",
         "url": "https://api.github.com/users/sevaorlov",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1062645?v=4",
         "events_url": "https://api.github.com/users/sevaorlov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sevaorlov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sevaorlov/following{/other_user}",
         "repos_url": "https://api.github.com/users/sevaorlov/repos",
         "site_admin": false,
         "id": 1062645,
         "organizations_url": "https://api.github.com/users/sevaorlov/orgs",
         "login": "sevaorlov",
         "gists_url": "https://api.github.com/users/sevaorlov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sevaorlov/followers",
         "html_url": "https://github.com/sevaorlov"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/18869",
      "updated_at": "2015-04-26T18:39:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18869/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 10,
      "id": 57148456,
      "closed_at": "2015-04-26T18:14:49Z",
      "created_at": "2015-02-10T09:15:33Z",
      "title": "engines routes don't work in render_to_string ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18869/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18869/comments",
      "html_url": "https://github.com/rails/rails/issues/18869"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I've already scratched my itch by sidestepping the built-in JSON handling in ParamsParser, but I think this still is wrong behaviour.\n\nA current default Rails app will accept raw inputs as JSON that are not JSON at all. For example, `POST abcd` will correctly return a `400 Bad Request`, `POST 1234` doesn't though, and this will be passed on to the controller. The effects are among others, that malformed JSON might be reported as `422 Unprocessable Entity` instead of `400 Bad Request`.\n",
      "number": 18699,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/thegcat/subscriptions",
         "received_events_url": "https://api.github.com/users/thegcat/received_events",
         "url": "https://api.github.com/users/thegcat",
         "avatar_url": "https://avatars0.githubusercontent.com/u/22835?v=4",
         "events_url": "https://api.github.com/users/thegcat/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/thegcat/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/thegcat/following{/other_user}",
         "repos_url": "https://api.github.com/users/thegcat/repos",
         "site_admin": false,
         "id": 22835,
         "organizations_url": "https://api.github.com/users/thegcat/orgs",
         "login": "thegcat",
         "gists_url": "https://api.github.com/users/thegcat/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/thegcat/followers",
         "html_url": "https://github.com/thegcat"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/18699",
      "updated_at": "2017-10-20T18:26:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18699/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 55622926,
      "closed_at": "2017-10-20T18:26:32Z",
      "created_at": "2015-01-27T14:19:13Z",
      "title": "ParamsParser too lenient about incoming JSON",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18699/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18699/comments",
      "html_url": "https://github.com/rails/rails/issues/18699"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Consider this statement:\n\n``` ruby\nUser.uniq.count    # it can and often do have some `where`-s and `join`-s before `uniq`, but this statement already shows the problem\n```\n\ngenerates this SQL:\n\n``` sql\nSELECT DISTINCT COUNT(DISTINCT `users`.`id`) FROM `users`\n```\n\nwhere one would expect having just:\n\n``` sql\nSELECT COUNT(DISTINCT `users`.`id`) FROM `users`\n```\n\n(no redundant `DISTINCT`). Usually it does not make a difference, since `DISTINCT` out of one value (result of count) is the same, but if you look at MySQL docs: http://dev.mysql.com/doc/refman/5.5/en/group-by-optimization.html it says that it will not use loose index scan with this query. Which actually makes query extremely slow on big (millions) table(s). Removing excessive `DISTINCT` makes it use right indexes and it becomes very fast.\n\nIs it expected behavior? Is there any workaround except avoiding `uniq` + `count` ?\n\nRails: 4.0.12\nRuby: 2.1.5\nMySQL: Percona 5.6\n",
      "number": 18694,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/waterlink/subscriptions",
         "received_events_url": "https://api.github.com/users/waterlink/received_events",
         "url": "https://api.github.com/users/waterlink",
         "avatar_url": "https://avatars1.githubusercontent.com/u/609046?v=4",
         "events_url": "https://api.github.com/users/waterlink/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/waterlink/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/waterlink/following{/other_user}",
         "repos_url": "https://api.github.com/users/waterlink/repos",
         "site_admin": false,
         "id": 609046,
         "organizations_url": "https://api.github.com/users/waterlink/orgs",
         "login": "waterlink",
         "gists_url": "https://api.github.com/users/waterlink/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/waterlink/followers",
         "html_url": "https://github.com/waterlink"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/18694",
      "updated_at": "2017-03-04T08:55:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18694/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 55560568,
      "closed_at": "2017-03-04T08:55:57Z",
      "created_at": "2015-01-27T00:52:57Z",
      "title": "AR: Weird query when chaining `uniq` and `count`: excessive `DISTINCT`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18694/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18694/comments",
      "html_url": "https://github.com/rails/rails/issues/18694"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Sample code (with some unnecessary items removed for brevity).\n\nThis issue came about when trying to do custom validations via a service object on an STI user. The user already exists when getting to \"finish signup\" page, and from there they set the \"type\" of user they become, and based on that type, different form fields, and different nested associations are possible. Due to this, standard model validations are very unwieldy as this is use case is pretty weird. This is why I have to do a lot of \"hacky\" behavior.\n\n```\nuser = User.new\nparams = ActionController::Parameters.new(user: { name: \"hey\", nested_attributes: [{ parent_id: Parent.last.id, title: \"test\" }] } ).require(:user).permit(:name, nested_attributes: [:parent_id, :title])\n => {\"name\"=>\"hey\", \"nested_attributes\"=>[{\"parent_id\"=>9, \"title\"=>\"test\"}]} \n\nuser.attributes = params\n => {\"name\"=>\"hey\", \"nested_attributes\"=>[{\"parent_id\"=>9, \"title\"=>\"test\"}]} \n\nuser\n => #<User id: nil, ... name: \"hey\", ...> \n\nuser.attributes\n => {\"id\"=>nil, \"email\"=>\"\", ... \"name\"=>\"hey\", ...} \n\nuser.nested\n => #<ActiveRecord::Associations::CollectionProxy [#<Nested id: nil, title: \"test\", parent_id: 9, ...>]> \n\nuser = user.becomes!(SubClass)\n => #<SubClass id: nil, email: \"\", encrypted_password: \"\", ... name: \"hey\", ... type: \"SubClass\", ...> \n\nuser.nested\n => #<ActiveRecord::Associations::CollectionProxy []> \n```\n",
      "number": 18549,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dmastylo/subscriptions",
         "received_events_url": "https://api.github.com/users/dmastylo/received_events",
         "url": "https://api.github.com/users/dmastylo",
         "avatar_url": "https://avatars1.githubusercontent.com/u/2275125?v=4",
         "events_url": "https://api.github.com/users/dmastylo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dmastylo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dmastylo/following{/other_user}",
         "repos_url": "https://api.github.com/users/dmastylo/repos",
         "site_admin": false,
         "id": 2275125,
         "organizations_url": "https://api.github.com/users/dmastylo/orgs",
         "login": "dmastylo",
         "gists_url": "https://api.github.com/users/dmastylo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dmastylo/followers",
         "html_url": "https://github.com/dmastylo"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/18549",
      "updated_at": "2015-08-25T05:28:46Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18549/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 54526205,
      "closed_at": "2015-08-25T05:28:46Z",
      "created_at": "2015-01-16T00:43:29Z",
      "title": "Using \"becomes\" on a \"dirty\" ActiveRecord object causes disappearance of nested attributes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18549/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18549/comments",
      "html_url": "https://github.com/rails/rails/issues/18549"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Since upgrading to 4.2, my routing specs are failing for routes that match all HTTP methods.\n\n``` ruby\n# config/routes.rb\n\nmatch '/webhooks/mailgun/emails', to: 'webhooks/mailgun#emails', via: :all\n```\n\n``` ruby\n# spec/controllers/webhooks/mailgun_controller_spec.rb\n\nit \"routes all HTTP methods to #emails\" do\n  expect(all: 'webhooks/mailgun/emails').to route_to(action: 'emails')\nend\n```\n\nIf you were using Test::Unit, I think the test would look like\n\n``` ruby\ntest \"routes all HTTP methods to #emails\" do\n  assert_routing({ method: 'all', path: 'webhooks/mailgun/emails' }, { controller: \"webhooks/mailgun\", action: \"emails\" })\nend\n```\n\nThe (RSpec) test fails\n\n```\n1) Webhooks::MailgunController should route ALL webhooks/mailgun/emails to/from {:action=>\"emails\", :controller=>\"webhooks/mailgun\"}\n   Failure/Error: expect(all: 'webhooks/mailgun/emails').to route_to(action: 'emails')\n   ActionController::UnknownHttpMethod:\n     ALL, accepted HTTP methods are OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT, PROPFIND, PROPPATCH, MKCOL, COPY, MOVE, LOCK, UNLOCK, VERSION-CONTROL, REPORT, CHECKOUT, CHECKIN, UNCHECKOUT, MKWORKSPACE, UPDATE, LABEL, MERGE, BASELINE-CONTROL, MKACTIVITY, ORDERPATCH, ACL, SEARCH, MKCALENDAR, and PATCH\n```\n\nIt's not recognizing ALL as an HTTP method (and that's true, it's not), but it is a valid route option and it used to work in tests. I don't know if it was intentional that it worked before, but if it was, then I would consider this a regression.\n\nSomeone in the #rspec channel mentioned (and I'm paraphrasing) that it's possible Rails used to default to a GET request when it didn't recognize the HTTP method in a test, which would explain why it worked previously.\n\nRelated issue: rspec/rspec-rails#1274\n",
      "number": 18511,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dideler/subscriptions",
         "received_events_url": "https://api.github.com/users/dideler/received_events",
         "url": "https://api.github.com/users/dideler",
         "avatar_url": "https://avatars2.githubusercontent.com/u/497458?v=4",
         "events_url": "https://api.github.com/users/dideler/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dideler/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dideler/following{/other_user}",
         "repos_url": "https://api.github.com/users/dideler/repos",
         "site_admin": false,
         "id": 497458,
         "organizations_url": "https://api.github.com/users/dideler/orgs",
         "login": "dideler",
         "gists_url": "https://api.github.com/users/dideler/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dideler/followers",
         "html_url": "https://github.com/dideler"
      },
      "state": "closed",
      "closed_by": "18665",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/18511",
      "updated_at": "2015-02-20T16:44:09Z",
      "milestone": {
         "closed_at": "2015-03-19T16:40:37Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/38",
         "description": "",
         "updated_at": "2015-03-19T16:40:37Z",
         "number": 38,
         "due_on": "2015-01-27T08:00:00Z",
         "id": 903977,
         "open_issues": 0,
         "closed_issues": 72,
         "created_at": "2014-12-15T08:25:47Z",
         "title": "4.2.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/38/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/38",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/18511/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 54313977,
      "closed_at": "2015-02-20T16:44:09Z",
      "created_at": "2015-01-14T11:54:29Z",
      "title": "Routing tests fail for routes that match all verbs",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18511/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18511/comments",
      "html_url": "https://github.com/rails/rails/issues/18511"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I've found that when using single table inheritance it's necessary to use a single fixture file for all the test objects of that particular inheritance tree. For example when using a base class Person and Two child classes Student and Teacher, the expected behavior would be that when loading the files `teacher.yml` and `students.yml` the table people would have all the fixtures in it. The following are some simple files to explain it.\n\n``` yaml\n#teachers.yml\npresto:\n    name: Test Teacher\n```\n\n``` yaml\n#students.yml\ntesto:\n    name: Test Person\n    teacher: presto\n```\n\nHowever when loading this fixtures only the teacher fixture exists in the database, after some messing around with the fixtures API and console I found that only the last fixtures of the table are that ones that are kept, which in default behaviour is the teachers fixtures because of the alphabetical loading order. Moreover, if the last fixture file is an empty one, the table stays empty.\n\n Maybe I didn't find it, but when researching it I saw no mention of this behavior in the docs.\n\nThe workaround I've found to work, is to use a single fixture file for any table that uses single table inheritance and erasing all other fixture files for the subclasses, or to load them explicitly by calling the fixtures API.\n",
      "number": 18492,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/macarenomarco/subscriptions",
         "received_events_url": "https://api.github.com/users/macarenomarco/received_events",
         "url": "https://api.github.com/users/macarenomarco",
         "avatar_url": "https://avatars2.githubusercontent.com/u/4233076?v=4",
         "events_url": "https://api.github.com/users/macarenomarco/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/macarenomarco/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/macarenomarco/following{/other_user}",
         "repos_url": "https://api.github.com/users/macarenomarco/repos",
         "site_admin": false,
         "id": 4233076,
         "organizations_url": "https://api.github.com/users/macarenomarco/orgs",
         "login": "macarenomarco",
         "gists_url": "https://api.github.com/users/macarenomarco/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/macarenomarco/followers",
         "html_url": "https://github.com/macarenomarco"
      },
      "state": "closed",
      "closed_by": "ae59eb",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/18492",
      "updated_at": "2017-03-29T17:50:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18492/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 54236119,
      "closed_at": "2015-02-01T02:05:05Z",
      "created_at": "2015-01-13T19:26:37Z",
      "title": "Fixtures not working with single table inheritance",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18492/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18492/comments",
      "html_url": "https://github.com/rails/rails/issues/18492"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When doing an update_attributes that does not actually update the model (=attributes are the same as current ones), a save is called anyways.\n\nUnless I'm missing something, I think it should not, because :\n- It does a Commit in the Database that is not necessary (which of course is quick, but could be a performance gain if removed)\n- As a consequence, when using touch: true, on an association the other element is touched\n\nThere is a workaround, which consists in doing an assign_attributes and then a save if changed? (which a few people seem to use by overriding the default update_attributes method) but I would find it more intuitive and logical to have this behavior by default in rails. What do you guys think ?\n\nThe code right now looks like this :\n\n```\ndef update(attributes)\n      with_transaction_returning_status do\n        assign_attributes(attributes)\n        save\n      end\nend\n```\n\nThe idea would be to do save if changed? instead of save\n",
      "number": 18400,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bastien-tilkee/subscriptions",
         "received_events_url": "https://api.github.com/users/bastien-tilkee/received_events",
         "url": "https://api.github.com/users/bastien-tilkee",
         "avatar_url": "https://avatars1.githubusercontent.com/u/6769009?v=4",
         "events_url": "https://api.github.com/users/bastien-tilkee/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bastien-tilkee/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bastien-tilkee/following{/other_user}",
         "repos_url": "https://api.github.com/users/bastien-tilkee/repos",
         "site_admin": false,
         "id": 6769009,
         "organizations_url": "https://api.github.com/users/bastien-tilkee/orgs",
         "login": "bastien-tilkee",
         "gists_url": "https://api.github.com/users/bastien-tilkee/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bastien-tilkee/followers",
         "html_url": "https://github.com/bastien-tilkee"
      },
      "state": "closed",
      "closed_by": "ea2aaf",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/18400",
      "updated_at": "2015-07-07T02:30:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18400/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 53740376,
      "closed_at": "2015-03-05T10:41:01Z",
      "created_at": "2015-01-08T11:23:49Z",
      "title": "Update_attributes always calls a save, even if the object is not modified",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18400/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18400/comments",
      "html_url": "https://github.com/rails/rails/issues/18400"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "see https://github.com/rubygems/rubygems.org/blob/master/test/functional/dashboards_controller_test.rb#L40-L41\n\nI have a scope constraint for the format, and override that constraint in the resource call.\n\n``` ruby\n  scope constraints: {format: :html}, defaults: {format: 'html'} do\n    resource  :search,    :only => :show\n    resource  :dashboard, :only => :show, constraints: {format: /html|atom/}\n  end\n```\n\nThat works fine when I test: https://github.com/arthurnn/rubygems.org/blob/fix_atom_ui/test/integration/dashboard_test.rb#L37-L44\n\n``` ruby\n  test \"dashboard with atom format\" do\n    rubygem = create(:rubygem, name: \"sandworm\", number: \"1.0.0\")\n    create(:subscription, rubygem: rubygem, user: @user)\n\n    get dashboard_path(format: :atom)\n  end\n```\n\nHowever when I run `rake routes`, it returns:\n\n```\ndashboard GET    /dashboard(.:format)             dashboards#show {:format=>\"html\"}\n```\n",
      "number": 18373,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "state": "closed",
      "closed_by": "18392",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/18373",
      "updated_at": "2015-04-27T13:15:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18373/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 53565392,
      "closed_at": "2015-04-27T13:15:22Z",
      "created_at": "2015-01-06T21:26:37Z",
      "title": "rake routes not showing right format when nested",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18373/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18373/comments",
      "html_url": "https://github.com/rails/rails/issues/18373"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "```\nirb(main):007:0> require 'active_support'\n=> true\nirb(main):008:0> nil.frozen?\n=> true\nirb(main):009:0> ActiveSupport::SafeBuffer.new('Hello')[/a/, 1]\nRuntimeError: can't modify frozen NilClass\n    from /Users/adrien/.gem/ruby/2.2.0/gems/activesupport-4.1.6/lib/active_support/core_ext/string/output_safety.rb:145:in `block in []'\n    from /Users/adrien/.gem/ruby/2.2.0/gems/activesupport-4.1.6/lib/active_support/core_ext/string/output_safety.rb:145:in `instance_eval'\n    from /Users/adrien/.gem/ruby/2.2.0/gems/activesupport-4.1.6/lib/active_support/core_ext/string/output_safety.rb:145:in `[]'\n    from (irb):9\n    from /Users/adrien/.rubies/mri-2.2/bin/irb:11:in `<main>'\nirb(main):010:0> \"Hello\"[/a/, 1]\n=> nil\n```\n\nThe issue comes from this piece of code in output_safety.rb :\n\n``` ruby\ndef [](*args)\n  if args.size < 2\n    super\n  else\n    if html_safe?\n      new_safe_buffer = super # Nil, when not matching\n      new_safe_buffer.instance_eval { @html_safe = true } # boom\n      new_safe_buffer\n    else\n      to_str[*args]\n    end\n  end\nend\n```\n\nJust letting you know\n\nThanks :)\n",
      "number": 18235,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Intrepidd/subscriptions",
         "received_events_url": "https://api.github.com/users/Intrepidd/received_events",
         "url": "https://api.github.com/users/Intrepidd",
         "avatar_url": "https://avatars3.githubusercontent.com/u/803765?v=4",
         "events_url": "https://api.github.com/users/Intrepidd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Intrepidd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Intrepidd/following{/other_user}",
         "repos_url": "https://api.github.com/users/Intrepidd/repos",
         "site_admin": false,
         "id": 803765,
         "organizations_url": "https://api.github.com/users/Intrepidd/orgs",
         "login": "Intrepidd",
         "gists_url": "https://api.github.com/users/Intrepidd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Intrepidd/followers",
         "html_url": "https://github.com/Intrepidd"
      },
      "state": "closed",
      "closed_by": "18236",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/18235",
      "updated_at": "2014-12-29T16:09:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18235/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 53035405,
      "closed_at": "2014-12-29T16:09:34Z",
      "created_at": "2014-12-29T11:34:05Z",
      "title": "ActiveSupport::SafeBuffer tries to modify nil that is frozen in ruby 2.2",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18235/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18235/comments",
      "html_url": "https://github.com/rails/rails/issues/18235"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hey guys, while trying to upgrade I ran into some issues with existing routes.\n\nI think it is caused to the change 5.2 \"Deprecated support for setting the :to option of a router to a symbol or a string that does not contain a \"#\" character\" but look at these 3 lines:\n\n``` ruby\nget 'a/:action' => 'foo'\nget 'b/:action/a' => 'foo'\nget 'c/:action' => 'foo'\n```\n\n`a` and `c` don't output any deprecation warning which I think I should(?) but `b` just breaks completely with the following exception:\n\n```\nArgumentError - 'b/:action' is not a supported controller name. This can lead to potential routing problems. See http://guides.rubyonrails.org/routing.html#specifying-a-controller-to-use:\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:260:in `block (2 levels) in check_controller_and_action'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:319:in `translate_controller'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:256:in `block in check_controller_and_action'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:271:in `check_part'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:255:in `check_controller_and_action'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:178:in `normalize_options!'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:100:in `initialize'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:78:in `build'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:1559:in `add_route'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:1536:in `decomposed_match'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:1517:in `block in match'\n  actionpack (4.2.0) lib/action_dispatch/routing/mapper.rb:1507:in `match'\n  config/routes.rb:24:in `block in <top (required)>'\n  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:423:in `eval_block'\n  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:401:in `draw'\n  config/routes.rb:1:in `<top (required)>'\n  activesupport (4.2.0) lib/active_support/dependencies.rb:268:in `block in load'\n  activesupport (4.2.0) lib/active_support/dependencies.rb:240:in `load_dependency'\n  activesupport (4.2.0) lib/active_support/dependencies.rb:268:in `load'\n  railties (4.2.0) lib/rails/application/routes_reloader.rb:40:in `block in load_paths'\n  railties (4.2.0) lib/rails/application/routes_reloader.rb:40:in `load_paths'\n  railties (4.2.0) lib/rails/application/routes_reloader.rb:16:in `reload!'\n  railties (4.2.0) lib/rails/application/routes_reloader.rb:26:in `block in updater'\n  activesupport (4.2.0) lib/active_support/file_update_checker.rb:75:in `execute'\n  railties (4.2.0) lib/rails/application/routes_reloader.rb:7:in `execute'\n  railties (4.2.0) lib/rails/application/finisher.rb:81:in `block (2 levels) in <module:Finisher>'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:441:in `block in make_lambda'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:189:in `block in simple'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:190:in `block in simple'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:190:in `block in simple'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:190:in `block in simple'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_prepare_callbacks'\n  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'\n  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:83:in `prepare!'\n  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:71:in `call'\n  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'\n  airbrake (4.1.0) lib/airbrake/rails/middleware.rb:13:in `call'\n  better_errors (2.1.0) lib/better_errors/middleware.rb:84:in `protected_app_call'\n  better_errors (2.1.0) lib/better_errors/middleware.rb:79:in `better_errors_call'\n  better_errors (2.1.0) lib/better_errors/middleware.rb:57:in `call'\n  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'\n  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\n  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'\n  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'\n  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'\n  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'\n  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'\n  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'\n  quiet_assets (1.1.0) lib/quiet_assets.rb:27:in `call_with_quiet_assets'\n  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'\n  rack (1.6.0) lib/rack/methodoverride.rb:22:in `call'\n  rack (1.6.0) lib/rack/runtime.rb:18:in `call'\n  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'\n  rack (1.6.0) lib/rack/lock.rb:17:in `call'\n  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'\n  rack (1.6.0) lib/rack/sendfile.rb:113:in `call'\n  airbrake (4.1.0) lib/airbrake/user_informer.rb:16:in `_call'\n  airbrake (4.1.0) lib/airbrake/user_informer.rb:12:in `call'\n  railties (4.2.0) lib/rails/engine.rb:518:in `call'\n  railties (4.2.0) lib/rails/application.rb:164:in `call'\n  rack (1.6.0) lib/rack/content_length.rb:15:in `call'\n  thin (1.6.3) lib/thin/connection.rb:86:in `block in pre_process'\n  thin (1.6.3) lib/thin/connection.rb:84:in `pre_process'\n  thin (1.6.3) lib/thin/connection.rb:53:in `process'\n  thin (1.6.3) lib/thin/connection.rb:39:in `receive_data'\n  eventmachine (1.0.4) lib/eventmachine.rb:187:in `run'\n  thin (1.6.3) lib/thin/backends/base.rb:73:in `start'\n  thin (1.6.3) lib/thin/server.rb:162:in `start'\n  rack (1.6.0) lib/rack/handler/thin.rb:19:in `run'\n  rack (1.6.0) lib/rack/server.rb:286:in `start'\n  railties (4.2.0) lib/rails/commands/server.rb:80:in `start'\n  railties (4.2.0) lib/rails/commands/commands_tasks.rb:80:in `block in server'\n  railties (4.2.0) lib/rails/commands/commands_tasks.rb:75:in `server'\n  railties (4.2.0) lib/rails/commands/commands_tasks.rb:39:in `run_command!'\n  railties (4.2.0) lib/rails/commands.rb:17:in `<top (required)>'\n  bin/rails:4:in `<main>'\n```\n\nSomething isn't right here, am I right?\n",
      "number": 18211,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/2called-chaos/subscriptions",
         "received_events_url": "https://api.github.com/users/2called-chaos/received_events",
         "url": "https://api.github.com/users/2called-chaos",
         "avatar_url": "https://avatars1.githubusercontent.com/u/218011?v=4",
         "events_url": "https://api.github.com/users/2called-chaos/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/2called-chaos/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/2called-chaos/following{/other_user}",
         "repos_url": "https://api.github.com/users/2called-chaos/repos",
         "site_admin": false,
         "id": 218011,
         "organizations_url": "https://api.github.com/users/2called-chaos/orgs",
         "login": "2called-chaos",
         "gists_url": "https://api.github.com/users/2called-chaos/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/2called-chaos/followers",
         "html_url": "https://github.com/2called-chaos"
      },
      "state": "closed",
      "closed_by": "18218",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/18211",
      "updated_at": "2015-02-20T21:28:44Z",
      "milestone": {
         "closed_at": "2015-03-19T16:40:37Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/38",
         "description": "",
         "updated_at": "2015-03-19T16:40:37Z",
         "number": 38,
         "due_on": "2015-01-27T08:00:00Z",
         "id": 903977,
         "open_issues": 0,
         "closed_issues": 72,
         "created_at": "2014-12-15T08:25:47Z",
         "title": "4.2.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/38/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/38",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/18211/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 52918515,
      "closed_at": "2015-02-20T21:28:44Z",
      "created_at": "2014-12-26T15:36:12Z",
      "title": "4.2.0 unexpected route issues (is not a supported controller name)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18211/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18211/comments",
      "html_url": "https://github.com/rails/rails/issues/18211"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Please bear with me on this one, I already spent 50+ hours debugging this issue:\n\nI am porting a large (close to 50k lines) Rails application from Rails 4.0 to Rails 4.1. We have a rails41 branch which differs from our stable master branch only in the Gemfile.lock entries related to the core Rails gems. The master branch is running completely stable.\n\nUnfortunately, with Rails 4.1 I am experiencing Ruby crashes that always occur somewhere in a long callback chain, although the same callback chain sometimes crashes and sometimes not. The result anyhow is that whenever I run rake spec or just work with the application I get a BUS error around every 3 minutes and the application dies completely. \n\nThis is so strange I spent dozens of hours trying to fix it in our application, disabling gems, removing some of our internal libraries etc., to no result. I ended up painstakingly doing a complete git bisect, and I have found the single offending commit that breaks Rails/Ruby for us:\n\nhttps://github.com/rails/rails/commit/23122ab2d4e239d35a154d5ec28c2afefdd012de\n\nBefore this commit everything runs fine, afterwards the crashes occur. Still, this seems to be one hell of an issue to debug. The Ruby-level backtrace of the BUS error sometimes shows includes the callback chain, and sometimes some apparently unrelated snippet of code - it seems something in the Ruby interpreter gets corrupted but not always produces an immediate crash. Typically, 8 out of 10 times I ran one of the crashing tests, I get something very similar to this (but in a great many of different places of the app):\n\n```\nc:0235 p:0000 s:1133 e:001132 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:214 [FINISH]\nc:0234 p:---- s:1127 e:001126 CFUNC  :call\nc:0233 p:0010 s:1123 e:001122 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0232 p:---- s:1117 e:001116 CFUNC  :call\nc:0231 p:0010 s:1113 e:001112 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0230 p:---- s:1107 e:001106 CFUNC  :call\nc:0229 p:0010 s:1103 e:001102 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0228 p:---- s:1097 e:001096 CFUNC  :call\nc:0227 p:0010 s:1093 e:001092 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0226 p:---- s:1087 e:001086 CFUNC  :call\nc:0225 p:0010 s:1083 e:001082 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0224 p:---- s:1077 e:001076 CFUNC  :call\nc:0223 p:0010 s:1073 e:001072 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0222 p:---- s:1067 e:001066 CFUNC  :call\nc:0221 p:0010 s:1063 e:001062 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0220 p:---- s:1057 e:001056 CFUNC  :call\nc:0219 p:0010 s:1053 e:001052 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0218 p:---- s:1047 e:001046 CFUNC  :call\nc:0217 p:0010 s:1043 e:001042 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0216 p:---- s:1037 e:001036 CFUNC  :call\nc:0215 p:0010 s:1033 e:001032 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0214 p:---- s:1027 e:001026 CFUNC  :call\nc:0213 p:0010 s:1023 e:001022 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0212 p:---- s:1017 e:001016 CFUNC  :call\nc:0211 p:0010 s:1013 e:001012 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0210 p:---- s:1007 e:001006 CFUNC  :call\nc:0209 p:0010 s:1003 e:001002 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0208 p:---- s:0997 e:000996 CFUNC  :call\nc:0207 p:0010 s:0993 e:000992 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0206 p:---- s:0987 e:000986 CFUNC  :call\nc:0205 p:0010 s:0983 e:000982 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0204 p:---- s:0977 e:000976 CFUNC  :call\nc:0203 p:0010 s:0973 e:000972 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0202 p:---- s:0967 e:000966 CFUNC  :call\nc:0201 p:0010 s:0963 e:000962 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0200 p:---- s:0957 e:000956 CFUNC  :call\nc:0199 p:0010 s:0953 e:000952 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:215 [FINISH]\nc:0198 p:---- s:0947 e:000946 CFUNC  :call\nc:0197 p:0081 s:0943 e:000942 METHOD /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:86\nc:0196 p:0009 s:0935 E:ffffffc0 METHOD /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activerecord-4.1.7.1/lib/active_record/callbacks.rb:310\nc:0195 p:0032 s:0931 e:000930 METHOD /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activerecord-4.1.7.1/lib/active_record/timestamp.rb:70\nc:0194 p:0035 s:0926 e:000925 METHOD /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activerecord-4.1.7.1/lib/active_record/persistence.rb:483\nc:0193 p:0008 s:0922 e:000921 BLOCK  /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activerecord-4.1.7.1/lib/active_record/callbacks.rb:302 [FINISH]\nc:0192 p:---- s:0920 e:000919 CFUNC  :call\nc:0191 p:0038 s:0917 e:000915 METHOD /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:113\nc:0190 p:0086 s:0911 e:000910 LAMBDA /home/jarek/.rbenv/versions/2.1.4/lib/ruby/gems/2.1.0/gems/activesupport-4.1.7.1/lib/active_support/callbacks.rb:166\n```\n\nI have went as far as run a debug version of Ruby under gdb but the C-level backtrace is utterly meaningless:\n\n```\n#0  0xb7717472 in vm_exec_core (th=0xb92a1be0, initial=0) at vm_exec.c:46\n#1  0xb772843d in vm_exec (th=0xb92a1be0) at vm.c:1398\n#2  0xb7726c4a in invoke_block_from_c (th=0xb92a1be0, block=0xbf50b230, self=3128167180, argc=1, argv=0xb7020198, blockptr=0x0, cref=0x0, defined_class=3128167620) at vm.c:817\n#3  0xb77270b2 in vm_invoke_proc (th=0xb92a1be0, proc=0xbf50b230, self=3128167180, defined_class=3128167620, argc=1, argv=0xb7020198, blockptr=0x0) at vm.c:881\n#4  0xb772714e in rb_vm_invoke_proc (th=0xb92a1be0, proc=0xbf50b230, argc=1, argv=0xb7020198, blockptr=0x0) at vm.c:900\n#5  0xb75e8bf5 in proc_call (argc=1, argv=0xb7020198, procval=2964385000) at proc.c:713\n#6  0xb7714ad8 in call_cfunc_m1 (func=0xb75e8b60 <proc_call>, recv=2964385000, argc=1, argv=0xb7020198) at vm_insnhelper.c:1317\n...\n```\n\nvm_exec.c:46 is the opening bracket of this internal Ruby function:\n\n```\n#if !OPT_CALL_THREADED_CODE\nstatic VALUE\nvm_exec_core(rb_thread_t *th, VALUE initial)\n{\n```\n\nI am on Gentoo Linux and on ruby 2.1.5 in rbenv. My colleagues at work have reproduced the same issue on their Ubuntu laptops also on ruby 2.1.5 and rbenv. I have also reproduced it on ruby 2.1.5 installed directly from source and with rbenv completely and throughoutly removed. As mentioned the codebase is the same except for the single commit. I am of course willing to provide more detail, and whenever I have time I will try to narrow the single commit down to one individual change if possible, meanwhile I am awaiting suggestions how can you possibly approach further debugging something like this ^^\n\nI realize from a Platonic viewpoint this might be considered a Ruby bug (in a well-defined language there should not exist a way to crash the interpreter, I guess), but with the level of complexity involved I hope you understand I probably would not receive much help if I reported such an issue in the Ruby bug tracker.\n",
      "number": 18011,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jaroslawr/subscriptions",
         "received_events_url": "https://api.github.com/users/jaroslawr/received_events",
         "url": "https://api.github.com/users/jaroslawr",
         "avatar_url": "https://avatars0.githubusercontent.com/u/26233?v=4",
         "events_url": "https://api.github.com/users/jaroslawr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jaroslawr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jaroslawr/following{/other_user}",
         "repos_url": "https://api.github.com/users/jaroslawr/repos",
         "site_admin": false,
         "id": 26233,
         "organizations_url": "https://api.github.com/users/jaroslawr/orgs",
         "login": "jaroslawr",
         "gists_url": "https://api.github.com/users/jaroslawr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jaroslawr/followers",
         "html_url": "https://github.com/jaroslawr"
      },
      "state": "closed",
      "closed_by": "79a0f5",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/18011",
      "updated_at": "2015-02-17T22:39:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/18011/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 24,
      "id": 51841840,
      "closed_at": "2014-12-30T22:17:03Z",
      "created_at": "2014-12-12T19:13:30Z",
      "title": "ActiveSupport::Callbacks produces huge call stacks",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/18011/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/18011/comments",
      "html_url": "https://github.com/rails/rails/issues/18011"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Given\n\n```\nclass Foo < ActiveRecord::Base\n  has_many :bars, as: :object\nend\nclass Bar < ActiveRecord::Base\n  belongs_to :object, polymorphic: true\nend\n```\n\nfor \n\n```\nFoo.joins(:bars).pluck(:id)\n```\n\ni get:\n\n```\nPluckTest#test_polymorphic_with_pluck:\nActiveRecord::StatementInvalid: PG::ProtocolViolation: ERROR:  bind message supplies 0 parameters, but prepared statement \"\" requires 1\n: SELECT \"foos\".\"id\" FROM \"foos\" INNER JOIN \"bars\" ON \"bars\".\"object_id\" = \"foos\".\"id\" AND \"bars\".\"object_type\" = $1\n```\n\nFull bugreport:\nhttps://gist.github.com/mfazekas/a2b030278931a209cc23\n\nI have a patch for this, but i'm not sure if it's the best way, and also looks this can happen with other calculations.\nhttps://github.com/mfazekas/rails/commit/bd0d47eed6d88184cd9209b12f853f06b15de48a\n",
      "number": 17983,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mfazekas/subscriptions",
         "received_events_url": "https://api.github.com/users/mfazekas/received_events",
         "url": "https://api.github.com/users/mfazekas",
         "avatar_url": "https://avatars1.githubusercontent.com/u/52435?v=4",
         "events_url": "https://api.github.com/users/mfazekas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mfazekas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mfazekas/following{/other_user}",
         "repos_url": "https://api.github.com/users/mfazekas/repos",
         "site_admin": false,
         "id": 52435,
         "organizations_url": "https://api.github.com/users/mfazekas/orgs",
         "login": "mfazekas",
         "gists_url": "https://api.github.com/users/mfazekas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mfazekas/followers",
         "html_url": "https://github.com/mfazekas"
      },
      "state": "closed",
      "closed_by": "17994",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17983",
      "updated_at": "2014-12-11T20:25:22Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/17983/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 51433624,
      "closed_at": "2014-12-11T20:25:22Z",
      "created_at": "2014-12-09T14:32:04Z",
      "title": "Rails 4.2.0rc2 pluck and polymorphic: bind message supplies 0 but prepared statement requires 1",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17983/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17983/comments",
      "html_url": "https://github.com/rails/rails/issues/17983"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`table_exists?` can return incorrect results on MySQL if you have tables with `LIKE` metacharaters in their names.\n\nI'm attempting to load a legacy schema, and there's a number of odd naming conventions going on. Most table names end in an underscore (for _reasons_), which causes `table_exists?` to sometimes return true when it shouldn't - breaking things like `force: true` in migrations.\n\nFor concreteness, imagine we have a table called `Foos` and another called `foo_` (not their real names :) ). The `create_table` for Foos executes without incident, but the one for `foo_` blows up with 'Unknown table 'foo_': DROP TABLE 'foos_'`.\n\nUnder the hood, calling `ActiveRecord::Base.connection.table_exists?('foo_')` runs the following SQL:\n\n```\nSHOW TABLES LIKE 'foo_'\n```\n\nwhich, thanks to MySQL's case-insensitive matching and `_` meaning \"match any single character`, successfully finds the`Foos` table.\n\nThe `LIKE` behavior was introduced in https://github.com/rails/rails/commit/38703ac8972c7e8f3f3f1ac95aa506cc4ae30ef0 back in 2011. My guess is that `LIKE` was used because `SHOW TABLES` doesn't have a particularly clean way to select an exact-match table. @jonleighton may remember more.\n\nI can think of two possibilities for fixing this:\n- escape `LIKE` metacharacters in the `tables` function. No idea if anybody's actually expecting to be able to pass them, though.\n- do a more-detailed query against `information_schema.tables`. This only works on MySQL 5.0 or higher, but I believe the API adapter gems also enforce this minimum version.\n\nI have a patch, but need to get it working with the existing AR tests etc.\n",
      "number": 17897,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/al2o3cr/subscriptions",
         "received_events_url": "https://api.github.com/users/al2o3cr/received_events",
         "url": "https://api.github.com/users/al2o3cr",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1191?v=4",
         "events_url": "https://api.github.com/users/al2o3cr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/al2o3cr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/al2o3cr/following{/other_user}",
         "repos_url": "https://api.github.com/users/al2o3cr/repos",
         "site_admin": false,
         "id": 1191,
         "organizations_url": "https://api.github.com/users/al2o3cr/orgs",
         "login": "al2o3cr",
         "gists_url": "https://api.github.com/users/al2o3cr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/al2o3cr/followers",
         "html_url": "https://github.com/al2o3cr"
      },
      "state": "closed",
      "closed_by": "18856",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17897",
      "updated_at": "2015-10-20T20:41:07Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17897/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 50857260,
      "closed_at": "2015-10-20T20:41:07Z",
      "created_at": "2014-12-03T16:12:59Z",
      "title": "table_exists? returns incorrect results on MySQL",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17897/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17897/comments",
      "html_url": "https://github.com/rails/rails/issues/17897"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Consider the following models:\n\n```\nclass Article < ActiveRecord::Base\n  has_many :by_lines, -> { order(:position) }\n  has_many :authors, through: :by_lines\nend\n\nclass ByLine < ActiveRecord::Base\n  belongs_to :author\n  belongs_to :article\nend\n\nclass Author < ActiveRecord::Base\n\nend\n```\n\nWhen lazy loading the `Article#authors` association the authors are returned in the same order as the corresponding by lines. When eager loading the association via an `includes` the authors are not returned in the same order as the corresponding by lines. This worked in Rails 3.2 and 4.0 but is broken in 4.1 and master.\n\nFull test case: https://gist.github.com/jturkel/12de74334c4d69216d5f\n",
      "number": 17864,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jturkel/subscriptions",
         "received_events_url": "https://api.github.com/users/jturkel/received_events",
         "url": "https://api.github.com/users/jturkel",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2598096?v=4",
         "events_url": "https://api.github.com/users/jturkel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jturkel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jturkel/following{/other_user}",
         "repos_url": "https://api.github.com/users/jturkel/repos",
         "site_admin": false,
         "id": 2598096,
         "organizations_url": "https://api.github.com/users/jturkel/orgs",
         "login": "jturkel",
         "gists_url": "https://api.github.com/users/jturkel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jturkel/followers",
         "html_url": "https://github.com/jturkel"
      },
      "state": "closed",
      "closed_by": "18766",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17864",
      "updated_at": "2016-02-29T18:22:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17864/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 50538521,
      "closed_at": "2016-02-29T18:22:16Z",
      "created_at": "2014-12-01T15:49:04Z",
      "title": "eager loading a has_many through association ignores order of through association",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17864/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17864/comments",
      "html_url": "https://github.com/rails/rails/issues/17864"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Our app has two databases, the second of which is shared with another app. My `database.yml` looks like this for the test environments:\n\n```\ntest:\n  adapter: postgresql\n  database: my-app-test\n  host: localhost\n  encoding: utf8\n  min_messages: WARNING\n\nshared_test:\n  adapter: postgresql\n  database: shared-test\n  host: localhost\n  encoding: utf8\n  min_messages: WARNING\n```\n\nModels that use the shared database inherit from this:\n\n```\nclass ServiceModel < ActiveRecord::Base\n  self.abstract_class = true\n  establish_connection :\"shared_#{Rails.env}\"\n\n  def readonly?\n    true if persisted?\n  end\n\n  def delete\n    raise ActiveRecord::ReadOnlyRecord\n  end\n\n  def destroy\n    raise ActiveRecord::ReadOnlyRecord\n  end\nend\n```\n\nWe run rspec with transactional fixtures but the rspec team states that this is [a wrapper around Rails configuration](https://github.com/rspec/rspec-rails/issues/1235#issuecomment-64489255):\n\n```\n  config.use_transactional_fixtures = true\n```\n\nWhen I run `rspec` under rails 3.2.19, everything runs fine and I can run the tests over and over and they continue to pass.\n\nWhen I run `rspec` under rails 4.1.8, they pass the first time, but running them again raises lots of `PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint` errors because the shared test database was not cleared out.\n\nI have inspected the logs from postgresql for both branches and have made [gists](https://gist.github.com/jeremywadsack/8f3e95f4e26194686d7e) available that show that ROLLBACK is being called for the shared database under rails 3 but not under rails 4. Specifically, [line 235 in the rails_3.2.19](https://gist.github.com/jeremywadsack/8f3e95f4e26194686d7e#file-rails_3-2-19-L235) it calls ROLLBACK on the shared database (there's a corresponding BEGIN at line 98). This is missing in the rails 4.1.8 version.\n",
      "number": 17776,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jeremywadsack/subscriptions",
         "received_events_url": "https://api.github.com/users/jeremywadsack/received_events",
         "url": "https://api.github.com/users/jeremywadsack",
         "avatar_url": "https://avatars2.githubusercontent.com/u/241324?v=4",
         "events_url": "https://api.github.com/users/jeremywadsack/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeremywadsack/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeremywadsack/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeremywadsack/repos",
         "site_admin": false,
         "id": 241324,
         "organizations_url": "https://api.github.com/users/jeremywadsack/orgs",
         "login": "jeremywadsack",
         "gists_url": "https://api.github.com/users/jeremywadsack/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeremywadsack/followers",
         "html_url": "https://github.com/jeremywadsack"
      },
      "state": "closed",
      "closed_by": "20818",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17776",
      "updated_at": "2016-12-14T16:13:11Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17776/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 29,
      "id": 50105891,
      "closed_at": "2016-09-08T00:00:51Z",
      "created_at": "2014-11-26T01:08:04Z",
      "title": "Rspec under rails 4.1.8 doesn't apply rollback transaction to secondary database",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17776/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17776/comments",
      "html_url": "https://github.com/rails/rails/issues/17776"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I noticed some unexpected behavior using rewhere / unscope today. If one calls rewhere/unscope on a relation which hasn't been executed / converted to sql yet, it changes the source relation. I created a dummy app to reproduce the problem: https://github.com/universal/unscopeTest.\n\nThe relevant unit test is the following:\n\n``` ruby\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  test \"unscope doesn't change source query\" do\n    a = User.where(email: \"foo\")\n    b = a.unscope(where: :email)\n    # this assertion fails\n    assert a.to_sql != b.to_sql, \"#{a.to_sql} should not be #{b.to_sql}\"\n  end\n\n  test \"unscope doesn't change executed source query\" do\n    a = User.where(email: \"foo\")\n    a.load\n    b = a.unscope(where: :email)\n    # this assertion works\n    assert a.to_sql != b.to_sql, \"#{a.to_sql} should not be #{b.to_sql}\"\n  end\n\n  test \"unscope doesn't change sql'ed source query\" do\n    a = User.where(email: \"foo\")\n    a.to_sql\n    b = a.unscope(where: :email)\n    # this assertion works\n    assert a.to_sql != b.to_sql, \"#{a.to_sql} should not be #{b.to_sql}\"\n  end\n\n  test \"where conditions are not shared\" do\n    a = User.where(email: \"name\")\n    b = a.unscope(where: :email)\n    # this assertion fails\n    assert a.where_values.object_id != b.where_values.object_id, \"where values of relations should not be shared\"\n  end\nend\n```\n\nThe behavior seems to occur at least in Rails 4.1.2 to 4.1.8. I haven't tested the 4.2.beta. \n",
      "number": 17738,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/universal/subscriptions",
         "received_events_url": "https://api.github.com/users/universal/received_events",
         "url": "https://api.github.com/users/universal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1049?v=4",
         "events_url": "https://api.github.com/users/universal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/universal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/universal/following{/other_user}",
         "repos_url": "https://api.github.com/users/universal/repos",
         "site_admin": false,
         "id": 1049,
         "organizations_url": "https://api.github.com/users/universal/orgs",
         "login": "universal",
         "gists_url": "https://api.github.com/users/universal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/universal/followers",
         "html_url": "https://github.com/universal"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17738",
      "updated_at": "2015-07-21T12:39:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17738/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 16,
      "id": 49878805,
      "closed_at": "2015-07-21T12:39:02Z",
      "created_at": "2014-11-24T11:16:50Z",
      "title": ".unscope modifies source relation if it hasn't been executed / sqled yet",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17738/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17738/comments",
      "html_url": "https://github.com/rails/rails/issues/17738"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If the `psql` command is missing, no errors are thrown when running db:test:prepare . The relevant lines from `activerecord/lib/active_record/tasks/postgresql_database_tasks.rb` are presented below:\n\n```\ndef structure_load(filename)\n    set_psql_env\n    Kernel.system(\"psql -q -f #{Shellwords.escape(filename)} #{configuration['database']}\")\nend\n```\n",
      "number": 17666,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/fgarces/subscriptions",
         "received_events_url": "https://api.github.com/users/fgarces/received_events",
         "url": "https://api.github.com/users/fgarces",
         "avatar_url": "https://avatars1.githubusercontent.com/u/7518506?v=4",
         "events_url": "https://api.github.com/users/fgarces/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fgarces/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fgarces/following{/other_user}",
         "repos_url": "https://api.github.com/users/fgarces/repos",
         "site_admin": false,
         "id": 7518506,
         "organizations_url": "https://api.github.com/users/fgarces/orgs",
         "login": "fgarces",
         "gists_url": "https://api.github.com/users/fgarces/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fgarces/followers",
         "html_url": "https://github.com/fgarces"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17666",
      "updated_at": "2015-12-19T12:07:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17666/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 14,
      "id": 49271237,
      "closed_at": "2015-12-19T12:07:56Z",
      "created_at": "2014-11-18T18:07:02Z",
      "title": "rake db:test:prepare fails silently if psql is missing",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17666/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17666/comments",
      "html_url": "https://github.com/rails/rails/issues/17666"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using STI in ActiveRecord 4, a superclass can declare a method that finds only a certain subclass. This normally works, but fails when `.includes` is used on the superclass before calling the method.\n\nFor example, the superclass `Automobile` declares a method that finds an instance of its `Truck` subclass:\n\n``` ruby\nclass Automobile < ActiveRecord::Base\n  has_many :tires\n  def self.find_truck(id)\n    Truck.find_by_id(id)\n  end\nend\n\nclass Truck < Automobile\nend\n\nclass Tire < ActiveRecord::Base\nend\n```\n\nFor normal queries, calling `Automobile.find_truck(1)` generates SQL that constrains the `type` to `\"Truck\"`:\n\n``` sql\nSELECT  \"automobiles\".* FROM \"automobiles\"  WHERE \"automobiles\".\"type\" IN ('Truck') AND \"automobiles\".\"id\" = 1 LIMIT 1\n```\n\nBut when an `includes()` is added, the type constraint is dropped:\n\n``` ruby\nAutomobile.includes(:tires).find_truck(1)\n```\n\n``` sql\nSELECT  \"automobiles\".* FROM \"automobiles\"  WHERE \"automobiles\".\"id\" = 1 LIMIT 1\n```\n\nIn ActiveRecord 3, the type constraint is not dropped when using `includes()`.\n\nA test case reproing the issue is available [as a gist](https://gist.github.com/MaxGabriel/8a73aece95d1c595811f).\n\nEdit: This appears to happen when using any chaining method, not just `includes()`. For example, `Automobile.where(:make => \"Toyota\").find_truck(1)` generates the following SQL:\n\n``` sql\nSELECT  \"automobiles\".* FROM \"automobiles\"  WHERE \"automobiles\".\"make\" = 'Toyota' AND \"automobiles\".\"id\" = 1 LIMIT 1\n```\n",
      "number": 17603,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/MaxGabriel/subscriptions",
         "received_events_url": "https://api.github.com/users/MaxGabriel/received_events",
         "url": "https://api.github.com/users/MaxGabriel",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1274145?v=4",
         "events_url": "https://api.github.com/users/MaxGabriel/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/MaxGabriel/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/MaxGabriel/following{/other_user}",
         "repos_url": "https://api.github.com/users/MaxGabriel/repos",
         "site_admin": false,
         "id": 1274145,
         "organizations_url": "https://api.github.com/users/MaxGabriel/orgs",
         "login": "MaxGabriel",
         "gists_url": "https://api.github.com/users/MaxGabriel/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/MaxGabriel/followers",
         "html_url": "https://github.com/MaxGabriel"
      },
      "state": "closed",
      "closed_by": "29199",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17603",
      "updated_at": "2017-11-05T23:29:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17603/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 48570540,
      "closed_at": "2017-11-05T23:29:41Z",
      "created_at": "2014-11-12T22:17:14Z",
      "title": "Using `.includes` (or other method chaining) removes Single Table Inheritance constraint",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17603/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17603/comments",
      "html_url": "https://github.com/rails/rails/issues/17603"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The Magadan time zone moved from GMT+12 to GMT+10 on October 26th, but this change is not reflected in ActiveSupport/tzinfo. We're getting a lot of errors from only Magadan time zone users (AmbiguousTime errors for 2014-10-26 midnight)\n",
      "number": 17395,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/niwen/subscriptions",
         "received_events_url": "https://api.github.com/users/niwen/received_events",
         "url": "https://api.github.com/users/niwen",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1320607?v=4",
         "events_url": "https://api.github.com/users/niwen/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/niwen/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/niwen/following{/other_user}",
         "repos_url": "https://api.github.com/users/niwen/repos",
         "site_admin": false,
         "id": 1320607,
         "organizations_url": "https://api.github.com/users/niwen/orgs",
         "login": "niwen",
         "gists_url": "https://api.github.com/users/niwen/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/niwen/followers",
         "html_url": "https://github.com/niwen"
      },
      "state": "closed",
      "closed_by": "31128",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17395",
      "updated_at": "2017-11-15T11:25:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17395/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 46820825,
      "closed_at": "2017-11-15T11:25:54Z",
      "created_at": "2014-10-25T19:18:23Z",
      "title": "Magadan Time Zone should be GMT+10",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17395/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17395/comments",
      "html_url": "https://github.com/rails/rails/issues/17395"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi, sorry for bad English.\n\nThe problem present in Rails master branch (it seems the problem exists for a long time). \nI found it after updating from Rails 4.1.5 \n\n```\n\u279c rails new zxcv\n```\n\n```\n\u279c cd zxcv\n```\n\n```\n\u279c ./bin/rails g scaffold aaa::bbb title:string\n```\n\n```\n\u279c  ./bin/rake db:migrate\n```\n\n```\n\u279c  ./bin/rake db:fixtures:load                 \nrake aborted!\nErrno::ENOENT: No such file or directory @ rb_sysopen - /home/woto/rails/zxcv/test/fixtures/bbbs.yml\n-e:1:in `<main>'\nTasks: TOP => db:fixtures:load\n(See full trace by running task with --trace)\n```\n\nI can't understand why Rails searches bbbs.yml by wrong path. \n\nBut tests are works\n\n```\n\u279c  ./bin/rake test            \nRun options: --seed 56631\n\n# Running:\n\n.......\n\nFinished in 1.024236s, 6.8344 runs/s, 12.6924 assertions/s.\n\n7 runs, 13 assertions, 0 failures, 0 errors, 0 skips\n```\n\nThanks\n",
      "number": 17237,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/woto/subscriptions",
         "received_events_url": "https://api.github.com/users/woto/received_events",
         "url": "https://api.github.com/users/woto",
         "avatar_url": "https://avatars0.githubusercontent.com/u/146704?v=4",
         "events_url": "https://api.github.com/users/woto/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/woto/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/woto/following{/other_user}",
         "repos_url": "https://api.github.com/users/woto/repos",
         "site_admin": false,
         "id": 146704,
         "organizations_url": "https://api.github.com/users/woto/orgs",
         "login": "woto",
         "gists_url": "https://api.github.com/users/woto/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/woto/followers",
         "html_url": "https://github.com/woto"
      },
      "state": "closed",
      "closed_by": "b958e0",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17237",
      "updated_at": "2014-11-03T00:01:39Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17237/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 45566689,
      "closed_at": "2014-11-03T00:01:29Z",
      "created_at": "2014-10-12T01:03:43Z",
      "title": "Nested fixtures are broken",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17237/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17237/comments",
      "html_url": "https://github.com/rails/rails/issues/17237"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Presume the use case of an app where friends recommend media to each other.\n\n``` ruby\n# app/models/recommendation.rb\n\nclass Recommendation < ActiveRecord::Base\n    belongs_to :from, class_name: 'User', foreign_key: 'from_id'\n    belongs_to :to, class_name: 'User', foreign_key: 'to_id'\n    belongs_to :media\n\n    accepts_nested_attributes_for :media\nend\n```\n\nIf an Angular `ngResource`/`$resource` query submits a JSON POST request equivalent to the traditional `x-www-form-urlencoded` payload, it will look like this*:\n\n``` javascript\n{\n  \"source_id\": \"1\",\n  \"target_id\": \"2\",\n  \"media_attributes\": {\n    \"name\": \"Harry Potter\",\n    \"media_type_id\": \"1\"\n  }\n}\n```\n\n\\* - I did have to manually change the `media` property to `media_attributes` before calling `$save()`.\n\nAccording to the documentation for [`ActionController::ParamsWrapper`](http://api.rubyonrails.org/classes/ActionController/ParamsWrapper.html):\n\n> On ActiveRecord models with no `:include` or `:exclude` option set, it will only wrap the parameters returned by the class method `attribute_names`.\n\nAs a result, the params as used by my `RecommendationsController` look like this:\n\n``` ruby\n{\n  \"source_id\" => \"1\",\n  \"target_id\" => \"2\",\n  \"media_attributes\" => {\n    \"name\" => \"Harry Potter\",\n    \"media_type_id\" => \"1\"\n  },\n  \"recommendation\" => {\n    \"source_id\" => \"1\",\n    \"target_id\" => \"2\",\n  }\n```\n\nThis is because [attribute_names](http://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/ClassMethods.html#method-i-attribute_names) simply returns a list of column names.\n\nThe current workaround, also documented by [this StackOverflow answer](http://stackoverflow.com/questions/19574595/rails-4-not-updating-nested-attributes-via-json), is to use the `wrap_parameters` class method to explicitly include the nested attribute key:\n\n``` ruby\n# app/controllers/recommendations_controller.rb\n\nclass RecommendationsController < ApplicationController\n    wrap_parameters include: [:source_id, :target_id, :media_attributes]\n\n    # ...\nend\n```\n\nHowever, I believe that default behavior goes against reasonable expectations.\n\nEither the code is wrong, or the first line of the `ParamsWrapper` docs is wrong:\n\n> Wraps the parameters hash into a nested hash. This will allow clients to submit POST requests without having to specify any root elements.\n\nIf the Rails team considers this behavior to be expected, then the docs should be updated to read (emphasis for visual diff purposes):\n\n> Wraps the **top-level keys** of the parameters hash into a nested hash. This will allow clients to submit POST requests **for non-nested model objects** without having to specify any root elements.\n\nI think a reasonable fix would be to create a new method to use instead of `attribute_names()` which returns the union of `attribute_names()` and the names of any keys used for accepting nested attributes.\n",
      "number": 17216,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": true,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mcantor/subscriptions",
         "received_events_url": "https://api.github.com/users/mcantor/received_events",
         "url": "https://api.github.com/users/mcantor",
         "avatar_url": "https://avatars0.githubusercontent.com/u/14329?v=4",
         "events_url": "https://api.github.com/users/mcantor/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mcantor/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mcantor/following{/other_user}",
         "repos_url": "https://api.github.com/users/mcantor/repos",
         "site_admin": false,
         "id": 14329,
         "organizations_url": "https://api.github.com/users/mcantor/orgs",
         "login": "mcantor",
         "gists_url": "https://api.github.com/users/mcantor/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mcantor/followers",
         "html_url": "https://github.com/mcantor"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17216",
      "updated_at": "2017-10-25T18:02:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17216/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 45278674,
      "closed_at": "2017-10-25T18:02:56Z",
      "created_at": "2014-10-08T18:27:18Z",
      "title": "Nested attributes should be included when wrapping parameters into root elements.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17216/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17216/comments",
      "html_url": "https://github.com/rails/rails/issues/17216"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello,\n\nI have the following model :\n\n``` ruby\nclass Post < ActiveRecord::Base\n\n  has_many :comments\n\n  after_create :set_first_comment_id\n\n  private\n\n  def set_first_comment_id\n    update_attribute(:first_comment_id, self.comments.first.id)\n  end\n\nend\n```\n\nand i'm using the following code to reproduce my bug :\n\n```\nruby\np = Post.new(:title => 'test')\np.comments.build(:content => 'test2')\np.save\n```\n\nwith Rails 4.1.6, `set_first_comment_id` is called after `comment` is saved and everything is fine for me. With rails 4.2.0.beta2, its called when `post` is saved (before `comment` is saved) and my callback is useless (because `self.comments.first` is empty).\n\nCan you please advice on this behavior ?\n\nRegards\n",
      "number": 17209,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/osaris/subscriptions",
         "received_events_url": "https://api.github.com/users/osaris/received_events",
         "url": "https://api.github.com/users/osaris",
         "avatar_url": "https://avatars1.githubusercontent.com/u/125797?v=4",
         "events_url": "https://api.github.com/users/osaris/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/osaris/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/osaris/following{/other_user}",
         "repos_url": "https://api.github.com/users/osaris/repos",
         "site_admin": false,
         "id": 125797,
         "organizations_url": "https://api.github.com/users/osaris/orgs",
         "login": "osaris",
         "gists_url": "https://api.github.com/users/osaris/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/osaris/followers",
         "html_url": "https://github.com/osaris"
      },
      "state": "closed",
      "closed_by": "17232",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17209",
      "updated_at": "2014-10-13T16:18:38Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/17209/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 10,
      "id": 45235475,
      "closed_at": "2014-10-13T16:18:38Z",
      "created_at": "2014-10-08T12:05:31Z",
      "title": "after_create on parent is called before associations are saved in rails 4.2.0.beta2",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17209/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17209/comments",
      "html_url": "https://github.com/rails/rails/issues/17209"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Related to issue #17170, the `test:prepare` task is somewhat useless now? It is called before test helpers `ActiveRecord::Migration.maintain_test_schema!` so if anyone had to run prepare hooks \"after\" the schema is loaded, where do they do this?\n",
      "number": 17171,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/senny/subscriptions",
            "received_events_url": "https://api.github.com/users/senny/received_events",
            "url": "https://api.github.com/users/senny",
            "avatar_url": "https://avatars2.githubusercontent.com/u/5402?v=4",
            "events_url": "https://api.github.com/users/senny/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/senny/following{/other_user}",
            "repos_url": "https://api.github.com/users/senny/repos",
            "site_admin": false,
            "id": 5402,
            "organizations_url": "https://api.github.com/users/senny/orgs",
            "login": "senny",
            "gists_url": "https://api.github.com/users/senny/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/senny/followers",
            "html_url": "https://github.com/senny"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/metaskills/subscriptions",
         "received_events_url": "https://api.github.com/users/metaskills/received_events",
         "url": "https://api.github.com/users/metaskills",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2381?v=4",
         "events_url": "https://api.github.com/users/metaskills/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/metaskills/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/metaskills/following{/other_user}",
         "repos_url": "https://api.github.com/users/metaskills/repos",
         "site_admin": false,
         "id": 2381,
         "organizations_url": "https://api.github.com/users/metaskills/orgs",
         "login": "metaskills",
         "gists_url": "https://api.github.com/users/metaskills/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/metaskills/followers",
         "html_url": "https://github.com/metaskills"
      },
      "state": "closed",
      "closed_by": "17739",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17171",
      "updated_at": "2014-11-25T18:08:43Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/17171/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/senny/subscriptions",
         "received_events_url": "https://api.github.com/users/senny/received_events",
         "url": "https://api.github.com/users/senny",
         "avatar_url": "https://avatars2.githubusercontent.com/u/5402?v=4",
         "events_url": "https://api.github.com/users/senny/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/senny/following{/other_user}",
         "repos_url": "https://api.github.com/users/senny/repos",
         "site_admin": false,
         "id": 5402,
         "organizations_url": "https://api.github.com/users/senny/orgs",
         "login": "senny",
         "gists_url": "https://api.github.com/users/senny/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/senny/followers",
         "html_url": "https://github.com/senny"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 14,
      "id": 44848863,
      "closed_at": "2014-11-25T18:08:43Z",
      "created_at": "2014-10-03T21:01:46Z",
      "title": "The `test:prepare` Task Might Be Useless Now?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17171/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17171/comments",
      "html_url": "https://github.com/rails/rails/issues/17171"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "For any row where the association is empty, when the eager loaded association is accessed, another unnecessary query is triggered, trying again to fetch a result. \n\nTest case: https://gist.github.com/agios/9fffc2cdaf7630f4eb68\n\nIf the association is changed to has_many and used in combination with .first then it works fine, however it becomes less intuitive.\n",
      "number": 17166,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/agios/subscriptions",
         "received_events_url": "https://api.github.com/users/agios/received_events",
         "url": "https://api.github.com/users/agios",
         "avatar_url": "https://avatars2.githubusercontent.com/u/758908?v=4",
         "events_url": "https://api.github.com/users/agios/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/agios/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/agios/following{/other_user}",
         "repos_url": "https://api.github.com/users/agios/repos",
         "site_admin": false,
         "id": 758908,
         "organizations_url": "https://api.github.com/users/agios/orgs",
         "login": "agios",
         "gists_url": "https://api.github.com/users/agios/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/agios/followers",
         "html_url": "https://github.com/agios"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17166",
      "updated_at": "2015-03-17T11:16:30Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17166/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 44816663,
      "closed_at": "2015-03-17T11:16:30Z",
      "created_at": "2014-10-03T15:47:54Z",
      "title": "eager_load on a scoped has_one association can trigger n queries",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17166/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17166/comments",
      "html_url": "https://github.com/rails/rails/issues/17166"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Foo.new should be consistent, prefereably by returning a Bar in both cases, never a Foo. \n\n``` ruby\nclass Foo < ActiveRecord::Base\n# add_column :foos, :type, :text, default: 'Bar'\nend\n\nclass Bar < Foo\nend\n\nFoo.new #=> #<Foo id:nil, type: 'Bar'>\nFoo.new(type: 'Bar') #=> #<Bar id:nil, type: 'Bar'>\n```\n\nNotice `type: 'Bar'` is properly set from the database default on Foo.new(), but it's _not_ used to type cast the value, and when new(type:'Bar') is passed as a param, it _is_ used to type cast the value.\n",
      "number": 17121,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/montanalow/subscriptions",
         "received_events_url": "https://api.github.com/users/montanalow/received_events",
         "url": "https://api.github.com/users/montanalow",
         "avatar_url": "https://avatars3.githubusercontent.com/u/276125?v=4",
         "events_url": "https://api.github.com/users/montanalow/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/montanalow/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/montanalow/following{/other_user}",
         "repos_url": "https://api.github.com/users/montanalow/repos",
         "site_admin": false,
         "id": 276125,
         "organizations_url": "https://api.github.com/users/montanalow/orgs",
         "login": "montanalow",
         "gists_url": "https://api.github.com/users/montanalow/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/montanalow/followers",
         "html_url": "https://github.com/montanalow"
      },
      "state": "closed",
      "closed_by": "17169",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17121",
      "updated_at": "2016-04-12T18:15:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17121/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 44494147,
      "closed_at": "2015-12-02T12:41:15Z",
      "created_at": "2014-09-30T20:10:55Z",
      "title": "Single table inheritance does not cast new instances to default type on initialize",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17121/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17121/comments",
      "html_url": "https://github.com/rails/rails/issues/17121"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Code looks basically like this:\n\n``` ruby\nclass BidTemplate < ActiveRecord::Base\nend\nclass Vendor < ActiveRecord::Base\n  has_and_belongs_to_many :bid_interests, class_name: 'BidTemplate'\nend\n```\n\nIt fails, saying `Vendor::BidInterest` does not exist.\n\nIf I change `Vendor` to use the `join_table` key as well, it works: \n\n``` ruby\nclass Vendor < ActiveRecord::Base\n  has_and_belongs_to_many :bid_interests, class_name: 'BidTemplate', join_table: \"bid_templates_vendors\"\nend\n```\n\nThis may have been introduced some time before Rails 4.2.betaX, as this app was previously running on version 3.2.x\n",
      "number": 17119,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/codeodor/subscriptions",
         "received_events_url": "https://api.github.com/users/codeodor/received_events",
         "url": "https://api.github.com/users/codeodor",
         "avatar_url": "https://avatars1.githubusercontent.com/u/23479?v=4",
         "events_url": "https://api.github.com/users/codeodor/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/codeodor/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/codeodor/following{/other_user}",
         "repos_url": "https://api.github.com/users/codeodor/repos",
         "site_admin": false,
         "id": 23479,
         "organizations_url": "https://api.github.com/users/codeodor/orgs",
         "login": "codeodor",
         "gists_url": "https://api.github.com/users/codeodor/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/codeodor/followers",
         "html_url": "https://github.com/codeodor"
      },
      "state": "closed",
      "closed_by": "43f56e",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17119",
      "updated_at": "2014-11-09T23:09:49Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/17119/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 15,
      "id": 44463272,
      "closed_at": "2014-11-09T23:09:49Z",
      "created_at": "2014-09-30T15:49:21Z",
      "title": "Rails 4.2.beta2 has_and_belongs_to_many with a non-standard name using :class_name fails in fixtures",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17119/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17119/comments",
      "html_url": "https://github.com/rails/rails/issues/17119"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Before:\n  Time.now.end_of_month.to_datetime != DateTime.now.end_of_month,\n\nAfter: \n  Time.now.end_of_month.to_datetime == DateTime.now.end_of_month\n\nThat's because of Time using sec_fractions for end_of_\\* methods, while DateTime's methods ignored sec_fractions (even though it's supported by the class). \n\nThis fixes https://github.com/rails/rails/pull/16955\n",
      "number": 17112,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sharnik/subscriptions",
         "received_events_url": "https://api.github.com/users/sharnik/received_events",
         "url": "https://api.github.com/users/sharnik",
         "avatar_url": "https://avatars2.githubusercontent.com/u/987?v=4",
         "events_url": "https://api.github.com/users/sharnik/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sharnik/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sharnik/following{/other_user}",
         "repos_url": "https://api.github.com/users/sharnik/repos",
         "site_admin": false,
         "id": 987,
         "organizations_url": "https://api.github.com/users/sharnik/orgs",
         "login": "sharnik",
         "gists_url": "https://api.github.com/users/sharnik/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sharnik/followers",
         "html_url": "https://github.com/sharnik"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17112",
      "updated_at": "2017-03-23T08:51:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17112/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 13,
      "id": 44424043,
      "closed_at": "2017-03-23T08:51:55Z",
      "created_at": "2014-09-30T10:47:42Z",
      "title": "Make Time and DateTime #end_of_* methods consistent",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17112/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17112/comments",
      "pull_request": {
         "patch_url": "https://github.com/rails/rails/pull/17112.patch",
         "url": "https://api.github.com/repos/rails/rails/pulls/17112",
         "diff_url": "https://github.com/rails/rails/pull/17112.diff",
         "html_url": "https://github.com/rails/rails/pull/17112"
      },
      "html_url": "https://github.com/rails/rails/pull/17112"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This may be an intentional or expected change in Rails 4.2, but I hadn't seen it mentioned anywhere, so am reporting it. \n\nIn Rails 4.1.6, at the point your `< Rails::Application` class is loaded, the ruby `$LOAD_PATH` has already been set to include the local application's `./lib` directory. \n\nIn Rails 4.2.0.beta2, it has not been. \n\nMy use case is that I have a custom LogFormatter in my application's `./lib`.  I want to set it in my `./config/application.rb`, using `config.log_formatter =`. \n\n``` ruby\n# ./config/application.rb\nrequire File.expand_path('../boot', __FILE__)\nrequire 'rails/all'\n\n# Require the gems listed in Gemfile, including any gems\n# you've limited to :test, :development, or :production.\nBundler.require(*Rails.groups)\n\nmodule MyApp\n  class Application < Rails::Application\n\n    require 'my_custom_log_formatter'\n    config.log_formatter = MyCustomLogFormatter.new\n\n    #.....\n  end\nend\n```\n\nWhere the log formatter lives in `./lib/my_custom_log_formatter.rb`. \n\nIn Rails 4.1.6, no problem. In Rails 4.2.0.beta2, `config/application.rb:12:in 'require': cannot load such file -- my_custom_log_formatter (LoadError)`\n\nExploring the `$LOAD_PATH` at this point in program execution, I confirm that in rails 4.1.6, the `$LOAD_PATH` included my application's local `./lib` at this point, in Rails 4.2.0.beta2 it does not. \n\nThere are a variety of workarounds, including adding it to the `$LOAD_PATH` myself, or setting the log_formatter at some other point in the startup process (but if you do it too late, I believe it has no effect, is why I was doing it in `./config/application.rb` after confirming that's not too late). \n\nReporting in case it's not intentional and is considered a regression. \n",
      "number": 17106,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jrochkind/subscriptions",
         "received_events_url": "https://api.github.com/users/jrochkind/received_events",
         "url": "https://api.github.com/users/jrochkind",
         "avatar_url": "https://avatars3.githubusercontent.com/u/149304?v=4",
         "events_url": "https://api.github.com/users/jrochkind/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jrochkind/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jrochkind/following{/other_user}",
         "repos_url": "https://api.github.com/users/jrochkind/repos",
         "site_admin": false,
         "id": 149304,
         "organizations_url": "https://api.github.com/users/jrochkind/orgs",
         "login": "jrochkind",
         "gists_url": "https://api.github.com/users/jrochkind/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jrochkind/followers",
         "html_url": "https://github.com/jrochkind"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17106",
      "updated_at": "2014-11-06T16:04:30Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/17106/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 18,
      "id": 44343835,
      "closed_at": "2014-11-04T23:02:45Z",
      "created_at": "2014-09-29T19:28:37Z",
      "title": "Rails 4.2.0.beta2 LOAD_PATH no longer includes lib in config/application.rb boot",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17106/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17106/comments",
      "html_url": "https://github.com/rails/rails/issues/17106"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActiveRecord uses 't' and 'f' constants when talking to SQLite columns for true and false, but it would probably be better if it used 1 and 0.\n\nSample data:\n\n```\nselect * from poicat;\n_id|major|poi__id|cat__id\n1|t|1|1\n```\n\nExample of poor incorrect results:\n\n```\nsqlite> update poicat set major = 'f';\nsqlite> select * from poicat where major;\nsqlite> select * from poicat where NOT major;\n_id|major|poi__id|cat__id\n1|f|1|1\nsqlite> update poicat set major = 't';\nsqlite> select * from poicat where major;\nsqlite> select * from poicat where NOT major;\n_id|major|poi__id|cat__id\n1|t|1|1\n```\n\nCorrect results using 0/1:\n\n```\nsqlite> update poicat set major = 0;\nsqlite> select * from poicat where major;\nsqlite> select * from poicat where NOT major;\n_id|major|poi__id|cat__id\n1|0|1|1\nsqlite> update poicat set major = 1;\nsqlite> select * from poicat where major;\n_id|major|poi__id|cat__id\n1|1|1|1\nsqlite> select * from poicat where NOT major;\n```\n\nInternally, SQLite prefers 0 and 1, e.g.:\n\n```\nsqlite> update poicat set major = 't';\nsqlite> update poicat set major = NOT major;\nsqlite> select * from poicat;\n_id|major|poi__id|cat__id\n1|1|1|1\nsqlite> update poicat set major = NOT major;\nsqlite> select * from poicat;\n_id|major|poi__id|cat__id\n1|0|1|1\n```\n\nFrom the above example, we can see that `NOT 't'` is `1` which is clearly illogical if we consider 't' and 'f' to be true and false constants.\n",
      "number": 17062,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ioquatix/subscriptions",
         "received_events_url": "https://api.github.com/users/ioquatix/received_events",
         "url": "https://api.github.com/users/ioquatix",
         "avatar_url": "https://avatars1.githubusercontent.com/u/30030?v=4",
         "events_url": "https://api.github.com/users/ioquatix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ioquatix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ioquatix/following{/other_user}",
         "repos_url": "https://api.github.com/users/ioquatix/repos",
         "site_admin": false,
         "id": 30030,
         "organizations_url": "https://api.github.com/users/ioquatix/orgs",
         "login": "ioquatix",
         "gists_url": "https://api.github.com/users/ioquatix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ioquatix/followers",
         "html_url": "https://github.com/ioquatix"
      },
      "state": "closed",
      "closed_by": "29699",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/17062",
      "updated_at": "2017-07-12T13:51:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17062/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 22,
      "id": 43984797,
      "closed_at": "2017-07-12T13:51:08Z",
      "created_at": "2014-09-26T00:50:20Z",
      "title": "SQLite3 true/false 't'/'f' isn't useful, should be 0/1.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17062/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17062/comments",
      "html_url": "https://github.com/rails/rails/issues/17062"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "A change between v4.1.1 and v4.1.2 causes a has_many through association to be inserted with a null primary_key when using the \"association_ids=\" setter. This only happens when accepts_nested_attributes_for is used (might have something to do with autosave callbacks).\n\nThis is a problem when the database uses \"null false\" restrictions on the primary_key. Is this expected behavior and if so is there a fix?\n# Models\n\n``` ruby\nclass Parent < ActiveRecord::Base\n  has_many :student_parents\n  has_many :students, through: :student_parents\nend\nclass StudentParent < ActiveRecord::Base\n  belongs_to :parent\n  belongs_to :student\nend\nclass Student < ActiveRecord::Base\n  has_many :student_parents\n  has_many :parents, through: :student_parents\n  accepts_nested_attributes_for :student_parents, allow_destroy: true\nend\n```\n# Queries\n\n``` ruby\n# v4.1.1\nStudent.create(parent_ids [1])\n  SQL (0.6ms)  INSERT INTO \"students\" (\"created_at\", \"updated_at\") VALUES (?, ?)  [[\"created_at\", \"2014-09-22 20:28:08.063974\"], [\"updated_at\", \"2014-09-22 20:28:08.063974\"]]\n  SQL (0.2ms)  INSERT INTO \"student_parents\" (\"created_at\", \"parent_id\", \"student_id\", \"updated_at\") VALUES (?, ?, ?, ?)  [[\"created_at\", \"2014-09-22 20:28:08.068030\"], [\"parent_id\", 1], [\"student_id\", 11], [\"updated_at\", \"2014-09-22 20:28:08.068030\"]]\n```\n\n``` ruby\n# v4.1.2\nStudent.create(parent_ids [1])\n  SQL (0.6ms)  INSERT INTO \"students\" (\"created_at\", \"updated_at\") VALUES (?, ?)  [[\"created_at\", \"2014-09-22 20:47:49.825984\"], [\"updated_at\", \"2014-09-22 20:47:49.825984\"]]\n  SQL (0.1ms)  INSERT INTO \"student_parents\" (\"created_at\", \"parent_id\", \"updated_at\") VALUES (?, ?, ?)  [[\"created_at\", \"2014-09-22 20:47:49.831091\"], [\"parent_id\", 1], [\"updated_at\", \"2014-09-22 20:47:49.831091\"]]\n  # non-null restriction error would trigger here since student_id is null\n  SQL (0.1ms)  UPDATE \"student_parents\" SET \"student_id\" = ?, \"updated_at\" = ? WHERE \"student_parents\".\"id\" = 1  [[\"student_id\", 12], [\"updated_at\", \"2014-09-22 20:47:49.832819\"]]\n```\n# Migration\n\n``` ruby\nclass CreateStudents < ActiveRecord::Migration\n  def change\n    create_table :students do |t|\n      t.timestamps\n    end\n  end\nend\nclass CreateParents < ActiveRecord::Migration\n  def change\n    create_table :parents do |t|\n      t.timestamps\n    end\n  end\nend\nclass CreateStudentParents < ActiveRecord::Migration\n  def change\n    create_table :student_parents do |t|\n      # uncommenting null: false will cause non-null restriction errors\n      t.belongs_to :student#, null: false\n      t.belongs_to :parent#, null: false\n      t.timestamps\n    end\n  end\nend\n```\n",
      "number": 17015,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/griffithchaffee/subscriptions",
         "received_events_url": "https://api.github.com/users/griffithchaffee/received_events",
         "url": "https://api.github.com/users/griffithchaffee",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1286451?v=4",
         "events_url": "https://api.github.com/users/griffithchaffee/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/griffithchaffee/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/griffithchaffee/following{/other_user}",
         "repos_url": "https://api.github.com/users/griffithchaffee/repos",
         "site_admin": false,
         "id": 1286451,
         "organizations_url": "https://api.github.com/users/griffithchaffee/orgs",
         "login": "griffithchaffee",
         "gists_url": "https://api.github.com/users/griffithchaffee/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/griffithchaffee/followers",
         "html_url": "https://github.com/griffithchaffee"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/17015",
      "updated_at": "2017-11-06T02:52:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/17015/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 43552336,
      "closed_at": "2017-11-06T02:52:10Z",
      "created_at": "2014-09-22T21:01:47Z",
      "title": "has_many through inserts null primary_key with accepts_nested_attributes_for",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/17015/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/17015/comments",
      "html_url": "https://github.com/rails/rails/issues/17015"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Example: https://gist.github.com/pvande/90ee91d4f09d0a125da2\n\nActiveRecord's default behavior around `.where.not(hash)` is to ensure that each key is appropriately filtered out from the query, with the effect being that the query is populated with `(key1 != value1) AND (key2 != value2)`.  In general, this feels like a fair implementation, despite not being a direct negation of `.where(hash)`.\n\nHowever, ActiveRecord also supports [filtering on a polymorphic association](http://guides.rubyonrails.org/active_record_querying.html#equality-conditions).  This works as expected, internally being expanded to a condition that verifies both the `relation_id` and the `relation_type`.  Negating one of these conditions, however, excludes rows that share a `relation_type` or a `relation_id`.\n",
      "number": 16983,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pvande/subscriptions",
         "received_events_url": "https://api.github.com/users/pvande/received_events",
         "url": "https://api.github.com/users/pvande",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2350?v=4",
         "events_url": "https://api.github.com/users/pvande/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pvande/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pvande/following{/other_user}",
         "repos_url": "https://api.github.com/users/pvande/repos",
         "site_admin": false,
         "id": 2350,
         "organizations_url": "https://api.github.com/users/pvande/orgs",
         "login": "pvande",
         "gists_url": "https://api.github.com/users/pvande/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pvande/followers",
         "html_url": "https://github.com/pvande"
      },
      "state": "closed",
      "closed_by": "9ba12f",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16983",
      "updated_at": "2017-08-17T22:31:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16983/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 9,
      "id": 43292669,
      "closed_at": "2017-08-17T22:31:17Z",
      "created_at": "2014-09-19T23:38:50Z",
      "title": "ActiveRecord's `.where.not()` improperly negates polymorphic associations",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16983/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16983/comments",
      "html_url": "https://github.com/rails/rails/issues/16983"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "queue_adapter is stored as a class variable. So when a child class overrides it, it also modifies the parent class as well. Therefore we cannot choose a different queue adapter at the job class level. Stuck with one global queue adapter until this is fixed. (Hopefully, being locked into one global queue adapter was not an intended feature)\n\n```\nActiveJob::Base.queue_adapter == :inline #true\nclass ChildJobOne < ActiveJob::Base\n  self.queue_adapter= :delayed_job\nend\n\nActive::Base.queue_adapter == :delayed_job #the child job modified the parent's queue_adapter class variable\n\nclass ChildJobTwo < ActiveJob::Base\nend\nChildJobTwo.queue_adapter == :delayed_job #new child job is also effected as well, no longer using the default :inline adapter\n```\n\nWe can fix this by avoid directly using the class variable, instead should use mattr_writer to update the queue_adapter variable.\nSee https://github.com/rails/rails/blob/master/activejob/lib/active_job/queue_adapter.rb#L12\n",
      "number": 16960,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/trungpham/subscriptions",
         "received_events_url": "https://api.github.com/users/trungpham/received_events",
         "url": "https://api.github.com/users/trungpham",
         "avatar_url": "https://avatars1.githubusercontent.com/u/149616?v=4",
         "events_url": "https://api.github.com/users/trungpham/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/trungpham/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/trungpham/following{/other_user}",
         "repos_url": "https://api.github.com/users/trungpham/repos",
         "site_admin": false,
         "id": 149616,
         "organizations_url": "https://api.github.com/users/trungpham/orgs",
         "login": "trungpham",
         "gists_url": "https://api.github.com/users/trungpham/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/trungpham/followers",
         "html_url": "https://github.com/trungpham"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16960",
      "updated_at": "2015-12-30T17:52:30Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16960/events",
      "assignee": null,
      "labels": [
         {
            "id": 123812746,
            "url": "https://api.github.com/repos/rails/rails/labels/activejob",
            "color": "5319e7",
            "default": false,
            "name": "activejob"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 43157812,
      "closed_at": "2015-03-12T07:26:01Z",
      "created_at": "2014-09-18T17:25:17Z",
      "title": "ActiveJob overriding queue_adapter in child class affect parent class",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16960/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16960/comments",
      "html_url": "https://github.com/rails/rails/issues/16960"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In Rails 4.1.6, when calling becomes! on an association, the single table inheritance column in the changed_attributes hash is nil instead of the previous value.\n\nI have a unit test below that tests 4 different scenarios. The last test is the one that is failing:\n\n```\nunless File.exist?('Gemfile')\n    File.write('Gemfile', <<-GEMFILE)\n    source 'https://rubygems.org'\n    gem 'rails', '~> 4.1.6'\n    gem 'sqlite3'\n    GEMFILE\n\n    system 'bundle'\nend\n\nrequire 'bundler'\nBundler.setup(:default)\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n    create_table :suppliers do |t|\n        t.string :name\n    end\n\n    create_table :accounts do |t|\n        t.string :type\n        t.belongs_to :supplier\n        t.string :account_number\n    end\nend\n\nclass Supplier < ActiveRecord::Base\n    has_one :account\nend\n\nclass Account < ActiveRecord::Base; end\nclass AccountA < Account; end\nclass AccountB < Account; end\n\nclass BugTest < Minitest::Test\n\n    def test_changing_type\n        account = AccountA.create!\n        new_account = account.becomes!(AccountB)\n\n        assert_equal 'AccountA', new_account.changed_attributes[:type]\n    end\n\n    def test_changing_type_with_reload\n        account = AccountA.create!\n        account.reload\n        new_account = account.becomes!(AccountB)\n\n        assert_equal 'AccountA', new_account.changed_attributes[:type]\n    end\n\n    def test_changing_type_through_association\n        supplier = Supplier.create!\n        supplier.account = AccountA.create!\n        new_account = supplier.account.becomes!(AccountB)\n\n        assert_equal 'AccountA', new_account.changed_attributes[:type]\n    end\n\n    def test_changing_type_through_association_with_reload\n        supplier = Supplier.create!\n        supplier.account = AccountA.create!\n        supplier.reload\n        new_account = supplier.account.becomes!(AccountB)\n\n        assert_equal 'AccountA', new_account.changed_attributes[:type]\n    end\n\nend\n```\n\nHas anyone else run into this?\n",
      "number": 16881,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jmirmina/subscriptions",
         "received_events_url": "https://api.github.com/users/jmirmina/received_events",
         "url": "https://api.github.com/users/jmirmina",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1580335?v=4",
         "events_url": "https://api.github.com/users/jmirmina/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jmirmina/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jmirmina/following{/other_user}",
         "repos_url": "https://api.github.com/users/jmirmina/repos",
         "site_admin": false,
         "id": 1580335,
         "organizations_url": "https://api.github.com/users/jmirmina/orgs",
         "login": "jmirmina",
         "gists_url": "https://api.github.com/users/jmirmina/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jmirmina/followers",
         "html_url": "https://github.com/jmirmina"
      },
      "state": "closed",
      "closed_by": "17139",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16881",
      "updated_at": "2015-02-20T17:02:41Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16881/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 42563261,
      "closed_at": "2015-02-20T17:02:41Z",
      "created_at": "2014-09-11T19:46:36Z",
      "title": "Using becomes! on an association does not properly set the changed_attribute for the STI column",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16881/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16881/comments",
      "html_url": "https://github.com/rails/rails/issues/16881"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using the ActiveRecord \"sum\" calculation with the Postgres adapter (and I believe the others though I haven't tested them), any attributes added in a \"distinct\" clause are not used to filter/trim the dataset.  Though \"DISTINCT\" is added to the SQL, it is incorrectly added _outside_ the SUM operation, which effectively ignores the relevant distinct attributes.\n\nThis seems to be directly related to issue https://github.com/rails/rails/issues/5554 and issue https://github.com/rails/rails/pull/6970.  Though the pull request related to those issues seemed to fix the undesirable behavior for the \"count\" ActiveRecord::Calculations.\n\nI've written a short example script to display this behavior (there's also some Rails setup code included so it could be run outside of a Rails project, like in an IRB console easily):\n\n```\nrequire 'active_record'\nrequire 'pg'\n\n\n####    SETUP MIGRATIONS/DATABASE (Moved out of canonical Rails structure and into one file for demonstration)    ####\nPG_SPEC = {\n    :adapter  => 'postgresql',\n    :host     => 'localhost',\n    :database => 'my_test_db',\n    :username => 'my_db_super_user',\n    :encoding => 'utf8'\n}\n\nActiveRecord::Base.establish_connection(PG_SPEC.merge('database' => 'postgres', 'schema_search_path' => 'public'))\nActiveRecord::Base.connection.drop_database PG_SPEC[:database] rescue nil\nActiveRecord::Base.connection.create_database(PG_SPEC[:database])\nActiveRecord::Base.establish_connection(PG_SPEC)\n\nclass CreateMyModels < ActiveRecord::Migration\n  def self.change\n    create_table :users do |t|\n      t.integer :summable_attr\n      t.timestamps\n    end\n\n    create_table :user_groups do |t|\n      t.integer :user_id\n      t.integer :group_id\n      t.timestamps\n    end\n\n    create_table :groups do |t|\n      t.timestamps\n      t.string :status\n    end\n  end\nend\n\nCreateMyModels.change\n\n####    SETUP ACTIVERECORD, POPULATE DATABASE, AND DEMONSTRATE ODD QUERY BEHAVIOR    ####\n\nclass User < ActiveRecord::Base\n  has_many :user_groups\n  has_many :groups, through: :user_groups\n\n  # Should only return users that are active\n  def self.all_active_users\n    User.joins(:user_groups).joins(:groups).distinct(true).where('groups.status' => 'active')\n  end\nend\n\nclass Group < ActiveRecord::Base\n  has_many :user_groups\n  has_many :users, through: :user_groups\nend\n\nclass UserGroup < ActiveRecord::Base\n  belongs_to :group\n  belongs_to :user\nend\n\ng1 = Group.create(status: 'active')\ng2 = Group.create(status: 'inactive')\n\nu1 = User.create(summable_attr: 1 )\nu2 = User.create(summable_attr: 2 )\nu3 = User.create(summable_attr: 3 )\nu4 = User.create(summable_attr: 4 )\n\nUserGroup.create(group_id: g1.id, user_id: u1.id)\nUserGroup.create(group_id: g1.id, user_id: u2.id)\nUserGroup.create(group_id: g1.id, user_id: u3.id)\nUserGroup.create(group_id: g1.id, user_id: u4.id)\n\n\nUserGroup.create(group_id: g2.id, user_id: u1.id)\nUserGroup.create(group_id: g2.id, user_id: u2.id)\nUserGroup.create(group_id: g2.id, user_id: u3.id)\nUserGroup.create(group_id: g2.id, user_id: u4.id)\n\n# Perform the sum using a Postgres AR query gives an incorrect result.\n# Outputs \"Total Sum: 20\"\n# Uses SQL: SELECT DISTINCT SUM(\"users\".\"summable_attr\") AS sum_id FROM \"users\" INNER JOIN \"user_groups\" ON \"user_groups\".\"user_id\" = \"users\".\"id\" INNER JOIN \"user_groups\" \"user_groups_users_join\" ON \"user_groups_users_join\".\"user_id\" = \"users\".\"id\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"user_groups_users_join\".\"group_id\" WHERE \"groups\".\"status\" = 'active'\nputs \"Total Sum: #{User.all_active_users.sum('summable_attr')}\"\n\n# The correct summation SQL should be something like:\n# Outputs \"Total Sum: 10\"\nputs \"Total Sum: #{ActiveRecord::Base.connection.execute(%q[SELECT DISTINCT SUM(DISTINCT \"users\".\"id\") FROM \"users\" INNER JOIN \"user_groups\" ON \"user_groups\".\"user_id\" = \"users\".\"id\" INNER JOIN \"user_groups\" \"user_groups_users_join\" ON \"user_groups_users_join\".\"user_id\" = \"users\".\"id\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"user_groups_users_join\".\"group_id\" WHERE \"groups\".\"status\" = 'active'])[0][\"sum\"]}\"\n\n# Perform the sum using a Ruby inject operator gives us the correct result (at quite a heavy performance/memory cost)\n# Outputs \"Total Sum: 10\"\n# Uses SQL: SELECT DISTINCT \"users\".* FROM \"users\" INNER JOIN \"user_groups\" ON \"user_groups\".\"user_id\" = \"users\".\"id\" INNER JOIN \"user_groups\" \"user_groups_users_join\" ON \"user_groups_users_join\".\"user_id\" = \"users\".\"id\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"user_groups_users_join\".\"group_id\" WHERE \"groups\".\"status\" = 'active'\nputs \"Total Sum: #{User.all_active_users.map {|u| u.summable_attr}.inject(:+)}\"\n\n# However, the \"count\" from ActiveRecord::Calculations seems to work correctly:\n# Outputs \"Total Count: 4\"\n# Uses SQL: SELECT DISTINCT COUNT(DISTINCT \"users\".\"id\") FROM \"users\" INNER JOIN \"user_groups\" ON \"user_groups\".\"user_id\" = \"users\".\"id\" INNER JOIN \"user_groups\" \"user_groups_users_join\" ON \"user_groups_users_join\".\"user_id\" = \"users\".\"id\" INNER JOIN \"groups\" ON \"groups\".\"id\" = \"user_groups_users_join\".\"group_id\" WHERE \"groups\".\"status\" = 'active'\nputs \"Total Count: #{User.all_active_users.count}\"\n\n```\n",
      "number": 16791,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/SimonKaluza/subscriptions",
         "received_events_url": "https://api.github.com/users/SimonKaluza/received_events",
         "url": "https://api.github.com/users/SimonKaluza",
         "avatar_url": "https://avatars1.githubusercontent.com/u/648386?v=4",
         "events_url": "https://api.github.com/users/SimonKaluza/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/SimonKaluza/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/SimonKaluza/following{/other_user}",
         "repos_url": "https://api.github.com/users/SimonKaluza/repos",
         "site_admin": false,
         "id": 648386,
         "organizations_url": "https://api.github.com/users/SimonKaluza/orgs",
         "login": "SimonKaluza",
         "gists_url": "https://api.github.com/users/SimonKaluza/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/SimonKaluza/followers",
         "html_url": "https://github.com/SimonKaluza"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16791",
      "updated_at": "2017-08-14T22:32:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16791/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 20,
      "id": 41826117,
      "closed_at": "2017-08-14T22:32:22Z",
      "created_at": "2014-09-03T15:00:27Z",
      "title": "ActiveRecord Sum (and other calculation operators) don't honor distinct attributes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16791/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16791/comments",
      "html_url": "https://github.com/rails/rails/issues/16791"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm seeing a bunch of errors in my test suite for this line of code:\n\n``` ruby\nclass DistrictCourse < ActiveRecord::Base\n  default_scope ->{includes([:state_course, :primary_subject_area, :district]).order('enabled desc, state_courses.name').references(:state_course) }\nend\n```\n\nThis is the error:\n\n```\nActiveRecord::StatementInvalid: Mysql2::Error: Unknown column 'state_courses.name' in 'order clause': SELECT  `district_courses`.* FROM `district_courses` WHERE `district_courses`.`id` = 980190962  ORDER BY enabled desc, state_courses.name LIMIT 1\n```\n\nI thought `references` was added specifically to make sure its argument's table would be included in the query?\n",
      "number": 16761,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/codeodor/subscriptions",
         "received_events_url": "https://api.github.com/users/codeodor/received_events",
         "url": "https://api.github.com/users/codeodor",
         "avatar_url": "https://avatars1.githubusercontent.com/u/23479?v=4",
         "events_url": "https://api.github.com/users/codeodor/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/codeodor/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/codeodor/following{/other_user}",
         "repos_url": "https://api.github.com/users/codeodor/repos",
         "site_admin": false,
         "id": 23479,
         "organizations_url": "https://api.github.com/users/codeodor/orgs",
         "login": "codeodor",
         "gists_url": "https://api.github.com/users/codeodor/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/codeodor/followers",
         "html_url": "https://github.com/codeodor"
      },
      "state": "closed",
      "closed_by": "16788",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/16761",
      "updated_at": "2014-09-05T00:24:34Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16761/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 125982751,
            "url": "https://api.github.com/repos/rails/rails/labels/release%20blocker",
            "color": "e11d21",
            "default": false,
            "name": "release blocker"
         }
      ],
      "comments": 15,
      "id": 41592489,
      "closed_at": "2014-09-05T00:24:34Z",
      "created_at": "2014-08-31T18:18:46Z",
      "title": "Rails 4.2.0.beta1: ActiveRecord references call in default_scope is ignored through associations",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16761/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16761/comments",
      "html_url": "https://github.com/rails/rails/issues/16761"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Suppose you have two routes:\n\n``` ruby\nresources :parent_resources do \n  resources :sometimes_child_resources\nend\n\nresources :sometimes_child_resources\n```\n\nFurthermore, suppose you have a view with this form:\n\n`<%= form_for([@parent_resource, @sometimes_child_resource]) ... %>`\n\nOne great thing _before_ Rails 4.2 was that this form worked with either of the routes. Now, it gives the error `Nil location provided. Can't build URI.` if `@parent_resource` is `nil`\n\nPrior to this, it fell back to the un-nested resource.\n\nIs there a proposed workaround, or is this a bug?\n\nA common use case: you have an app like where app admins can manage users who might be members of several accounts. But the account owners can also manage users under their own accounts. So it might look like:\n\n``` ruby\nresources :users # for app admins\nresources :accounts do\n  resources :users # for account admins\nend\n```\n\nFor what it's worth, I think the right thing to do is to actually check to see if it can build a URI with all of the elements in the array, not die on the first nil, since it definitely can still generate an appropriate route.\n",
      "number": 16754,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "url": "https://api.github.com/users/tenderlove",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "site_admin": true,
            "id": 3124,
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "login": "tenderlove",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "html_url": "https://github.com/tenderlove"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/codeodor/subscriptions",
         "received_events_url": "https://api.github.com/users/codeodor/received_events",
         "url": "https://api.github.com/users/codeodor",
         "avatar_url": "https://avatars1.githubusercontent.com/u/23479?v=4",
         "events_url": "https://api.github.com/users/codeodor/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/codeodor/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/codeodor/following{/other_user}",
         "repos_url": "https://api.github.com/users/codeodor/repos",
         "site_admin": false,
         "id": 23479,
         "organizations_url": "https://api.github.com/users/codeodor/orgs",
         "login": "codeodor",
         "gists_url": "https://api.github.com/users/codeodor/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/codeodor/followers",
         "html_url": "https://github.com/codeodor"
      },
      "state": "closed",
      "closed_by": "16755",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/16754",
      "updated_at": "2014-08-31T20:06:13Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16754/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
         "received_events_url": "https://api.github.com/users/tenderlove/received_events",
         "url": "https://api.github.com/users/tenderlove",
         "avatar_url": "https://avatars1.githubusercontent.com/u/3124?v=4",
         "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/tenderlove/repos",
         "site_admin": true,
         "id": 3124,
         "organizations_url": "https://api.github.com/users/tenderlove/orgs",
         "login": "tenderlove",
         "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/tenderlove/followers",
         "html_url": "https://github.com/tenderlove"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 41571855,
      "closed_at": "2014-08-31T20:06:13Z",
      "created_at": "2014-08-30T21:05:35Z",
      "title": "Rails 4.2.0.beta1: Nil location provided. Can't build URI.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16754/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16754/comments",
      "html_url": "https://github.com/rails/rails/issues/16754"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "[Chapter 4.1.2](http://edgeguides.rubyonrails.org/association_basics.html#options-for-belongs-to) of Active Record Associations documetation does not mention `:primary_key` option which however works as expected - giving the name of index column in the other table.\n",
      "number": 16694,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/gorn/subscriptions",
         "received_events_url": "https://api.github.com/users/gorn/received_events",
         "url": "https://api.github.com/users/gorn",
         "avatar_url": "https://avatars3.githubusercontent.com/u/19652?v=4",
         "events_url": "https://api.github.com/users/gorn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/gorn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/gorn/following{/other_user}",
         "repos_url": "https://api.github.com/users/gorn/repos",
         "site_admin": false,
         "id": 19652,
         "organizations_url": "https://api.github.com/users/gorn/orgs",
         "login": "gorn",
         "gists_url": "https://api.github.com/users/gorn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/gorn/followers",
         "html_url": "https://github.com/gorn"
      },
      "state": "closed",
      "closed_by": "16698",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16694",
      "updated_at": "2015-04-12T20:36:32Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16694/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 41106822,
      "closed_at": "2015-04-12T20:36:32Z",
      "created_at": "2014-08-25T21:03:37Z",
      "title": "Options for belongs_to does not contain primary_key in documentation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16694/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16694/comments",
      "html_url": "https://github.com/rails/rails/issues/16694"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I get this kind of code with rails 4.1.5\n\n Order.where(status: [['valid','pending']]). For some reason I get array of array\nBasically I have a frozen array of status ['valid','pending'], And I want to to\n\n```\nwhere(status: [STATUS_VALID, 'merged'])\n```\n\nIn Rails 4.1.5 the request was \n\n```\nSELECT `orders`.* FROM `orders`  WHERE `orders`.`status` IN ('valid', 'pending','merged'). \n```\n\nRequest with IN \n\nIn rails 4.2 we get \n\n```\nSELECT `orders`.* FROM `orders` WHERE `orders`.`status` IN ('---\\n- pay\u00e9\\n- pr\u00eate\\n- pr\u00eate_partiel\\n- expedi\u00e9\\n- expedi\u00e9_partiel\\n- livr\u00e9_partiel\\n- livr\u00e9\\n', 'merged')\n```\n",
      "number": 16580,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kaluznyo/subscriptions",
         "received_events_url": "https://api.github.com/users/kaluznyo/received_events",
         "url": "https://api.github.com/users/kaluznyo",
         "avatar_url": "https://avatars2.githubusercontent.com/u/372462?v=4",
         "events_url": "https://api.github.com/users/kaluznyo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kaluznyo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kaluznyo/following{/other_user}",
         "repos_url": "https://api.github.com/users/kaluznyo/repos",
         "site_admin": false,
         "id": 372462,
         "organizations_url": "https://api.github.com/users/kaluznyo/orgs",
         "login": "kaluznyo",
         "gists_url": "https://api.github.com/users/kaluznyo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kaluznyo/followers",
         "html_url": "https://github.com/kaluznyo"
      },
      "state": "closed",
      "closed_by": "16825",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16580",
      "updated_at": "2014-09-08T03:42:04Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16580/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 4,
      "id": 40682905,
      "closed_at": "2014-09-08T03:42:04Z",
      "created_at": "2014-08-20T10:31:42Z",
      "title": "[ActiveRecord] 'Where' bad escaping with array of array",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16580/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16580/comments",
      "html_url": "https://github.com/rails/rails/issues/16580"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This test fails on Rails master:\n\n``` ruby\nunless File.exist?('Gemfile')\n  File.write('Gemfile', <<-GEMFILE)\n    source 'https://rubygems.org'\n    gem 'rails', github: 'rails/rails'\n    gem 'arel', github: 'rails/arel'\n    gem 'rack', github: 'rack/rack'\n    gem 'i18n', github: 'svenfuchs/i18n'\n    gem 'sqlite3'\n  GEMFILE\n\n  system 'bundle'\nend\n\nrequire 'bundler'\nBundler.setup(:default)\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :advisors do |t|\n  end\n\n  create_table :countries do |t|\n    t.string :name\n  end\n\n  create_table :advisors_countries do |t|\n    t.integer :advisor_id\n    t.integer :country_id\n  end\nend\n\nclass Advisor < ActiveRecord::Base\n  has_many :advisors_countries\n  has_many :special_countries, through: :advisors_countries, source: :country\n  accepts_nested_attributes_for :advisors_countries\nend\n\nclass Country < ActiveRecord::Base\nend\n\nclass AdvisorsCountry < ActiveRecord::Base\n  belongs_to :advisor\n  belongs_to :country\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    alice = Advisor.new\n    uk = Country.create!(name: \"UK\")\n\n    alice.special_country_ids = [uk.id]\n\n    alice.save\n    alice.reload\n\n    assert_equal alice.advisors_countries.size, 1\n  end\nend\n```\n\nThe AdvisorsCountry object is saved as:\n\n``` ruby\n#<AdvisorsCountry id: 1, advisor_id: nil, country_id: 1>\n```\n\nthis is my Gemfile.lock:\n\n```\nGIT\n  remote: git://github.com/rack/rack.git\n  revision: 92811eec6e86cb4dba52b3969c4dd66e639df158\n  specs:\n    rack (1.6.0.alpha)\n\nGIT\n  remote: git://github.com/rails/arel.git\n  revision: 66cee768bc163537087037a583f60639eae49fc3\n  specs:\n    arel (6.0.0.20140505020427)\n\nGIT\n  remote: git://github.com/rails/rails.git\n  revision: 2ef0d3bea622ad8d61b2b2f47451ff0c9604637d\n  specs:\n    actionmailer (4.2.0.alpha)\n      actionpack (= 4.2.0.alpha)\n      actionview (= 4.2.0.alpha)\n      mail (~> 2.5, >= 2.5.4)\n    actionpack (4.2.0.alpha)\n      actionview (= 4.2.0.alpha)\n      activesupport (= 4.2.0.alpha)\n      rack (~> 1.6.0.alpha)\n      rack-test (~> 0.6.2)\n    actionview (4.2.0.alpha)\n      activesupport (= 4.2.0.alpha)\n      builder (~> 3.1)\n      erubis (~> 2.7.0)\n    activemodel (4.2.0.alpha)\n      activesupport (= 4.2.0.alpha)\n      builder (~> 3.1)\n    activerecord (4.2.0.alpha)\n      activemodel (= 4.2.0.alpha)\n      activesupport (= 4.2.0.alpha)\n      arel (~> 6.0.0)\n    activesupport (4.2.0.alpha)\n      i18n (>= 0.7.0.dev, < 0.8)\n      json (~> 1.7, >= 1.7.7)\n      minitest (~> 5.1)\n      thread_safe (~> 0.1)\n      tzinfo (~> 1.1)\n    rails (4.2.0.alpha)\n      actionmailer (= 4.2.0.alpha)\n      actionpack (= 4.2.0.alpha)\n      actionview (= 4.2.0.alpha)\n      activemodel (= 4.2.0.alpha)\n      activerecord (= 4.2.0.alpha)\n      activesupport (= 4.2.0.alpha)\n      bundler (>= 1.3.0, < 2.0)\n      railties (= 4.2.0.alpha)\n      sprockets-rails (~> 2.1)\n    railties (4.2.0.alpha)\n      actionpack (= 4.2.0.alpha)\n      activesupport (= 4.2.0.alpha)\n      rake (>= 0.8.7)\n      thor (>= 0.18.1, < 2.0)\n\nGIT\n  remote: git://github.com/svenfuchs/i18n.git\n  revision: cb679b8cdbab675703a3f88de4d48a48f7b50e06\n  specs:\n    i18n (0.7.0.dev)\n\nGEM\n  remote: https://rubygems.org/\n  specs:\n    builder (3.2.2)\n    erubis (2.7.0)\n    hike (1.2.3)\n    json (1.8.1)\n    mail (2.6.1)\n      mime-types (>= 1.16, < 3)\n    mime-types (2.3)\n    minitest (5.4.0)\n    multi_json (1.10.1)\n    rack-test (0.6.2)\n      rack (>= 1.0)\n    rake (10.3.2)\n    sprockets (2.12.1)\n      hike (~> 1.2)\n      multi_json (~> 1.0)\n      rack (~> 1.0)\n      tilt (~> 1.1, != 1.3.0)\n    sprockets-rails (2.1.3)\n      actionpack (>= 3.0)\n      activesupport (>= 3.0)\n      sprockets (~> 2.8)\n    sqlite3 (1.3.9)\n    thor (0.19.1)\n    thread_safe (0.3.4)\n    tilt (1.4.1)\n    tzinfo (1.2.2)\n      thread_safe (~> 0.1)\n\nPLATFORMS\n  ruby\n\nDEPENDENCIES\n  arel!\n  i18n!\n  rack!\n  rails!\n  sqlite3\n```\n",
      "number": 16494,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Arkham/subscriptions",
         "received_events_url": "https://api.github.com/users/Arkham/received_events",
         "url": "https://api.github.com/users/Arkham",
         "avatar_url": "https://avatars2.githubusercontent.com/u/62895?v=4",
         "events_url": "https://api.github.com/users/Arkham/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Arkham/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Arkham/following{/other_user}",
         "repos_url": "https://api.github.com/users/Arkham/repos",
         "site_admin": false,
         "id": 62895,
         "organizations_url": "https://api.github.com/users/Arkham/orgs",
         "login": "Arkham",
         "gists_url": "https://api.github.com/users/Arkham/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Arkham/followers",
         "html_url": "https://github.com/Arkham"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16494",
      "updated_at": "2017-01-30T17:31:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16494/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 40158428,
      "closed_at": "2017-01-30T17:31:20Z",
      "created_at": "2014-08-13T14:14:53Z",
      "title": "Issue with setting has_many :through and accepts_nested_attributes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16494/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16494/comments",
      "html_url": "https://github.com/rails/rails/issues/16494"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "For the last X years I've been using ActiveRecord in production and a constant issue is memory bloat due to inefficiently written queries which pull in tens or hundreds of thousands of records into memory.  This causes the Ruby VM to bloat up and need to be restarted to free up the RSS.\n\nI'd like to see a config option that I can set to print out a warning in the log if a larger result set is instantiated larger than what find_each does by default, e.g.:\n\n``` ruby\nconfig.active_record.warn_on_result_set_size = 1001\n```\n\nThis would be a **HUGE** help in finding these hidden pain points and remind the developer to tune the query.\n\n/cc @tenderlove \n",
      "number": 16463,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mperham/subscriptions",
         "received_events_url": "https://api.github.com/users/mperham/received_events",
         "url": "https://api.github.com/users/mperham",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2911?v=4",
         "events_url": "https://api.github.com/users/mperham/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mperham/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mperham/following{/other_user}",
         "repos_url": "https://api.github.com/users/mperham/repos",
         "site_admin": false,
         "id": 2911,
         "organizations_url": "https://api.github.com/users/mperham/orgs",
         "login": "mperham",
         "gists_url": "https://api.github.com/users/mperham/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mperham/followers",
         "html_url": "https://github.com/mperham"
      },
      "state": "closed",
      "closed_by": "18846",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/16463",
      "updated_at": "2015-12-30T17:52:30Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16463/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 39977571,
      "closed_at": "2015-03-26T20:21:36Z",
      "created_at": "2014-08-11T16:55:11Z",
      "title": "Option to have ActiveRecord warn on big result sets",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16463/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16463/comments",
      "html_url": "https://github.com/rails/rails/issues/16463"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`touch: true` does not work on polymorphic relations. The easiest way to demonstrate it is with optimistic locking. It also seems to be a good use case for the functionality:\n\n``` ruby\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'sqlite3'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection 'sqlite3::memory:'\n\nActiveRecord::Schema.define do\n  create_table :people do |t|\n    t.string :name\n    t.integer :lock_version, null: false, default: 0\n    t.timestamps\n  end\n\n  create_table :possessions do |t|\n    t.belongs_to :owner, polymorphic: true\n  end\nend\n\nclass Person < ActiveRecord::Base\n  has_many :possessions, as: :owner, dependent: :destroy\nend\n\nclass Possession < ActiveRecord::Base\n  belongs_to :owner, polymorphic: true, touch: true\nend\n\nclass BugTest < Minitest::Test\n  def test_locking_polymorphic_dependent_destroy_with_touch\n    person = Person.create!\n    person.possessions << Possession.create!\n\n    assert_equal 1, person.lock_version # Fails here: lock_version is 0\n\n    person.destroy # Would also fail here with ActiveRecord::StaleObjectError\n  end\n\n  def test_locking_polymorphic_dependent_destroy_with_touch_and_empty\n    person = Person.create!\n    person.possessions << Possession.create!\n    person.possessions = []\n\n    assert_equal 2, person.lock_version # Fails here: lock_version is 0\n\n    person.destroy # Would also fail here with ActiveRecord::StaleObjectError\n  end\nend\n```\n\nTested and reproduced in 4.1.4, 4.1.0 and 4.0.0.\n",
      "number": 16446,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/skanev/subscriptions",
         "received_events_url": "https://api.github.com/users/skanev/received_events",
         "url": "https://api.github.com/users/skanev",
         "avatar_url": "https://avatars1.githubusercontent.com/u/10382?v=4",
         "events_url": "https://api.github.com/users/skanev/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/skanev/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/skanev/following{/other_user}",
         "repos_url": "https://api.github.com/users/skanev/repos",
         "site_admin": false,
         "id": 10382,
         "organizations_url": "https://api.github.com/users/skanev/orgs",
         "login": "skanev",
         "gists_url": "https://api.github.com/users/skanev/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/skanev/followers",
         "html_url": "https://github.com/skanev"
      },
      "state": "closed",
      "closed_by": "28808",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/16446",
      "updated_at": "2017-11-06T02:25:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16446/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 39893732,
      "closed_at": "2017-11-06T02:25:05Z",
      "created_at": "2014-08-09T20:45:21Z",
      "title": "touch: true does not work with polymorphic associations",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16446/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16446/comments",
      "html_url": "https://github.com/rails/rails/issues/16446"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using counter_cache with Rails' polymorphic relationship, the `increment` part of the counter_cache does not work. Decrement, on the other hand, does work.\n\nExample:\n\n``` ruby\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'sqlite3'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection 'sqlite3::memory:'\n\nActiveRecord::Schema.define do\n  create_table(:upvotes) do |t|\n    t.integer :upvotable_id\n    t.string :upvotable_type\n  end\n\n  create_table(:comments) do |t|\n    t.integer :upvotes_count, default: 0\n  end\nend\n\nclass Upvote < ActiveRecord::Base\n  belongs_to :upvotable, counter_cache: true, polymorphic: true\nend\n\nclass Comment < ActiveRecord::Base\n  has_many :upvotes, as: :upvotable\nend\n\nclass BugTest < Minitest::Test\n  def test_counter_cache_increment\n    upvote = Upvote.create!\n    comment = Comment.create!\n\n    assert_equal 0, comment.reload.upvotes_count.to_i\n    comment.upvotes << upvote\n    assert_equal 1, comment.reload.upvotes_count # fails here\n  end\n\n  def test_counter_cache_decrement\n    comment = Comment.create!\n    comment.upvotes << Upvote.create!\n\n    comment.upvotes.first.destroy\n\n    assert_equal 0, comment.reload.upvotes_count # fails here\n  end\nend\n```\n",
      "number": 16407,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nneal/subscriptions",
         "received_events_url": "https://api.github.com/users/nneal/received_events",
         "url": "https://api.github.com/users/nneal",
         "avatar_url": "https://avatars0.githubusercontent.com/u/1542516?v=4",
         "events_url": "https://api.github.com/users/nneal/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nneal/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nneal/following{/other_user}",
         "repos_url": "https://api.github.com/users/nneal/repos",
         "site_admin": false,
         "id": 1542516,
         "organizations_url": "https://api.github.com/users/nneal/orgs",
         "login": "nneal",
         "gists_url": "https://api.github.com/users/nneal/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nneal/followers",
         "html_url": "https://github.com/nneal"
      },
      "state": "closed",
      "closed_by": "1235",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16407",
      "updated_at": "2017-01-09T21:11:15Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16407/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 16,
      "id": 39554515,
      "closed_at": "2015-07-19T21:55:48Z",
      "created_at": "2014-08-05T19:19:17Z",
      "title": "Bug: Counter cache not working for polymorphic relationship",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16407/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16407/comments",
      "html_url": "https://github.com/rails/rails/issues/16407"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "We use the old way to deliver mobile-specific content via `:format`, that is, we have `template.html.slim` and `template.mobile.slim`. We also want to persist format in URL, so a mobile user will see an `/items/10.mobile` URL instead of `/items/10`.\n\nIn Rails 3.X we could achieve this by overriding `default_url_options`, however, this is no longer work (see test example below).\n\nI've tracked the problem down to https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/routing/route_set.rb#L260. If I extract `:format` from `@segment_keys`, then `url_for` won't receive a hash, which would otherwise include `format: nil`.\n\n``` ruby\n#gem 'rails', '3.2.18' # OK\ngem 'rails', '4.0.8' # FAIL\n#gem 'rails', '4.1.4' # FAIL\n\n# FAIL\n#unless File.exist?('Gemfile')\n  #File.write('Gemfile', <<-GEMFILE)\n    #source 'https://rubygems.org'\n    #gem 'rails', github: 'rails/rails'\n    #gem 'arel', github: 'rails/arel'\n    #gem 'rack', github: 'rack/rack'\n    #gem 'i18n', github: 'svenfuchs/i18n'\n  #GEMFILE\n\n  #system 'bundle'\n#end\n\n#require 'bundler'\n#Bundler.setup(:default)\n\nrequire 'rails'\nrequire 'action_controller/railtie'\n\nclass TestApp < Rails::Application\n  config.root = File.dirname(__FILE__)\n  config.session_store :cookie_store, key: 'cookie_store_key'\n  config.secret_token    = 'secret_token' * 30\n  config.secret_key_base = 'secret_key_base'\n\n  config.logger = Logger.new($stdout)\n  Rails.logger  = config.logger\n\n  routes.draw do\n    get '/' => 'test#index'\n    resources :cars\n  end\nend\n\nCar = Struct.new(:to_param)\n\nclass TestController < ActionController::Base\n  include Rails.application.routes.url_helpers\n\n  def default_url_options(options = {})\n    options[:format] = params[:format] if params[:format].present?\n    options\n  end\n\n  def index\n    render inline: <<-VIEW\n      <%= link_to \"hello\", car_path(Car.new(3)) %>\n    VIEW\n  end\nend\n\nrequire 'minitest/autorun'\nrequire 'rack/test'\n\n# Ensure backward compatibility with Minitest 4\nMinitest::Test = MiniTest::Unit::TestCase unless defined?(Minitest::Test)\n\nclass BugTest < Minitest::Test\n  include Rack::Test::Methods\n\n  def test_persists_format\n    get '/', format: \"mobile\"\n    assert_equal '<a href=\"/cars/3.mobile\">hello</a>', last_response.body.strip\n  end\n\n  private\n    def app\n      Rails.application\n    end\nend\n\n```\n",
      "number": 16358,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nashbridges/subscriptions",
         "received_events_url": "https://api.github.com/users/nashbridges/received_events",
         "url": "https://api.github.com/users/nashbridges",
         "avatar_url": "https://avatars2.githubusercontent.com/u/380913?v=4",
         "events_url": "https://api.github.com/users/nashbridges/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nashbridges/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nashbridges/following{/other_user}",
         "repos_url": "https://api.github.com/users/nashbridges/repos",
         "site_admin": false,
         "id": 380913,
         "organizations_url": "https://api.github.com/users/nashbridges/orgs",
         "login": "nashbridges",
         "gists_url": "https://api.github.com/users/nashbridges/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nashbridges/followers",
         "html_url": "https://github.com/nashbridges"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16358",
      "updated_at": "2015-01-29T12:52:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16358/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 39180596,
      "closed_at": "2015-01-29T12:52:18Z",
      "created_at": "2014-07-31T10:11:53Z",
      "title": "Can't set format in default_url_options",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16358/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16358/comments",
      "html_url": "https://github.com/rails/rails/issues/16358"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "For example we have following models:\n\n```\nclass Transaction < ActiveRecord::Base\n  enum system: [:cash, :credit_card, :paypal]\nend\nclass Admin::Transaction < Transaction\nend\n```\n\nThen in Rails 4.1.4:\n\n```\nLoading development environment (Rails 4.1.4)\nirb(main):001:0> Transaction.first.system\n  Transaction Load (0.2ms)  SELECT  \"transactions\".* FROM \"transactions\"   ORDER BY \"transactions\".\"id\" ASC LIMIT 1\n=> \"paypal\"\nirb(main):002:0> Admin::Transaction.first.system\n  Admin::Transaction Load (0.7ms)  SELECT  \"transactions\".* FROM \"transactions\"   ORDER BY \"transactions\".\"id\" ASC LIMIT 1\n=> 2\n```\n\nIn Rails 4.1.0:\n\n```\nLoading development environment (Rails 4.1.0)\nirb(main):001:0> t = Admin::Transaction.last\n  Admin::Transaction Load (20.4ms)  SELECT  `transactions`.* FROM `transactions`   ORDER BY `transactions`.`id` DESC LIMIT 1\n=> #<Admin::Transaction id: 2, system: 2, amount: #<BigDecimal:7fbf64732e38,'0.12E3',9(18)>, created_at: \"2014-07-25 09:56:23\", updated_at: \"2014-07-25 10:01:08\">\nirb(main):002:0> t.system\n=> \"paypal\"\nirb(main):003:0> t.amount\n=> #<BigDecimal:7fbf64732e38,'0.12E3',9(18)>\nirb(main):004:0> t.system\n=> 2\nirb(main):005:0> t.system_before_type_cast\n=> \"paypal\"\n```\n\nMethod `system` later on returns fixnums after calling some other method, but previously it was a string. There was a bug? Still in Rails 4.1.4 enum works not as expected with namespaced models. In addition _before_type_cast in both cases always returns string value. All this is very confusing.\n",
      "number": 16288,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/yondermon/subscriptions",
         "received_events_url": "https://api.github.com/users/yondermon/received_events",
         "url": "https://api.github.com/users/yondermon",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1911907?v=4",
         "events_url": "https://api.github.com/users/yondermon/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/yondermon/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/yondermon/following{/other_user}",
         "repos_url": "https://api.github.com/users/yondermon/repos",
         "site_admin": false,
         "id": 1911907,
         "organizations_url": "https://api.github.com/users/yondermon/orgs",
         "login": "yondermon",
         "gists_url": "https://api.github.com/users/yondermon/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/yondermon/followers",
         "html_url": "https://github.com/yondermon"
      },
      "state": "closed",
      "closed_by": "16458",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/16288",
      "updated_at": "2014-09-04T07:59:30Z",
      "milestone": {
         "closed_at": "2014-11-19T19:54:01Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/33",
         "description": "",
         "updated_at": "2014-11-20T21:10:06Z",
         "number": 33,
         "due_on": null,
         "id": 665168,
         "open_issues": 0,
         "closed_issues": 44,
         "created_at": "2014-05-20T23:54:31Z",
         "title": "4.1.8",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/33/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/33",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/16288/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126788695,
            "url": "https://api.github.com/repos/rails/rails/labels/enum",
            "color": "d4c5f9",
            "default": false,
            "name": "enum"
         }
      ],
      "comments": 9,
      "id": 38725510,
      "closed_at": "2014-08-17T19:00:14Z",
      "created_at": "2014-07-25T12:40:13Z",
      "title": "Unexpected behavior of AR::Enum with inherited models",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16288/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16288/comments",
      "html_url": "https://github.com/rails/rails/issues/16288"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "However, loading them without eager load returns all of them.\nIt was working on rails 4.0\n\nHere is a gist testing the issue: https://gist.github.com/scambra/59ee7c8db81c2bf87d09\nIf I try with active_record 4.0.6 it works.\n",
      "number": 16032,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/scambra/subscriptions",
         "received_events_url": "https://api.github.com/users/scambra/received_events",
         "url": "https://api.github.com/users/scambra",
         "avatar_url": "https://avatars2.githubusercontent.com/u/20515?v=4",
         "events_url": "https://api.github.com/users/scambra/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/scambra/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/scambra/following{/other_user}",
         "repos_url": "https://api.github.com/users/scambra/repos",
         "site_admin": false,
         "id": 20515,
         "organizations_url": "https://api.github.com/users/scambra/orgs",
         "login": "scambra",
         "gists_url": "https://api.github.com/users/scambra/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/scambra/followers",
         "html_url": "https://github.com/scambra"
      },
      "state": "closed",
      "closed_by": "18383",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/16032",
      "updated_at": "2015-10-28T00:08:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/16032/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 9,
      "id": 37075029,
      "closed_at": "2015-10-28T00:08:21Z",
      "created_at": "2014-07-03T12:23:29Z",
      "title": "Eager loading of habtm returns only one record (regression on rails 4.1)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/16032/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/16032/comments",
      "html_url": "https://github.com/rails/rails/issues/16032"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/date_time/conversions.rb#L74-L78\n\nThe current implementation of to_f seems meaningless since it's equal to `#to_i` except the trailing `.0`. I would much prefer a `#to_f` method to preserve the fractional seconds. My own workaround right now is to use `#to_time` to convert it to a Time object.\n\n<pre>\n2.1.2 :002 > d = DateTime.now\n => Mon, 30 Jun 2014 14:57:25 -0700\n2.1.2 :003 > d.to_f\n => 1404165445.0\n2.1.2 :004 > d.to_time.to_f\n => 1404165445.1708102\n</pre>\n",
      "number": 15994,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/xjlu/subscriptions",
         "received_events_url": "https://api.github.com/users/xjlu/received_events",
         "url": "https://api.github.com/users/xjlu",
         "avatar_url": "https://avatars0.githubusercontent.com/u/359310?v=4",
         "events_url": "https://api.github.com/users/xjlu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/xjlu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/xjlu/following{/other_user}",
         "repos_url": "https://api.github.com/users/xjlu/repos",
         "site_admin": false,
         "id": 359310,
         "organizations_url": "https://api.github.com/users/xjlu/orgs",
         "login": "xjlu",
         "gists_url": "https://api.github.com/users/xjlu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/xjlu/followers",
         "html_url": "https://github.com/xjlu"
      },
      "state": "closed",
      "closed_by": "75992b",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/15994",
      "updated_at": "2014-07-02T22:05:07Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15994/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 36844362,
      "closed_at": "2014-07-02T22:05:07Z",
      "created_at": "2014-06-30T22:19:17Z",
      "title": "ActiveSupport's extension to DateTime: #to_f loses fractional seconds",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15994/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15994/comments",
      "html_url": "https://github.com/rails/rails/issues/15994"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When renaming an index against MariaDB 10.x, `ActiveRecord:: ConnectionAdapters::AbstractMysqlAdapter` misidentifies MariaDB 10.x as MySQL 5.7+ and thus tries to use the new `ALTER TABLE RENAME INDEX` syntax to perform the operation:\n\n``` ruby\ndef rename_index(table_name, old_name, new_name)\n  if (version[0] == 5 && version[1] >= 7) || version[0] >= 6\n    execute \"ALTER TABLE #{quote_table_name(table_name)} RENAME INDEX #{quote_table_name(old_name)} TO #{quote_table_name(new_name)}\"\n  else\n    super\n  end\nend\n```\n\n[source](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L475)\n\nMariaDB 10.x does not support this syntax so this results in an `ActiveRecord::StatementInvalid` exception:\n\n```\nActiveRecord::StatementInvalid: Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'INDEX `comments_post_index` TO `comments_post_id_index`' at line 1: ALTER TABLE `comments` RENAME INDEX `comments_post_index` TO `comments_post_id_index`\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:303:in `query'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:303:in `block in execute'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract_adapter.rb:373:in `block in log'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activesupport-4.1.2/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract_adapter.rb:367:in `log'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:303:in `execute'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/mysql2_adapter.rb:228:in `execute'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract_mysql_adapter.rb:493:in `rename_index'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract/schema_definitions.rb:391:in `rename_index'\n    bug_test.rb:29:in `block in change'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/connection_adapters/abstract/schema_statements.rb:349:in `change_table'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/migration.rb:649:in `block in method_missing'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/migration.rb:621:in `block in say_with_time'\n    /Users/jeff/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/benchmark.rb:279:in `measure'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/migration.rb:621:in `say_with_time'\n    /Users/jeff/.rvm/gems/ruby-2.1.1@rails/gems/activerecord-4.1.2/lib/active_record/migration.rb:641:in `method_missing'\n    bug_test.rb:28:in `change'\n    bug_test.rb:40:in `test_rename_index'\n```\n\n[This gist](https://gist.github.com/jbrowning/4a20f1db010e42c3cafe) demonstrates a failing test.\n",
      "number": 15931,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jbrowning/subscriptions",
         "received_events_url": "https://api.github.com/users/jbrowning/received_events",
         "url": "https://api.github.com/users/jbrowning",
         "avatar_url": "https://avatars1.githubusercontent.com/u/123726?v=4",
         "events_url": "https://api.github.com/users/jbrowning/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jbrowning/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jbrowning/following{/other_user}",
         "repos_url": "https://api.github.com/users/jbrowning/repos",
         "site_admin": false,
         "id": 123726,
         "organizations_url": "https://api.github.com/users/jbrowning/orgs",
         "login": "jbrowning",
         "gists_url": "https://api.github.com/users/jbrowning/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jbrowning/followers",
         "html_url": "https://github.com/jbrowning"
      },
      "state": "closed",
      "closed_by": "133818",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/15931",
      "updated_at": "2014-07-15T15:47:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15931/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 36631017,
      "closed_at": "2014-07-15T15:47:13Z",
      "created_at": "2014-06-27T02:17:13Z",
      "title": "Active Record misidentifies MariaDB 10.x as MySQL 5.7+ when renaming an index",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15931/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15931/comments",
      "html_url": "https://github.com/rails/rails/issues/15931"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It is preventing integration testing in test-unit of my **Grape** app mounted in my Rails 4.1.1 routes.rb file.\n\nHere's a simplified example: https://github.com/pboling/x-cascade_header_rails/tree/e34a94ba76f9350aed13486f282e99a98e2d9821\n\n(Never mind the name of the repo... I was trying to understand the X-Cascade Header.)\n\nRepro after checking out the repo, bundle install, rake db:migrate:\n\n```\nbin/rake test\n...\n  1) Failure:\nXCascadeGrapeTest#test_/api/auth/login_invalid_credentials_is_401 [/Users/pboling/Documents/src/my/x-cascade_header_rails/test/integration/x_cascade_grape_test.rb:10]:\n{\"error\":\"undefined method `each' for #\\u003cActionDispatch::Request::Session:0x103aebb00 not yet loaded\\u003e\"}.\nExpected: 401\n  Actual: 500\n```\n1. Here's another of the **exact** same error from **Sinatra** mounted in rails:\n   https://gist.github.com/toolmantim/9597022\n2. Here is another report of the same error from a Grape app mounted in Rails 4.0.2:\n   http://stackoverflow.com/questions/22439361/rspec-testing-api-with-rack-protection\n",
      "number": 15843,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pboling/subscriptions",
         "received_events_url": "https://api.github.com/users/pboling/received_events",
         "url": "https://api.github.com/users/pboling",
         "avatar_url": "https://avatars1.githubusercontent.com/u/19505?v=4",
         "events_url": "https://api.github.com/users/pboling/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pboling/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pboling/following{/other_user}",
         "repos_url": "https://api.github.com/users/pboling/repos",
         "site_admin": false,
         "id": 19505,
         "organizations_url": "https://api.github.com/users/pboling/orgs",
         "login": "pboling",
         "gists_url": "https://api.github.com/users/pboling/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pboling/followers",
         "html_url": "https://github.com/pboling"
      },
      "state": "closed",
      "closed_by": "24820",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/15843",
      "updated_at": "2016-05-04T20:45:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15843/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 17,
      "id": 36218504,
      "closed_at": "2016-05-04T20:45:26Z",
      "created_at": "2014-06-21T07:11:39Z",
      "title": "Incompatibility between Rack::Session and ActionDispatch::Request::Session",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15843/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15843/comments",
      "html_url": "https://github.com/rails/rails/issues/15843"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In ActiveRecord 3.2.18 you can make a call like\n\n``` ruby\nPost.find_by_id!(99999)\n```\n\nand that will throw and ActiveRecord::RecordNotFound exception\nwith a message of \"Couldn't find Post with id = 99999\"\n\nThis is similar to Post.find(99999)\n\nBut in ActiveRecord 4+ and even in ActiveRecord 3.2.18\nsimilar raising calls like\n\n``` ruby\nPost.find_by!(id: 99999)\nPost.where(id: 99999).first!\nPost.where(id: 99999).take!\nPost.where(id: 99999).last!\n```\n\nwill raise an ActiveRecord::RecordNotFound exception whose message is\nActiveRecord::RecordNotFound.  This doesn't provide any information\nabout which Model couldn't be found nor which query it came from.\n\nProviding the query in the exception message might be too much\ninformation.  If someone directly shows this error to web browsers of the\nRails app then it might reveal column names and other information that\nyou might not want to show the general public.\n\nIf this is a problem, then I feel we should at least still show the\nmodel name.\n\nclass name and the query that isn't found.\n\n``` ruby\nraise RecordNotFound.new(\"Couldn't find #{@klass.name} with [#{arel.where_sql}]\")\n```\n\nvs\nJust the class name\n\n``` ruby\nraise RecordNotFound.new(\"Couldn't find #{@klass.name}\")\n```\n\nGist of the ActiveRecord versions from 3.2 to master reproducing the error message:\n\nhttps://gist.github.com/zev/68cba11aa3f81bbb6875\n",
      "number": 15792,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/zev/subscriptions",
         "received_events_url": "https://api.github.com/users/zev/received_events",
         "url": "https://api.github.com/users/zev",
         "avatar_url": "https://avatars1.githubusercontent.com/u/16501?v=4",
         "events_url": "https://api.github.com/users/zev/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/zev/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/zev/following{/other_user}",
         "repos_url": "https://api.github.com/users/zev/repos",
         "site_admin": false,
         "id": 16501,
         "organizations_url": "https://api.github.com/users/zev/orgs",
         "login": "zev",
         "gists_url": "https://api.github.com/users/zev/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/zev/followers",
         "html_url": "https://github.com/zev"
      },
      "state": "closed",
      "closed_by": "15791",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/15792",
      "updated_at": "2015-01-03T14:15:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15792/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 35951421,
      "closed_at": "2014-12-26T13:08:22Z",
      "created_at": "2014-06-18T03:16:11Z",
      "title": "ActiveRecord find/where bang methods raise an ActiveRecord::RecordNotFound exception without a descriptive message.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15792/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15792/comments",
      "html_url": "https://github.com/rails/rails/issues/15792"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I found that some requests in our application started timing out after upgrading to Rails 4.1.1. It turns out this was because preloading HABTM queries is extremely slow for some reason. I created a minimal benchmark based on the ActiveRecord bug template to demonstrate the issue: https://gist.github.com/vikhyat/768c4fe883de83a799a4\n\nThese are the results of the benchmark:\n\n```\n       user     system      total        real\nPreload: 20  0.060000   0.000000   0.060000 (  0.063410)\nPreload: 40  0.200000   0.000000   0.200000 (  0.198193)\nPreload: 60  0.420000   0.000000   0.420000 (  0.424104)\nPreload: 80  0.710000   0.000000   0.710000 (  0.705614)\nPreload: 100  1.100000   0.000000   1.100000 (  1.101897)\nPreload: 120  1.580000   0.000000   1.580000 (  1.576200)\nPreload: 140  2.140000   0.000000   2.140000 (  2.142106)\nPreload: 160  2.790000   0.000000   2.790000 (  2.794206)\nPreload: 180  3.530000   0.000000   3.530000 (  3.526480)\nPreload: 200  4.330000   0.000000   4.330000 (  4.336192)\nPreload: 220  5.290000   0.010000   5.300000 (  5.292490)\nPreload: 240  6.280000   0.000000   6.280000 (  6.276606)\nPreload: 260  7.300000   0.000000   7.300000 (  7.301626)\nPreload: 280  8.590000   0.000000   8.590000 (  8.589534)\nPreload: 300  9.690000   0.000000   9.690000 (  9.696744)\nPreload: 320 11.120000   0.010000  11.130000 ( 11.120075)\nPreload: 340 12.470000   0.000000  12.470000 ( 12.475323)\nPreload: 360 14.040000   0.010000  14.050000 ( 14.049947)\nPreload: 380 15.570000   0.000000  15.570000 ( 15.570407)\nPreload: 400 17.300000   0.000000  17.300000 ( 17.303420)\nPreload: 420 19.090000   0.010000  19.100000 ( 19.091995)\nPreload: 440 20.950000   0.000000  20.950000 ( 20.948938)\nPreload: 460 22.960000   0.010000  22.970000 ( 22.967456)\nPreload: 480 24.940000   0.000000  24.940000 ( 24.950712)\nPreload: 500 27.150000   0.010000  27.160000 ( 27.148344)\n```\n\nDefinitely doesn't look like linear time complexity, which I would've expected here. It is so bad that it ends up being faster to just let an n+1 query happen.\n\n```\n       user     system      total        real\nn+1:     20  0.050000   0.000000   0.050000 (  0.054664)\nn+1:     40  0.100000   0.000000   0.100000 (  0.091517)\nn+1:     60  0.130000   0.000000   0.130000 (  0.132433)\nn+1:     80  0.170000   0.000000   0.170000 (  0.173936)\nn+1:     100  0.220000   0.000000   0.220000 (  0.218220)\nn+1:     120  0.260000   0.000000   0.260000 (  0.259074)\nn+1:     140  0.300000   0.000000   0.300000 (  0.303388)\nn+1:     160  0.350000   0.000000   0.350000 (  0.345752)\nn+1:     180  0.390000   0.000000   0.390000 (  0.390691)\nn+1:     200  0.430000   0.000000   0.430000 (  0.435159)\nn+1:     220  0.480000   0.000000   0.480000 (  0.479689)\nn+1:     240  0.530000   0.000000   0.530000 (  0.523980)\nn+1:     260  0.560000   0.000000   0.560000 (  0.561001)\nn+1:     280  0.610000   0.010000   0.620000 (  0.615086)\nn+1:     300  0.660000   0.000000   0.660000 (  0.658709)\nn+1:     320  0.690000   0.000000   0.690000 (  0.696682)\nn+1:     340  0.740000   0.000000   0.740000 (  0.733654)\nn+1:     360  0.770000   0.000000   0.770000 (  0.774647)\nn+1:     380  0.830000   0.000000   0.830000 (  0.828438)\nn+1:     400  0.870000   0.000000   0.870000 (  0.876504)\nn+1:     420  0.930000   0.000000   0.930000 (  0.926957)\nn+1:     440  0.980000   0.010000   0.990000 (  0.979548)\nn+1:     460  0.990000   0.000000   0.990000 (  0.989413)\nn+1:     480  1.030000   0.000000   1.030000 (  1.034881)\nn+1:     500  1.120000   0.000000   1.120000 (  1.118535)\n```\n\nI tried to figure out what was going on using StackProf and I think the cause of this problem is that the join table does not have any primary key, because these are the results:\n\n```\n==================================\n  Mode: cpu(1000)\n  Samples: 4573 (0.00% miss rate)\n  GC: 202 (4.42%)\n==================================\n     TOTAL    (pct)     SAMPLES    (pct)     FRAME\n      1754  (38.4%)        1754  (38.4%)     ActiveRecord::Core#update_attributes_from_transaction_state\n      1722  (37.7%)        1722  (37.7%)     block (2 levels) in ActiveRecord::AttributeMethods::Read#read_attribute\n       343   (7.5%)         343   (7.5%)     ActiveRecord::AttributeMethods::PrimaryKey::ClassMethods#primary_key\n      4114  (90.0%)         248   (5.4%)     ActiveRecord::AttributeMethods::PrimaryKey#id\n      4229  (92.5%)         124   (2.7%)     ActiveRecord::Core#==\n      1762  (38.5%)          39   (0.9%)     block in ActiveRecord::AttributeMethods::Read#read_attribute\n```\n\nI'm guessing the cause of this is that HABTM relations are now treated as has_many through internally?\n\nAdding `def id; nil; end` to the model returned by through_model [here](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/associations/builder/has_and_belongs_to_many.rb#L50-L78) results in a drastic improvement:\n\n```\n       user     system      total        real\nPreload: 20  0.020000   0.000000   0.020000 (  0.028965)\nPreload: 40  0.070000   0.000000   0.070000 (  0.067398)\nPreload: 60  0.130000   0.000000   0.130000 (  0.132211)\nPreload: 80  0.230000   0.000000   0.230000 (  0.225846)\nPreload: 100  0.330000   0.010000   0.340000 (  0.336442)\nPreload: 120  0.470000   0.000000   0.470000 (  0.464461)\nPreload: 140  0.610000   0.000000   0.610000 (  0.617623)\nPreload: 160  0.800000   0.000000   0.800000 (  0.800362)\nPreload: 180  1.000000   0.000000   1.000000 (  1.000626)\nPreload: 200  1.250000   0.000000   1.250000 (  1.250085)\nPreload: 220  1.490000   0.000000   1.490000 (  1.486242)\nPreload: 240  1.770000   0.000000   1.770000 (  1.767213)\nPreload: 260  2.060000   0.000000   2.060000 (  2.067684)\nPreload: 280  2.390000   0.000000   2.390000 (  2.384439)\nPreload: 300  2.760000   0.000000   2.760000 (  2.763481)\nPreload: 320  3.120000   0.000000   3.120000 (  3.125184)\nPreload: 340  3.570000   0.010000   3.580000 (  3.570069)\nPreload: 360  3.920000   0.000000   3.920000 (  3.923540)\nPreload: 380  4.440000   0.000000   4.440000 (  4.437941)\nPreload: 400  4.820000   0.000000   4.820000 (  4.823900)\nPreload: 420  5.390000   0.000000   5.390000 (  5.393981)\nPreload: 440  5.820000   0.010000   5.830000 (  5.821057)\nPreload: 460  6.370000   0.000000   6.370000 (  6.366625)\nPreload: 480  7.080000   0.000000   7.080000 (  7.083520)\nPreload: 500  7.530000   0.000000   7.530000 (  7.531730)\n```\n\nStill not as good as the n+1 query version, though.\n",
      "number": 15663,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": true,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vikhyat/subscriptions",
         "received_events_url": "https://api.github.com/users/vikhyat/received_events",
         "url": "https://api.github.com/users/vikhyat",
         "avatar_url": "https://avatars0.githubusercontent.com/u/31063?v=4",
         "events_url": "https://api.github.com/users/vikhyat/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vikhyat/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vikhyat/following{/other_user}",
         "repos_url": "https://api.github.com/users/vikhyat/repos",
         "site_admin": false,
         "id": 31063,
         "organizations_url": "https://api.github.com/users/vikhyat/orgs",
         "login": "vikhyat",
         "gists_url": "https://api.github.com/users/vikhyat/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vikhyat/followers",
         "html_url": "https://github.com/vikhyat"
      },
      "state": "closed",
      "closed_by": "15665",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/15663",
      "updated_at": "2014-10-31T13:06:04Z",
      "milestone": {
         "closed_at": "2014-11-19T19:54:01Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/33",
         "description": "",
         "updated_at": "2014-11-20T21:10:06Z",
         "number": 33,
         "due_on": null,
         "id": 665168,
         "open_issues": 0,
         "closed_issues": 44,
         "created_at": "2014-05-20T23:54:31Z",
         "title": "4.1.8",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/33/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/33",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/15663/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 19,
      "id": 35562138,
      "closed_at": "2014-06-12T23:43:41Z",
      "created_at": "2014-06-12T09:11:49Z",
      "title": "ActiveRecord HABTM Preload Performance Regression",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15663/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15663/comments",
      "html_url": "https://github.com/rails/rails/issues/15663"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When plucking from a join using SQL fragments, the pluck method will mess with any fields that have the same name but are in different tables, unless you set an SQL alias for one of them.\n\n``` ruby\n2.1.1 :001 > Person.joins(:pets).where(\"pets.species = ?\", \"Cat\").order(\"people.name ASC, pets.name ASC\").pluck(\"people.name\", \"pets.name as pet_name\")\n   (1.1ms)  SELECT people.name, pets.name as pet_name FROM \"people\" INNER JOIN \"pets\" ON \"pets\".\"person_id\" = \"people\".\"id\" WHERE (pets.species = 'Cat')  ORDER BY people.name ASC, pets.name ASC\n => [[\"Peter\", \"Garfield\"], [\"Sally\", \"Juliet\"], [\"Sally\", \"Romeo\"]] \n2.1.1 :002 > Person.joins(:pets).where(\"pets.species = ?\", \"Cat\").order(\"people.name ASC, pets.name ASC\").pluck(\"people.name\", \"pets.name\")\n   (0.5ms)  SELECT people.name, pets.name FROM \"people\" INNER JOIN \"pets\" ON \"pets\".\"person_id\" = \"people\".\"id\" WHERE (pets.species = 'Cat')  ORDER BY people.name ASC, pets.name ASC\n => [[\"Garfield\", nil], [\"Juliet\", nil], [\"Romeo\", nil]] \n```\n\nWorth noting that the generated SQL itself is fine, and returns the expected result when executed in SQLite console:\n\n``` SQL\nsqlite> SELECT people.name, pets.name FROM \"people\" INNER JOIN \"pets\" ON \"pets\".\"person_id\" = \"people\".\"id\" WHERE (pets.species = 'Cat')  ORDER BY people.name ASC, pets.name ASC;\nPeter|Garfield\nSally|Juliet\nSally|Romeo\nsqlite> \n```\n\nGist with test:\nhttps://gist.github.com/danielgracia/7fc63f39f7c8068ca12a\n",
      "number": 15649,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/danielgracia/subscriptions",
         "received_events_url": "https://api.github.com/users/danielgracia/received_events",
         "url": "https://api.github.com/users/danielgracia",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6782539?v=4",
         "events_url": "https://api.github.com/users/danielgracia/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/danielgracia/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/danielgracia/following{/other_user}",
         "repos_url": "https://api.github.com/users/danielgracia/repos",
         "site_admin": false,
         "id": 6782539,
         "organizations_url": "https://api.github.com/users/danielgracia/orgs",
         "login": "danielgracia",
         "gists_url": "https://api.github.com/users/danielgracia/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/danielgracia/followers",
         "html_url": "https://github.com/danielgracia"
      },
      "state": "closed",
      "closed_by": "15652",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/15649",
      "updated_at": "2014-09-24T23:32:59Z",
      "milestone": {
         "closed_at": "2014-11-19T19:54:01Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/33",
         "description": "",
         "updated_at": "2014-11-20T21:10:06Z",
         "number": 33,
         "due_on": null,
         "id": 665168,
         "open_issues": 0,
         "closed_issues": 44,
         "created_at": "2014-05-20T23:54:31Z",
         "title": "4.1.8",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/33/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/33",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/15649/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 35515982,
      "closed_at": "2014-06-11T21:13:50Z",
      "created_at": "2014-06-11T19:08:21Z",
      "title": "Unexpected behavior when plucking from joins (nil colunms in resulting arrays)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15649/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15649/comments",
      "html_url": "https://github.com/rails/rails/issues/15649"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Demonstration: https://gist.github.com/Peeja/de5ce3ea12b264aaf792\n\nThe problem appears to be that the leading `/` is missing from the `PATH_INFO` that's passed to the mounted app, when it's mounted at `/`. In this case, a request for `/path` will pass a `PATH_INFO` of `\"path\"` to `DemoRackApp`. Since it expects a path with a leading `/`, it can never match.\n\nBy contrast, a request for `/deeper_mountpoint/path` passes the other `DemoRackApp` a  `PATH_INFO` of `\"/path\"`, which is able to match.\n",
      "number": 15511,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Peeja/subscriptions",
         "received_events_url": "https://api.github.com/users/Peeja/received_events",
         "url": "https://api.github.com/users/Peeja",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2407?v=4",
         "events_url": "https://api.github.com/users/Peeja/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Peeja/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Peeja/following{/other_user}",
         "repos_url": "https://api.github.com/users/Peeja/repos",
         "site_admin": false,
         "id": 2407,
         "organizations_url": "https://api.github.com/users/Peeja/orgs",
         "login": "Peeja",
         "gists_url": "https://api.github.com/users/Peeja/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Peeja/followers",
         "html_url": "https://github.com/Peeja"
      },
      "state": "closed",
      "closed_by": "16926",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/15511",
      "updated_at": "2014-09-15T15:52:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15511/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 35003322,
      "closed_at": "2014-06-13T22:56:11Z",
      "created_at": "2014-06-04T21:02:07Z",
      "title": "Rack::URLMap app can't be mounted at '/'",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15511/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15511/comments",
      "html_url": "https://github.com/rails/rails/issues/15511"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "As seen in attached gist, I have created 5 tables, connected by belongs_to one to one relationships.\n\nJoining 3 of them in order works fine, joining the 4th one yields an incorrect sql query, where the table join order is wrong, and joining 4 of them raises an ActiveRecord::ConfigurationError\n\nI initially thought it is related to https://github.com/rails/rails/pull/15461 but I tried the patch and it does not solve this issue, so it might be a separate problem.\n",
      "number": 15488,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/SebastianZaha/subscriptions",
         "received_events_url": "https://api.github.com/users/SebastianZaha/received_events",
         "url": "https://api.github.com/users/SebastianZaha",
         "avatar_url": "https://avatars2.githubusercontent.com/u/74406?v=4",
         "events_url": "https://api.github.com/users/SebastianZaha/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/SebastianZaha/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/SebastianZaha/following{/other_user}",
         "repos_url": "https://api.github.com/users/SebastianZaha/repos",
         "site_admin": false,
         "id": 74406,
         "organizations_url": "https://api.github.com/users/SebastianZaha/orgs",
         "login": "SebastianZaha",
         "gists_url": "https://api.github.com/users/SebastianZaha/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/SebastianZaha/followers",
         "html_url": "https://github.com/SebastianZaha"
      },
      "state": "closed",
      "closed_by": "528dd6",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/15488",
      "updated_at": "2017-11-10T19:09:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15488/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 34870069,
      "closed_at": "2017-11-10T19:09:01Z",
      "created_at": "2014-06-03T14:44:22Z",
      "title": "Joining more than 3 tables in a row and merging scopes crashes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15488/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15488/comments",
      "html_url": "https://github.com/rails/rails/issues/15488"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActiveRecord fails, when searching over a related table, in combination with `order(attr: :asc)` and `limit` (See trace).\n\nIt works fine, when passing a string to `order`, removing the `limit` or searching the \"target\" table only.\n\nTrace:\n\n``` ruby\n> Event.includes(:attendees).where('attendees.id = 1').references(:attendees).order(title: :asc).limit(10).to_a\nNoMethodError: undefined method `to_sql' for {:title=>:asc}:Hash\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/connection_adapters/postgresql/schema_statements.rb:489:in `block in columns_for_distinct'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/connection_adapters/postgresql/schema_statements.rb:487:in `map'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/connection_adapters/postgresql/schema_statements.rb:487:in `columns_for_distinct'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation/finder_methods.rb:249:in `construct_limited_ids_condition'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation/finder_methods.rb:238:in `apply_join_dependency'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation/finder_methods.rb:227:in `construct_relation_for_association_find'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation/finder_methods.rb:206:in `find_with_associations'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation.rb:585:in `exec_queries'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation.rb:471:in `load'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activerecord-4.0.5/lib/active_record/relation.rb:220:in `to_a'\n    from (irb):13\n    from /usr/local/lib/ruby/gems/2.1.0/gems/railties-4.0.5/lib/rails/commands/console.rb:90:in `start'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/railties-4.0.5/lib/rails/commands/console.rb:9:in `start'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/railties-4.0.5/lib/rails/commands.rb:62:in `<top (required)>'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.0.5/lib/active_support/dependencies.rb:229:in `require'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.0.5/lib/active_support/dependencies.rb:229:in `block in require'\n... 3 levels...\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.0.5/lib/active_support/dependencies.rb:223:in `load'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.0.5/lib/active_support/dependencies.rb:223:in `block in load'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.0.5/lib/active_support/dependencies.rb:214:in `load_dependency'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/activesupport-4.0.5/lib/active_support/dependencies.rb:223:in `load'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/commands/rails.rb:6:in `call'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/command_wrapper.rb:38:in `call'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application.rb:171:in `block in serve'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application.rb:146:in `fork'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application.rb:146:in `serve'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application.rb:121:in `block in run'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application.rb:115:in `loop'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application.rb:115:in `run'\n    from /usr/local/lib/ruby/gems/2.1.0/gems/spring-1.1.0/lib/spring/application/boot.rb:16:in `<top (required)>'\n    from /usr/local/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n    from /usr/local/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n```\n",
      "number": 15405,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ushis/subscriptions",
         "received_events_url": "https://api.github.com/users/ushis/received_events",
         "url": "https://api.github.com/users/ushis",
         "avatar_url": "https://avatars1.githubusercontent.com/u/615770?v=4",
         "events_url": "https://api.github.com/users/ushis/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ushis/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ushis/following{/other_user}",
         "repos_url": "https://api.github.com/users/ushis/repos",
         "site_admin": false,
         "id": 615770,
         "organizations_url": "https://api.github.com/users/ushis/orgs",
         "login": "ushis",
         "gists_url": "https://api.github.com/users/ushis/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ushis/followers",
         "html_url": "https://github.com/ushis"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/15405",
      "updated_at": "2015-02-06T22:39:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15405/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 34557260,
      "closed_at": "2015-02-06T22:39:33Z",
      "created_at": "2014-05-29T14:06:29Z",
      "title": "ActiveRecord fails, when querying multiple tables, passing a hash to order and using limit.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15405/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15405/comments",
      "html_url": "https://github.com/rails/rails/issues/15405"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This work on rails 4.0.5 but generates wrong sql on 4.1 and master\nOn 4.1 and master works with string conditions\n\nThis [gist](https://gist.github.com/scambra/322fd296e5dc882261a4) include test for rails 4.0.5, 4.1.1 and master, using similar models to used ones by has_and_belongs_to_many_associations_test\n",
      "number": 15244,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/scambra/subscriptions",
         "received_events_url": "https://api.github.com/users/scambra/received_events",
         "url": "https://api.github.com/users/scambra",
         "avatar_url": "https://avatars2.githubusercontent.com/u/20515?v=4",
         "events_url": "https://api.github.com/users/scambra/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/scambra/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/scambra/following{/other_user}",
         "repos_url": "https://api.github.com/users/scambra/repos",
         "site_admin": false,
         "id": 20515,
         "organizations_url": "https://api.github.com/users/scambra/orgs",
         "login": "scambra",
         "gists_url": "https://api.github.com/users/scambra/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/scambra/followers",
         "html_url": "https://github.com/scambra"
      },
      "state": "closed",
      "closed_by": "18383",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/15244",
      "updated_at": "2017-11-06T01:39:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15244/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 34082930,
      "closed_at": "2017-11-06T01:39:40Z",
      "created_at": "2014-05-22T13:46:39Z",
      "title": "Error preloading habtm association with hashed conditions",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15244/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15244/comments",
      "html_url": "https://github.com/rails/rails/issues/15244"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Recently I discovered that ActiveRecord method `instantiate`, which allows to create a new model instance from hash, doesn't work with hashes when its keys are symbols. It only accept strings. But the `new` method accepts symbols and strings.  \n\nExample of the fail is in this bug test gist: https://gist.github.com/RaVbaker/5247552f66bb5d4df6d5 \n\nI have found it during usage of https://github.com/afair/postgresql_cursor gem made by @afair. \n",
      "number": 15107,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/RaVbaker/subscriptions",
         "received_events_url": "https://api.github.com/users/RaVbaker/received_events",
         "url": "https://api.github.com/users/RaVbaker",
         "avatar_url": "https://avatars1.githubusercontent.com/u/56023?v=4",
         "events_url": "https://api.github.com/users/RaVbaker/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/RaVbaker/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/RaVbaker/following{/other_user}",
         "repos_url": "https://api.github.com/users/RaVbaker/repos",
         "site_admin": false,
         "id": 56023,
         "organizations_url": "https://api.github.com/users/RaVbaker/orgs",
         "login": "RaVbaker",
         "gists_url": "https://api.github.com/users/RaVbaker/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/RaVbaker/followers",
         "html_url": "https://github.com/RaVbaker"
      },
      "state": "closed",
      "closed_by": "0bd243",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/15107",
      "updated_at": "2014-05-20T08:38:30Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15107/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 4,
      "id": 33480333,
      "closed_at": "2014-05-20T08:38:30Z",
      "created_at": "2014-05-14T10:36:42Z",
      "title": "ActiveRecord .instantiate method doesn't work with hashes when keys are symbols",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15107/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15107/comments",
      "html_url": "https://github.com/rails/rails/issues/15107"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here is the test case https://gist.github.com/shunwen/99b89c495eea5ad24079\n\nI want to apologize first for that I don't have any idea is there a well-known term for what I am going to describe.\n\nHere is the definition of models used in examples:\n\n``` ruby\nclass Post < ActiveRecord::Base\n  has_many :comments, as: :commentable\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :commentable, polymorphic: true\nend\n```\n\nThe inconsistent behavior I found:\n\n**Polymorphic example**\n\n``` ruby\npost = Post.new\npost.comments.new\ncomment = post.comments.first\ncomment.commentable #=> nil\n```\n\n**Non-polymorphic example**\n\n``` ruby\npost = Post.new\npost.comments.new\ncomment = post.comments.first\ncomment.post #=> post\n```\n\nIn **non-persisted polymorphic association**, I'd expect that `comment` knows its `commentable` object as in **non-polymorphic association**. The reason I am expecting this behavior is that, in the following example, when saving `post`, it also tries to validate and save `comment` as well. But my validation on `comment` depends on its `commentable`, it'd error if it can't access the `commentable` it belongs to.\n\n``` ruby\npost = Post.new\npost.comments.new\npost.save #=> It saves both post and its comment\n```\n\nCurrently my workaround is to build `comment` in non-chained syntax (see below). By doing so it doesn't save comment when saving `post`:\n\n``` ruby\npost = Post.new\ncomment = Comment.new\ncomment.commentable = post\npost.save #=> Only post is saved\ncomment.save\n```\n",
      "number": 15028,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/shunwen/subscriptions",
         "received_events_url": "https://api.github.com/users/shunwen/received_events",
         "url": "https://api.github.com/users/shunwen",
         "avatar_url": "https://avatars1.githubusercontent.com/u/485385?v=4",
         "events_url": "https://api.github.com/users/shunwen/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/shunwen/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/shunwen/following{/other_user}",
         "repos_url": "https://api.github.com/users/shunwen/repos",
         "site_admin": false,
         "id": 485385,
         "organizations_url": "https://api.github.com/users/shunwen/orgs",
         "login": "shunwen",
         "gists_url": "https://api.github.com/users/shunwen/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/shunwen/followers",
         "html_url": "https://github.com/shunwen"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/15028",
      "updated_at": "2015-06-23T12:51:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/15028/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 33087833,
      "closed_at": "2015-06-23T12:49:18Z",
      "created_at": "2014-05-08T14:23:10Z",
      "title": "Non-persisted polymorphic association reference behaves differently from non-polymorphic one",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/15028/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/15028/comments",
      "html_url": "https://github.com/rails/rails/issues/15028"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "After this patch:\nhttps://github.com/rails/rails/commit/326e6527497126b2ea3627e377b6a4b5c9191bef\n\nWe have a problems migrating our app to 4.1 because:\n\n``` ruby\nsites_path(a: {}) # => \"/sites?\" in 4.0\n                # \"/sites?a=\" in 4.1\n```\n\nIt causes  `params[:a]` return an empty string instead of `nil`. That is kind of significant behaviour change.\n\nNot sure this is right to serialize empty hash as an empty string.\n\n`jQuery` for example have a different opinion on this:\n\n``` js\njQuery.param({})  // => \"\"\njQuery.param({a: {}}) // => \"\"\njQuery.param({a: {b: {}}}) // => \"\"\n```\n\nI think we should implement the empty hash serialization in the same way:\n1. It is backward compatible\n2. It will be consistent with implementation in other frameworks.\n",
      "number": 14948,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bogdan/subscriptions",
         "received_events_url": "https://api.github.com/users/bogdan/received_events",
         "url": "https://api.github.com/users/bogdan",
         "avatar_url": "https://avatars3.githubusercontent.com/u/122436?v=4",
         "events_url": "https://api.github.com/users/bogdan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bogdan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bogdan/following{/other_user}",
         "repos_url": "https://api.github.com/users/bogdan/repos",
         "site_admin": false,
         "id": 122436,
         "organizations_url": "https://api.github.com/users/bogdan/orgs",
         "login": "bogdan",
         "gists_url": "https://api.github.com/users/bogdan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bogdan/followers",
         "html_url": "https://github.com/bogdan"
      },
      "state": "closed",
      "closed_by": "1bbac6",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14948",
      "updated_at": "2014-05-04T21:30:32Z",
      "milestone": {
         "closed_at": "2014-06-26T17:03:38Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/32",
         "description": "",
         "updated_at": "2014-06-26T17:03:38Z",
         "number": 32,
         "due_on": "2014-05-30T07:00:00Z",
         "id": 624453,
         "open_issues": 0,
         "closed_issues": 40,
         "created_at": "2014-04-08T21:51:55Z",
         "title": "4.1.2",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/32/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/32",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14948/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 4,
      "id": 32706743,
      "closed_at": "2014-05-04T21:30:32Z",
      "created_at": "2014-05-02T16:46:35Z",
      "title": "[Regression 4.0 => 4.1]  Changed a way to serialize empty hash",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14948/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14948/comments",
      "html_url": "https://github.com/rails/rails/issues/14948"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi, it's strange but `pluck` method makes N + 1 query:\n\n``` ruby\nSeller.includes(:items).each { |s| s.items.pluck(:id) }\n```\n\nBut this works well without making N + 1 query:\n\n``` ruby\nSeller.includes(:items).pluck('items.id')\nSeller.includes(:items).each { |s| s.items.map(&:id) }\n```\n",
      "number": 14917,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/exAspArk/subscriptions",
         "received_events_url": "https://api.github.com/users/exAspArk/received_events",
         "url": "https://api.github.com/users/exAspArk",
         "avatar_url": "https://avatars2.githubusercontent.com/u/577441?v=4",
         "events_url": "https://api.github.com/users/exAspArk/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/exAspArk/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/exAspArk/following{/other_user}",
         "repos_url": "https://api.github.com/users/exAspArk/repos",
         "site_admin": false,
         "id": 577441,
         "organizations_url": "https://api.github.com/users/exAspArk/orgs",
         "login": "exAspArk",
         "gists_url": "https://api.github.com/users/exAspArk/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/exAspArk/followers",
         "html_url": "https://github.com/exAspArk"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14917",
      "updated_at": "2014-04-30T17:07:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14917/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 32523814,
      "closed_at": "2014-04-30T17:07:34Z",
      "created_at": "2014-04-30T10:34:15Z",
      "title": "Pluck method and N+1 query",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14917/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14917/comments",
      "html_url": "https://github.com/rails/rails/issues/14917"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here's what I try **within a controller test** in **Rails 4.1.0** (using the default Minitest):\n\n``` ruby\nassert_routing({ method: \"post\", path: \"/guest\" }, { controller: \"guests\", action: \"create\" }, {}, {}, \"no route matches 'POST /guest'\")\nassert_routing({ method: \"get\", path: \"/guest\" }, { controller: \"guests\", action: \"show\" }, {}, {}, \"no route matches 'GET /guest'\")\nassert_routing({ method: \"patch\", path: \"/guest\" }, { controller: \"guests\", action: \"update\" }, {}, {}, \"no route matches 'PATCH /guest'\")\n```\n\nWhen one of these assertions fail, **I expect** that I get presented with my \"no route matches '**_METHOD**_ /guest'\" error instead of the default \"no route matches /guest\" error \u2013 but **_I always get the default error**_!\n\nHere's the part in my routes.rb:\n\n``` ruby\nresource :guest, only: [:create, :show]\n```\n\nAnd here's my guests_controller.rb:\n\n``` ruby\ndef create\n  # do something\nend\n\ndef show\n  # do something\nend\n```\n\nSo, what I expect is that the third assertion which uses the PATCH method and calls update should give me the \"no route matches 'PATCH /guest'\" error \u2013 but what I get is \"no route matches /guest\". The first two assertions pass as expected.\n\nThis is bad as I'm developing a **RESTful API** but cannot see _which_ HTTP method causes the routing to fail.\n\nAs this is **only my second open source bug report** (and my first in Rails) I hope I didn't fail when I checked other issues and the guide for posting bugs for Rails. Did my best, but feel free to correct me. :)\n",
      "number": 14908,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Dschee/subscriptions",
         "received_events_url": "https://api.github.com/users/Dschee/received_events",
         "url": "https://api.github.com/users/Dschee",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6942160?v=4",
         "events_url": "https://api.github.com/users/Dschee/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Dschee/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Dschee/following{/other_user}",
         "repos_url": "https://api.github.com/users/Dschee/repos",
         "site_admin": false,
         "id": 6942160,
         "organizations_url": "https://api.github.com/users/Dschee/orgs",
         "login": "Dschee",
         "gists_url": "https://api.github.com/users/Dschee/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Dschee/followers",
         "html_url": "https://github.com/Dschee"
      },
      "state": "closed",
      "closed_by": "14911",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14908",
      "updated_at": "2014-09-05T19:49:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14908/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 32467140,
      "closed_at": "2014-09-05T19:49:25Z",
      "created_at": "2014-04-29T17:34:34Z",
      "title": "assert_routing message param not working?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14908/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14908/comments",
      "html_url": "https://github.com/rails/rails/issues/14908"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Running many concurrent threads on Rails 4 slows down considerably when the threads are all trying to get a database connection from the pool. \n\nIt can take over 3,000ms to get a database connection in production. The following code demonstrates the issue:\n\n``` ruby\nproc = Proc.new do\n  begin\n    p Benchmark.ms { ActiveRecord::Base.connection.select('select 1=1') }\n  rescue Exception => exc\n    p exc\n  ensure\n    ActiveRecord::Base.clear_active_connections!\n  end\nend\n100.times { Thread.new { p Benchmark.ms(&proc) } }\n```\n\nBelow is the output from production showing the steadily growing connection times:\n\n```\n132.0\n=> 100\nirb(main):011:0> 100.0\n283.0\n351.0\n416.0\n477.0\n506.0\n542.0\n580.0\n617.0\n667.0\n704.0\n742.0\n770.0\n791.0\n813.0\n849.0\n896.0\n899.0\n932.0\n953.0\n983.0\n1006.9999999999999\n1038.0\n1064.0\n1082.0\n1109.0\n1128.0\n1160.0\n1192.0\n1214.0\n1242.0\n1268.0\n1297.0\n1316.0\n1344.0\n1403.0\n1431.0\n1452.0\n1483.0\n1506.0\n1539.0\n1586.0\n1611.0\n1644.0\n1673.0\n1714.0\n1767.0\n1841.0\n1948.0\n2017.9999999999998\n2054.0\n2084.0\n2115.0\n2152.0\n2192.0\n2219.0\n2256.0\n2288.0\n2318.0\n2341.0\n2340.0\n2365.0\n2509.0\n2383.0\n2398.0\n2421.0\n2443.0\n2466.0\n2499.0\n2528.0\n2554.0\n2576.0\n2597.0\n2619.0\n2638.0\n2662.0\n2692.0\n2712.0\n2740.0\n2759.0\n2780.0\n2800.0\n2819.0\n2846.0\n2869.0\n2888.0\n2908.0\n2928.0\n2948.0\n2967.0\n2989.0\n3013.0\n3035.0\n3054.0\n3075.0\n3093.0\n3114.0\n3131.0\n3155.0\n3328.0\n3328.0\n3326.0\n3326.0\n3219.0\n3320.0\n3178.0\n3323.0\n3321.0\n3321.0\n3321.0\n3320.0\n3320.0\n3320.0\n3307.0\n3305.0\n3305.0\n3321.0\n3301.0\n3301.0\n3299.0\n3300.0\n3299.0\n3300.0\n3299.0\n3297.0\n3301.0\n3295.0\n3295.0\n3294.0\n3295.0\n3294.0\n3294.0\n3292.0\n3292.0\n3292.0\n3292.0\n3291.0\n3283.0\n3284.0\n3282.0\n3284.0\n3281.0\n3284.0\n3284.0\n3285.0\n3283.0\n3283.0\n3285.0\n3289.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3304.0\n3282.0\n3288.0\n3284.0\n3277.0\n3277.0\n3277.0\n3277.0\n3277.0\n3278.0\n3277.0\n3277.0\n3278.0\n3278.0\n3278.0\n3278.0\n3278.0\n3277.0\n3278.0\n3278.0\n3278.0\n3278.0\n3278.0\n3278.0\n3279.0\n3278.0\n3278.0\n3279.0\n3278.0\n3278.0\n3279.0\n3279.0\n3278.0\n3279.0\n3279.0\n3279.0\n3279.0\n3279.0\n3278.0\n3279.0\n```\n\nThe problem is with the global mutex around all the calls to the connection pool. Also, the database connection verification (ping) is performed inside the sync, blocking all other threads while a connection is verified, created, or re-created. \n\nAfter replacing the custom connection pool code with [GenePool](https://github.com/bpardee/gene_pool), the times drop significantly. It now only takes 1ms to checkout the connection and then about 5ms to do the verification (database ping) before the connection is returned.\n\nWorking on converting our patch into a pull request. The Rails code is much simpler and the GenePool Gem appears to maintain the current Rails connection pool behavior.\n",
      "number": 14891,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/reidmorrison/subscriptions",
         "received_events_url": "https://api.github.com/users/reidmorrison/received_events",
         "url": "https://api.github.com/users/reidmorrison",
         "avatar_url": "https://avatars2.githubusercontent.com/u/146852?v=4",
         "events_url": "https://api.github.com/users/reidmorrison/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/reidmorrison/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/reidmorrison/following{/other_user}",
         "repos_url": "https://api.github.com/users/reidmorrison/repos",
         "site_admin": false,
         "id": 146852,
         "organizations_url": "https://api.github.com/users/reidmorrison/orgs",
         "login": "reidmorrison",
         "gists_url": "https://api.github.com/users/reidmorrison/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/reidmorrison/followers",
         "html_url": "https://github.com/reidmorrison"
      },
      "state": "closed",
      "closed_by": "14926",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14891",
      "updated_at": "2015-05-15T16:49:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14891/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 32379860,
      "closed_at": "2015-05-15T16:49:02Z",
      "created_at": "2014-04-28T17:25:05Z",
      "title": "Rails 4 Database Connection Pool is very slow under load",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14891/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14891/comments",
      "html_url": "https://github.com/rails/rails/issues/14891"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello,\n\nI have noticed a weird behaviour with the `ActionController::HttpAuthentication::Token.token_and_options` method.\n\nThe last modifications come from the PR attached to that [old issue](https://github.com/rails/rails/issues/7311).\n\nLet's say we have the following malformed header : \n\n`Authorization: Token token=`\n\nIn that situation, the method call I expect to return `nil` (because no token is found) actually returns `\"token\"` as the token value (which was empty in our header).\n\nOne solution is to make the `TOKEN_REGEX` somewhat more restrictive :\n\n``` ruby\nTOKEN_REGEX = /^Token token=.+(?=,|;|\\s*)/\n```\n\nI'll submit a PR and update it with your feedback.\n",
      "number": 14846,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/simonbnrd/subscriptions",
         "received_events_url": "https://api.github.com/users/simonbnrd/received_events",
         "url": "https://api.github.com/users/simonbnrd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/6693498?v=4",
         "events_url": "https://api.github.com/users/simonbnrd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/simonbnrd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/simonbnrd/following{/other_user}",
         "repos_url": "https://api.github.com/users/simonbnrd/repos",
         "site_admin": false,
         "id": 6693498,
         "organizations_url": "https://api.github.com/users/simonbnrd/orgs",
         "login": "simonbnrd",
         "gists_url": "https://api.github.com/users/simonbnrd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/simonbnrd/followers",
         "html_url": "https://github.com/simonbnrd"
      },
      "state": "closed",
      "closed_by": "15683",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14846",
      "updated_at": "2014-06-13T14:19:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14846/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 32060541,
      "closed_at": "2014-06-13T14:19:37Z",
      "created_at": "2014-04-23T13:31:19Z",
      "title": "bug in token_and_options method",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14846/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14846/comments",
      "html_url": "https://github.com/rails/rails/issues/14846"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When creating a has_and_belongs_to_many association with a join_table option, it is not recognized when fixtures are created for that association. \n\nE.g. \n\n``` ruby\n  class Product < AR::Base\n    has_and_belongs_to_many :customers, join_table: 'buyers'\n  end\n\n  # product.yml\n  drink:\n    customers: [bill, joe]\n```\n\nWhen running the tests, this results in\n\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: customers_products: DELETE FROM \"customers_products\"\n\nThe reflection of the association (ActiveRecord::Reflection::ThroughReflection) does not contain the respective option.\n",
      "number": 14845,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/codez/subscriptions",
         "received_events_url": "https://api.github.com/users/codez/received_events",
         "url": "https://api.github.com/users/codez",
         "avatar_url": "https://avatars2.githubusercontent.com/u/271590?v=4",
         "events_url": "https://api.github.com/users/codez/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/codez/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/codez/following{/other_user}",
         "repos_url": "https://api.github.com/users/codez/repos",
         "site_admin": false,
         "id": 271590,
         "organizations_url": "https://api.github.com/users/codez/orgs",
         "login": "codez",
         "gists_url": "https://api.github.com/users/codez/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/codez/followers",
         "html_url": "https://github.com/codez"
      },
      "state": "closed",
      "closed_by": "14853",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14845",
      "updated_at": "2014-04-25T21:30:05Z",
      "milestone": {
         "closed_at": "2014-06-26T17:03:38Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/32",
         "description": "",
         "updated_at": "2014-06-26T17:03:38Z",
         "number": 32,
         "due_on": "2014-05-30T07:00:00Z",
         "id": 624453,
         "open_issues": 0,
         "closed_issues": 40,
         "created_at": "2014-04-08T21:51:55Z",
         "title": "4.1.2",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/32/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/32",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14845/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 5,
      "id": 32056874,
      "closed_at": "2014-04-25T21:30:05Z",
      "created_at": "2014-04-23T12:41:18Z",
      "title": "Habtm join_table option is not recognized in fixtures",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14845/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14845/comments",
      "html_url": "https://github.com/rails/rails/issues/14845"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Please see this [gist](https://gist.github.com/JuanitoFatas/11201897):\n\n``` ruby\nunless File.exist?('Gemfile')\n  File.write('Gemfile', <<-GEMFILE)\n    source 'https://rubygems.org'\n    gem 'rails', github: 'rails/rails'\n    gem 'sqlite3'\n  GEMFILE\n\n  system 'bundle'\nend\n\nrequire 'bundler'\nBundler.setup(:default)\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :users do |t|\n    t.timestamps\n  end\nend\n\nclass User < ActiveRecord::Base\n  after_touch do |user|\n    puts \"You have touched an object\"\n  end\nend\n\nclass BugTest < Minitest::Test\n  def test_no_touching_should_bypass_after_touch_callback\n    user = User.create\n\n    User.no_touching do\n      user.touch\n    end\n  end\nend\n```\n\nWhen I run this, I get the output `\"You have touched an object\"`:\n\n``` sh\n$ ruby no_touching.rb\n-- create_table(:users)\nD, [2014-04-23T11:24:18.800907 #30096] DEBUG -- :    (0.5ms)  CREATE TABLE \"users\" (\"id\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \"created_at\" datetime, \"updated_at\" datetime)\n   -> 0.0074s\nRun options: --seed 36335\n\n# Running:\n\nD, [2014-04-23T11:24:18.829908 #30096] DEBUG -- :    (0.1ms)  begin transaction\nD, [2014-04-23T11:24:18.839017 #30096] DEBUG -- :   SQL (0.2ms)  INSERT INTO \"users\" (\"created_at\", \"updated_at\") VALUES (?, ?)  [[\"created_at\", \"2014-04-23 03:24:18.832378\"], [\"updated_at\", \"2014-04-23 03:24:18.832378\"]]\nD, [2014-04-23T11:24:18.839395 #30096] DEBUG -- :    (0.1ms)  commit transaction\nD, [2014-04-23T11:24:18.839637 #30096] DEBUG -- :    (0.1ms)  begin transaction\nYou have touched an object\nD, [2014-04-23T11:24:18.839998 #30096] DEBUG -- :    (0.1ms)  rollback transaction\n.\n\nFinished in 0.015019s, 66.5823 runs/s, 0.0000 assertions/s.\n\n1 runs, 0 assertions, 0 failures, 0 errors, 0 skips\n```\n\nI think `no_touching` should bypass the `after_touch` callback?\n",
      "number": 14841,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/JuanitoFatas/subscriptions",
         "received_events_url": "https://api.github.com/users/JuanitoFatas/received_events",
         "url": "https://api.github.com/users/JuanitoFatas",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1000669?v=4",
         "events_url": "https://api.github.com/users/JuanitoFatas/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/JuanitoFatas/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/JuanitoFatas/following{/other_user}",
         "repos_url": "https://api.github.com/users/JuanitoFatas/repos",
         "site_admin": false,
         "id": 1000669,
         "organizations_url": "https://api.github.com/users/JuanitoFatas/orgs",
         "login": "JuanitoFatas",
         "gists_url": "https://api.github.com/users/JuanitoFatas/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/JuanitoFatas/followers",
         "html_url": "https://github.com/JuanitoFatas"
      },
      "state": "closed",
      "closed_by": "14842",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14841",
      "updated_at": "2014-04-23T18:37:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14841/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 32030175,
      "closed_at": "2014-04-23T18:37:19Z",
      "created_at": "2014-04-23T03:24:55Z",
      "title": "no_touching should bypass after_touch callback.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14841/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14841/comments",
      "html_url": "https://github.com/rails/rails/issues/14841"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "#### STI subclass becomes! superclass\n\nThis test:\nhttps://github.com/rails/rails/blob/master/activerecord/test/cases/persistence_test.rb#L306 \nyields the following (truncated) update query after `save!`:\n\n```\nUPDATE \"topics\" SET \"type\" = ? WHERE \"topics\".\"id\" = 2  [[\"type\", nil]]\n```\n\nThe test is passed, because a subclass is mutated to a superclass.\n\n---\n#### STI superclass becomes! subclass\n\nThe same test fails, when the mutation is reversed:\n\n```\n# persistence_test.rb\n  def test_update_sti_subclass_type\n    assert_instance_of Topic, topics(:first)\n\n    reply = topics(:first).becomes!(Reply)\n    assert_instance_of Reply, reply\n    reply.save!\n    assert_instance_of Reply, Reply.find(reply.id)\n  end\n```\n\nyields the following (truncated) update query after `save!`:\n\n```\nUPDATE \"topics\" SET \"type\" = ? WHERE \"topics\".\"type\" IN ('Reply', 'UniqueReply', 'WrongReply', 'SillyReply', 'SillyUniqueReply') AND \"topics\".\"id\" = 1  [[\"type\", \"Reply\"]]\n```\n\nThe difference between the queries is the additional type condition, set to the new STI column. The type column in the store is still set to the old type, so the record is not found.\n\n---\n\nThis leads to two issues:\n1. Calling save, expects to raise a `RecordNotFound`, when the record was not found and updated.\n2. Becomes! should unscope the finder to remove the type conditions, or even better, these should be set to the old type.\n\nI can work on a gist as well, if that's still helpful.\n",
      "number": 14785,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ehtb/subscriptions",
         "received_events_url": "https://api.github.com/users/ehtb/received_events",
         "url": "https://api.github.com/users/ehtb",
         "avatar_url": "https://avatars1.githubusercontent.com/u/527458?v=4",
         "events_url": "https://api.github.com/users/ehtb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ehtb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ehtb/following{/other_user}",
         "repos_url": "https://api.github.com/users/ehtb/repos",
         "site_admin": false,
         "id": 527458,
         "organizations_url": "https://api.github.com/users/ehtb/orgs",
         "login": "ehtb",
         "gists_url": "https://api.github.com/users/ehtb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ehtb/followers",
         "html_url": "https://github.com/ehtb"
      },
      "state": "closed",
      "closed_by": "14971",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14785",
      "updated_at": "2014-09-24T12:37:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14785/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 31714825,
      "closed_at": "2014-06-06T07:04:10Z",
      "created_at": "2014-04-17T10:00:10Z",
      "title": "[AR] STI: Class becomes! subclass",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14785/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14785/comments",
      "html_url": "https://github.com/rails/rails/issues/14785"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When we call `select!` on a object which is a `ActiveRecord::Relation` instance, while we thought is was an `Array` instance, nothing raises but **the given block is ignored**.\n\nFor instance, if `User` is an `ActiveRecord` model, the given block in the code below is ignored:\n\n``` ruby\nusers = User.all\n# Block is ignored\nusers.select!{|u| false}\n```\n\nI think it's misleading, especially since :\n- `#all` used to return an `Array` and it now returns an `ActiveRecord::Relation`\n- `#select` doesn't have this problem, so it promotes the idea that you don't have to care when you use `select`. However you _do_ have to care when you use `select!` which contradict _Principle of Least Surprise_.\n\nI think `ActiveRecord::Relation#select!` should raise `ArgumentError` when a block is given so, at least, developer knows he has to care.\n\nNote: I don't make a pull request, because I'm still a Rails newbie, but I can make one, if my proposition is supported.\n",
      "number": 14752,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/eric-smartlove/subscriptions",
         "received_events_url": "https://api.github.com/users/eric-smartlove/received_events",
         "url": "https://api.github.com/users/eric-smartlove",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1595715?v=4",
         "events_url": "https://api.github.com/users/eric-smartlove/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/eric-smartlove/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/eric-smartlove/following{/other_user}",
         "repos_url": "https://api.github.com/users/eric-smartlove/repos",
         "site_admin": false,
         "id": 1595715,
         "organizations_url": "https://api.github.com/users/eric-smartlove/orgs",
         "login": "eric-smartlove",
         "gists_url": "https://api.github.com/users/eric-smartlove/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/eric-smartlove/followers",
         "html_url": "https://github.com/eric-smartlove"
      },
      "state": "closed",
      "closed_by": "14757",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14752",
      "updated_at": "2014-05-21T00:52:15Z",
      "milestone": {
         "closed_at": "2014-06-26T17:03:40Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/30",
         "description": "",
         "updated_at": "2014-08-07T13:33:51Z",
         "number": 30,
         "due_on": "2014-05-30T07:00:00Z",
         "id": 593013,
         "open_issues": 1,
         "closed_issues": 36,
         "created_at": "2014-03-10T18:27:37Z",
         "title": "4.0.6",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/30/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/30",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14752/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 31505794,
      "closed_at": "2014-04-22T22:25:17Z",
      "created_at": "2014-04-14T21:17:40Z",
      "title": "ActiveRecord::QueryMethods#select! may be misleading",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14752/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14752/comments",
      "html_url": "https://github.com/rails/rails/issues/14752"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Consider the following example:\n\n``` ruby\nclass Bug < ActiveRecord::Base\n  enum status: {open: 0, resolved: 1, closed: 2}\nend\n\nclass CommentNotification < ActiveRecord::Base\n  enum status: {unread: 0, read: 1}\nend\n```\n\nIn this situation `ActiveRecord::Enums::DEFINED_ENUMS` only contains the most recently defined `status` enum. This causes problems because sometimes the status of a `Bug` will be reported as `unread` or `read` rather than as `open` or `resolved` (I have specifically seen this in an `after_save` callback when looking at `Bug.changes`).\n\nIdeally enums should be defined on a per-class basis, but at the very least an error should be raised if there is a conflict.\n",
      "number": 14607,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/thadd/subscriptions",
         "received_events_url": "https://api.github.com/users/thadd/received_events",
         "url": "https://api.github.com/users/thadd",
         "avatar_url": "https://avatars2.githubusercontent.com/u/4723?v=4",
         "events_url": "https://api.github.com/users/thadd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/thadd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/thadd/following{/other_user}",
         "repos_url": "https://api.github.com/users/thadd/repos",
         "site_admin": false,
         "id": 4723,
         "organizations_url": "https://api.github.com/users/thadd/orgs",
         "login": "thadd",
         "gists_url": "https://api.github.com/users/thadd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/thadd/followers",
         "html_url": "https://github.com/thadd"
      },
      "state": "closed",
      "closed_by": "14609",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14607",
      "updated_at": "2014-09-04T08:07:13Z",
      "milestone": {
         "closed_at": "2014-04-08T21:52:12Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/29",
         "description": "",
         "updated_at": "2014-04-08T21:52:12Z",
         "number": 29,
         "due_on": "2014-04-08T07:00:00Z",
         "id": 516000,
         "open_issues": 0,
         "closed_issues": 161,
         "created_at": "2013-12-17T20:57:35Z",
         "title": "4.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/29/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/29",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14607/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126788695,
            "url": "https://api.github.com/repos/rails/rails/labels/enum",
            "color": "d4c5f9",
            "default": false,
            "name": "enum"
         }
      ],
      "comments": 2,
      "id": 30898458,
      "closed_at": "2014-04-07T14:07:51Z",
      "created_at": "2014-04-04T22:02:20Z",
      "title": "Enums should raise an error if already defined in another model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14607/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14607/comments",
      "html_url": "https://github.com/rails/rails/issues/14607"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Running on 3.2.17. When using the Time.zone.parse method on the 31st of a given month, it will incorrectly parse months of 30 days when the input string does not include any day information. For example, the following : \n\n``` ruby\ndescribe TimeZone do\n  it 'should parse 30 days month correctly at the end of a 31 days month' do\n    Timecop.freeze(Time.zone.parse(\"2014/01/31\")) do\n      Time.zone.parse(\"June 2014\").month.should eq(6)\n    end\n  end\nend\n\n=> expected: 6\n=> got: 7\n```\n\nWhile trying to figure out what was happening, I had a look at the ActiveSupport TimeZone class and I found out where this behaviour originate from :\n\n``` ruby\nmodule ActiveSupport\n  class TimeZone\n    def parse(str, now=now)\n      parts = Date._parse(str, false)\n      return if parts.empty?\n\n      time = Time.utc(\n        parts.fetch(:year, now.year),\n        parts.fetch(:mon, now.month),\n        # when parsing \"June 2014\" mday is nil\n        # now.day returns 31, resulting in the month being\n        # bumped up if the month has only 30 days\n        parts.fetch(:mday, now.day), \n        parts.fetch(:hour, 0),\n        parts.fetch(:min, 0),\n        parts.fetch(:sec, 0),\n        parts.fetch(:sec_fraction, 0) * 1000000\n      )\n\n     ...\n    end\nend\n```\n\nThis is probably in line with the documentation that states that \"if upper components are missing from the string, they are supplied from TimeZone#now\", but it feels like an unexpected behaviour nonetheless.\n",
      "number": 14543,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pouellet/subscriptions",
         "received_events_url": "https://api.github.com/users/pouellet/received_events",
         "url": "https://api.github.com/users/pouellet",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4390603?v=4",
         "events_url": "https://api.github.com/users/pouellet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pouellet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pouellet/following{/other_user}",
         "repos_url": "https://api.github.com/users/pouellet/repos",
         "site_admin": false,
         "id": 4390603,
         "organizations_url": "https://api.github.com/users/pouellet/orgs",
         "login": "pouellet",
         "gists_url": "https://api.github.com/users/pouellet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pouellet/followers",
         "html_url": "https://github.com/pouellet"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14543",
      "updated_at": "2014-05-13T19:03:34Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14543/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 30549716,
      "closed_at": "2014-05-13T19:03:34Z",
      "created_at": "2014-03-31T21:08:46Z",
      "title": "TimeZone.parse returns incorrect month when parsing a 30 days month on the 31st of the month",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14543/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14543/comments",
      "html_url": "https://github.com/rails/rails/issues/14543"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm using Rails 4.1.0rc2 !!\nMy guess is that this is an issue with 4.1 exclusively because the unscope() and except() options were added there? (see #10643)\n\nI'm not quite sure if this is indeed a bug or it is expected behavior, however i think i can make clear that the following does not make sense:\n\n``` ruby\n\nclass Account < ActiveRecord::Base\n  cattr_accessor :current\n\n  has_many :people, dependent: :destroy\nend\n\nclass Person < ActiveRecord::Base\n  belongs_to :account\n  belongs_to :user\n\n  default_scope { where(account_id: Account.current) if Account.current }\n  scope :across_all_accounts, -> { unscope(where: :account_id) }\nend\n\nclass User < ActiveRecord::Base\n  has_many :identities, ->{ across_all_accounts }, class_name: 'Person'\n  has_many :accounts, through: :identities\nend\n\n```\n\nNow i get in the rails console with some sample data:\n\n``` ruby\n# Account.current.id = 1  in this example\n\ncurrent_user.identities.pluck(:account_id)\n  User Load (1.1ms)  SELECT  \"users\".* FROM \"users\"   ORDER BY \"users\".\"id\" DESC LIMIT 1\n   (0.5ms)  SELECT \"people\".\"account_id\" FROM \"people\"  WHERE \"people\".\"user_id\" = $1  [[\"user_id\", 1]]\n=> [3, 1]\n\ncurrent_user.accounts.pluck(:id)\n  User Load (1.1ms)  SELECT  \"users\".* FROM \"users\"   ORDER BY \"users\".\"id\" DESC LIMIT 1\n   (0.6ms)  SELECT \"accounts\".\"id\" FROM \"accounts\" INNER JOIN \"people\" ON \"accounts\".\"id\" = \"people\".\"account_id\" WHERE \"people\".\"account_id\" = 1 AND \"people\".\"user_id\" = $1  [[\"user_id\", 1]]\n=> [1]\n```\n\nNote that in the second example the default_scope is somehow added again.\nIs this intended?? Seems strange that one can get to the records using the \"identities\" association, but the :through options prevents that again.\n\nI could add -> { unscope(where: :account_id) } again on the :accounts association, but i thought this should already be dealt with using :through identities.\n",
      "number": 14537,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/haberbyte/subscriptions",
         "received_events_url": "https://api.github.com/users/haberbyte/received_events",
         "url": "https://api.github.com/users/haberbyte",
         "avatar_url": "https://avatars2.githubusercontent.com/u/7480?v=4",
         "events_url": "https://api.github.com/users/haberbyte/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/haberbyte/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/haberbyte/following{/other_user}",
         "repos_url": "https://api.github.com/users/haberbyte/repos",
         "site_admin": false,
         "id": 7480,
         "organizations_url": "https://api.github.com/users/haberbyte/orgs",
         "login": "haberbyte",
         "gists_url": "https://api.github.com/users/haberbyte/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/haberbyte/followers",
         "html_url": "https://github.com/haberbyte"
      },
      "state": "closed",
      "closed_by": "8e6907",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14537",
      "updated_at": "2014-05-27T10:44:46Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14537/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 30515530,
      "closed_at": "2014-04-22T22:22:00Z",
      "created_at": "2014-03-31T14:19:39Z",
      "title": "Unexpected behavior: has_many :through with  default_scope and unscope!?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14537/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14537/comments",
      "html_url": "https://github.com/rails/rails/issues/14537"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The `:primary_key` option in a has_many relationship is referring to the column to be used as a key for the defining model, but `#collection_singular_ids` tries to use it as the ID column of the associated model.\n\nNote: Although I'm using 3.2.17, from looking at the code in master I believe this bug still exists in Rails 4.\n### Example Models\n\n``` ruby\nclass User < ActiveRecord::Base\n    # :id => :integer, :primary\n    # :uuid => :string\n\n    has_many :games, :foreign_key => :player_uuid, :primary_key => :uuid\nend\n```\n\n``` ruby\nclass Game < ActiveRecord::Base\n    # :id => :integer, :primary\n    # :player_uuid => :string\n\n    belongs_to :player, :foreign_key => :player_uuid, :primary_key => :uuid\nend\n```\n### Output\n\n```\n> u = Users.first\n> u.games_ids\nNoMethodError: undefined method `uuid' for #<Game:0x007fcf01e38e38>\n    from .../gems/activemodel-3.2.17/lib/active_model/attribute_methods.rb:407:in `method_missing'\n    from .../gems/activerecord-3.2.17/lib/active_record/attribute_methods.rb:149:in `method_missing'\n    from .../gems/activerecord-3.2.17/lib/active_record/associations/collection_association.rb:48:in `block in ids_reader'\n    from .../gems/activerecord-3.2.17/lib/active_record/associations/collection_association.rb:47:in `map'\n    from .../gems/activerecord-3.2.17/lib/active_record/associations/collection_association.rb:47:in `ids_reader'\n    from .../gems/activerecord-3.2.17/lib/active_record/associations/builder/collection_association.rb:62:in `block in define_readers'\n    from (irb):3\n```\n",
      "number": 14439,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dpogue/subscriptions",
         "received_events_url": "https://api.github.com/users/dpogue/received_events",
         "url": "https://api.github.com/users/dpogue",
         "avatar_url": "https://avatars3.githubusercontent.com/u/241708?v=4",
         "events_url": "https://api.github.com/users/dpogue/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dpogue/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dpogue/following{/other_user}",
         "repos_url": "https://api.github.com/users/dpogue/repos",
         "site_admin": false,
         "id": 241708,
         "organizations_url": "https://api.github.com/users/dpogue/orgs",
         "login": "dpogue",
         "gists_url": "https://api.github.com/users/dpogue/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dpogue/followers",
         "html_url": "https://github.com/dpogue"
      },
      "state": "closed",
      "closed_by": "27609",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14439",
      "updated_at": "2017-08-14T21:43:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14439/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 29853603,
      "closed_at": "2017-08-14T21:43:27Z",
      "created_at": "2014-03-20T20:11:39Z",
      "title": "collection_singular_ids broken with has_many primary_key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14439/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14439/comments",
      "html_url": "https://github.com/rails/rails/issues/14439"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm getting a `NoMethodError in Rails::Mailers#preview` when I try to preview an email view that has an inline attachment (in my case, a .png image).\n\nMore precisely:\n\n```\n.../gems/ruby-2.0.0-p195@rails410rc1/gems/railties-4.1.0.rc1/lib/rails/templates/rails/mailers/email.html.erb where line #95 raised:\n\nundefined method `mime_type' for #<Array:0xdd84674>\n```\n\nLine #95 is:\n\n```\n<iframe seamless name=\"messageBody\" src=\"?part=<%= Rack::Utils.escape(@part.mime_type) %>\"></iframe>\n```\n\nNote:\n- Removing this attachment from `def my_mail [...] end` makes the error vanish.\n- Setting this inline attachment to \"not inline\" does not make the error vanish.\n- \".deliver\"-ing the email despite the preview error message does send it correctly (the inline attachment is rendered correctly).\n",
      "number": 14435,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": true,
      "user": {
         "subscriptions_url": "https://api.github.com/users/john-999/subscriptions",
         "received_events_url": "https://api.github.com/users/john-999/received_events",
         "url": "https://api.github.com/users/john-999",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3640027?v=4",
         "events_url": "https://api.github.com/users/john-999/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/john-999/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/john-999/following{/other_user}",
         "repos_url": "https://api.github.com/users/john-999/repos",
         "site_admin": false,
         "id": 3640027,
         "organizations_url": "https://api.github.com/users/john-999/orgs",
         "login": "john-999",
         "gists_url": "https://api.github.com/users/john-999/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/john-999/followers",
         "html_url": "https://github.com/john-999"
      },
      "state": "closed",
      "closed_by": "50d272",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14435",
      "updated_at": "2015-05-04T09:59:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14435/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 13,
      "id": 29823489,
      "closed_at": "2015-05-04T09:59:33Z",
      "created_at": "2014-03-20T14:35:59Z",
      "title": "Rails 4.1.0.rc1 - Mailers#preview + inline attachment => NoMethodError",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14435/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14435/comments",
      "html_url": "https://github.com/rails/rails/issues/14435"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The assert_select method reports conflicting results when it returns. \n\n1) Write a test with assert_select that requires an exact number of a given element on a page. \n2) Create content for the page with the wrong number of such elements. \n3) Run the test. \n\n--! Assert output mixes up Expected vs. Actual. Output from my test here:\n<code>\nExpected exactly 3 elements matching \"#main .entry\", found 4..\nExpected: 4\n  Actual: 3\n</code>\nAfter some help debugging, the long-form message here:\n<code>message = message || %(Expected #{count_description(min, max, count)}\n   matching \"#{selector.to_s}\", found #{matches.size}.)</code>\n...has the expected and actual values in the right order. However, the following call to assert_equal here:\n<code>if count\n          assert_equal matches.size, count, message</code>\n...gets the args reversed, so assert_equal prints the values flipped. \n\nExpect: \n<code>  assert_equal count, matches.size, message</code>\n\nWould make the change myself, but I am a VERY n00b Rails programmer and the dev machine setup's a wee bit intimidating. \n",
      "number": 14422,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Ronelyn/subscriptions",
         "received_events_url": "https://api.github.com/users/Ronelyn/received_events",
         "url": "https://api.github.com/users/Ronelyn",
         "avatar_url": "https://avatars2.githubusercontent.com/u/6414830?v=4",
         "events_url": "https://api.github.com/users/Ronelyn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Ronelyn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Ronelyn/following{/other_user}",
         "repos_url": "https://api.github.com/users/Ronelyn/repos",
         "site_admin": false,
         "id": 6414830,
         "organizations_url": "https://api.github.com/users/Ronelyn/orgs",
         "login": "Ronelyn",
         "gists_url": "https://api.github.com/users/Ronelyn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Ronelyn/followers",
         "html_url": "https://github.com/Ronelyn"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14422",
      "updated_at": "2014-03-23T01:55:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14422/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 29690641,
      "closed_at": "2014-03-23T01:55:22Z",
      "created_at": "2014-03-18T22:21:05Z",
      "title": "assert_select method passes params to assert_equal in wrong order",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14422/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14422/comments",
      "html_url": "https://github.com/rails/rails/issues/14422"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Think of the following object:\n\n``` ruby\nclass User < ActiveRecord::Base\n  class Options\n    class Serializer\n      def self.load(hash)\n        Options.new(hash)\n      end\n\n      def self.dump(object)\n        object.to_hash\n      end\n    end\n\n    attr_accessor :background\n\n    def to_hash\n      { background: background }\n    end\n\n    private\n\n    def initialize(attributes)\n      self.background = attributes[:background]\n    end\n  end\n\n  serialize :options, Options::Serializer\nend\n```\n\nThe `options` column is a Postgre `hstore` one supported since Rails 4.0.0.\n\nWhen object gets initialized of fetched from database, `User::Options::Serializer.load` receives a hash (Rails typecasted pg's hstore into a hash).\n\nHowever, when duplicating an object, `User::Options::Serializer.load` gets the raw Postgres hstore; which is unexpected.\n\nI've found a workaround which is to check the type of input and if it's a string convert it to a hash using `#string_to_hstore`. But it's not the right thing to do, is it?\n\nI've created an app and a test to better demonstrate this situation:\nhttps://github.com/leods92/hstore_dup_bug\n\nMaybe this was by design but I don't think so since Rails tends to be very standard and to meet one's expectations.\nOne might argue that since I'm using a Serializer, input should be unserialized. Okay, great, but in this case `Serializer.load` should _always_ get hstore raw string.\nI don't really agree with that since a Serializer should only handle its own serialization not typecasting.\n\nMaybe the problem is in `active_record/attribute_methods/serialization.rb` on `#read_attribute_before_type_cast`.\nI feel that I'm very close to understand the whole process but since I've already spent hours on this I decided to post this and let somebody more experienced give his thoughts on this.\n\nSome issues that might be related to this problem:\nhttps://github.com/rails/rails/issues/5797\nhttps://github.com/rails/rails/issues/4837\n",
      "number": 14411,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/leods92/subscriptions",
         "received_events_url": "https://api.github.com/users/leods92/received_events",
         "url": "https://api.github.com/users/leods92",
         "avatar_url": "https://avatars0.githubusercontent.com/u/879395?v=4",
         "events_url": "https://api.github.com/users/leods92/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/leods92/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/leods92/following{/other_user}",
         "repos_url": "https://api.github.com/users/leods92/repos",
         "site_admin": false,
         "id": 879395,
         "organizations_url": "https://api.github.com/users/leods92/orgs",
         "login": "leods92",
         "gists_url": "https://api.github.com/users/leods92/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/leods92/followers",
         "html_url": "https://github.com/leods92"
      },
      "state": "closed",
      "closed_by": "9274ce",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14411",
      "updated_at": "2014-06-06T13:12:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14411/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 10,
      "id": 29589003,
      "closed_at": "2014-06-06T13:12:22Z",
      "created_at": "2014-03-17T19:01:28Z",
      "title": "Postgres hstore conflicts with serialization",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14411/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14411/comments",
      "html_url": "https://github.com/rails/rails/issues/14411"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\nPost.find(User.first)\n```\n\n> User Load (1.0ms)  SELECT \"users\".\\* FROM \"users\" LIMIT 1\n> Post Load (1.0ms)  SELECT \"posts\".\\* FROM \"posts\" WHERE \"posts\".\"id\" = $1 LIMIT 1  [[\"id\", 1]]\n",
      "number": 14297,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/crackedmind/subscriptions",
         "received_events_url": "https://api.github.com/users/crackedmind/received_events",
         "url": "https://api.github.com/users/crackedmind",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1381503?v=4",
         "events_url": "https://api.github.com/users/crackedmind/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/crackedmind/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/crackedmind/following{/other_user}",
         "repos_url": "https://api.github.com/users/crackedmind/repos",
         "site_admin": false,
         "id": 1381503,
         "organizations_url": "https://api.github.com/users/crackedmind/orgs",
         "login": "crackedmind",
         "gists_url": "https://api.github.com/users/crackedmind/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/crackedmind/followers",
         "html_url": "https://github.com/crackedmind"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14297",
      "updated_at": "2014-03-12T00:39:33Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14297/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 28863877,
      "closed_at": "2014-03-12T00:39:33Z",
      "created_at": "2014-03-06T10:28:16Z",
      "title": "Undocumented behavior of ActiveRecord find method",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14297/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14297/comments",
      "html_url": "https://github.com/rails/rails/issues/14297"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi guys! I have found a strange behaviour of `button_tag` helper while making several buttons to submit one form.\n\nIf I call it like this: \n\n``` ruby\nbutton_tag name: \"temptation\", value: \"within\" do \n  content_tag(:strong, 'Do not press me')\nend\n```\n\nI would get:\n\n``` html\n<button name=\"temptation\" value=\"within\"><strong>Do not press me</strong></button>\n```\n\nHowever I have expected:\n\n``` html\n<button name=\"temptation\" value=\"within\" type=\"submit\"><strong>Do not press me</strong></button>\n```\n\nDefault options never get applied in this case. See how default values are being merged into options inside `button_tag` helper. Further we will see that this takes no effect as options are being ignored inside `content_tag`\n\nConsider the following code:\n[https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/form_tag_helper.rb#L471]\n\n``` ruby\ndef button_tag(content_or_options = nil, options = nil, &block)\n  options = content_or_options if block_given? && content_or_options.is_a?(Hash)\n\n  options ||= {}\n  options = options.stringify_keys\n\n  options.reverse_merge! 'name' => 'button', 'type' => 'submit'\n\n  content_tag :button, content_or_options || 'Button', options, &block\nend\n```\n\nIf options is a hash it gets passed down to `content_tag` along with `content_or_options` which is apparently a hash too. Let\u2019s get deeper:\n[https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/tag_helper.rb#L94]\n\n``` ruby\ndef content_tag(name, content_or_options_with_block = nil, options = nil, escape = true, &block)\n  if block_given?\n     options = content_or_options_with_block if content_or_options_with_block.is_a?(Hash)\n     content_tag_string(name, capture(&block), options, escape)\n  else\n    content_tag_string(name, content_or_options_with_block, options, escape)\n  end\nend\n```\n\nAs far as `content_or_options_with_block` is a `Hash` then options are being assigned to `content_or_options_with_block`. Remember that `options` variable does have default values merged into it while `content_or_options_with_block` does not. Then default values simply get lost.\n\nI think the `button_tag` may look like this:\n\n``` ruby\ndef button_tag(content_or_options = nil, options = nil, &block)\n  if block_given? && content_or_options.is_a?(Hash)\n    options = button_tag_options_with_defaults(content_or_options)\n    content_tag :button, options, &block\n  else\n    options = button_tag_options_with_defaults(options)\n    content_tag :button, content_or_options || 'Button', options\n  end\nend\n```\n\nWould you guys consider a pull request for this?\n\nPS\nReferences: https://github.com/rails/rails/pull/189\n",
      "number": 14254,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/prikha/subscriptions",
         "received_events_url": "https://api.github.com/users/prikha/received_events",
         "url": "https://api.github.com/users/prikha",
         "avatar_url": "https://avatars1.githubusercontent.com/u/594872?v=4",
         "events_url": "https://api.github.com/users/prikha/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prikha/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prikha/following{/other_user}",
         "repos_url": "https://api.github.com/users/prikha/repos",
         "site_admin": false,
         "id": 594872,
         "organizations_url": "https://api.github.com/users/prikha/orgs",
         "login": "prikha",
         "gists_url": "https://api.github.com/users/prikha/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prikha/followers",
         "html_url": "https://github.com/prikha"
      },
      "state": "closed",
      "closed_by": "7d520b",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14254",
      "updated_at": "2014-03-04T10:51:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14254/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 28606010,
      "closed_at": "2014-03-04T10:51:58Z",
      "created_at": "2014-03-03T08:40:58Z",
      "title": "ActionView button_tag misses default options",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14254/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14254/comments",
      "html_url": "https://github.com/rails/rails/issues/14254"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is happening on my Rails 4.0.3 app but seems to also be present in master.\n\nThere seems to be a discrepancy between the `:long` format [defined in `Date::DATE_FORMATS`](https://github.com/rails/rails/blob/c6897b7d7b18b5c89aca46d4595b47c2590ce335/activesupport/lib/active_support/core_ext/date/conversions.rb#L9) (`%B %e, %Y`) and the one [defined in the default `locale/en.yml`](https://github.com/rails/rails/blob/master/activesupport/lib/active_support/locale/en.yml#L9) (`%B %d, %Y`).\n\nNamely, the `%e` parameter in the former causes the rendered date to have two spaces between the month and the day when the day is single-digit, due to the fact that it pads the day number with spaces. The latter instead pads the day number with zeroes.\n\nIs this discrepancy known of? I discovered it today while testing, because I used `to_s(:long)` in my test and the `l` helper in my view.\n\nIn my opinion, the date should be displayed without leading zeros on the day but also without repeated spaces. A format string of `%B %-e, %Y` seems to accomplish this.\n",
      "number": 14237,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/gabrielecirulli/subscriptions",
         "received_events_url": "https://api.github.com/users/gabrielecirulli/received_events",
         "url": "https://api.github.com/users/gabrielecirulli",
         "avatar_url": "https://avatars1.githubusercontent.com/u/886011?v=4",
         "events_url": "https://api.github.com/users/gabrielecirulli/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/gabrielecirulli/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/gabrielecirulli/following{/other_user}",
         "repos_url": "https://api.github.com/users/gabrielecirulli/repos",
         "site_admin": false,
         "id": 886011,
         "organizations_url": "https://api.github.com/users/gabrielecirulli/orgs",
         "login": "gabrielecirulli",
         "gists_url": "https://api.github.com/users/gabrielecirulli/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/gabrielecirulli/followers",
         "html_url": "https://github.com/gabrielecirulli"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14237",
      "updated_at": "2016-08-06T07:26:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14237/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 28542638,
      "closed_at": "2016-08-06T07:26:22Z",
      "created_at": "2014-02-28T23:47:29Z",
      "title": "Discrepancy between `date.to_s(:long)` and `l(date, format: :long)`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14237/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14237/comments",
      "html_url": "https://github.com/rails/rails/issues/14237"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello!\n[Here](https://gist.github.com/kia84/9249804) you can see the test, that show this bug.\nWe try assign empty array to empty collection, and in output we can see empty transaction block:\n\n```\nD, [2014-02-27T17:15:31.412905 #29146] DEBUG -- :    (0.1ms)  begin transaction\nD, [2014-02-27T17:15:31.413080 #29146] DEBUG -- :    (0.0ms)  commit transaction\n```\n\n---\n\nI delete the gist.\nHere is a short meaning of the problem (for searchers and history):\n\n``` ruby\npost = Post.create!\npost.comments.inspect\n# => #<ActiveRecord::Associations::CollectionProxy []>\npost.comments = []\n#   (0.9ms)  BEGIN\n#   (0.7ms)  COMMIT\n# => []\n```\n",
      "number": 14220,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/korun/subscriptions",
         "received_events_url": "https://api.github.com/users/korun/received_events",
         "url": "https://api.github.com/users/korun",
         "avatar_url": "https://avatars3.githubusercontent.com/u/5562931?v=4",
         "events_url": "https://api.github.com/users/korun/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/korun/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/korun/following{/other_user}",
         "repos_url": "https://api.github.com/users/korun/repos",
         "site_admin": false,
         "id": 5562931,
         "organizations_url": "https://api.github.com/users/korun/orgs",
         "login": "korun",
         "gists_url": "https://api.github.com/users/korun/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/korun/followers",
         "html_url": "https://github.com/korun"
      },
      "state": "closed",
      "closed_by": "14234",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14220",
      "updated_at": "2014-03-03T05:57:47Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14220/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 28418083,
      "closed_at": "2014-03-01T14:03:23Z",
      "created_at": "2014-02-27T13:21:49Z",
      "title": "ActiveRecord 4.0.3 unnecessary requests to db",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14220/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14220/comments",
      "html_url": "https://github.com/rails/rails/issues/14220"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It appears that the SQL query used to check for duplication fails when one of the columns is using the new (Rails 4.1) enum type. Regardless of the value for the enum in a new object, the SQL looks for something where the value is 0 (zero).\n\nIn my specific example, I have\n\n```\nclass Role < ActiveRecord::Base\n  belongs_to :user\n  enum name: [:admin, :coordinator, :participant] # i.e. admin=0, coordinator=1, participant=2\n  validates :name, uniqueness: { scope: :user_id }\nend\n```\n\nIf I have the following code...\n\n```\nRole.create(user: some_user, name: :participant) # creates a valid role\nRole.create(user: some_user, name: :participant) # saves another role (but shouldn't)\n```\n\nDuring each of those statements, Rails run the following SQL to check for uniqueness\n\n```\nSELECT  1 AS one FROM \"roles\"  WHERE (\"roles\".\"name\" = 0 AND \"roles\".\"user_id\" = 1) LIMIT 1\n```\n\nAs I am trying to save records with a role name of \"participant\" (=2), and the query looks for records with a value of zero, the duplicate isn't detected and the record is saved.\n\nMaybe I'm missing something, but this looks like an actual bug to me.\n\nNote that the same error occurs if I use a string, symbol, or integer as the value for the new enum field.\n",
      "number": 14172,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/michaelfagan/subscriptions",
         "received_events_url": "https://api.github.com/users/michaelfagan/received_events",
         "url": "https://api.github.com/users/michaelfagan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/687065?v=4",
         "events_url": "https://api.github.com/users/michaelfagan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/michaelfagan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/michaelfagan/following{/other_user}",
         "repos_url": "https://api.github.com/users/michaelfagan/repos",
         "site_admin": false,
         "id": 687065,
         "organizations_url": "https://api.github.com/users/michaelfagan/orgs",
         "login": "michaelfagan",
         "gists_url": "https://api.github.com/users/michaelfagan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/michaelfagan/followers",
         "html_url": "https://github.com/michaelfagan"
      },
      "state": "closed",
      "closed_by": "14203",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14172",
      "updated_at": "2014-09-04T08:06:56Z",
      "milestone": {
         "closed_at": "2014-04-08T21:52:12Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/29",
         "description": "",
         "updated_at": "2014-04-08T21:52:12Z",
         "number": 29,
         "due_on": "2014-04-08T07:00:00Z",
         "id": 516000,
         "open_issues": 0,
         "closed_issues": 161,
         "created_at": "2013-12-17T20:57:35Z",
         "title": "4.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/29/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/29",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14172/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126788695,
            "url": "https://api.github.com/repos/rails/rails/labels/enum",
            "color": "d4c5f9",
            "default": false,
            "name": "enum"
         }
      ],
      "comments": 2,
      "id": 28126420,
      "closed_at": "2014-02-27T22:56:11Z",
      "created_at": "2014-02-23T20:29:41Z",
      "title": "uniqueness validation fails on enums",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14172/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14172/comments",
      "html_url": "https://github.com/rails/rails/issues/14172"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When running `rake db:schema:dump` on a legacy schema with a table like the following:\n\n``` sql\nCREATE TABLE `hashes` (\n  `recordcount` tinyint(4) NOT NULL,\n  `timecreated` datetime NOT NULL,\n  `sha` varchar(40) NOT NULL DEFAULT '',\n  PRIMARY KEY (`sha`),\n  KEY `timecreated` (`timecreated`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n```\n\nRails produces the following schema information:\n\n``` ruby\ncreate_table \"hashes\", primary_key: \"sha\", force: true do |t|\n  t.integer \"recordcount\", limit 1, null: false\n  t.datetime \"timecreated\", null: false\nend\n```\n\nThe string type of the `sha` field is lost, so when re-creating a database from the schema we wind up with an auto-incrementing integer field instead of a varchar.\n\nInterestingly, on another similar table where the hash key is part of a compound primary key, the information is preserved and the table is re-created correctly.\n",
      "number": 14169,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lsimoneau/subscriptions",
         "received_events_url": "https://api.github.com/users/lsimoneau/received_events",
         "url": "https://api.github.com/users/lsimoneau",
         "avatar_url": "https://avatars3.githubusercontent.com/u/31768?v=4",
         "events_url": "https://api.github.com/users/lsimoneau/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lsimoneau/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lsimoneau/following{/other_user}",
         "repos_url": "https://api.github.com/users/lsimoneau/repos",
         "site_admin": false,
         "id": 31768,
         "organizations_url": "https://api.github.com/users/lsimoneau/orgs",
         "login": "lsimoneau",
         "gists_url": "https://api.github.com/users/lsimoneau/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lsimoneau/followers",
         "html_url": "https://github.com/lsimoneau"
      },
      "state": "closed",
      "closed_by": "18228",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14169",
      "updated_at": "2015-01-02T16:38:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14169/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 28117167,
      "closed_at": "2015-01-02T16:38:56Z",
      "created_at": "2014-02-23T11:47:35Z",
      "title": "rake db:schema:dump ignores type of non-numeric primary key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14169/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14169/comments",
      "html_url": "https://github.com/rails/rails/issues/14169"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "(NOTE: see #12770 and #14154 for more background on this)\n\nIn this test case, the data loaded into `special_categorizations` actually comes from the `categorizations` relation. The generated SQL looks like this, when the patch in #14154 is included:\n\n```\nSELECT \"categories\".\"id\" AS t0_r0, \"categories\".\"name\" AS t0_r1, \"categories\".\"type\" AS t0_r2, \"categories\".\"categorizations_count\" AS t0_r3,\n    \"categorizations\".\"id\" AS t1_r0, \"categorizations\".\"category_id\" AS t1_r1, \"categorizations\".\"named_category_name\" AS t1_r2, \"categorizations\".\"post_id\" AS t1_r3, \"categorizations\".\"author_id\" AS t1_r4, \"categorizations\".\"special\" AS t1_r5 \n    FROM \"categories\"\n    LEFT OUTER JOIN \"categorizations\" \"special_categorizations_categories\" ON \"special_categorizations_categories\".\"category_id\" = \"categories\".\"id\" AND \"special_categorizations_categories\".\"special\" = 't'\n    INNER JOIN \"categorizations\" ON \"categories\".\"id\" = \"categorizations\".\"category_id\" \n    WHERE \"categorizations\".\"author_id\" = ?  ORDER BY \"categories\".\"name\" ASC\n```\n\nBefore #14154, the `ON` clause for `special_categorizations_categories` would specify a condition on `categorizations` instead of the intended table - but the test still fails.\n\nTest case (I put it in `activerecord/test/cases/associations/inner_join_association_test.rb`, YMMV):\n\n``` ruby\n  test \"the correct records are loaded when including an aliased association\" do\n    author = Author.create! name: \"Jon\"\n    author.categories.create! name: 'Not Special'\n    author.special_categories.create! name: 'Special'\n\n    categories = author.categories.eager_load(:special_categorizations).order(:name).to_a\n\n    assert_equal 0, categories.first.special_categorizations.size\n    assert_equal 1, categories.second.special_categorizations.size\n  end\n```\n\nI didn't have much luck chasing down the source of this - best I can tell, somehow the code that's generating the `SELECT` clause doesn't know about the `LEFT OUTER JOIN` clause using an alias. Much arel, wow no idea.\n\nThere's a related behavior when eager-loading the association being queried through (`categorizations` in this case): the only records that get eager-loaded in that case are the ones actually used to reach the result. In this case, that means that _only_ `Categorization` records for the specified author will be loaded. It's not clear to me whether this is an accidental bug or an intentional feature (possibly an accidental feature?). It does result in some peculiar SQL (`LEFT OUTER JOIN` to an aliased name, then an `INNER JOIN` to the same table).\n\n/cc @tenderlove \n",
      "number": 14155,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/al2o3cr/subscriptions",
         "received_events_url": "https://api.github.com/users/al2o3cr/received_events",
         "url": "https://api.github.com/users/al2o3cr",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1191?v=4",
         "events_url": "https://api.github.com/users/al2o3cr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/al2o3cr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/al2o3cr/following{/other_user}",
         "repos_url": "https://api.github.com/users/al2o3cr/repos",
         "site_admin": false,
         "id": 1191,
         "organizations_url": "https://api.github.com/users/al2o3cr/orgs",
         "login": "al2o3cr",
         "gists_url": "https://api.github.com/users/al2o3cr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/al2o3cr/followers",
         "html_url": "https://github.com/al2o3cr"
      },
      "state": "closed",
      "closed_by": "14657",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14155",
      "updated_at": "2014-07-03T10:07:44Z",
      "milestone": {
         "closed_at": "2014-09-12T20:30:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/31",
         "description": "",
         "updated_at": "2014-09-12T20:30:59Z",
         "number": 31,
         "due_on": "2014-08-12T07:00:00Z",
         "id": 600488,
         "open_issues": 0,
         "closed_issues": 19,
         "created_at": "2014-03-17T16:51:45Z",
         "title": "4.0.10",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/31/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/31",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14155/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 28085157,
      "closed_at": "2014-05-27T17:35:10Z",
      "created_at": "2014-02-22T01:07:29Z",
      "title": "Eager load misses aliased tables",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14155/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14155/comments",
      "html_url": "https://github.com/rails/rails/issues/14155"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\nhidden_name = @html_options[:name] || \"#{tag_name}[]\"\n```\n\nit uses `tag_name` instead of `tag_name_with_index` so the name of the check box does not match the name of the hidden field\n",
      "number": 14147,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bughit/subscriptions",
         "received_events_url": "https://api.github.com/users/bughit/received_events",
         "url": "https://api.github.com/users/bughit",
         "avatar_url": "https://avatars3.githubusercontent.com/u/895588?v=4",
         "events_url": "https://api.github.com/users/bughit/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bughit/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bughit/following{/other_user}",
         "repos_url": "https://api.github.com/users/bughit/repos",
         "site_admin": false,
         "id": 895588,
         "organizations_url": "https://api.github.com/users/bughit/orgs",
         "login": "bughit",
         "gists_url": "https://api.github.com/users/bughit/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bughit/followers",
         "html_url": "https://github.com/bughit"
      },
      "state": "closed",
      "closed_by": "14736",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14147",
      "updated_at": "2014-04-14T14:41:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14147/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 28061954,
      "closed_at": "2014-04-14T14:41:04Z",
      "created_at": "2014-02-21T18:26:50Z",
      "title": "CollectionCheckBoxes#render ignores @options[:index] for the hidden filed name",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14147/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14147/comments",
      "html_url": "https://github.com/rails/rails/issues/14147"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I add a float field with \":limit => 53\" in my migration for a mysql database: \n<code>t.float :number, :limit => 53</code>\n\nRails properly creates a column with mysql datatype \"double\", after running rake.\n\n<b>But</b> in the schema.rb there is just the following: \n<code>t.float    \"number\"</code>, \nwhere \":limit => 53\" is missing.\n\nThis would fail to create a mysql \"double\" column when e.g. \"db:setup\" is executed for \nproduction on another machine.\n\nI suggest either:\n\n<ul>\n<li>supply a different way for creating the mysql datatype double, e.g. a rails datatype double which is supported by most databases</li>\n<li>fix the \":limit\" option to be handled consistently and included in the schema.rb</li>\n</ul>\n\n\nThis issue might affect other database adapters as well. \nDue to the possible loss of data while inserting into a field which should be double and is only float, I consider this issue <b>important</b>. Fully support of doubles is highly wanted!\n",
      "number": 14135,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "url": "https://api.github.com/users/matthewd",
            "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "site_admin": false,
            "id": 1034,
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "login": "matthewd",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "html_url": "https://github.com/matthewd"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/timmi-on-rails/subscriptions",
         "received_events_url": "https://api.github.com/users/timmi-on-rails/received_events",
         "url": "https://api.github.com/users/timmi-on-rails",
         "avatar_url": "https://avatars3.githubusercontent.com/u/6745700?v=4",
         "events_url": "https://api.github.com/users/timmi-on-rails/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/timmi-on-rails/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/timmi-on-rails/following{/other_user}",
         "repos_url": "https://api.github.com/users/timmi-on-rails/repos",
         "site_admin": false,
         "id": 6745700,
         "organizations_url": "https://api.github.com/users/timmi-on-rails/orgs",
         "login": "timmi-on-rails",
         "gists_url": "https://api.github.com/users/timmi-on-rails/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/timmi-on-rails/followers",
         "html_url": "https://github.com/timmi-on-rails"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14135",
      "updated_at": "2014-08-14T08:18:05Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14135/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
         "received_events_url": "https://api.github.com/users/matthewd/received_events",
         "url": "https://api.github.com/users/matthewd",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1034?v=4",
         "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
         "repos_url": "https://api.github.com/users/matthewd/repos",
         "site_admin": false,
         "id": 1034,
         "organizations_url": "https://api.github.com/users/matthewd/orgs",
         "login": "matthewd",
         "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/matthewd/followers",
         "html_url": "https://github.com/matthewd"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 28025768,
      "closed_at": "2014-05-15T18:03:01Z",
      "created_at": "2014-02-21T08:31:13Z",
      "title": "Support for mysql datatype 'double' in rails 4",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14135/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14135/comments",
      "html_url": "https://github.com/rails/rails/issues/14135"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using Rails 4.1.0beta1\n\nsteps to reproduce:\n- create new mountable engine\n\n```\nrails plugin new School --mountable\n```\n- generate a controller for the engine (from the engine root)\n\n```\nrails g controller dashboard history main_dashboard\n```\n\nhere are the generated routes (routes.rb) at the engine:\n\n``` ruby\nSchool::Engine.routes.draw do\n  namespace :school do\n  get \"dashboard/history\"\n  end\n\n  namespace :school do\n  get \"dashboard/main_dashboard\"\n  end\n\nend\n```\n- execute rails server from the dummy app root\n\n```\nrails s\n```\n- visit **http://localhost:3000/school/dashboard/history**, the route can't be found\n  ![error](http://i.imgur.com/uxlQYtV.png)\n- the generated link would be like **school/school/dashboard#history**.\n- i think the first 'school' is coming from the engine, while the later is coming from the namespace\n- if i delete the namespace at the block, **http://localhost:3000/school/dashboard/history** will be just like usual (responding with correct controller and action)\n- it is funny, because if i generate a scaffolding for the engine, there is no namespace generated for the resource...\n- i tested this at a dummy app and a real app\n- it is okay to delete the namespace block, but if i need to generate more than 20 actions, i will cry\n\nIs this a bug, or am I doing something wrong?\n",
      "number": 14079,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dwahyudi/subscriptions",
         "received_events_url": "https://api.github.com/users/dwahyudi/received_events",
         "url": "https://api.github.com/users/dwahyudi",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3603280?v=4",
         "events_url": "https://api.github.com/users/dwahyudi/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dwahyudi/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dwahyudi/following{/other_user}",
         "repos_url": "https://api.github.com/users/dwahyudi/repos",
         "site_admin": false,
         "id": 3603280,
         "organizations_url": "https://api.github.com/users/dwahyudi/orgs",
         "login": "dwahyudi",
         "gists_url": "https://api.github.com/users/dwahyudi/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dwahyudi/followers",
         "html_url": "https://github.com/dwahyudi"
      },
      "state": "closed",
      "closed_by": "14195",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14079",
      "updated_at": "2014-03-01T00:26:04Z",
      "milestone": {
         "closed_at": "2014-04-08T21:52:12Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/29",
         "description": "",
         "updated_at": "2014-04-08T21:52:12Z",
         "number": 29,
         "due_on": "2014-04-08T07:00:00Z",
         "id": 516000,
         "open_issues": 0,
         "closed_issues": 161,
         "created_at": "2013-12-17T20:57:35Z",
         "title": "4.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/29/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/29",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/14079/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 4,
      "id": 27692704,
      "closed_at": "2014-03-01T00:26:04Z",
      "created_at": "2014-02-17T05:08:28Z",
      "title": "generated engine namespaced action route can't be found by app",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14079/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14079/comments",
      "html_url": "https://github.com/rails/rails/issues/14079"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In the case, where `has_one :through` refers to a model that is a child class, `includes` causes AR to create invalid SQL.\n\nMy gist is an example of this behaviour: https://gist.github.com/mp-dhorsak/8977542\n\nError: \n\n```\nActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: geographies.type: SELECT \"addresses\".* FROM \"addresses\"  WHERE \"geographies\".\"type\" IN ('Country') AND \"addresses\".\"user_id\" IN (1)\n```\n\nThe problem occurs in both Rails 4.0.2 and 4.1.0.beta1\n",
      "number": 14046,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
         "received_events_url": "https://api.github.com/users/ghost/received_events",
         "url": "https://api.github.com/users/ghost",
         "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
         "events_url": "https://api.github.com/users/ghost/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ghost/following{/other_user}",
         "repos_url": "https://api.github.com/users/ghost/repos",
         "site_admin": false,
         "id": 10137,
         "organizations_url": "https://api.github.com/users/ghost/orgs",
         "login": "ghost",
         "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ghost/followers",
         "html_url": "https://github.com/ghost"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/14046",
      "updated_at": "2017-05-03T16:57:40Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14046/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 27528610,
      "closed_at": "2017-05-03T16:57:40Z",
      "created_at": "2014-02-13T15:56:48Z",
      "title": "has_one :through eager loading using includes creates invalid SQL",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14046/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14046/comments",
      "html_url": "https://github.com/rails/rails/issues/14046"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm encountering this issue in a production application with the Paper Trail gem. (See https://github.com/airblade/paper_trail/issues/307). It's running in JRuby/TorqueBox under Rails 3.2.16. The implementation in Rails 4 looks nearly identical.\n\nIf I understand the [implementation](https://github.com/rails/rails/blob/v3.2.16/activesupport/lib/active_support/core_ext/class/attribute.rb#L80) of `class_attribute` correctly, every time you set the class attribute, it undefines the existing singleton method and defines a new singleton method that simply returns the new value.\n\nIn my app, several threads are setting the class attribute of different instances of the same class. This causes the singleton method of the class to be undefined in one thread, and then another thread raises a `NameError` because the method has been temporarily removed.\n\nIt sounds like an unlikely scenario, but this is happening a couple times a day in a relatively low-traffic app.\n\n`class_attribute` is pretty complex, so I'm not sure how to fix this while retaining the existing functionality. Any advice would be appreciated. Perhaps putting a mutex around the code that undefines/defines would be best?\n",
      "number": 14021,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dwbutler/subscriptions",
         "received_events_url": "https://api.github.com/users/dwbutler/received_events",
         "url": "https://api.github.com/users/dwbutler",
         "avatar_url": "https://avatars2.githubusercontent.com/u/746336?v=4",
         "events_url": "https://api.github.com/users/dwbutler/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dwbutler/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dwbutler/following{/other_user}",
         "repos_url": "https://api.github.com/users/dwbutler/repos",
         "site_admin": false,
         "id": 746336,
         "organizations_url": "https://api.github.com/users/dwbutler/orgs",
         "login": "dwbutler",
         "gists_url": "https://api.github.com/users/dwbutler/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dwbutler/followers",
         "html_url": "https://github.com/dwbutler"
      },
      "state": "closed",
      "closed_by": "29233",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/14021",
      "updated_at": "2017-09-01T07:57:55Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/14021/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 27397906,
      "closed_at": "2017-09-01T06:39:38Z",
      "created_at": "2014-02-11T23:45:24Z",
      "title": "class_attribute not thread-safe",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/14021/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/14021/comments",
      "html_url": "https://github.com/rails/rails/issues/14021"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi,\n\nI don't know if this is an allowed design in rails, but it seems to me that it should be. I'll first describe the models and then explain the (what I feel is, but want confirmation) error. An example repo with instructions on how to reproduce this can be found here: [https://github.com/sergiocampama/multiple_join_bug](https://github.com/sergiocampama/multiple_join_bug) , I am using rails edge and tested it also with 4.0.2, (actual versions of all the gems can be found in `Gemfile.lock`).\n\nI have a model called `Center`, and 2 models called `Left` and `Right`. `Center` `has_many :lefts`, and `has_many :rights`, both through a join model called `Link`, which `belongs_to :center` and `belongs_to :linkable, polymorphic: true`. \n\n`Center` also has scopes to find centers with associated lefts, rights and a combination, called `:with_left(left)`, `:with_right(right)` and `:with_left_and_right(left, right)`, which join the required links and use a `where(rights: {id: right.id})` or the corresponding where clause.\n\nThe problem arises when I have this query:\n\n`left.centers.with_right(right).count`\n\nwhich generate a `StatementInvalid` error in `mysql2` (`sqlite3` silently fails and I haven't tested `pg`). The generated SQL is this:\n\n```\nSELECT COUNT(*) FROM `centers` INNER JOIN `links` `right_links_centers_join` ON `right_links_centers_join`.`center_id` = `centers`.`id` AND `right_links_centers_join`.`linkable_type` = 'Right' AND `links`.`linkable_type` = 'Right' INNER JOIN `rights` ON `rights`.`id` = `right_links_centers_join`.`linkable_id` INNER JOIN `links` ON `centers`.`id` = `links`.`center_id` WHERE `links`.`linkable_id` = 36 AND `links`.`linkable_type` = 'Left' AND `links`.`linkable_type` = 'Left' AND `rights`.`id` = 36\n```\n\nAs you can see, the first reference to the links table gets aliased to `right_links_centers_join`, and the second reference doesn't get an alias (because it's not needed). There are two conditions (`AND 'links'.'linkable_type' = 'Right'` and `AND 'links'.'linkable_type' = 'Left'`) which are not only redundant, but also generate the `StatementInvalid` error in the `Right` association.\n\nAt first I thought that it could be from the `source_type` option in the `has_many :lefts` options in `Control`, but because the join table is polymorphic, rails complains that the `source_type` needs to be explicit.\n\nIs this a bug? Or am I using the has_many in a wrong way? Even if I'm wrong, I think it should throw an error before generating a wrong SQL query.\n\nBest regards,\n",
      "number": 13920,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sergiocampama/subscriptions",
         "received_events_url": "https://api.github.com/users/sergiocampama/received_events",
         "url": "https://api.github.com/users/sergiocampama",
         "avatar_url": "https://avatars2.githubusercontent.com/u/689198?v=4",
         "events_url": "https://api.github.com/users/sergiocampama/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sergiocampama/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sergiocampama/following{/other_user}",
         "repos_url": "https://api.github.com/users/sergiocampama/repos",
         "site_admin": false,
         "id": 689198,
         "organizations_url": "https://api.github.com/users/sergiocampama/orgs",
         "login": "sergiocampama",
         "gists_url": "https://api.github.com/users/sergiocampama/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sergiocampama/followers",
         "html_url": "https://github.com/sergiocampama"
      },
      "state": "closed",
      "closed_by": "3c5aa8",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13920",
      "updated_at": "2017-10-30T13:15:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13920/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 26754549,
      "closed_at": "2017-10-30T13:15:53Z",
      "created_at": "2014-02-02T04:48:54Z",
      "title": "Polymorphic join table generating wrong SQL",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13920/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13920/comments",
      "html_url": "https://github.com/rails/rails/issues/13920"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Sample model structure:\n\n``` ruby\nclass Base::Role < ActiveRecord::Base\n  self.table_name = 'roles'\n  self.abstract_class = true\nend\n\nclass Base::Power < ActiveRecord::Base\n  self.abstract_class = true\nend\n\nclass Base::Organization < ActiveRecord::Base\n  self.abstract_class = true\nend\n\nclass Power < Base::Power\nself.primary_key = 'id'\n\nhas_and_belongs_to_many :roles, class_name: 'Role'\nend\n\nclass Role < Base::Role\n  has_and_belongs_to_many :powers, class_name: 'Power'\n  belongs_to :organization, class_name: 'Organization'\nend\n\nclass Organization < Base::Organization\n  self.primary_key = 'id'\n\n  has_many :roles, class_name: 'Role'\nend\n\nclass Mod::Power < Power; end\nclass Mod::Organization < Organization; end\nclass Mod::Role < Role; end\n```\n\nDoing `Mod::Role(id).destroy` works like a charm. However, this does not work:\n\n``` ruby\nMod::Role.includes(:powers).where(organization_id: 'ORG_00001').find(id).destroy\n```\n\nCauses this `NoMethodError`:\n\n```\nNoMethodError: undefined method `to_sym' for nil:NilClass\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/sanitization.rb:58:in `block in expand_hash_conditions_for_aggregates'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/sanitization.rb:57:in `each'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/sanitization.rb:57:in `expand_hash_conditions_for_aggregates'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/relation/query_methods.rb:923:in `build_where'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/relation/query_methods.rb:555:in `where!'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/relation/query_methods.rb:545:in `where'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/has_many_association.rb:117:in `delete_records'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:472:in `remove_records'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:465:in `block in delete_or_destroy'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:148:in `block in transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:198:in `transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/transactions.rb:211:in `transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:147:in `transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:465:in `delete_or_destroy'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:233:in `delete'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/associations/collection_association.rb:178:in `delete_all'\n... 11 levels.user\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/transactions.rb:267:in `block in destroy'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/transactions.rb:329:in `block in with_transaction_returning_status'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:200:in `block in transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:208:in `within_new_transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/connection_adapters/abstract/database_statements.rb:200:in `transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/transactions.rb:211:in `transaction'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/transactions.rb:326:in `with_transaction_returning_status'\n    from /Users/user/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/transactions.rb:267:in `destroy'\n```\n\nI tried debugging the problem and got into AR internals. This is the problem:\n\n```\nFrom: /Users/davidhorsak/.rvm/gems/ruby-2.1.0@mpx-um-app/gems/activerecord-4.1.0.beta1/lib/active_record/sanitization.rb @ line 58 ActiveRecord::Sanitization::ClassMethods#expand_hash_conditions_for_aggregates:\n\n    55: def expand_hash_conditions_for_aggregates(attrs)\n    56:   expanded_attrs = {}\n    57:   attrs.each do |attr, value|\n => 58:     if aggregation = reflect_on_aggregation(attr.to_sym)\n    59:       mapping = aggregation.mapping\n    60:       mapping.each do |field_attr, aggregate_attr|\n    61:         if mapping.size == 1 && !value.respond_to?(aggregate_attr)\n    62:           expanded_attrs[field_attr] = value\n    63:         else\n    64:           expanded_attrs[field_attr] = value.send(aggregate_attr)\n    65:         end\n    66:       end\n    67:     else\n    68:       expanded_attrs[attr] = value\n    69:     end\n    70:   end\n    71:   expanded_attrs\n    72: end\n\n[61] pry(HABTM_Powers)> attrs\n=> {nil=>[#<#<Class:0x00000108b03110> power_id: \"af_index_groups\", role_id: 8>]}\n```\n\nAs seen form the backtrace, we are running Ruby 2.1 and Rails 4.1.0.beta. This problem is not present on Rails 4.0.2.\n\nI tried making a small program where I would replicate the problem on the mentioned sample structure but failed. Let me know if I can provide more info on this topic.\n",
      "number": 13893,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
         "received_events_url": "https://api.github.com/users/ghost/received_events",
         "url": "https://api.github.com/users/ghost",
         "avatar_url": "https://avatars3.githubusercontent.com/u/10137?v=4",
         "events_url": "https://api.github.com/users/ghost/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ghost/following{/other_user}",
         "repos_url": "https://api.github.com/users/ghost/repos",
         "site_admin": false,
         "id": 10137,
         "organizations_url": "https://api.github.com/users/ghost/orgs",
         "login": "ghost",
         "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ghost/followers",
         "html_url": "https://github.com/ghost"
      },
      "state": "closed",
      "closed_by": "13899",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13893",
      "updated_at": "2017-11-28T11:13:26Z",
      "milestone": {
         "closed_at": "2014-04-08T21:52:12Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/29",
         "description": "",
         "updated_at": "2014-04-08T21:52:12Z",
         "number": 29,
         "due_on": "2014-04-08T07:00:00Z",
         "id": 516000,
         "open_issues": 0,
         "closed_issues": 161,
         "created_at": "2013-12-17T20:57:35Z",
         "title": "4.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/29/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/29",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/13893/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 14,
      "id": 26626504,
      "closed_at": "2014-02-04T12:11:46Z",
      "created_at": "2014-01-30T19:50:33Z",
      "title": "instance.destroy leads to undefined method `to_sym' for nil:NilClass",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13893/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13893/comments",
      "html_url": "https://github.com/rails/rails/issues/13893"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\nsomething_params = ActionController::Parameters(foo:1).permit!\nexpect(something_params.extract!(:foo).to be_permitted\n```\n\n... but it is not :frowning: \n\nI guess either `Hash#extract!` could use `self.slice` followed by `self.except!` (which may be ever so slightly less efficient), or `ActionController::Parameters#extract!` could be specifically implemented. \n",
      "number": 13830,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rubyruy/subscriptions",
         "received_events_url": "https://api.github.com/users/rubyruy/received_events",
         "url": "https://api.github.com/users/rubyruy",
         "avatar_url": "https://avatars0.githubusercontent.com/u/2922?v=4",
         "events_url": "https://api.github.com/users/rubyruy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rubyruy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rubyruy/following{/other_user}",
         "repos_url": "https://api.github.com/users/rubyruy/repos",
         "site_admin": false,
         "id": 2922,
         "organizations_url": "https://api.github.com/users/rubyruy/orgs",
         "login": "rubyruy",
         "gists_url": "https://api.github.com/users/rubyruy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rubyruy/followers",
         "html_url": "https://github.com/rubyruy"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13830",
      "updated_at": "2014-03-07T20:44:50Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/13830/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 26270878,
      "closed_at": "2014-03-07T19:47:10Z",
      "created_at": "2014-01-24T21:03:50Z",
      "title": "Params returned from Hash#extract! drop their ActionController::Parameters#permited? flag",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13830/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13830/comments",
      "html_url": "https://github.com/rails/rails/issues/13830"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Summary:\n\nSuppose Model has a default scope.\n\n``` ruby\nModel.unscoped { Foo.joins(:model) }\n```\n\nacts as if `Model.unscoped { ... }` were not specified. That is, it constructs `Foo.joins(:model)` as if it weren't inside `Model.unscoped`, so that `Model.default_scope` is mistakenly continuing to apply to the `joins`, even though `unscoped` should have removed it.\n\n---\n\nConsider a `User` with a `default_scope` that specifies `status = 1`:\n\n``` ruby\n>> User.all.to_sql\n#=> \"SELECT `users`.* FROM `users`  WHERE `users`.`status` = 1\"\n```\n\nIf an `Item` belongs to `User`, trying to join the two with `Item.joins(:user)` seems to always respect `User.default_scope`, no matter how you try to remove the default scope. So the `joins` SQL\n\n``` ruby\n>> Item.joins(:user).to_sql # includes User.default_scope, CORRECTLY.\n#=> \"SELECT `items`.* FROM `items` INNER JOIN `users` ON `users`.`id` = `items`.`user_id` AND `users`.`status` = 1\n```\n\ncorrectly includes\n\n```\n`users`.`status` = 1\n```\n\nas it should, but if you try to remove it with `User.unscoped { ... }`, the `status = 1` default scope on `User` is still applying, which I believe is a bug:\n\n``` ruby\nUser.unscoped do\n  Item.joins(:user) # User is incorrectly still scoped to status == 1 here\nend\n```\n\nAs a total aside, it would be nice to have something like `joins_unscoped(:user)` as an alternative.\n",
      "number": 13775,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/aprescott/subscriptions",
         "received_events_url": "https://api.github.com/users/aprescott/received_events",
         "url": "https://api.github.com/users/aprescott",
         "avatar_url": "https://avatars0.githubusercontent.com/u/342081?v=4",
         "events_url": "https://api.github.com/users/aprescott/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/aprescott/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/aprescott/following{/other_user}",
         "repos_url": "https://api.github.com/users/aprescott/repos",
         "site_admin": false,
         "id": 342081,
         "organizations_url": "https://api.github.com/users/aprescott/orgs",
         "login": "aprescott",
         "gists_url": "https://api.github.com/users/aprescott/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/aprescott/followers",
         "html_url": "https://github.com/aprescott"
      },
      "state": "closed",
      "closed_by": "18109",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13775",
      "updated_at": "2016-02-11T18:34:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13775/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126910270,
            "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
            "color": "009800",
            "default": false,
            "name": "With reproduction steps"
         }
      ],
      "comments": 38,
      "id": 25947654,
      "closed_at": "2016-02-11T18:34:31Z",
      "created_at": "2014-01-20T21:27:54Z",
      "title": "Model.unscoped block not removing default scope for joins",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13775/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13775/comments",
      "html_url": "https://github.com/rails/rails/issues/13775"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Example (Rails 4 stable and MySQL):\n\n```\n@contact = Contact.new\nContact.transaction do\n  if @contact.save\n    raise ActiveRecord::Rollback\n  end\nend\n\nputs @contact.id # Non-nil\nputs @contact.persisted? # true\n```\n\nSince the record was rolled back and no longer exists in the DB, should the object's state not reflect that? Otherwise there's no way to save the new record unless the object is recreated.\n",
      "number": 13744,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mwalsher/subscriptions",
         "received_events_url": "https://api.github.com/users/mwalsher/received_events",
         "url": "https://api.github.com/users/mwalsher",
         "avatar_url": "https://avatars3.githubusercontent.com/u/3782649?v=4",
         "events_url": "https://api.github.com/users/mwalsher/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mwalsher/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mwalsher/following{/other_user}",
         "repos_url": "https://api.github.com/users/mwalsher/repos",
         "site_admin": false,
         "id": 3782649,
         "organizations_url": "https://api.github.com/users/mwalsher/orgs",
         "login": "mwalsher",
         "gists_url": "https://api.github.com/users/mwalsher/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mwalsher/followers",
         "html_url": "https://github.com/mwalsher"
      },
      "state": "closed",
      "closed_by": "5527",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13744",
      "updated_at": "2014-02-17T22:31:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13744/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 25836391,
      "closed_at": "2014-01-18T22:36:52Z",
      "created_at": "2014-01-17T21:00:19Z",
      "title": "id and persisted? don't reflect object state after rollback",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13744/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13744/comments",
      "html_url": "https://github.com/rails/rails/issues/13744"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I am trying to use AR::Enum and when I submit the form I am getting a `'0' is not a valid type` exception. As far as I understand the problem is the value is not typecasted to integer. I am using an integer column though but I guess Enum uses the raw value from the params not the value of the model attribute. \nIs this the expected behavior and I should handle the typecasting myself?\n",
      "number": 13650,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/gregmolnar/subscriptions",
         "received_events_url": "https://api.github.com/users/gregmolnar/received_events",
         "url": "https://api.github.com/users/gregmolnar",
         "avatar_url": "https://avatars2.githubusercontent.com/u/752058?v=4",
         "events_url": "https://api.github.com/users/gregmolnar/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/gregmolnar/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/gregmolnar/following{/other_user}",
         "repos_url": "https://api.github.com/users/gregmolnar/repos",
         "site_admin": false,
         "id": 752058,
         "organizations_url": "https://api.github.com/users/gregmolnar/orgs",
         "login": "gregmolnar",
         "gists_url": "https://api.github.com/users/gregmolnar/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/gregmolnar/followers",
         "html_url": "https://github.com/gregmolnar"
      },
      "state": "closed",
      "closed_by": "13673",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13650",
      "updated_at": "2014-09-04T08:07:23Z",
      "milestone": {
         "closed_at": "2014-04-08T21:52:12Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/29",
         "description": "",
         "updated_at": "2014-04-08T21:52:12Z",
         "number": 29,
         "due_on": "2014-04-08T07:00:00Z",
         "id": 516000,
         "open_issues": 0,
         "closed_issues": 161,
         "created_at": "2013-12-17T20:57:35Z",
         "title": "4.1.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/29/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/29",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/13650/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 126788695,
            "url": "https://api.github.com/repos/rails/rails/labels/enum",
            "color": "d4c5f9",
            "default": false,
            "name": "enum"
         }
      ],
      "comments": 22,
      "id": 25336675,
      "closed_at": "2014-01-13T04:06:12Z",
      "created_at": "2014-01-09T17:38:05Z",
      "title": "enum typecast issue",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13650/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13650/comments",
      "html_url": "https://github.com/rails/rails/issues/13650"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "From SQLite3:\n\n<pre>\nSQLite attempts to undo just the one statement it was working on and leave changes \nfrom prior statements within the same transaction intact and continue with the \ntransaction. However, depending on the statement being evaluated and the point at \nwhich the error occurs, it might be necessary for SQLite to rollback and cancel the \nentire transaction. An application can tell which course of action SQLite took by using \nthe sqlite3_get_autocommit() C-language interface.\n</pre>\n\n\nActiveRecord does _not_ check if the transaction is active and issues a rollback unconditionally (as far as I can tell). This may result in an error.\n\nThe proposed fix would be here:\n\n<pre>\ndiff --git a/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb b/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb\nindex 92bb70b..069ce5a 100644\n--- a/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb\n+++ b/activerecord/lib/active_record/connection_adapters/sqlite3_adapter.rb\n@@ -356,7 +356,9 @@ module ActiveRecord\n       end\n \n       def rollback_db_transaction #:nodoc:\n-        log('rollback transaction',nil) { @connection.rollback }\n+        if @connection.transaction_active?\n+          log('rollback transaction',nil) { @connection.rollback }\n+        end\n       end\n \n       # SCHEMA STATEMENTS ========================================\n</pre>\n",
      "number": 13638,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/timuralp/subscriptions",
         "received_events_url": "https://api.github.com/users/timuralp/received_events",
         "url": "https://api.github.com/users/timuralp",
         "avatar_url": "https://avatars2.githubusercontent.com/u/703870?v=4",
         "events_url": "https://api.github.com/users/timuralp/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/timuralp/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/timuralp/following{/other_user}",
         "repos_url": "https://api.github.com/users/timuralp/repos",
         "site_admin": false,
         "id": 703870,
         "organizations_url": "https://api.github.com/users/timuralp/orgs",
         "login": "timuralp",
         "gists_url": "https://api.github.com/users/timuralp/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/timuralp/followers",
         "html_url": "https://github.com/timuralp"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13638",
      "updated_at": "2014-05-01T17:25:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13638/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 25277463,
      "closed_at": "2014-05-01T17:25:10Z",
      "created_at": "2014-01-08T23:03:08Z",
      "title": "ActiveRecord+SQLite3 may roll back a transaction twice.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13638/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13638/comments",
      "html_url": "https://github.com/rails/rails/issues/13638"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I try to use ActiveRecord::Store and found little bug. When I use coder like JSON then all works good, but when coder change to YAML and object was created then I see `TypeError: no implicit conversion of nil into String`\n",
      "number": 13570,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/achempion/subscriptions",
         "received_events_url": "https://api.github.com/users/achempion/received_events",
         "url": "https://api.github.com/users/achempion",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1409852?v=4",
         "events_url": "https://api.github.com/users/achempion/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/achempion/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/achempion/following{/other_user}",
         "repos_url": "https://api.github.com/users/achempion/repos",
         "site_admin": false,
         "id": 1409852,
         "organizations_url": "https://api.github.com/users/achempion/orgs",
         "login": "achempion",
         "gists_url": "https://api.github.com/users/achempion/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/achempion/followers",
         "html_url": "https://github.com/achempion"
      },
      "state": "closed",
      "closed_by": "13575",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13570",
      "updated_at": "2014-01-06T13:43:07Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13570/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 24947682,
      "closed_at": "2014-01-03T15:39:30Z",
      "created_at": "2014-01-01T23:38:46Z",
      "title": "store many attributes into one column",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13570/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13570/comments",
      "html_url": "https://github.com/rails/rails/issues/13570"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "generate a scaffold with a date field type. and give options to the select_date view helper, like so:\n\n<%= f.date_select :born, {:discard_day => true, :start_year => 1900} %>\n\nWhen you attempt to create a resource, the year range is rendered correctly. i.e from 1900 until (current year + 5). But after creation (with 1900 as year), when edit resource is attempted the year range is rendered as: 1900 until (selected year + 5). so for example if you choose 1900 at the time of creation, in edit view year range is 1900-1905. another example: if you choose 1920 at the time of creation, then in edit view year range will be: 1900 until 1925. \n\nI believe this is wrong. According to api doc if :end_year option is not provided to the view helper, it should always default to Time.now.year + 5. and not currently_selected_year + 5. \n\nInfo about my computing env:\nI am on: github: 'rails/rails' (so Rails version 4.1.0.beta1 at the time of this writing)\nruby version: 2.0.0-p353\n",
      "number": 13552,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/pouya314/subscriptions",
         "received_events_url": "https://api.github.com/users/pouya314/received_events",
         "url": "https://api.github.com/users/pouya314",
         "avatar_url": "https://avatars1.githubusercontent.com/u/507493?v=4",
         "events_url": "https://api.github.com/users/pouya314/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pouya314/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pouya314/following{/other_user}",
         "repos_url": "https://api.github.com/users/pouya314/repos",
         "site_admin": false,
         "id": 507493,
         "organizations_url": "https://api.github.com/users/pouya314/orgs",
         "login": "pouya314",
         "gists_url": "https://api.github.com/users/pouya314/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pouya314/followers",
         "html_url": "https://github.com/pouya314"
      },
      "state": "closed",
      "closed_by": "126c24",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13552",
      "updated_at": "2014-01-04T21:42:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13552/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 5,
      "id": 24911057,
      "closed_at": "2014-01-03T18:43:12Z",
      "created_at": "2013-12-31T04:10:09Z",
      "title": "date_select view helper not rendering year range correctly.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13552/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13552/comments",
      "html_url": "https://github.com/rails/rails/issues/13552"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Currently if you render a select tag with the form helper you end up with a hidden field followed by the select tag. This is fine in most cases, but on older versions of IE, when you are wrapping said select tag with a label tag, the label will get associated with the hidden field rather than the select. Subtle, but it has caused us some usability bugs.\n\nThe culprit is here: \nhttps://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/tags/base.rb#L126\n\nThe solution is simply to swap the order of the `+` operands.\n",
      "number": 13523,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/aaronjensen/subscriptions",
         "received_events_url": "https://api.github.com/users/aaronjensen/received_events",
         "url": "https://api.github.com/users/aaronjensen",
         "avatar_url": "https://avatars3.githubusercontent.com/u/8588?v=4",
         "events_url": "https://api.github.com/users/aaronjensen/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/aaronjensen/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/aaronjensen/following{/other_user}",
         "repos_url": "https://api.github.com/users/aaronjensen/repos",
         "site_admin": false,
         "id": 8588,
         "organizations_url": "https://api.github.com/users/aaronjensen/orgs",
         "login": "aaronjensen",
         "gists_url": "https://api.github.com/users/aaronjensen/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/aaronjensen/followers",
         "html_url": "https://github.com/aaronjensen"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13523",
      "updated_at": "2016-12-31T02:25:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13523/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 21,
      "id": 24853454,
      "closed_at": "2016-12-31T02:25:16Z",
      "created_at": "2013-12-29T00:09:16Z",
      "title": "select tags and their hidden field counterparts are rendered in the wrong order",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13523/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13523/comments",
      "html_url": "https://github.com/rails/rails/issues/13523"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hi, \n\nI'm using ruby 2.0.0p353 + Rails 3.2.16 + RSpec 2.14\n\nI have a simple spec for my controller to check the value of the assigned instance variable. \n\nIt fails.\n\n``` ruby\nrequire 'spec_helper'\n\ndescribe GroupsController, focused: true do\n  render_views\n\n  let(:user)           { create :user, :super_admin }\n  let!(:project)       { create :project }\n  let(:groups)         { project.groups }\n\n  before { sign_in user }\n\n  describe '#GET index' do\n    subject { get :index, { project_id: project.id } }\n\n    it 'should assign @groups with the related groups' do\n      subject\n      expect(assigns(:groups)).to eq groups\n    end\n  end\nend\n```\n\nI'm comparing `assigns(:groups)` (that returns an ActiveRecord::Relation object) with (`groups` that returns an `Array` object) and the RSpec matcher `eq` is using the following `ActiveRecord::Relation#==`\n\n``` ruby\n# File activerecord/lib/active_record/relation.rb, line 539\ndef ==(other)\n  case other\n  when Relation\n    other.to_sql == to_sql\n  when Array\n    to_a == other\n  end\nend\n```\n\nI don't know why but it doesn't go in any of the condition of the case method. So I tried:\n\n``` ruby\ndef ==(other)\n  case other\n  when Relation\n    other.to_sql == to_sql\n  when Array\n    to_a == other\n  else\n    puts \"\\nself class: #{self.class} / other class: #{other.class.name}\"\n    true\n  end\nend\n```\n\nwhich outputs:\n\n`self class: ActiveRecord::Relation / other class: Array`\n\nThe following changes are making what I want from this method:\n\n``` ruby\ndef ==(other)\n  if other.class == Relation\n    other.to_sql == to_sql\n  elsif other.class == Array\n    to_a == other\n  end\nend\n```\n\nDo you think it could come from the `case` method?\n\nThis little code is working properly:\n\n``` ruby\ndef test_for_case_method(other)\n  case other\n  when Hash\n    puts 'foo'\n  when Array\n    puts 'bar'\n  else\n    puts 'zone'\n  end\nend\n\nobj = Object.new.send(:test_for_case_method, [])\n```\n",
      "number": 13506,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dbachet/subscriptions",
         "received_events_url": "https://api.github.com/users/dbachet/received_events",
         "url": "https://api.github.com/users/dbachet",
         "avatar_url": "https://avatars3.githubusercontent.com/u/675579?v=4",
         "events_url": "https://api.github.com/users/dbachet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dbachet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dbachet/following{/other_user}",
         "repos_url": "https://api.github.com/users/dbachet/repos",
         "site_admin": false,
         "id": 675579,
         "organizations_url": "https://api.github.com/users/dbachet/orgs",
         "login": "dbachet",
         "gists_url": "https://api.github.com/users/dbachet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dbachet/followers",
         "html_url": "https://github.com/dbachet"
      },
      "state": "closed",
      "closed_by": "14592",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13506",
      "updated_at": "2014-04-13T15:25:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13506/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 24817818,
      "closed_at": "2014-04-13T15:25:02Z",
      "created_at": "2013-12-27T12:12:42Z",
      "title": "ActiveRecord::Relation#== not working with given Array.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13506/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13506/comments",
      "html_url": "https://github.com/rails/rails/issues/13506"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "There apparently were changes made to:\n- 404.html\n- 422.html\n- 500.html\n\nhttp://railsdiff.org/html/v4.0.2-v4.1.0.beta1.html\n\nYet running `rake rails:update` doesn't update these default files. This doesn't seem coherent. Are these changes considered non-important?\n",
      "number": 13499,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/olivierlacan/subscriptions",
         "received_events_url": "https://api.github.com/users/olivierlacan/received_events",
         "url": "https://api.github.com/users/olivierlacan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/65950?v=4",
         "events_url": "https://api.github.com/users/olivierlacan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/olivierlacan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/olivierlacan/following{/other_user}",
         "repos_url": "https://api.github.com/users/olivierlacan/repos",
         "site_admin": false,
         "id": 65950,
         "organizations_url": "https://api.github.com/users/olivierlacan/orgs",
         "login": "olivierlacan",
         "gists_url": "https://api.github.com/users/olivierlacan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/olivierlacan/followers",
         "html_url": "https://github.com/olivierlacan"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13499",
      "updated_at": "2013-12-27T17:44:07Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13499/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 24798568,
      "closed_at": "2013-12-27T17:20:04Z",
      "created_at": "2013-12-26T20:13:23Z",
      "title": "rake rails:update doesn't update static HTML error pages",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13499/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13499/comments",
      "html_url": "https://github.com/rails/rails/issues/13499"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The following test fails: https://gist.github.com/ronalchn/8078852\n\nTrying to destroy an object which was already automatically destroyed by its parent causes the error.\n\n``` ruby\nclass Post < ActiveRecord::Base\n  has_many :comments, dependent: :destroy, inverse_of: :post # setting inverse does not change behaviour of tests\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post, touch: true, inverse_of: :comments\nend\n\nclass BugTest < Minitest::Unit::TestCase\n  def test_association_failing\n    comment = Comment.create(post: Post.new)\n    comment.post.destroy\n    comment.destroy #=> ActiveRecord::ActiveRecordError: can not touch on a new record object\n  end\n  def test_comment_destroyed\n    comment = Comment.create(post: Post.new)\n    comment.post.destroy\n    refute comment.persisted?, 'destroying post should destroy comment' #=> true\n  end\nend\n```\n\nNormally, destroying an already destroyed object doesn't throw any errors, so this race condition should also not throw an error.\n\nNote that `comment` remains persisted even after its parent is destroyed. Actually, it is not a big problem if it things it still is persisted (which would be the case without the `inverse_of` option), but it shouldn't cause the touch error.\n\nAlso note the inconsistent behaviour that occurs when `comment` is reloaded before destroying the post.\n\nRelevant issues are: https://github.com/rails/rails/pull/9320 and https://github.com/rails/rails/pull/9443\n\n---\n\nWorkaround:\n\n``` ruby\ncomment.clear_association_cache\ncomment.destroy #=> doesn't throw error anymore\n```\n",
      "number": 13445,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ronalchn/subscriptions",
         "received_events_url": "https://api.github.com/users/ronalchn/received_events",
         "url": "https://api.github.com/users/ronalchn",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1328735?v=4",
         "events_url": "https://api.github.com/users/ronalchn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ronalchn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ronalchn/following{/other_user}",
         "repos_url": "https://api.github.com/users/ronalchn/repos",
         "site_admin": false,
         "id": 1328735,
         "organizations_url": "https://api.github.com/users/ronalchn/orgs",
         "login": "ronalchn",
         "gists_url": "https://api.github.com/users/ronalchn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ronalchn/followers",
         "html_url": "https://github.com/ronalchn"
      },
      "state": "closed",
      "closed_by": "13455",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13445",
      "updated_at": "2013-12-23T15:35:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13445/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 24675868,
      "closed_at": "2013-12-23T15:35:35Z",
      "created_at": "2013-12-22T04:56:53Z",
      "title": "Destroying already destroyed object with touch association causes \"can not touch on a new record object\" error",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13445/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13445/comments",
      "html_url": "https://github.com/rails/rails/issues/13445"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I use postgresql integer array in rails 4.1.0.beta1..\n\n``` ruby\nt.integer :brand_ids, array: true\n```\n\ncontroller\n\n``` ruby\ndef permitted_params\n   params.permit(:name, :brand_ids => [])\nend\n```\n\nform\n\n``` slim\n= simple_form_for resource, html: { class: 'form-horizontal' } do |f|\n  = f.input :name\n  = f.input :brand_ids, as: :check_boxes, collection: Brand.all, item_wrapper_class: 'inline'\n  = action_buttons\n```\n\nIf i create or update a record, got error  `undefined method gsub for 1:Fixnum`. If i  modfied `t.integer :brand_ids, array: true` to `t.string :brand_ids, array: true`, it would work. Is there a way to slove it? Thanks.\n",
      "number": 13444,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/doabit/subscriptions",
         "received_events_url": "https://api.github.com/users/doabit/received_events",
         "url": "https://api.github.com/users/doabit",
         "avatar_url": "https://avatars0.githubusercontent.com/u/330368?v=4",
         "events_url": "https://api.github.com/users/doabit/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/doabit/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/doabit/following{/other_user}",
         "repos_url": "https://api.github.com/users/doabit/repos",
         "site_admin": false,
         "id": 330368,
         "organizations_url": "https://api.github.com/users/doabit/orgs",
         "login": "doabit",
         "gists_url": "https://api.github.com/users/doabit/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/doabit/followers",
         "html_url": "https://github.com/doabit"
      },
      "state": "closed",
      "closed_by": "13451",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13444",
      "updated_at": "2014-03-06T10:43:25Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13444/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 12,
      "id": 24675749,
      "closed_at": "2013-12-22T17:14:06Z",
      "created_at": "2013-12-22T04:41:19Z",
      "title": "undefined method `gsub' for 1:Fixnum when use postgresql integer array",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13444/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13444/comments",
      "html_url": "https://github.com/rails/rails/issues/13444"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This issue seems to have been introduced with https://github.com/rails/rails/pull/12359.\n\nIt basically boils down to when a callback of the has_many association calls a method on the parent object that calls the has many association.\n\nHere's the script to reproduce the issue:\n\n``` rb\nunless File.exist?('Gemfile')\n  File.write('Gemfile', <<-GEMFILE)\n    source 'https://rubygems.org'\n    gem 'rails', github: 'rails/rails'\n    gem 'sqlite3'\n  GEMFILE\n\n  system 'bundle'\nend\n\nrequire 'bundler'\nBundler.setup(:default)\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts do |t|\n  end\n\n  create_table :comments do |t|\n    t.integer :post_id\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments, inverse_of: :post\n\n  def some_method_that_calls_comments\n    comments.to_a\n  end\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post, inverse_of: :comments\n\n  after_save :call_post_method\n\n  def call_post_method\n    post.some_method_that_calls_comments\n  end\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    post = Post.create!\n    post.comments << Comment.new\n\n    assert_equal 1, post.comments.count\n    assert_equal 1, post.comments.to_a.count\n  end\nend\n```\n\nResults:\n\n```\n-- create_table(:posts)\nD, [2013-12-18T11:27:02.810647 #84927] DEBUG -- :    (0.4ms)  CREATE TABLE \"posts\" (\"id\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) \n   -> 0.0053s\n-- create_table(:comments)\nD, [2013-12-18T11:27:02.811119 #84927] DEBUG -- :    (0.1ms)  CREATE TABLE \"comments\" (\"id\" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, \"post_id\" integer) \n   -> 0.0004s\nRun options: --seed 4633\n\n# Running:\n\nD, [2013-12-18T11:27:02.830074 #84927] DEBUG -- :    (0.0ms)  begin transaction\nD, [2013-12-18T11:27:02.833123 #84927] DEBUG -- :   SQL (0.6ms)  INSERT INTO \"posts\" DEFAULT VALUES\nD, [2013-12-18T11:27:02.833382 #84927] DEBUG -- :    (0.0ms)  commit transaction\nD, [2013-12-18T11:27:02.840958 #84927] DEBUG -- :    (0.0ms)  begin transaction\nD, [2013-12-18T11:27:02.846605 #84927] DEBUG -- :   SQL (0.2ms)  INSERT INTO \"comments\" (\"post_id\") VALUES (?)  [[\"post_id\", 1]]\nD, [2013-12-18T11:27:02.847181 #84927] DEBUG -- :   Comment Load (0.1ms)  SELECT \"comments\".* FROM \"comments\"  WHERE \"comments\".\"post_id\" = ?  [[\"post_id\", 1]]\nD, [2013-12-18T11:27:02.848370 #84927] DEBUG -- :    (0.0ms)  commit transaction\n[#<Comment id: 1, post_id: 1>, #<Comment id: 1, post_id: 1>]\nD, [2013-12-18T11:27:02.848978 #84927] DEBUG -- :    (0.1ms)  SELECT COUNT(*) FROM \"comments\"  WHERE \"comments\".\"post_id\" = ?  [[\"post_id\", 1]]\nF\n\nFinished in 0.027382s, 36.5203 runs/s, 73.0407 assertions/s.\n\n  1) Failure:\nBugTest#test_association_stuff [inverse_of_has_many_bug.rb:55]:\nExpected: 1\n  Actual: 2\n\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\n```\n\nThis happens on master and on 3-2-stable.\n",
      "number": 13387,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jonhinson/subscriptions",
         "received_events_url": "https://api.github.com/users/jonhinson/received_events",
         "url": "https://api.github.com/users/jonhinson",
         "avatar_url": "https://avatars3.githubusercontent.com/u/51923?v=4",
         "events_url": "https://api.github.com/users/jonhinson/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jonhinson/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jonhinson/following{/other_user}",
         "repos_url": "https://api.github.com/users/jonhinson/repos",
         "site_admin": false,
         "id": 51923,
         "organizations_url": "https://api.github.com/users/jonhinson/orgs",
         "login": "jonhinson",
         "gists_url": "https://api.github.com/users/jonhinson/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jonhinson/followers",
         "html_url": "https://github.com/jonhinson"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/13387",
      "updated_at": "2016-02-16T07:30:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13387/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 24505147,
      "closed_at": "2016-02-16T07:30:44Z",
      "created_at": "2013-12-18T17:29:04Z",
      "title": "Has many results showing duplicates",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13387/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13387/comments",
      "html_url": "https://github.com/rails/rails/issues/13387"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I think I've hit a pretty obscure callback related issue.\n\nAfter creating a record that references an associated model in its `after_create` callback, the associated model's `after_update` callback can be run, even if that model was not updated.\n\n``` ruby\ngem 'activerecord', '4.0.2'\nrequire 'active_record'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\n\nActiveRecord::Schema.define do\n  create_table :users do |t|\n  end\n\n  create_table :posts do |t|\n    t.integer :user_id\n  end\n\n  create_table :comments do |t|\n    t.integer :post_id\n  end\nend\n\nclass User < ActiveRecord::Base\n  has_many :posts\n\n  after_update :this_should_not_run\n\n  def this_should_not_run\n    puts \"But it does, even though the user wasn't updated\"\n  end\nend\n\nclass Post < ActiveRecord::Base\n  belongs_to :user\n  has_many :comments\nend\n\nclass Comment < ActiveRecord::Base\n  after_create :reference_user\n\n  has_one :user, through: :post\n  belongs_to :post\n\n  def reference_user\n    puts \"If I load my user its after_update callback runs! #{self.user.id}\"\n  end\nend\n\nuser = User.create\npost = user.posts.create\ncomment = post.comments.build\ncomment.save\n```\n\nRunning the above script will output the strings from both callbacks. The user isn't being touched or modified, just referenced from the comment's callback. If you remove the `self.user.id` call from the comment's callback, the user's callback doesn't run.\n\nThe `has_one through` association is required to reproduce the bug. Moving the `after_update` callback to the post model, and referencing the post from the comment's `after_create` doesn't trigger the bug.\n\nMy current workaround is to define the `after_create` callback _after_ the comment model's associations. This somehow avoids the `after_update` callback being triggered inappropriately.\n\nI initially hit this bug on 3.2.16, but it looks like it's still present on 4.0.2.\n\nNot sure where to dig in and get started on this, it's pretty obscure. Does anyone have any thoughts?\n",
      "number": 13360,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nfm/subscriptions",
         "received_events_url": "https://api.github.com/users/nfm/received_events",
         "url": "https://api.github.com/users/nfm",
         "avatar_url": "https://avatars0.githubusercontent.com/u/127960?v=4",
         "events_url": "https://api.github.com/users/nfm/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nfm/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nfm/following{/other_user}",
         "repos_url": "https://api.github.com/users/nfm/repos",
         "site_admin": false,
         "id": 127960,
         "organizations_url": "https://api.github.com/users/nfm/orgs",
         "login": "nfm",
         "gists_url": "https://api.github.com/users/nfm/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nfm/followers",
         "html_url": "https://github.com/nfm"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13360",
      "updated_at": "2016-07-18T23:02:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13360/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 24464142,
      "closed_at": "2016-03-18T06:39:33Z",
      "created_at": "2013-12-18T01:36:10Z",
      "title": "Callback bug where `after_update` runs inappropriately on associated model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13360/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13360/comments",
      "html_url": "https://github.com/rails/rails/issues/13360"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In Rails 4, when ENV['DATABASE_URL'] exists and `config/database.yml` removed,\n\n`rails server` and `rake db:*` tasks connect to the correct database and runs properly.\n\nHowever, `rails dbconsole` raises the following error. Seems like it does not handle DATABASE_URL at all [1]. Is this an expected behavior, or possibly a bug?\n\n```\n$ rails dbconsole\n/Users/huiming/.gem/ruby/2.0.0/gems/railties-4.0.2/lib/rails/commands/dbconsole.rb:91:in `config': undefined method `[]' for nil:NilClass (NoMethodError)\n        from /Users/huiming/.gem/ruby/2.0.0/gems/railties-4.0.2/lib/rails/commands/dbconsole.rb:22:in `start'\n        from /Users/huiming/.gem/ruby/2.0.0/gems/railties-4.0.2/lib/rails/commands/dbconsole.rb:11:in `start'\n        from /Users/huiming/.gem/ruby/2.0.0/gems/railties-4.0.2/lib/rails/commands.rb:81:in `<top (required)>'\n        from bin/rails:4:in `require'\n        from bin/rails:4:in `<main>'\n```\n\nI created a runnable example [2], in case anyone wish to do a quick test.\n\n[1] https://github.com/rails/rails/blob/v4.0.2/railties/lib/rails/commands/dbconsole.rb#L82\n[2] http://runnable.com/UqwTZZACPDwtAAEj\n",
      "number": 13320,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/teohm/subscriptions",
         "received_events_url": "https://api.github.com/users/teohm/received_events",
         "url": "https://api.github.com/users/teohm",
         "avatar_url": "https://avatars3.githubusercontent.com/u/164703?v=4",
         "events_url": "https://api.github.com/users/teohm/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/teohm/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/teohm/following{/other_user}",
         "repos_url": "https://api.github.com/users/teohm/repos",
         "site_admin": false,
         "id": 164703,
         "organizations_url": "https://api.github.com/users/teohm/orgs",
         "login": "teohm",
         "gists_url": "https://api.github.com/users/teohm/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/teohm/followers",
         "html_url": "https://github.com/teohm"
      },
      "state": "closed",
      "closed_by": "13328",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13320",
      "updated_at": "2013-12-16T10:37:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13320/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 5,
      "id": 24288532,
      "closed_at": "2013-12-16T10:37:01Z",
      "created_at": "2013-12-14T09:11:30Z",
      "title": "`rails dbconsole` raise error when ENV['DATABASE_URL'] exists and config/database.yml removed.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13320/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13320/comments",
      "html_url": "https://github.com/rails/rails/issues/13320"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I had a silly bug where I named a partial \"mail.css.erb\" instead of \"_mail.css.erb\". When called using `render \"mail.css\"` inside another template this then raised an exception with the following message:\n\n> Missing partial mails/mail.css, application/mail.css with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :haml, :hamlc]}\n\nCompounded by the fact that I was using the render in a non-standard way (I first thought that it had something to do with formats) and that the file `mails/mail.css` did exist, it took me ten minutes of headbanging until I figured out that _of course_ I forgot the underscore (how embarassing :flushed:).\n\nSo I put forward that it would be helpful if the exception message would include that underscore which is required for partials to prevent such mistakes, like such:\n\n> Missing partial mails/_mail.css, application/_mail.css with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :haml, :hamlc]}\n\nIf this is acceptable I'm up for updating the code and tests.\n",
      "number": 13002,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/senny/subscriptions",
            "received_events_url": "https://api.github.com/users/senny/received_events",
            "url": "https://api.github.com/users/senny",
            "avatar_url": "https://avatars2.githubusercontent.com/u/5402?v=4",
            "events_url": "https://api.github.com/users/senny/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/senny/following{/other_user}",
            "repos_url": "https://api.github.com/users/senny/repos",
            "site_admin": false,
            "id": 5402,
            "organizations_url": "https://api.github.com/users/senny/orgs",
            "login": "senny",
            "gists_url": "https://api.github.com/users/senny/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/senny/followers",
            "html_url": "https://github.com/senny"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dv/subscriptions",
         "received_events_url": "https://api.github.com/users/dv/received_events",
         "url": "https://api.github.com/users/dv",
         "avatar_url": "https://avatars0.githubusercontent.com/u/44360?v=4",
         "events_url": "https://api.github.com/users/dv/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dv/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dv/following{/other_user}",
         "repos_url": "https://api.github.com/users/dv/repos",
         "site_admin": false,
         "id": 44360,
         "organizations_url": "https://api.github.com/users/dv/orgs",
         "login": "dv",
         "gists_url": "https://api.github.com/users/dv/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dv/followers",
         "html_url": "https://github.com/dv"
      },
      "state": "closed",
      "closed_by": "43ccf7",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/13002",
      "updated_at": "2013-12-02T07:36:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/13002/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/senny/subscriptions",
         "received_events_url": "https://api.github.com/users/senny/received_events",
         "url": "https://api.github.com/users/senny",
         "avatar_url": "https://avatars2.githubusercontent.com/u/5402?v=4",
         "events_url": "https://api.github.com/users/senny/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/senny/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/senny/following{/other_user}",
         "repos_url": "https://api.github.com/users/senny/repos",
         "site_admin": false,
         "id": 5402,
         "organizations_url": "https://api.github.com/users/senny/orgs",
         "login": "senny",
         "gists_url": "https://api.github.com/users/senny/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/senny/followers",
         "html_url": "https://github.com/senny"
      },
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 23132217,
      "closed_at": "2013-12-02T07:36:00Z",
      "created_at": "2013-11-22T11:41:37Z",
      "title": "Add underscore to \"Missing partial <path>\" error message",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/13002/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/13002/comments",
      "html_url": "https://github.com/rails/rails/issues/13002"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have three models: User, Course, Course::Member\n\n```\nclass User < ActiveRecord::Base\n  has_many :courses, foreign_key: :creator_id\n  has_many :course_members, -> { joins(:course).merge(Course.published) },      class_name: 'Course::Member', dependent: :destroy\nend\n\nclass Course::Member < ActiveRecord::Base\n...\n  belongs_to :course\n  belongs_to :user\nend\n\nclass Course < ActiveRecord::Base\n    has_many :members, dependent: :destroy\nend\n```\n\nso when I do so\n\n```\n> User.last.course_members\nUser Load (41.1ms)  SELECT \"users\".* FROM \"users\" ORDER BY \"users\".\"id\"   DESC LIMIT 1\nCourse::Member Load (16.5ms)  SELECT \"course_members\".* FROM   \"course_members\" INNER JOIN \"courses\" ON \"courses\".\"id\" = \"course_members\".\"course_id\" WHERE \"course_members\".\"user_id\" = $1 AND \"courses\".\"state\" = 'published'  [[\"user_id\", 1]]\n```\n\nit takes INNER JOIN \"courses\" in query. but when I try to do:\n\n```\n > User.joins(:course_members)\nUser Load (80.4ms)  SELECT \"users\".* FROM \"users\" INNER JOIN  \"course_members\" ON  \"course_members\".\"user_id\" = \"users\".\"id\" AND \"courses\".\"state\" = 'published'\nPG::UndefinedTable: ERROR:  missing FROM-clause entry for table \"courses\"\nLINE 1: ... ON \"course_members\".\"user_id\" = \"users\".\"id\" AND \"courses\"....\n```\n\nI get an error - it doesn't join \"courses\"\n\nSo it goes. \n\nIs it a bug or I do something wrong?\n",
      "number": 12933,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mrsutter/subscriptions",
         "received_events_url": "https://api.github.com/users/mrsutter/received_events",
         "url": "https://api.github.com/users/mrsutter",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4566624?v=4",
         "events_url": "https://api.github.com/users/mrsutter/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mrsutter/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mrsutter/following{/other_user}",
         "repos_url": "https://api.github.com/users/mrsutter/repos",
         "site_admin": false,
         "id": 4566624,
         "organizations_url": "https://api.github.com/users/mrsutter/orgs",
         "login": "mrsutter",
         "gists_url": "https://api.github.com/users/mrsutter/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mrsutter/followers",
         "html_url": "https://github.com/mrsutter"
      },
      "state": "closed",
      "closed_by": "30489",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12933",
      "updated_at": "2016-12-08T20:07:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12933/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         }
      ],
      "comments": 13,
      "id": 22824108,
      "closed_at": "2016-12-08T18:59:55Z",
      "created_at": "2013-11-18T09:52:39Z",
      "title": "using joins in association scope block does not work",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12933/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12933/comments",
      "html_url": "https://github.com/rails/rails/issues/12933"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Fix reverse of record_state(new_record and id) after rollback.\nFix #7807\n",
      "number": 12922,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
            "received_events_url": "https://api.github.com/users/arthurnn/received_events",
            "url": "https://api.github.com/users/arthurnn",
            "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
            "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
            "repos_url": "https://api.github.com/users/arthurnn/repos",
            "site_admin": true,
            "id": 833383,
            "organizations_url": "https://api.github.com/users/arthurnn/orgs",
            "login": "arthurnn",
            "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/arthurnn/followers",
            "html_url": "https://github.com/arthurnn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/iantropov/subscriptions",
         "received_events_url": "https://api.github.com/users/iantropov/received_events",
         "url": "https://api.github.com/users/iantropov",
         "avatar_url": "https://avatars3.githubusercontent.com/u/511114?v=4",
         "events_url": "https://api.github.com/users/iantropov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/iantropov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/iantropov/following{/other_user}",
         "repos_url": "https://api.github.com/users/iantropov/repos",
         "site_admin": false,
         "id": 511114,
         "organizations_url": "https://api.github.com/users/iantropov/orgs",
         "login": "iantropov",
         "gists_url": "https://api.github.com/users/iantropov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/iantropov/followers",
         "html_url": "https://github.com/iantropov"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12922",
      "updated_at": "2016-07-13T04:06:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12922/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/arthurnn/subscriptions",
         "received_events_url": "https://api.github.com/users/arthurnn/received_events",
         "url": "https://api.github.com/users/arthurnn",
         "avatar_url": "https://avatars1.githubusercontent.com/u/833383?v=4",
         "events_url": "https://api.github.com/users/arthurnn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/arthurnn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/arthurnn/following{/other_user}",
         "repos_url": "https://api.github.com/users/arthurnn/repos",
         "site_admin": true,
         "id": 833383,
         "organizations_url": "https://api.github.com/users/arthurnn/orgs",
         "login": "arthurnn",
         "gists_url": "https://api.github.com/users/arthurnn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/arthurnn/followers",
         "html_url": "https://github.com/arthurnn"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 12,
      "id": 22791668,
      "closed_at": "2016-07-13T04:06:52Z",
      "created_at": "2013-11-17T05:16:22Z",
      "title": "Fix reverse of record_state after rollback",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12922/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12922/comments",
      "pull_request": {
         "patch_url": "https://github.com/rails/rails/pull/12922.patch",
         "url": "https://api.github.com/repos/rails/rails/pulls/12922",
         "diff_url": "https://github.com/rails/rails/pull/12922.diff",
         "html_url": "https://github.com/rails/rails/pull/12922"
      },
      "html_url": "https://github.com/rails/rails/pull/12922"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails 4 currently allows sessions to be signed and/or encrypted which is great. \n\n`ActionPack` relies on `EncryptedCookieJar` which itself relies on `ActiveSupport::MessageEncryptor`\n\nHere is the current constructor:\n\n```\n    class EncryptedCookieJar #:nodoc:\n\n      def initialize(parent_jar, key_generator, options = {})\n        if ActiveSupport::LegacyKeyGenerator === key_generator\n          raise \"You didn't set config.secret_key_base, which is required for this cookie jar. \" +\n            \"Read the upgrade documentation to learn more about this new config option.\"\n        end\n\n        @parent_jar = parent_jar\n        @options = options\n        secret = key_generator.generate_key(@options[:encrypted_cookie_salt])\n        sign_secret = key_generator.generate_key(@options[:encrypted_signed_cookie_salt])\n        @encryptor = ActiveSupport::MessageEncryptor.new(secret, sign_secret)\n      end\n```\n\nThe encryptor can accept a serializer, if a serializer isn't passed, then `Marshal` is used.\n\n```\nclass MessageEncryptor\n    def initialize(secret, *signature_key_or_options)\n      options = signature_key_or_options.extract_options!\n      sign_secret = signature_key_or_options.first\n      @secret = secret\n      @sign_secret = sign_secret\n      @cipher = options[:cipher] || 'aes-256-cbc'\n      @verifier = MessageVerifier.new(@sign_secret || @secret, :serializer => NullSerializer)\n      @serializer = options[:serializer] || Marshal\n    end\n```\n\nThe serializer is used to load/dump the session content.\n\nI understand that we can't easily change the default serializer for historic reasons, but I would like to be able to use my own serializer (json, messagepack or whatever).\n\nThere are a few reasons for that, one mentioned by @tarcieri is security reason.\nIf the secret is leaked, the attacker can potentially execute ruby code on the server.\n\nThe second is to share the session across apps written in a different language.\n\nChanging the serializer would obviously not guarantee that you can shove just whatever you want in the session like you currently can do with `Marshal`. Dumping the session object using a more strict serializer would potentially result in exceptions if the data format isn't supported and that's totally fine, actually I would like that.\n\nI'm not asking to change the default, just to have a way to set my own serializer and deal with the consequences of my own choices. In other words, I'd like to be able to have a high level config flag to set the session serializer.\n\nOthers before me faced the same problem and monkey patched Rails: https://gist.github.com/jeffyip/4091166\n\nI think an option would be a cleaner and safer alternative.\n\nWhat do you think?\n",
      "number": 12881,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mattetti/subscriptions",
         "received_events_url": "https://api.github.com/users/mattetti/received_events",
         "url": "https://api.github.com/users/mattetti",
         "avatar_url": "https://avatars1.githubusercontent.com/u/113?v=4",
         "events_url": "https://api.github.com/users/mattetti/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mattetti/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mattetti/following{/other_user}",
         "repos_url": "https://api.github.com/users/mattetti/repos",
         "site_admin": false,
         "id": 113,
         "organizations_url": "https://api.github.com/users/mattetti/orgs",
         "login": "mattetti",
         "gists_url": "https://api.github.com/users/mattetti/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mattetti/followers",
         "html_url": "https://github.com/mattetti"
      },
      "state": "closed",
      "closed_by": "13692",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12881",
      "updated_at": "2014-06-09T12:54:39Z",
      "milestone": {
         "closed_at": "2014-12-22T16:38:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/24",
         "description": "",
         "updated_at": "2014-12-22T16:38:59Z",
         "number": 24,
         "due_on": "2014-12-23T08:00:00Z",
         "id": 297919,
         "open_issues": 0,
         "closed_issues": 222,
         "created_at": "2013-03-27T19:29:42Z",
         "title": "4.2.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/24/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/24",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12881/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 28,
      "id": 22640218,
      "closed_at": "2014-01-29T18:59:31Z",
      "created_at": "2013-11-14T03:11:18Z",
      "title": "Can't change the default session serializer (Marshal)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12881/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12881/comments",
      "html_url": "https://github.com/rails/rails/issues/12881"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "According to [UAX29](http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries):\n\n> \u2026the extended grapheme cluster boundaries are recommended for general processing, while the legacy grapheme cluster boundaries are maintained primarily for backwards compatibility with earlier versions of this specification.\n\n`ActiveSupport::Multibyte::Unicode.unpack_graphemes` seems to use legacy grapheme clusters rather than extended grapheme clusters in opposition to the recommendation. This can be seen easily using an example from the [Unicode FAQ on characters and combining marks](http://www.unicode.org/faq/char_combmark.html#7). The following string:\n\n``` ruby\n\"\\u{0061}\\u{0928}\\u{093f}\\u{4e9c}\\u{10083}\"\n```\n\nhas 4 grapheme clusters according to the FAQ (which is implicitly using the extended grapheme cluster definition) and to the human eye, but `unpack_graphemes` returns 5:\n\n``` ruby\n[[97], [2344], [2367], [20124], [65667]]\n```\n\n`\\u093f` is a spacing mark. The extended grapheme cluster definition says not to break before a spacing mark, but `unpack_graphemes` does just that. If extended grapheme clusters were used instead the result would be:\n\n``` ruby\n[[97], [2344, 2367], [20124], [65667]]\n```\n\nThis would better match UAX29's recommendation and the way the human eye interprets these characters.\n",
      "number": 12872,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/aroben/subscriptions",
         "received_events_url": "https://api.github.com/users/aroben/received_events",
         "url": "https://api.github.com/users/aroben",
         "avatar_url": "https://avatars2.githubusercontent.com/u/917945?v=4",
         "events_url": "https://api.github.com/users/aroben/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/aroben/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/aroben/following{/other_user}",
         "repos_url": "https://api.github.com/users/aroben/repos",
         "site_admin": false,
         "id": 917945,
         "organizations_url": "https://api.github.com/users/aroben/orgs",
         "login": "aroben",
         "gists_url": "https://api.github.com/users/aroben/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/aroben/followers",
         "html_url": "https://github.com/aroben"
      },
      "state": "closed",
      "closed_by": "12877",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12872",
      "updated_at": "2015-12-31T05:04:26Z",
      "milestone": {
         "closed_at": "2016-07-02T02:52:10Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/47",
         "description": "",
         "updated_at": "2016-07-02T02:52:10Z",
         "number": 47,
         "due_on": null,
         "id": 1467326,
         "open_issues": 0,
         "closed_issues": 496,
         "created_at": "2015-12-18T21:17:59Z",
         "title": "5.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/47/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/47",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12872/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 22599879,
      "closed_at": "2015-12-31T05:04:17Z",
      "created_at": "2013-11-13T15:44:53Z",
      "title": "ActiveSupport::Multibyte::Unicode.unpack_graphemes uses legacy grapheme clusters rather than extended grapheme clusters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12872/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12872/comments",
      "html_url": "https://github.com/rails/rails/issues/12872"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "So I have this table in my postgresql database:\n\n```\n=> \\d languages\n                                      Tabla \u00abpublic.languages\u00bb\n Columna |          Tipo          |                          Modificadores                           \n---------+------------------------+------------------------------------------------------------------\n id      | integer                | not null valor por omisi\u00f3n nextval('languages_id_seq'::regclass)\n code    | character varying(2)   | \n name    | character varying(255) | \n\u00cdndices:\n    \"languages_pkey\" PRIMARY KEY, btree (id)\n```\n\nI apply a simple migration which just does\n\n```\nclass RenameLanguagesToLanguages2 < ActiveRecord::Migration\n  def change\n    rename_table :languages, :languages2\n  end\nend\n```\n\nand I end up having \n\n```\n=> \\d languages2\n                                      Tabla \u00abpublic.languages2\u00bb\n Columna |          Tipo          |                          Modificadores                           \n---------+------------------------+------------------------------------------------------------------\n id      | integer                | not null valor por omisi\u00f3n nextval('languages2_id_seq'::regclass)\n code    | character varying(2)   | \n name    | character varying(255) | \n\u00cdndices:\n    \"languages_pkey\" PRIMARY KEY, btree (id)\n```\n\nIt seems like the primary key constraint (and its default index) is not changed and I might be wrong but I expected it to change.\n\nMy workaround is to do \n\n```\nrename_table :languages, :languages2\nexecute \"ALTER TABLE languages2 DROP CONSTRAINT languages_pkey;\"\nexecute \"ALTER TABLE languages2 ADD PRIMARY KEY (id);\"\n```\n\nI found some related work but none of them fixes the issue: https://github.com/rails/rails/pull/6874 and https://github.com/rails/rails/commit/39eef1a565ef02e4dabc0811ef1bf4547ff9a60e\n\nI've tried this in 3.2.15 and 4.0.1\n\nThanks a lot.\n",
      "number": 12856,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/deivid-rodriguez/subscriptions",
         "received_events_url": "https://api.github.com/users/deivid-rodriguez/received_events",
         "url": "https://api.github.com/users/deivid-rodriguez",
         "avatar_url": "https://avatars2.githubusercontent.com/u/2887858?v=4",
         "events_url": "https://api.github.com/users/deivid-rodriguez/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/deivid-rodriguez/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/deivid-rodriguez/following{/other_user}",
         "repos_url": "https://api.github.com/users/deivid-rodriguez/repos",
         "site_admin": false,
         "id": 2887858,
         "organizations_url": "https://api.github.com/users/deivid-rodriguez/orgs",
         "login": "deivid-rodriguez",
         "gists_url": "https://api.github.com/users/deivid-rodriguez/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/deivid-rodriguez/followers",
         "html_url": "https://github.com/deivid-rodriguez"
      },
      "state": "closed",
      "closed_by": "cc143c",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12856",
      "updated_at": "2016-08-14T21:11:45Z",
      "milestone": {
         "closed_at": "2015-01-09T17:34:08Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/36",
         "description": "",
         "updated_at": "2016-12-29T06:38:50Z",
         "number": 36,
         "due_on": "2014-12-09T08:00:00Z",
         "id": 788064,
         "open_issues": 0,
         "closed_issues": 16,
         "created_at": "2014-09-12T20:31:18Z",
         "title": "4.0.13",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/36/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/36",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12856/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 10,
      "id": 22465991,
      "closed_at": "2014-11-22T20:20:16Z",
      "created_at": "2013-11-11T18:15:02Z",
      "title": "Primary key constraint not changed when renaming table in postgresql",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12856/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12856/comments",
      "html_url": "https://github.com/rails/rails/issues/12856"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It was working in rails 3.2, but in rails4 if you assign same record to a has_one association, with changed attributes, it deletes previous record and then tries to save new record, but new record is deleted because it's the same\n\nhttps://gist.github.com/scambra/7320315\n",
      "number": 12775,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/scambra/subscriptions",
         "received_events_url": "https://api.github.com/users/scambra/received_events",
         "url": "https://api.github.com/users/scambra",
         "avatar_url": "https://avatars2.githubusercontent.com/u/20515?v=4",
         "events_url": "https://api.github.com/users/scambra/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/scambra/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/scambra/following{/other_user}",
         "repos_url": "https://api.github.com/users/scambra/repos",
         "site_admin": false,
         "id": 20515,
         "organizations_url": "https://api.github.com/users/scambra/orgs",
         "login": "scambra",
         "gists_url": "https://api.github.com/users/scambra/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/scambra/followers",
         "html_url": "https://github.com/scambra"
      },
      "state": "closed",
      "closed_by": "12834",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12775",
      "updated_at": "2013-11-11T10:34:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12775/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 22125275,
      "closed_at": "2013-11-11T10:34:42Z",
      "created_at": "2013-11-05T15:01:20Z",
      "title": "Replacing has_one record with same record raises can't modify frozen Hash",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12775/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12775/comments",
      "html_url": "https://github.com/rails/rails/issues/12775"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using a table multiple times in a query, AR 4.0.1 adds conditions specified as default scope to the INNER JOIN without aliasing the table name.\n\nActiveRecord 4.0.1 (INNER JOIN ... AND jobs.deleted_at):\n\n``` sql\nSELECT COUNT(*) FROM \"employees\" INNER JOIN \"jobs\" \"jobs_employees\" ON \"jobs_employees\".\"employee_id\" = \"employees\".\"id\" AND \"jobs\".\"deleted_at\" IS NULL INNER JOIN \"jobs\" ON \"employees\".\"id\" = \"jobs\".\"employee_id\" WHERE \"jobs\".\"deleted_at\" IS NULL AND \"jobs\".\"employer_id\" = $1\n```\n\nActiveRecord 4.0.0 (no condition):\n\n``` sql\nSELECT COUNT(*) FROM \"employees\" INNER JOIN \"jobs\" \"jobs_employees\" ON \"jobs_employees\".\"employee_id\" = \"employees\".\"id\" INNER JOIN \"jobs\" ON \"employees\".\"id\" = \"jobs\".\"employee_id\" WHERE \"jobs\".\"deleted_at\" IS NULL AND \"jobs\".\"employer_id\" = $1\n```\n\nSqlite3 ignores the invalid reference, but Postgres throws an error:\n\n```\nActiveRecord::StatementInvalid: PG::UndefinedTable: ERROR:  invalid reference to FROM-clause entry for table \"jobs\"\nLINE 1: ...s_employees\".\"employee_id\" = \"employees\".\"id\" AND \"jobs\".\"de...\n                                                             ^\nHINT:  Perhaps you meant to reference the table alias \"jobs_employees\".\n```\n\nScript to reproduce:\n\n``` ruby\nunless File.exist?('Gemfile')\n  File.write('Gemfile', <<-GEMFILE)\n    source 'https://rubygems.org'\n    gem 'rails', github: 'rails/rails'\n    gem 'pg'\n  GEMFILE\n\n  system 'bundle'\nend\n\nrequire 'bundler'\nBundler.setup(:default)\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\nActiveRecord::Base.establish_connection adapter: 'postgresql', database: 'postgres', host: 'localhost'\nActiveRecord::Base.connection.drop_database 'multi-join' rescue nil\nActiveRecord::Base.connection.create_database 'multi-join'\nActiveRecord::Base.connection.close\nActiveRecord::Base.establish_connection adapter: 'postgresql', database: 'multi-join', host: 'localhost'\n\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table \"employers\", force: true do |t|\n  end\n  create_table \"employees\", force: true do |t|\n  end\n  create_table \"jobs\", force: true do |t|\n    t.integer \"employer_id\", null: false\n    t.integer \"employee_id\", null: false\n    t.datetime \"deleted_at\"\n  end\nend\n\nclass Employer < ActiveRecord::Base\n  has_many :jobs\n  has_many :employees, through: :jobs\nend\n\nclass Employee < ActiveRecord::Base\n  has_many :jobs\n  has_many :employers, through: :jobs\nend\n\nclass Job < ActiveRecord::Base\n  belongs_to :employer\n  belongs_to :employee\n  default_scope { where(deleted_at: nil) } \nend\n\nclass BugTest < MiniTest::Unit::TestCase\n  def test_multi_join\n    employer = Employer.create\n    assert_equal 0, employer.employees.joins(:jobs).count\n  end\nend\n```\n\nThe above script is working fine using rails 4.0.0.\n",
      "number": 12770,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/johanneswuerbach/subscriptions",
         "received_events_url": "https://api.github.com/users/johanneswuerbach/received_events",
         "url": "https://api.github.com/users/johanneswuerbach",
         "avatar_url": "https://avatars1.githubusercontent.com/u/864578?v=4",
         "events_url": "https://api.github.com/users/johanneswuerbach/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/johanneswuerbach/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/johanneswuerbach/following{/other_user}",
         "repos_url": "https://api.github.com/users/johanneswuerbach/repos",
         "site_admin": false,
         "id": 864578,
         "organizations_url": "https://api.github.com/users/johanneswuerbach/orgs",
         "login": "johanneswuerbach",
         "gists_url": "https://api.github.com/users/johanneswuerbach/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/johanneswuerbach/followers",
         "html_url": "https://github.com/johanneswuerbach"
      },
      "state": "closed",
      "closed_by": "0a5e56",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12770",
      "updated_at": "2014-07-31T23:32:48Z",
      "milestone": {
         "closed_at": "2014-06-26T17:03:40Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/30",
         "description": "",
         "updated_at": "2014-08-07T13:33:51Z",
         "number": 30,
         "due_on": "2014-05-30T07:00:00Z",
         "id": 593013,
         "open_issues": 1,
         "closed_issues": 36,
         "created_at": "2014-03-10T18:27:37Z",
         "title": "4.0.6",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/30/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/30",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12770/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 13,
      "id": 22100044,
      "closed_at": "2014-03-28T04:00:06Z",
      "created_at": "2013-11-05T05:08:54Z",
      "title": "ActiveRecord 4.0.1 regression: joining the same table multiple times",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12770/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12770/comments",
      "html_url": "https://github.com/rails/rails/issues/12770"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "https://gist.github.com/bughit/7228479\n\nalso applies to other initialize methods (find_or_initialize_by)\n",
      "number": 12698,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bughit/subscriptions",
         "received_events_url": "https://api.github.com/users/bughit/received_events",
         "url": "https://api.github.com/users/bughit",
         "avatar_url": "https://avatars3.githubusercontent.com/u/895588?v=4",
         "events_url": "https://api.github.com/users/bughit/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bughit/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bughit/following{/other_user}",
         "repos_url": "https://api.github.com/users/bughit/repos",
         "site_admin": false,
         "id": 895588,
         "organizations_url": "https://api.github.com/users/bughit/orgs",
         "login": "bughit",
         "gists_url": "https://api.github.com/users/bughit/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bughit/followers",
         "html_url": "https://github.com/bughit"
      },
      "state": "closed",
      "closed_by": "15309",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12698",
      "updated_at": "2015-01-02T17:29:57Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12698/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 21809260,
      "closed_at": "2015-01-02T17:29:57Z",
      "created_at": "2013-10-30T07:36:33Z",
      "title": "has_many_through_has_one.build does not set the foreign key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12698/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12698/comments",
      "html_url": "https://github.com/rails/rails/issues/12698"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The [regular expression Rails uses](https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/middleware/remote_ip.rb#L34) to determine whether an IP address is private when determining the client's remote IP address doesn't account for the full IPv6 [User Local Address](http://en.wikipedia.org/wiki/Unique_Local_Address) space.\n\nThe relevant bit of the regular expression is:\n\n```\n^fc00:                        | # private IPv6 range fc00\n```\n\nwhich captures the block `fc00::/16`, but the actual IPv6 ULA is `fc00::/7`. So, the regex misses most of the ULA addresses.\n### Repro\n1. Make a fresh Rails 4.0.0 project.\n2. Drop [this tiny controller](https://gist.github.com/cespare/620c303a80bc7b8c085d) into the project and configure routes.rb appropriately.\n3. Fire up rails.\n\nNow you can see the bug using, for example, curl. Let's say our \"client's\" actual IP is `60.0.0.0`. The request came through a couple of proxies that added `X-Forwarded-For` entries. The last address is a private IPv4 address, `10.0.0.0`:\n\n```\n$ curl -H \"X-Forwarded-For: 60.0.0.0,10.0.0.0\" localhost:3000\n60.0.0.0\n```\n\nSo rails detects the client's IP properly. It works for the private IPv6 address `fc00::` as well:\n\n```\n$ curl -H \"X-Forwarded-For: 60.0.0.0,fc00::\" localhost:3000\n60.0.0.0\n```\n\nBut here we see that Rails incorrectly decides that `fc01::`, also a private IPv6 address, is the client IP address.\n\n```\n$ curl -H \"X-Forwarded-For: 60.0.0.0,fc01::\" localhost:3000\nfc01::\n```\n",
      "number": 12638,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cespare/subscriptions",
         "received_events_url": "https://api.github.com/users/cespare/received_events",
         "url": "https://api.github.com/users/cespare",
         "avatar_url": "https://avatars1.githubusercontent.com/u/318501?v=4",
         "events_url": "https://api.github.com/users/cespare/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cespare/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cespare/following{/other_user}",
         "repos_url": "https://api.github.com/users/cespare/repos",
         "site_admin": false,
         "id": 318501,
         "organizations_url": "https://api.github.com/users/cespare/orgs",
         "login": "cespare",
         "gists_url": "https://api.github.com/users/cespare/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cespare/followers",
         "html_url": "https://github.com/cespare"
      },
      "state": "closed",
      "closed_by": "12651",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12638",
      "updated_at": "2014-05-01T18:32:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12638/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 21568765,
      "closed_at": "2014-05-01T17:44:07Z",
      "created_at": "2013-10-25T04:17:40Z",
      "title": "Remote IP detection doesn't account for the proper set of IPv6 private addresses",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12638/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12638/comments",
      "html_url": "https://github.com/rails/rails/issues/12638"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Set up a scope on model using the order hash method.\n\n``` ruby\nclass Post < ActiveRecord::Base\n  has_many :comments\n  scope :recent, -> { order(published_at: :desc) }\n  scope :longago, -> { order(:published_at) }\nend\n```\n\nThen attempt to call that scope as part of a merge.\n\n``` ruby\n Comment.where(user_id: 1).joins(:posts).merge(Post.recent)\n```\n\nreturns:\n`ActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: comments.published_at: SELECT \"comments\".* FROM \"comments\" INNER JOIN \"posts\" ON \"posts\".\"id\" = \"comments\".\"post_id\" WHERE \"comments\".\"user_id\" = 1 ORDER BY \"comments\".\"published_at\" DESC`\n\nIt should behave like the symbol method for order, which keeps the original table/model the scope was defined on when performing a merge.\n\n``` ruby\nunless File.exists?('Gemfile')\n  File.write('Gemfile', <<-GEMFILE)\n    source 'https://rubygems.org'\n    gem 'rails', github: 'rails/rails'\n    gem 'sqlite3'\n  GEMFILE\n\n  system 'bundle'\nend\n\nrequire 'bundler'\nBundler.setup(:default)\n\nrequire 'active_record'\nrequire 'minitest/autorun'\nrequire 'logger'\n\n# This connection will do for database-independent bug reports.\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\nActiveRecord::Base.logger = Logger.new(STDOUT)\n\nActiveRecord::Schema.define do\n  create_table :posts do |t|\n    t.string  :subject\n  end\n\n  create_table :comments do |t|\n    t.integer :post_id\n    t.integer :points\n  end\nend\n\nclass Post < ActiveRecord::Base\n  has_many :comments\n\n  scope :dewey, -> { order(subject: :desc) }\n  scope :truman, -> { order(:subject) }\nend\n\nclass Comment < ActiveRecord::Base\n  belongs_to :post\n\n  scope :decimal, -> { order(points: :desc) }\n  scope :dewey_decimal, -> { decimal.joins(:post).merge(Post.dewey) }\n  scope :truman_decimal, -> { decimal.joins(:post).merge(Post.truman) }\nend\n\nclass BugTest < Minitest::Test\n  def test_association_stuff\n    post1 = Post.create!(subject: \"Awesomeness\")\n    comment1 = Comment.create!(post_id: post1.id, points: 5)\n    comment2 = Comment.create!(post_id: post1.id, points: 9)\n    post2 = Post.create!(subject: \"Zaniness\")\n    comment3 = Comment.create!(post_id: post2.id, points: 9)\n    comment4 = Comment.create!(post_id: post2.id, points: 3)\n\n    assert_equal Comment.truman_decimal, [comment2, comment3, comment1, comment4]\n    assert_equal Comment.dewey_decimal, [comment3, comment2, comment1, comment4]\n  end\nend\n```\n\nResults: \n`ActiveRecord::StatementInvalid: SQLite3::SQLException: no such column: comments.subject: SELECT \"comments\".* FROM \"comments\" INNER JOIN \"posts\" ON \"posts\".\"id\" = \"comments\".\"post_id\"  ORDER BY \"comments\".\"points\" DESC, \"comments\".\"subject\" DESC`\n",
      "number": 12604,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/prpetten/subscriptions",
         "received_events_url": "https://api.github.com/users/prpetten/received_events",
         "url": "https://api.github.com/users/prpetten",
         "avatar_url": "https://avatars0.githubusercontent.com/u/419947?v=4",
         "events_url": "https://api.github.com/users/prpetten/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/prpetten/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/prpetten/following{/other_user}",
         "repos_url": "https://api.github.com/users/prpetten/repos",
         "site_admin": false,
         "id": 419947,
         "organizations_url": "https://api.github.com/users/prpetten/orgs",
         "login": "prpetten",
         "gists_url": "https://api.github.com/users/prpetten/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/prpetten/followers",
         "html_url": "https://github.com/prpetten"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12604",
      "updated_at": "2017-05-02T21:30:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12604/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 21358273,
      "closed_at": "2017-05-02T21:30:38Z",
      "created_at": "2013-10-22T02:53:46Z",
      "title": "Scope w/ order clause hash (field: :desc) loses original model in merge",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12604/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12604/comments",
      "html_url": "https://github.com/rails/rails/issues/12604"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If you have the following model: (extremely simplified example)\n\n``` ruby\nclass Person < ActiveRecord::Base\n  after_create :save\n\n  def after_commit_create\n    puts \"after_commit_create\"\n  end\n  after_commit :after_commit_create, on: :create\nend\n```\n\nAnd do the following:\n\n``` ruby\np = Person.new\np.save\np.save\np.save\n```\n\nYou will get the following output:\n\n```\nafter_commit_create\nafter_commit_create\nafter_commit_create\n```\n\nThe problem is that `save` calls `with_transaction_returning_status` which calls `add_to_transaction` which calls `remember_transaction_record_state` which will add a level to `@_start_transaction_state`. However, `clear_transaction_record_state` will be called only once in the end, causing `@_start_transaction_state` to persist across transactions. This in turn causes `transaction_include_any_action?(:create)` to return true across transactions, causing the `after_commit on: :create` to be called every time.\n",
      "number": 12566,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bouk/subscriptions",
         "received_events_url": "https://api.github.com/users/bouk/received_events",
         "url": "https://api.github.com/users/bouk",
         "avatar_url": "https://avatars0.githubusercontent.com/u/97820?v=4",
         "events_url": "https://api.github.com/users/bouk/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bouk/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bouk/following{/other_user}",
         "repos_url": "https://api.github.com/users/bouk/repos",
         "site_admin": false,
         "id": 97820,
         "organizations_url": "https://api.github.com/users/bouk/orgs",
         "login": "bouk",
         "gists_url": "https://api.github.com/users/bouk/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bouk/followers",
         "html_url": "https://github.com/bouk"
      },
      "state": "closed",
      "closed_by": "13935",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/12566",
      "updated_at": "2014-06-30T17:59:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12566/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 21103614,
      "closed_at": "2014-02-04T14:03:14Z",
      "created_at": "2013-10-16T19:27:38Z",
      "title": "after_commit on: :create is called every time on save if you enter a transaction in a transaction of the object",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12566/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12566/comments",
      "html_url": "https://github.com/rails/rails/issues/12566"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Pretend you have a simple model like this in a Rails 4 app:\n\n``` ruby\n# app/models/user.rb\n#\n# == Schema Information\n#\n# Table name: users\n#\n#  id       :integer          not null, primary key\n#  name     :text\n#\nclass User < ActiveRecord::Base\n  serialize :name\nend\n```\n\nOddly enough, if you instantiate a new instance of the class, the attribute gets marked as if it has changed, regardless of whether any value has been assigned:\n\n```\n# Rails 4 console\n> u = User.new\n=> #<User id: nil, name: nil>\n> u.changes\n=> {\"name\"=>[nil, nil]}\n```\n\nThis behavior has changed from what it was in Rails 3\n\n```\n# Rails 3 console\n> u = User.new\n=> #<User id: nil, name: nil>\n> u.changes\n=> {}\n```\n\nI got alerted to this issue by airblade/paper_trail#266 by the way.\n",
      "number": 12505,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/batter/subscriptions",
         "received_events_url": "https://api.github.com/users/batter/received_events",
         "url": "https://api.github.com/users/batter",
         "avatar_url": "https://avatars0.githubusercontent.com/u/951821?v=4",
         "events_url": "https://api.github.com/users/batter/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/batter/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/batter/following{/other_user}",
         "repos_url": "https://api.github.com/users/batter/repos",
         "site_admin": false,
         "id": 951821,
         "organizations_url": "https://api.github.com/users/batter/orgs",
         "login": "batter",
         "gists_url": "https://api.github.com/users/batter/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/batter/followers",
         "html_url": "https://github.com/batter"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12505",
      "updated_at": "2014-06-13T20:23:14Z",
      "milestone": {
         "closed_at": "2014-09-12T20:30:59Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/31",
         "description": "",
         "updated_at": "2014-09-12T20:30:59Z",
         "number": 31,
         "due_on": "2014-08-12T07:00:00Z",
         "id": 600488,
         "open_issues": 0,
         "closed_issues": 19,
         "created_at": "2014-03-17T16:51:45Z",
         "title": "4.0.10",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/31/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/31",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12505/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 20894666,
      "closed_at": "2014-06-13T20:23:14Z",
      "created_at": "2013-10-11T21:03:46Z",
      "title": "Serialized attributes always get marked as changed by ActiveModel::Dirty in new record",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12505/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12505/comments",
      "html_url": "https://github.com/rails/rails/issues/12505"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When I try to use a scope on a `has_and_belongs_to_many` association that needs to join from the associated model to another, it works fine when using the association method, but not when using that association in an `.includes` or `.joins` on the model. For example:\n\n```\nclass Student < ActiveRecord::Base\n  has_and_belongs_to_many :groups\n  has_and_belongs_to_many :tutor_groups, -> { merge(Group.filter_type(:tutor_group)) }, class_name: \"Group\", join_table: \"groups_students\"\n  has_and_belongs_to_many :tutor_groups2, -> { joins(:group_type).where(group_type: { name: :tutor_group }) }\nend\n\nclass Group < ActiveRecord::Base\n  has_and_belongs_to_many :students\n  belongs_to :group_type\n\n  def self.filter_type(type)\n    joins(:group_type).where(group_types: { name: type })\n  end\nend\n```\n\nIn the rails console:\n\n```\n2.0.0p0 :001 > Student.first.tutor_groups\n  Student Load (0.7ms)  SELECT `students`.* FROM `students` ORDER BY `students`.`id` ASC LIMIT 1\n  Group Load (0.3ms)  SELECT `groups`.* FROM `groups` INNER JOIN `group_types` ON `group_types`.`id` = `groups`.`group_type_id` INNER JOIN `groups_students` ON `groups`.`id` = `groups_students`.`group_id` WHERE `groups_students`.`student_id` = 1 AND `group_types`.`name` = 'tutor_group'\n => #<ActiveRecord::Associations::CollectionProxy [#<Group id: 1, name: \"5A\", group_type_id: 1, new: false>]> \n2.0.0p0 :002 >  Student.includes(:tutor_groups).where(id: 1)\n  Student Load (0.6ms)  SELECT `students`.* FROM `students` WHERE `students`.`id` = 1\n  SQL (1.2ms)  SELECT `groups`.*, `t0`.`student_id` AS ar_association_key_name FROM `groups` INNER JOIN `groups_students` `t0` ON `groups`.`id` = `t0`.`group_id` WHERE `group_types`.`name` = 'tutor_group' AND `t0`.`student_id` IN (1)\nMysql2::Error: Unknown column 'group_types.name' in 'where clause': SELECT `groups`.*, `t0`.`student_id` AS ar_association_key_name FROM `groups` INNER JOIN `groups_students` `t0` ON `groups`.`id` = `t0`.`group_id` WHERE `group_types`.`name` = 'tutor_group' AND `t0`.`student_id` IN (1)\nActiveRecord::StatementInvalid: Mysql2::Error: Unknown column 'group_types.name' in 'where clause': SELECT `groups`.*, `t0`.`student_id` AS ar_association_key_name FROM `groups` INNER JOIN `groups_students` `t0` ON `groups`.`id` = `t0`.`group_id` WHERE `group_types`.`name` = 'tutor_group' AND `t0`.`student_id` IN (1)\n```\n\nRails 4.0.0, Ruby 2.0.0\n\nSelf-contained gist: https://gist.github.com/mikecmpbll/6921120\n\nIt's similar to other issues regarding includes in Rails 4, but I couldn't see that it was the same as any of them, however, they may well be related so feel free to let me know if they are and we can close this one.\n",
      "number": 12492,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mikecmpbll/subscriptions",
         "received_events_url": "https://api.github.com/users/mikecmpbll/received_events",
         "url": "https://api.github.com/users/mikecmpbll",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1962801?v=4",
         "events_url": "https://api.github.com/users/mikecmpbll/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mikecmpbll/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mikecmpbll/following{/other_user}",
         "repos_url": "https://api.github.com/users/mikecmpbll/repos",
         "site_admin": false,
         "id": 1962801,
         "organizations_url": "https://api.github.com/users/mikecmpbll/orgs",
         "login": "mikecmpbll",
         "gists_url": "https://api.github.com/users/mikecmpbll/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mikecmpbll/followers",
         "html_url": "https://github.com/mikecmpbll"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12492",
      "updated_at": "2015-03-24T23:50:35Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12492/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 10,
      "id": 20818597,
      "closed_at": "2015-03-24T23:50:35Z",
      "created_at": "2013-10-10T16:24:00Z",
      "title": "has_and_belongs_to_many association with scope not joining correct table in scope",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12492/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12492/comments",
      "html_url": "https://github.com/rails/rails/issues/12492"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hey guys ... I came across this bug a few days ago.\n\nWhen calling a has many through relationship through models that share the same table name (through single table inheritance), the SQL that's produced is incorrect. It's returning an empty set instead of the records expected.\n\nHere's the code to recreate the error.\n\n``` ruby\nrequire 'active_record'\n\nActiveRecord::Base.establish_connection 'sqlite3:///:memory:'\n\nActiveRecord::Base.connection.instance_eval do\n\n  create_table \"places\", force: true do |t|\n    t.string   \"name\"\n    t.string   \"type\"\n    t.integer  \"parent_id\"\n    t.datetime \"created_at\"\n    t.datetime \"updated_at\"\n  end\n\n  add_index \"places\", [\"parent_id\"], name: \"index_places_on_parent_id\"\n\nend\n\n# This is the parent class for each model defined below\n# - Place\n# | - Country\n# | - City\n# | - District\nclass Place < ActiveRecord::Base\n  belongs_to :parent\nend\n\nclass Country < Place\n\n  has_many :cities, foreign_key: 'parent_id'\n\n  has_many :districts, through: :cities, foreign_key: 'parent_id'\nend\n\nclass City < Place\n\n  belongs_to :country, foreign_key: 'parent_id'\n\n  has_many :districts, foreign_key: 'parent_id'\nend\n\nclass District < Place\n\n  belongs_to :city, foreign_key: \"parent_id\"\n\nend\n\n# Create a bunch of records\ncountry  = Country.create! name: \"USA\"\ncity     = country.cities.create! name: \"Seattle\"\ndistrict = city.districts.create! name: \"Capitol Hill\"\n\n# I would expect these to be equal - they're not.\nputs Country.first.cities.map(&:districts)\nputs Country.first.districts\n# This should be true\nputs Country.first.cities.map(&:districts).flatten == Country.first.districts # => false\n```\n\n@tenderlove seems to agree that it's a Rails bug.\n",
      "number": 12474,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/Bodacious/subscriptions",
         "received_events_url": "https://api.github.com/users/Bodacious/received_events",
         "url": "https://api.github.com/users/Bodacious",
         "avatar_url": "https://avatars2.githubusercontent.com/u/73998?v=4",
         "events_url": "https://api.github.com/users/Bodacious/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/Bodacious/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/Bodacious/following{/other_user}",
         "repos_url": "https://api.github.com/users/Bodacious/repos",
         "site_admin": false,
         "id": 73998,
         "organizations_url": "https://api.github.com/users/Bodacious/orgs",
         "login": "Bodacious",
         "gists_url": "https://api.github.com/users/Bodacious/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/Bodacious/followers",
         "html_url": "https://github.com/Bodacious"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12474",
      "updated_at": "2017-05-03T16:21:30Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12474/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 15,
      "id": 20720880,
      "closed_at": "2017-05-03T16:21:30Z",
      "created_at": "2013-10-09T03:35:36Z",
      "title": "Bug when calling has_many :through on STI models with the same parent class",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12474/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12474/comments",
      "html_url": "https://github.com/rails/rails/issues/12474"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using send_file in a controller which include's ActionController::Live causes a NoMethodError exception to be raised.\nThis is because of\n\n```\nActionController::Live::response_body=(body)\n```\n\n implementation which calls\n\n```\nresponse.stream.close\n```\n\nwithout actually checking response.stream responds to close method.\n\nA solution could be invoking response.close method which calls ActionDispatch::Response close implementation which actually performs appropriate check before invoking close on the stream instance.\n",
      "number": 12381,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/alediaferia/subscriptions",
         "received_events_url": "https://api.github.com/users/alediaferia/received_events",
         "url": "https://api.github.com/users/alediaferia",
         "avatar_url": "https://avatars1.githubusercontent.com/u/13247?v=4",
         "events_url": "https://api.github.com/users/alediaferia/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/alediaferia/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/alediaferia/following{/other_user}",
         "repos_url": "https://api.github.com/users/alediaferia/repos",
         "site_admin": false,
         "id": 13247,
         "organizations_url": "https://api.github.com/users/alediaferia/orgs",
         "login": "alediaferia",
         "gists_url": "https://api.github.com/users/alediaferia/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/alediaferia/followers",
         "html_url": "https://github.com/alediaferia"
      },
      "state": "closed",
      "closed_by": "1d19f1",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12381",
      "updated_at": "2014-01-10T19:02:04Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12381/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 20160145,
      "closed_at": "2014-01-10T19:02:04Z",
      "created_at": "2013-09-27T09:20:30Z",
      "title": "Undefined method close for ActonController::DataStreaming::FileBody",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12381/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12381/comments",
      "html_url": "https://github.com/rails/rails/issues/12381"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This bug appears again: https://rails.lighthouseapp.com/projects/8994/tickets/1079\n\nCitation:\n:belongs_to :dependent => :destroy leaves the model open to foreign key constraint failure upon deletion. This seems be due to it using before_destroy as opposed to after_destroy. It can't destroy the associated model before it deletes itself because of the foreign key. I believe the fix is to simply use after_destroy (patch attached) to destroy :belongs_to associations after it's destroyed itself.\n\nExample:\n\nclass Person < ActiveRecord::Base\n  belongs_to :person_address, :dependent => :destroy\nend\n\nclass PersonAddress < ActiveRecord::Base\n  has_one :person\nend\n...and a foreign key on person_address_id on the person table to id on the person_address table.\n",
      "number": 12380,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/iantropov/subscriptions",
         "received_events_url": "https://api.github.com/users/iantropov/received_events",
         "url": "https://api.github.com/users/iantropov",
         "avatar_url": "https://avatars3.githubusercontent.com/u/511114?v=4",
         "events_url": "https://api.github.com/users/iantropov/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/iantropov/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/iantropov/following{/other_user}",
         "repos_url": "https://api.github.com/users/iantropov/repos",
         "site_admin": false,
         "id": 511114,
         "organizations_url": "https://api.github.com/users/iantropov/orgs",
         "login": "iantropov",
         "gists_url": "https://api.github.com/users/iantropov/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/iantropov/followers",
         "html_url": "https://github.com/iantropov"
      },
      "state": "closed",
      "closed_by": "ysociety/alaveteli#3934",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12380",
      "updated_at": "2014-12-08T15:17:19Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12380/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 12,
      "id": 20155184,
      "closed_at": "2014-06-27T18:41:50Z",
      "created_at": "2013-09-27T07:00:47Z",
      "title": ":belongs_to, :dependent => destroy doesn`t work correctly.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12380/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12380/comments",
      "html_url": "https://github.com/rails/rails/issues/12380"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is related to #3234.\n\nPer discussion, `render :text` misdirect people to think that it would render content with `text/plain` MIME type. However, `render :text` actually sets the response body directly, and inherits the default response MIME type, which is `text/html`.\n\nIn order to reduce confusion, we're introducing 3 more render format to `render`:\n\n``` ruby\nrender html: '<strong>HTML String</strong>' # render with `text/html` MIME type\n\nrender plain: 'plain text' # render with `text/plain` MIME type\n\nrender body: 'raw body' # render raw content, does not set content type, inherits \n                        # default content type, which currently is `text/html`\n```\n\nWe want to phrase out the usage of `render :text`, to reduce the confusion in the future. There's currently no plan for deprecating `render :text`.\n\n---\n\nProgress: [here](https://github.com/sikachu/rails/compare/rails:master...sikachu:ps-render-format?expand=1)\n- [x] adds `render :body`\n- [x] adds `render :plain`\n- [x] adds `render :html`\n- [ ] deprecates `render :text`\n",
      "number": 12374,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
            "received_events_url": "https://api.github.com/users/sikachu/received_events",
            "url": "https://api.github.com/users/sikachu",
            "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
            "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
            "repos_url": "https://api.github.com/users/sikachu/repos",
            "site_admin": false,
            "id": 4912,
            "organizations_url": "https://api.github.com/users/sikachu/orgs",
            "login": "sikachu",
            "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sikachu/followers",
            "html_url": "https://github.com/sikachu"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
         "received_events_url": "https://api.github.com/users/sikachu/received_events",
         "url": "https://api.github.com/users/sikachu",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
         "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
         "repos_url": "https://api.github.com/users/sikachu/repos",
         "site_admin": false,
         "id": 4912,
         "organizations_url": "https://api.github.com/users/sikachu/orgs",
         "login": "sikachu",
         "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sikachu/followers",
         "html_url": "https://github.com/sikachu"
      },
      "state": "closed",
      "closed_by": "14062",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/12374",
      "updated_at": "2015-04-15T14:28:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12374/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sikachu/subscriptions",
         "received_events_url": "https://api.github.com/users/sikachu/received_events",
         "url": "https://api.github.com/users/sikachu",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4912?v=4",
         "events_url": "https://api.github.com/users/sikachu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sikachu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sikachu/following{/other_user}",
         "repos_url": "https://api.github.com/users/sikachu/repos",
         "site_admin": false,
         "id": 4912,
         "organizations_url": "https://api.github.com/users/sikachu/orgs",
         "login": "sikachu",
         "gists_url": "https://api.github.com/users/sikachu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sikachu/followers",
         "html_url": "https://github.com/sikachu"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 35,
      "id": 20129085,
      "closed_at": "2014-02-18T17:13:50Z",
      "created_at": "2013-09-26T18:56:06Z",
      "title": "Introduce `render :plain` and `render :html`, make `render :body` as an alias to `render :text`",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12374/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12374/comments",
      "html_url": "https://github.com/rails/rails/issues/12374"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "So basically if I create a simple params hash like this:\n\n``` ruby\nparams = ActionController::Parameters.new(product: { properties: { \"a\" => \"1\"}})\n```\n\nand permit needed attributes like this:\n\n``` ruby\nparams.require(:product).permit(:properties => [\"a\"])\n```\n\nall works well and I get:\n\n``` ruby\n{\n    \"properties\" => {\n        \"a\" => \"1\"\n    }\n}\n```\n\nbut if instead of \"a\" I use \"1\" \n\n``` ruby\nparams = ActionController::Parameters.new(product: { properties: { \"1\" => \"1\"}})\n```\n\n``` ruby\nparams.require(:product).permit(:properties => [\"1\"])\n```\n\nI get\n\n``` ruby\n{\n    \"properties\" => {\n        \"1\" => nil\n    }\n}\n```\n\nI'd expect\n\n``` ruby\n{\n    \"properties\" => {\n        \"1\" => \"1\"\n    }\n}\n```\n",
      "number": 12293,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mkarklins/subscriptions",
         "received_events_url": "https://api.github.com/users/mkarklins/received_events",
         "url": "https://api.github.com/users/mkarklins",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1320995?v=4",
         "events_url": "https://api.github.com/users/mkarklins/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mkarklins/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mkarklins/following{/other_user}",
         "repos_url": "https://api.github.com/users/mkarklins/repos",
         "site_admin": false,
         "id": 1320995,
         "organizations_url": "https://api.github.com/users/mkarklins/orgs",
         "login": "mkarklins",
         "gists_url": "https://api.github.com/users/mkarklins/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mkarklins/followers",
         "html_url": "https://github.com/mkarklins"
      },
      "state": "closed",
      "closed_by": "12354",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12293",
      "updated_at": "2013-10-18T19:45:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12293/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 19785422,
      "closed_at": "2013-09-29T00:31:24Z",
      "created_at": "2013-09-19T22:26:01Z",
      "title": "Strong params woun't permit nested number as key",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12293/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12293/comments",
      "html_url": "https://github.com/rails/rails/issues/12293"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello, \n\nI found that when I write a form submitting a datetime in UTC (or basically any format that contains timezone information) in converting the date rails 3.2.14 loses the timezone information and just uses `Base.default_timezone` instead. \n\nI've found that the problem seems to be in the method: `ActiveRecord::ConnectionAdapters::Column.fallback_string_to_time`\n\ncopied here: \n\n```\n def fallback_string_to_time(string)\n   time_hash = Date._parse(string)\n   time_hash[:sec_fraction] = microseconds(time_hash)\n\n   new_time(*time_hash.values_at(:year, :mon, :mday, :hour, :min, :sec, :sec_fraction))\n end\n```\n\nwhere `string` contains something similar to: `Wed, 04 Sep 2013 20:30:00 GMT`, as received from the form\n\nthe `time_hash` correctly contains: \n\n```\n> time_hash\n=> {:wday=>3,\n :zone=>\"GMT\",\n :hour=>20,\n :min=>30,\n :sec=>0,\n :year=>2013,\n :mon=>9,\n :mday=>4,\n :offset=>0,\n :sec_fraction=>0}\n```\n\nbut the `:zone` information is not passed to `ActiveRecord::ConnectionAdapters::Column.new_time` (below): \n\n```\ndef new_time(year, mon, mday, hour, min, sec, microsec)\n  # Treat 0000-00-00 00:00:00 as nil.\n  return nil if year.nil? || (year == 0 && mon == 0 && mday == 0)\n\n  Time.time_with_datetime_fallback(Base.default_timezone, year, mon, mday, hour, min, sec, microsec) rescue nil\nend\n```\n\n`new_time` doesn't even accept the timezone info as parameter, but just overrides anything with `Base.default_timezone`\n\nThe result is that if one passes in a datetime such as: `Wed, 04 Sep 2013 20:30:00 GMT`\n\nThe database will get saved with the datetime: `2013-09-04 20:30:00 UTC`\nSo two hours wrong in this example.\n\nFixing this would require repairing `fallback_string_to_time` to pass the timezone information to `new_time`, and fixing `new_time` to parse and use such information. \n",
      "number": 12278,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/DonGiulio/subscriptions",
         "received_events_url": "https://api.github.com/users/DonGiulio/received_events",
         "url": "https://api.github.com/users/DonGiulio",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4629740?v=4",
         "events_url": "https://api.github.com/users/DonGiulio/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/DonGiulio/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/DonGiulio/following{/other_user}",
         "repos_url": "https://api.github.com/users/DonGiulio/repos",
         "site_admin": false,
         "id": 4629740,
         "organizations_url": "https://api.github.com/users/DonGiulio/orgs",
         "login": "DonGiulio",
         "gists_url": "https://api.github.com/users/DonGiulio/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/DonGiulio/followers",
         "html_url": "https://github.com/DonGiulio"
      },
      "state": "closed",
      "closed_by": "12290",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12278",
      "updated_at": "2013-09-25T04:37:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12278/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 19716785,
      "closed_at": "2013-09-25T04:37:53Z",
      "created_at": "2013-09-18T22:30:13Z",
      "title": "When submitting a datetime in UTC format from a form ActiveRecord loses timezone info",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12278/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12278/comments",
      "html_url": "https://github.com/rails/rails/issues/12278"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Quoting from the [Active Record Query Interface guide](http://guides.rubyonrails.org/active_record_querying.html#specifying-conditions-on-eager-loaded-associations):\n\n> Even though Active Record lets you specify conditions on the eager loaded associations just like `joins`, the recommended way is to use `joins` instead.\n> \n> ```\n> Post.includes(:comments).where(\"comments.visible\" => true)\n> ```\n> \n> This would generate a query which contains a LEFT OUTER JOIN whereas the `joins` method would generate one using the INNER JOIN function instead.\n> \n> ```\n> SELECT \"posts\".\"id\" AS t0_r0, ... \"comments\".\"updated_at\" AS t1_r5 FROM \"posts\" LEFT OUTER JOIN \"comments\" ON \"comments\".\"post_id\" = \"posts\".\"id\" WHERE (comments.visible = 1)\n> ```\n> \n> If, in the case of this `includes` query, there were no comments for any posts, all the posts would still be loaded.\n\nI think (could be wrong of course) the last line above is incorrect: if there were no comments, then `comments.visible` would always be NULL, so no posts would be returned. (edit: the Rails API docs [say as much](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html)[0].) The given SQL returns _only posts with visible comments_, which implies that\n\n```\nPost.includes(:comments).where(\"comments.visible\" => true)\n```\n\nis functionally the same as doing\n\n```\nPost.joins(:comments).where(\"comments.visible\" => true)\n```\n\nand is therefore not very useful. It would make more sense to provide an example of a LEFT JOIN with comment.visible=true as an ON condition instead.\n\nThe equivalence stems from the difference between WHERE and ON in an OUTER JOIN: WHERE is a _post-join_ filter and essentially converts the join to an INNER JOIN, while ON is a _pre-join_ filter that preserves the join's nature as an OUTER JOIN.[1][2]\n\nIs there an Active Record method or `.includes()` argument that returns an ON/AND relation? Something like `Post.includes(:comments, on: {visible: true})`, akin to the syntax in Rails 2? That would provide for the use case where all posts are desired, and the ones with visible comments should have those comments returned as well (i.e. an actual OUTER JOIN on a condition). The SQL generated would be something like\n\n```\nSELECT ... FROM posts LEFT JOIN comments\n    ON posts.id = comments.post_id\n    AND comments.visible = 1\n```\n\nIf I'm right about this, the example in the guide should probably use the aforementioned ON/AND argument/method (assuming it exists) instead of `.where()`, and maybe mention the gotcha with `.where()`.\n\n[0] http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html - see the paragraph containing the statement \"In the above example posts with no approved comments are not returned at all, ...\"\n[1] http://stackoverflow.com/questions/4752455/left-join-with-where-clause\n[2] http://stackoverflow.com/questions/354070/sql-join-where-clause-vs-on-clause\n\nedit: One more thought: If an ON condition could be included in `.includes()`, it seems like Rails could stick to performing 2 queries instead of having to do a single JOIN query like it does now. `Post.includes(:comments, on: {visible: true})` could be executed as either a JOIN or 2 queries, the latter of which I understand is more efficient for Rails to execute.\n",
      "number": 12270,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/denyeo/subscriptions",
         "received_events_url": "https://api.github.com/users/denyeo/received_events",
         "url": "https://api.github.com/users/denyeo",
         "avatar_url": "https://avatars2.githubusercontent.com/u/4414926?v=4",
         "events_url": "https://api.github.com/users/denyeo/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/denyeo/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/denyeo/following{/other_user}",
         "repos_url": "https://api.github.com/users/denyeo/repos",
         "site_admin": false,
         "id": 4414926,
         "organizations_url": "https://api.github.com/users/denyeo/orgs",
         "login": "denyeo",
         "gists_url": "https://api.github.com/users/denyeo/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/denyeo/followers",
         "html_url": "https://github.com/denyeo"
      },
      "state": "closed",
      "closed_by": "14139",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12270",
      "updated_at": "2016-08-23T21:08:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12270/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 5,
      "id": 19681636,
      "closed_at": "2014-11-19T19:52:58Z",
      "created_at": "2013-09-18T13:53:06Z",
      "title": "AR Query guide: .includes().where() actually produces INNER JOIN",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12270/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12270/comments",
      "html_url": "https://github.com/rails/rails/issues/12270"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This Gist details the issue and suggests a possible fix:\n\nhttps://gist.github.com/jordansexton/6588798\n\nWhen providing an alternative action for rendering to respond_with, the action is ignored when the resourceful response is successful, because `options[:action]` is deleted for reasons I can't determine. Changing line 11 of `responder.rb`, as demonstrated in `patched_responder.rb`, fixes this so that the action is correctly passed to `default_render`. The other code is shown to demonstrate the execution path: `to_html` (or any other format) calls `default_render` when the resource has no errors, which always renders without the excluded action.\n\nA simple example detailing a use case is provided. In `messages_controller.rb`, the show action is called. When it's an unsent message, I want to treat it as a draft and show a form to edit the resource. I believe expected behavior would be to render messages/test.html, but because of the `options.delete(:action)` call in `ActionController::Responder`, it will always render messages/show.html.\n",
      "number": 12253,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions",
            "received_events_url": "https://api.github.com/users/guilleiguaran/received_events",
            "url": "https://api.github.com/users/guilleiguaran",
            "avatar_url": "https://avatars2.githubusercontent.com/u/160941?v=4",
            "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}",
            "repos_url": "https://api.github.com/users/guilleiguaran/repos",
            "site_admin": false,
            "id": 160941,
            "organizations_url": "https://api.github.com/users/guilleiguaran/orgs",
            "login": "guilleiguaran",
            "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/guilleiguaran/followers",
            "html_url": "https://github.com/guilleiguaran"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jordansexton/subscriptions",
         "received_events_url": "https://api.github.com/users/jordansexton/received_events",
         "url": "https://api.github.com/users/jordansexton",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1173161?v=4",
         "events_url": "https://api.github.com/users/jordansexton/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jordansexton/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jordansexton/following{/other_user}",
         "repos_url": "https://api.github.com/users/jordansexton/repos",
         "site_admin": false,
         "id": 1173161,
         "organizations_url": "https://api.github.com/users/jordansexton/orgs",
         "login": "jordansexton",
         "gists_url": "https://api.github.com/users/jordansexton/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jordansexton/followers",
         "html_url": "https://github.com/jordansexton"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12253",
      "updated_at": "2014-05-07T19:49:14Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12253/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/guilleiguaran/subscriptions",
         "received_events_url": "https://api.github.com/users/guilleiguaran/received_events",
         "url": "https://api.github.com/users/guilleiguaran",
         "avatar_url": "https://avatars2.githubusercontent.com/u/160941?v=4",
         "events_url": "https://api.github.com/users/guilleiguaran/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/guilleiguaran/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/guilleiguaran/following{/other_user}",
         "repos_url": "https://api.github.com/users/guilleiguaran/repos",
         "site_admin": false,
         "id": 160941,
         "organizations_url": "https://api.github.com/users/guilleiguaran/orgs",
         "login": "guilleiguaran",
         "gists_url": "https://api.github.com/users/guilleiguaran/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/guilleiguaran/followers",
         "html_url": "https://github.com/guilleiguaran"
      },
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 19590033,
      "closed_at": "2014-05-07T19:49:14Z",
      "created_at": "2013-09-17T01:09:35Z",
      "title": "Responder ignores :action option when rendering using respond_with",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12253/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12253/comments",
      "html_url": "https://github.com/rails/rails/issues/12253"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Here's a demo of the issue:\n\n``` ruby\n[18] pry(main)> expense.errors.keys\n=> []\n\n[19] pry(main)> expense.errors[:something]\n=> []\n\n[20] pry(main)> expense.errors.keys\n=> [:something]\n```\n",
      "number": 12248,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dejan/subscriptions",
         "received_events_url": "https://api.github.com/users/dejan/received_events",
         "url": "https://api.github.com/users/dejan",
         "avatar_url": "https://avatars0.githubusercontent.com/u/4494?v=4",
         "events_url": "https://api.github.com/users/dejan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dejan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dejan/following{/other_user}",
         "repos_url": "https://api.github.com/users/dejan/repos",
         "site_admin": false,
         "id": 4494,
         "organizations_url": "https://api.github.com/users/dejan/orgs",
         "login": "dejan",
         "gists_url": "https://api.github.com/users/dejan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dejan/followers",
         "html_url": "https://github.com/dejan"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12248",
      "updated_at": "2013-11-22T18:29:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12248/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 19561285,
      "closed_at": "2013-11-22T18:29:59Z",
      "created_at": "2013-09-16T16:26:44Z",
      "title": "Calling ActiveModel::Errors#[] changes state of the message hash for no reason",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12248/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12248/comments",
      "html_url": "https://github.com/rails/rails/issues/12248"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Looks like order of keys in hash passed to `permit(...)` method **does** matter:\n\n``` ruby\nActionController::Parameters.new(:a => 1, :b => [1,2,3], :c => nil).permit(:a, :b => [], :c => [])\n=> {\"a\"=>1, \"b\"=>[1, 2, 3]}\n\nActionController::Parameters.new(:a => 1, :b => [1,2,3], :c => nil).permit(:a, :c => [], :b => [])\n=> {\"a\"=>1}\n\nActionController::Parameters.new(:a => 1, :b => [1,2,3]).permit(:a, :c => [], :b => [])\n=> {\"a\"=>1, \"b\"=>[1, 2, 3]}\n```\n\nwhat is going on here?\n\nRails: 4.0.0\n",
      "number": 12149,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/teamon/subscriptions",
         "received_events_url": "https://api.github.com/users/teamon/received_events",
         "url": "https://api.github.com/users/teamon",
         "avatar_url": "https://avatars1.githubusercontent.com/u/8083?v=4",
         "events_url": "https://api.github.com/users/teamon/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/teamon/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/teamon/following{/other_user}",
         "repos_url": "https://api.github.com/users/teamon/repos",
         "site_admin": false,
         "id": 8083,
         "organizations_url": "https://api.github.com/users/teamon/orgs",
         "login": "teamon",
         "gists_url": "https://api.github.com/users/teamon/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/teamon/followers",
         "html_url": "https://github.com/teamon"
      },
      "state": "closed",
      "closed_by": "12159",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12149",
      "updated_at": "2013-09-13T08:37:26Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12149/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 19099606,
      "closed_at": "2013-09-12T22:20:09Z",
      "created_at": "2013-09-06T10:59:48Z",
      "title": "Order of keys when using strong parameters",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12149/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12149/comments",
      "html_url": "https://github.com/rails/rails/issues/12149"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\nvagrant@rails-dev-box:~/test-custom-flash$ bundle exec rails -v\nRails 4.1.0.beta\nvagrant@rails-dev-box:~/test-custom-flash$ bundle exec rails g controller flashtests\n      create  app/controllers/flashtests_controller.rb\n      invoke  erb\n      create    app/views/flashtests\n      invoke  test_unit\n      create    test/controllers/flashtests_controller_test.rb\n      invoke  helper\n      create    app/helpers/flashtests_helper.rb\n      invoke    test_unit\n      create      test/helpers/flashtests_helper_test.rb\n      invoke  assets\n      invoke    coffee\n      create      app/assets/javascripts/flashtests.js.coffee\n      invoke    scss\n      create      app/assets/stylesheets/flashtests.css.scss\nvagrant@rails-dev-box:~/test-custom-flash$ bundle exec rails destroy controller flashtests\n/vagrant/rails/railties/lib/rails/commands/commands_tasks.rb:40:in `run_command!': undefined method `destroy' for #<Rails::CommandsTasks:0x9f6a834> (NoMethodError)\n    from /vagrant/rails/railties/lib/rails/commands.rb:17:in `<top (required)>'\n    from bin/rails:4:in `require'\n    from bin/rails:4:in `<main>'\n```\n\nThis [commit](https://github.com/rails/rails/commit/f1f249d83615faab1a030c2303c0026a5b0b2ff8#railties/lib/rails/commands/commands_tasks.rb) moved Rails commands into class but missed to add 'destroy' method.\n\nI am working on a pull request.\n",
      "number": 12141,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/soundarapandian/subscriptions",
         "received_events_url": "https://api.github.com/users/soundarapandian/received_events",
         "url": "https://api.github.com/users/soundarapandian",
         "avatar_url": "https://avatars2.githubusercontent.com/u/528129?v=4",
         "events_url": "https://api.github.com/users/soundarapandian/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/soundarapandian/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/soundarapandian/following{/other_user}",
         "repos_url": "https://api.github.com/users/soundarapandian/repos",
         "site_admin": false,
         "id": 528129,
         "organizations_url": "https://api.github.com/users/soundarapandian/orgs",
         "login": "soundarapandian",
         "gists_url": "https://api.github.com/users/soundarapandian/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/soundarapandian/followers",
         "html_url": "https://github.com/soundarapandian"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12141",
      "updated_at": "2013-09-29T16:37:36Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12141/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 1,
      "id": 19025629,
      "closed_at": "2013-09-29T16:37:36Z",
      "created_at": "2013-09-05T06:46:18Z",
      "title": "Rails destroy command broken in 4.1.0.beta",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12141/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12141/comments",
      "html_url": "https://github.com/rails/rails/issues/12141"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Given this model:\n\n``` ruby\nclass Payment\n  include ActiveModel::Model\n\n  attr_accessor :amount\n\n  validates :amount, numericality: {\n    equal_to: ->(record) { record.amount }\n  }\nend\n```\n\nwe should expect the numericality validation to always pass with a value for `amount`. However, it can fail if the amount column is a BigDecimal (which often happens as ActiveRecord represents `decimal` database columns with the BigDecimal type):\n\n```\n[7] pry(main)> payment = Payment.new amount: BigDecimal.new('706.06')\n=> #<Payment:0x00000004c95c08 @amount=#<BigDecimal:4c95c58,'0.70606E3',18(18)>>\n[8] pry(main)> payment.valid?\n=> false\n[9] pry(main)> payment.errors.to_a\n=> [\"Amount must be equal to 706.06\"]\n[10] pry(main)> payment.amount\n=> #<BigDecimal:4c95c58,'0.70606E3',18(18)>\n[11] pry(main)> payment.amount.to_f\n=> 706.06\n```\n\nThis appears to happen because NumericalityValidator takes the raw string value of :amount, and attempts to re-parse it to a Float: https://github.com/rails/rails/blob/4-0-stable/activemodel/lib/active_model/validations/numericality.rb#L27\n\nAnd as it turns out, ruby doesn't compare Float and BigDecimal reliably:\n\n``` ruby\n(0..9).each do |i|\n  s = \"706.0#{i}\"\n  puts s\n  puts s.to_f == BigDecimal.new(s)\nend\n```\n\n```\n706.00\ntrue\n706.01\ntrue\n706.02\ntrue\n706.03\ntrue\n706.04\ntrue\n706.05\ntrue\n706.06\nfalse\n706.07\nfalse\n706.08\ntrue\n706.09\ntrue\n```\n\n(output the same on 1.9.3 and 2.0.0-p247)\n\nI haven't started trudging around the I'm not sure if this should be accepted under the general \"Floats are imprecise\", or if this is an actual ruby-core bug, but there are a few considerations:\n1. Is it sensible to [always re-parse the values to a float](https://github.com/rails/rails/blob/4-0-stable/activemodel/lib/active_model/validations/numericality.rb#L64), and arguably flakey type for comparisons?\n2. If so, should we call `.to_f` on the `option_value` as well, so we're comparing the same types?\n",
      "number": 12134,
      "assignees": [],
      "locked": true,
      "user": {
         "subscriptions_url": "https://api.github.com/users/gabetax/subscriptions",
         "received_events_url": "https://api.github.com/users/gabetax/received_events",
         "url": "https://api.github.com/users/gabetax",
         "avatar_url": "https://avatars3.githubusercontent.com/u/149842?v=4",
         "events_url": "https://api.github.com/users/gabetax/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/gabetax/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/gabetax/following{/other_user}",
         "repos_url": "https://api.github.com/users/gabetax/repos",
         "site_admin": false,
         "id": 149842,
         "organizations_url": "https://api.github.com/users/gabetax/orgs",
         "login": "gabetax",
         "gists_url": "https://api.github.com/users/gabetax/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/gabetax/followers",
         "html_url": "https://github.com/gabetax"
      },
      "state": "closed",
      "closed_by": "19851",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12134",
      "updated_at": "2015-10-20T23:06:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12134/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 12,
      "id": 19002779,
      "closed_at": "2015-10-20T23:06:01Z",
      "created_at": "2013-09-04T21:13:19Z",
      "title": "NumericalityValidator equal_to false positives with BigDecimal attributes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12134/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12134/comments",
      "html_url": "https://github.com/rails/rails/issues/12134"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The word \"specimen\" is treated like a case of \"man/men\" leading to some problems.  I've added the necessary inflections to the initializer, but it doesn't seem to be used/loaded for the `rails:template` rake task.\n\nIn 2.3.14, `'specimen'.pluralize #=> 'specimens'`.  But in 3.2.14, `'specimen'.pluralize #=> 'specimen'`.\n",
      "number": 12133,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/graywh/subscriptions",
         "received_events_url": "https://api.github.com/users/graywh/received_events",
         "url": "https://api.github.com/users/graywh",
         "avatar_url": "https://avatars3.githubusercontent.com/u/6110?v=4",
         "events_url": "https://api.github.com/users/graywh/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/graywh/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/graywh/following{/other_user}",
         "repos_url": "https://api.github.com/users/graywh/repos",
         "site_admin": false,
         "id": 6110,
         "organizations_url": "https://api.github.com/users/graywh/orgs",
         "login": "graywh",
         "gists_url": "https://api.github.com/users/graywh/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/graywh/followers",
         "html_url": "https://github.com/graywh"
      },
      "state": "closed",
      "closed_by": "14325",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12133",
      "updated_at": "2014-03-08T18:15:12Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12133/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 5,
      "id": 18988684,
      "closed_at": "2014-03-08T18:15:12Z",
      "created_at": "2013-09-04T18:31:09Z",
      "title": "Inflection problem (specimen)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12133/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12133/comments",
      "html_url": "https://github.com/rails/rails/issues/12133"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using ActiveRecord 4.0.0, I'm trying to add an association using a `has_one` through a self join on an STI model, like this ([gist here](https://gist.github.com/haines/6421402)):\n\n``` ruby\nclass Person < ActiveRecord::Base\nend\n\nclass Child < Person\n  belongs_to :parent\n  has_many :toys\nend\n\nclass Parent < Person\n  has_many :children\n  has_many :toys, through: :children\nend\n\nclass Toy < ActiveRecord::Base\n  belongs_to :child\n  has_one :parent, through: :child\nend\n```\n\nI can go down through the `has_many` quite happily - `parent.toys` correctly returns a collection of toys. However, going back up the other way doesn't work - `toy.parent` returns nil.\n\nThe latter generates the following incorrect SQL:\n\n``` sql\nSELECT \"people\".* FROM \"people\"\nINNER JOIN \"people\" \"children_parent_join\"\n  ON \"people\".\"id\" = \"children_parent_join\".\"parent_id\"\nWHERE \"people\".\"type\" IN ('Child') -- wrong\n  AND \"people\".\"type\" IN ('Parent')\n  AND \"children_parent_join\".\"id\" = ?\nORDER BY \"people\".\"id\" ASC\nLIMIT 1\n[[\"id\", 4]]\n```\n\nI think to get the correct query it needs to remove the first condition, `\"people\".\"type\" IN ('Child')`.\n\nEdit: actually, maybe the right query would be to change the first condition to `\"children_parent_join\".\"type\" IN ('Child')` rather than removing it altogether.\n",
      "number": 12114,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/haines/subscriptions",
         "received_events_url": "https://api.github.com/users/haines/received_events",
         "url": "https://api.github.com/users/haines",
         "avatar_url": "https://avatars2.githubusercontent.com/u/785641?v=4",
         "events_url": "https://api.github.com/users/haines/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/haines/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/haines/following{/other_user}",
         "repos_url": "https://api.github.com/users/haines/repos",
         "site_admin": false,
         "id": 785641,
         "organizations_url": "https://api.github.com/users/haines/orgs",
         "login": "haines",
         "gists_url": "https://api.github.com/users/haines/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/haines/followers",
         "html_url": "https://github.com/haines"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12114",
      "updated_at": "2017-05-03T16:59:20Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12114/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 18897178,
      "closed_at": "2017-05-03T16:59:20Z",
      "created_at": "2013-09-03T09:16:37Z",
      "title": "has_one :through doesn't work with a self join on an STI model",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12114/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12114/comments",
      "html_url": "https://github.com/rails/rails/issues/12114"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Hello,\n\nThe documentation of new_record? states\n\n> Returns true if this object hasn\u2019t been saved yet \u2013 _that is, a record for the object doesn\u2019t exist in the data store yet_; otherwise, returns false.\n\nHowever when reload is called successfully it should mean that there is an object in the datastore, yet new_record? still returns true.\n\nSimple case to recreate situation\n\n``` ruby\nPerson = Person.new\n# some processing to find out that we already have the item in the datastore\n# e.g nested_attribute contains id\nperson.id = Item.first.id #could also use person.id = known_id\nperson.reload\nperson.new_record? # returns true, even if the reload worked\n```\n\nCode that's failing on me\n\n``` ruby\nclass Person < ActiveRecord::Base\n has_many :items, -> { uniq }, dependent: :destroy\n accepts_nested_attributes_for :items\n attr_accessible :name, :items, :items_attributes\n\n protected\n  def items_attributes=(attributes)\n   #Code truncated\n   # After checks for existence of items in db by either item.code or item.id\n   self.id = id_from_first_item_attribute\n   self.reload\n   # Assign new attributes\n  end\nend\n\nclass Item < ActiveRecord::Base\n belongs_to :people\n attr_accessible :code\n validates :code, uniqueness: true\nend\n\nparams = { items_attributes: [ { code: \"A97G1A\"} ]}\np = Person.new params\np.new_record? # true\n#p.save will create a new record\n```\n\nIs this desired behavior? If so could you please update the documentation? If not, then could you please make @new_record somehow dependent on reload or really do what it says in the documentation?\n\nKind regards,\nLoveIsGrief\n",
      "number": 12101,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/LoveIsGrief/subscriptions",
         "received_events_url": "https://api.github.com/users/LoveIsGrief/received_events",
         "url": "https://api.github.com/users/LoveIsGrief",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2829538?v=4",
         "events_url": "https://api.github.com/users/LoveIsGrief/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/LoveIsGrief/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/LoveIsGrief/following{/other_user}",
         "repos_url": "https://api.github.com/users/LoveIsGrief/repos",
         "site_admin": false,
         "id": 2829538,
         "organizations_url": "https://api.github.com/users/LoveIsGrief/orgs",
         "login": "LoveIsGrief",
         "gists_url": "https://api.github.com/users/LoveIsGrief/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/LoveIsGrief/followers",
         "html_url": "https://github.com/LoveIsGrief"
      },
      "state": "closed",
      "closed_by": "16049",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12101",
      "updated_at": "2014-07-04T15:47:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12101/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 13,
      "id": 18836171,
      "closed_at": "2014-07-04T15:47:54Z",
      "created_at": "2013-09-01T12:31:10Z",
      "title": "new_record? returning true after a successful reload",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12101/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12101/comments",
      "html_url": "https://github.com/rails/rails/issues/12101"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rack Cache is currently hitting the RAILS_CACHE (in our case memcache) on **every** request.\n\nThis seems like a terrible default for the framework of Rails in production, is there any way of turning this functionality off?\n\nThe only way I see doing so right now is:\n\n`config.action_dispatch.rack_cache = nil`\n\nI may be missing the reasoning behind this, but I would think the default should be to intercept any requests that have a static response ( assets, page caches... ) as a configuration instead of a default.\n",
      "number": 12073,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chaffeqa/subscriptions",
         "received_events_url": "https://api.github.com/users/chaffeqa/received_events",
         "url": "https://api.github.com/users/chaffeqa",
         "avatar_url": "https://avatars3.githubusercontent.com/u/287640?v=4",
         "events_url": "https://api.github.com/users/chaffeqa/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chaffeqa/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chaffeqa/following{/other_user}",
         "repos_url": "https://api.github.com/users/chaffeqa/repos",
         "site_admin": false,
         "id": 287640,
         "organizations_url": "https://api.github.com/users/chaffeqa/orgs",
         "login": "chaffeqa",
         "gists_url": "https://api.github.com/users/chaffeqa/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chaffeqa/followers",
         "html_url": "https://github.com/chaffeqa"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12073",
      "updated_at": "2013-12-02T06:43:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12073/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 18738684,
      "closed_at": "2013-12-02T06:43:44Z",
      "created_at": "2013-08-29T15:42:25Z",
      "title": "Rack Cache does lookup on every request",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12073/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12073/comments",
      "html_url": "https://github.com/rails/rails/issues/12073"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": ":frowning: I found this out when trying to stub it out and assert on what was being passed to it in a spec.\n\nhttps://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal/mime_responds.rb#L329\n",
      "number": 12029,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nertzy/subscriptions",
         "received_events_url": "https://api.github.com/users/nertzy/received_events",
         "url": "https://api.github.com/users/nertzy",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2488?v=4",
         "events_url": "https://api.github.com/users/nertzy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nertzy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nertzy/following{/other_user}",
         "repos_url": "https://api.github.com/users/nertzy/repos",
         "site_admin": false,
         "id": 2488,
         "organizations_url": "https://api.github.com/users/nertzy/orgs",
         "login": "nertzy",
         "gists_url": "https://api.github.com/users/nertzy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nertzy/followers",
         "html_url": "https://github.com/nertzy"
      },
      "state": "closed",
      "closed_by": "12083",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12029",
      "updated_at": "2013-10-09T09:48:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12029/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 18572713,
      "closed_at": "2013-10-09T09:48:01Z",
      "created_at": "2013-08-26T20:52:19Z",
      "title": "respond_with modifies its options Hash in place",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12029/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12029/comments",
      "html_url": "https://github.com/rails/rails/issues/12029"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "as I'm trying to improve AR-JDBC to match the behaviour of ActiveRecord I've hit this quite strange but quite serious \"regression\" while running our test suite with MRI agains AR **4.0**. Prepared statements are on by default for a while now on Rails but since AR-JDBC just added them we run tests with and without them. \n\nI noticed that (all) tests that create records **fail** if `prepared_statement: false`, it's worth nothing that the same tests run fine against **3.2** (with and without PS).\n\nHappens with Postgres and SQLite3 adapters (Mysql/Mysql2 seem just fine), here are the back-traces (test-code is simply pretty much any `Model.create! :attr => ''`) :\n\n```\n  ActiveRecord::StatementInvalid: PG::ProtocolViolation: ERROR:  bind message supplies 1 parameters, but prepared statement \"a10\" requires 0\n  : INSERT INTO \"string_ids\" (\"id\") VALUES ('some_string') RETURNING \"id\"\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:780:in `get_last_result'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql_adapter.rb:780:in `exec_cache'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:139:in `block in exec_query'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:425:in `block in log'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:420:in `log'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:137:in `exec_query'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/postgresql/database_statements.rb:183:in `exec_insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:96:in `insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/relation.rb:76:in `insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/persistence.rb:498:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/attribute_methods/dirty.rb:78:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:303:in `block in create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__444213998555957560__create__callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:303:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/timestamp.rb:57:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/persistence.rb:466:in `create_or_update'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:299:in `block in create_or_update'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__444213998555957560__save__callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:299:in `create_or_update'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/persistence.rb:106:in `save'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/validations.rb:51:in `save'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/attribute_methods/dirty.rb:32:in `save'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:270:in `block (2 levels) in save'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:209:in `transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:323:in `with_transaction_returning_status'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:270:in `block in save'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:281:in `rollback_active_record_state!'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:269:in `save'\n```\n\n```\n  ActiveRecord::StatementInvalid: SQLite3::RangeException: bind or column index out of range: INSERT INTO \"db_types\" (\"sample_text\") VALUES ('')\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/sqlite3-1.3.8/lib/sqlite3/statement.rb:41:in `bind_param'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/sqlite3-1.3.8/lib/sqlite3/statement.rb:41:in `block in bind_params'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/sqlite3-1.3.8/lib/sqlite3/statement.rb:37:in `each'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/sqlite3-1.3.8/lib/sqlite3/statement.rb:37:in `bind_params'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:308:in `block in exec_query'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:425:in `block in log'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/notifications/instrumenter.rb:20:in `instrument'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract_adapter.rb:420:in `log'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/sqlite3_adapter.rb:292:in `exec_query'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:69:in `exec_insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:96:in `insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/query_cache.rb:14:in `insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/relation.rb:76:in `insert'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/persistence.rb:498:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/attribute_methods/dirty.rb:78:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:303:in `block in create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2590510977372017430__create__callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:303:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/timestamp.rb:57:in `create_record'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/persistence.rb:466:in `create_or_update'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:299:in `block in create_or_update'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:373:in `_run__2590510977372017430__save__callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activesupport-4.0.0/lib/active_support/callbacks.rb:80:in `run_callbacks'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/callbacks.rb:299:in `create_or_update'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/persistence.rb:128:in `save!'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/validations.rb:57:in `save!'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/attribute_methods/dirty.rb:41:in `save!'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:275:in `block in save!'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:326:in `block in with_transaction_returning_status'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `block in transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:210:in `within_new_transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:202:in `transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:209:in `transaction'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:323:in `with_transaction_returning_status'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/transactions.rb:275:in `save!'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/validations.rb:41:in `create!'\n```\n",
      "number": 12023,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kares/subscriptions",
         "received_events_url": "https://api.github.com/users/kares/received_events",
         "url": "https://api.github.com/users/kares",
         "avatar_url": "https://avatars0.githubusercontent.com/u/45967?v=4",
         "events_url": "https://api.github.com/users/kares/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kares/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kares/following{/other_user}",
         "repos_url": "https://api.github.com/users/kares/repos",
         "site_admin": false,
         "id": 45967,
         "organizations_url": "https://api.github.com/users/kares/orgs",
         "login": "kares",
         "gists_url": "https://api.github.com/users/kares/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kares/followers",
         "html_url": "https://github.com/kares"
      },
      "state": "closed",
      "closed_by": "13b278",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12023",
      "updated_at": "2013-09-24T01:30:12Z",
      "milestone": {
         "closed_at": "2013-11-04T04:46:55Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/25",
         "description": "",
         "updated_at": "2013-11-04T04:46:55Z",
         "number": 25,
         "due_on": null,
         "id": 373883,
         "open_issues": 0,
         "closed_issues": 14,
         "created_at": "2013-07-09T08:41:20Z",
         "title": "4.0.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/25/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/25",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12023/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 3,
      "id": 18540341,
      "closed_at": "2013-09-11T23:49:19Z",
      "created_at": "2013-08-26T09:22:28Z",
      "title": "inserts with `prepared_statements: false` broken on 4.0",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12023/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12023/comments",
      "html_url": "https://github.com/rails/rails/issues/12023"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "seems as the use-case I present was working with **3.2** but no longer does on **4.0**, it ends up with yet another :  _NoMethodError: undefined method `reverse' for nil:NilClass_\n\nhere's the code that fails (reproducable e.g. with the mysql2 adapter):\n\n``` ruby\nrole = Role.create! :name => \"main\", :description => \"main role\"\nRole.create! :name => \"user\", :description => \"user role\"\n\nRight.create! :name => \"r0\", :hours => 0\nr1 = Right.create! :name => \"r1\", :hours => 1\nr2 = Right.create! :name => \"r2\", :hours => 2\nRight.create! :name => \"r3\", :hours => 3\n\nrole.permission_groups.create! :right => r1.reload\nrole.permission_groups.create! :right => r2.reload\n\nconnection = ActiveRecord::Base.connection\ngroups = role.reload.permission_groups.select('right_id')\n\nassert_equal [ r1.id, r2.id ], connection.select_values(groups)\n```\n\nmodels / migrations :\n\n``` ruby\nclass CreateRightsAndRoles < ActiveRecord::Migration\n  def self.up\n    create_table :role_assignments do |t| \n      t.column :role_id, :integer\n      t.column :user_id, :integer\n    end\n\n    create_table :roles do |t| \n      t.column :name, :string\n      t.column :description, :string\n    end \n\n    create_table :permission_groups do |t|\n      t.column :right_id, :integer, :null => false\n      t.column :role_id, :integer, :null => false\n    end \n\n    create_table :rights do |t| \n      t.column :name, :string\n      t.column :controller_name, :string\n      t.column :actions, :string\n      t.column :hours, :float, :null => false\n    end\n  end\n\n  def self.down\n    drop_table :role_assignments\n    drop_table :roles\n    drop_table :permission_groups\n    drop_table :rights\n  end\nend\n\nclass Right < ActiveRecord::Base\n  has_many :permission_groups, :dependent => :destroy\n  has_many :roles, :through => :permission_groups\nend\n\nclass Role < ActiveRecord::Base\n  has_many :permission_groups, :dependent => :destroy\n  has_many :rights, :through => :permission_groups\n  has_many :role_assignments, :dependent => :destroy\n\n  def has_right?(right)\n    rights.include? right\n  end\nend\n\nclass PermissionGroup < ActiveRecord::Base\n  belongs_to :right\n  belongs_to :role\nend\n\nclass RoleAssignment < ActiveRecord::Base\n  belongs_to :user\n  belongs_to :role\nend\n```\n\nback-trace :\n\n```\n  NoMethodError: undefined method `reverse' for nil:NilClass\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:14:in `block in to_sql'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/bind_visitor.rb:26:in `call'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/bind_visitor.rb:26:in `visit_Arel_Nodes_BindParam'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/visitor.rb:19:in `visit'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:517:in `visit_Arel_Nodes_Equality'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/visitor.rb:19:in `visit'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:499:in `block in visit_Arel_Nodes_And'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:499:in `map'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:499:in `visit_Arel_Nodes_And'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/visitor.rb:19:in `visit'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:216:in `block in visit_Arel_Nodes_SelectCore'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:215:in `each'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:215:in `each_with_index'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:215:in `visit_Arel_Nodes_SelectCore'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/mysql.rb:41:in `visit_Arel_Nodes_SelectCore'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:175:in `block in visit_Arel_Nodes_SelectStatement'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:175:in `each'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:175:in `visit_Arel_Nodes_SelectStatement'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/mysql.rb:36:in `visit_Arel_Nodes_SelectStatement'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/visitor.rb:19:in `visit'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/visitor.rb:5:in `accept'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/to_sql.rb:68:in `accept'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/arel-4.0.0/lib/arel/visitors/bind_visitor.rb:11:in `accept'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:13:in `to_sql'\n/opt/local/rvm/gems/ruby-1.9.3-p429@jdbc/gems/activerecord-4.0.0/lib/active_record/connection_adapters/abstract/database_statements.rb:44:in `select_values'\n```\n",
      "number": 12017,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/kares/subscriptions",
         "received_events_url": "https://api.github.com/users/kares/received_events",
         "url": "https://api.github.com/users/kares",
         "avatar_url": "https://avatars0.githubusercontent.com/u/45967?v=4",
         "events_url": "https://api.github.com/users/kares/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/kares/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/kares/following{/other_user}",
         "repos_url": "https://api.github.com/users/kares/repos",
         "site_admin": false,
         "id": 45967,
         "organizations_url": "https://api.github.com/users/kares/orgs",
         "login": "kares",
         "gists_url": "https://api.github.com/users/kares/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/kares/followers",
         "html_url": "https://github.com/kares"
      },
      "state": "closed",
      "closed_by": "13886",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12017",
      "updated_at": "2014-03-12T19:50:57Z",
      "milestone": {
         "closed_at": "2014-03-14T20:53:26Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/28",
         "description": "",
         "updated_at": "2014-03-14T20:53:26Z",
         "number": 28,
         "due_on": null,
         "id": 458710,
         "open_issues": 0,
         "closed_issues": 54,
         "created_at": "2013-10-18T18:07:31Z",
         "title": "4.0.4",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/28/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/28",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/12017/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 7,
      "id": 18522220,
      "closed_at": "2014-01-30T20:14:39Z",
      "created_at": "2013-08-25T15:20:22Z",
      "title": "custom select AREL passed into `select_values` on 4.0",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12017/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12017/comments",
      "html_url": "https://github.com/rails/rails/issues/12017"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "`some_date_time.advance(:days => 1.5)` will return a `DateTime` exactly 1 day after `some_date_time`, not 1.5 days.\n\nCompare to `Time#advance`. `some_time.advance(:days => 1.5)` catches the 0.5 as 12 hours (while not necessarily 100% accurate around DST boundaries, it's close enough) and returns a `Time` 1 day and 12 hours (not necessarily 36 hours, because DST) after `some_time`. This is the behavior I'd also expect from `DateTime#advance`.\n\nThis trickles down to affect `some_date_time + 1.5.days` as well.\n\nI think it would be sufficient to carry over to partial day and partial week logic from `Time#advance` into `DateTime#advance`. Or better, refactor `#advance` out in a different module with the correct logic and have both `Time` and `DateTime` include it. Suprisingly, I found 3 unique \"refactor the time stuffs\" pull requests, yet none of them noticed or addressed this issue.\n",
      "number": 12005,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lukfugl/subscriptions",
         "received_events_url": "https://api.github.com/users/lukfugl/received_events",
         "url": "https://api.github.com/users/lukfugl",
         "avatar_url": "https://avatars3.githubusercontent.com/u/4177?v=4",
         "events_url": "https://api.github.com/users/lukfugl/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lukfugl/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lukfugl/following{/other_user}",
         "repos_url": "https://api.github.com/users/lukfugl/repos",
         "site_admin": false,
         "id": 4177,
         "organizations_url": "https://api.github.com/users/lukfugl/orgs",
         "login": "lukfugl",
         "gists_url": "https://api.github.com/users/lukfugl/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lukfugl/followers",
         "html_url": "https://github.com/lukfugl"
      },
      "state": "closed",
      "closed_by": "12080",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/12005",
      "updated_at": "2014-05-27T18:08:01Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12005/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 13,
      "id": 18490181,
      "closed_at": "2014-05-27T18:05:48Z",
      "created_at": "2013-08-23T20:11:42Z",
      "title": "DateTime#advance fails to account for partial days",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12005/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12005/comments",
      "html_url": "https://github.com/rails/rails/issues/12005"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Please re-open https://github.com/rails/rails/pull/9083 since the fix was reverted and the problem exists in Rails 4.0.0.\n\nRails creates invalid Thor tasks.  This is due to Thor incompletely overriding attr_reader, forgetting permissions.  Until this is fixed, Rails should avoid using attr_reader in generators.\n\nHere's an easy example:\n\n```\n$ rails console\nLoading development environment (Rails 4.0.0)\nirb(main):001:0> require 'rails/generators'\n=> true\nirb(main):002:0> require 'rails/generators/active_record/migration /migration_generator'\n=> true\nirb(main):003:0> ActiveRecord::Generators::MigrationGenerator.all_tasks.keys\n=> [\"singular_name\", \"create_migration_file\"]\n```\n\n`create_migration_file` is indeed a task, but `singular_name` is not!  It's an attr_reader, but it gets called every time the generator is run.  It's only coincidence that the generator doesn't crash or get corrupted (luckily the two methods have similar and benign calling signatures).\n\nSo, until Thor can fix its override (which appears to be nontrivial: https://github.com/eval/thor/commit/1c7cb623b1cdea50bc7e66878c82be31431991bb), Rails should avoid tickling this problem.  The patch in https://github.com/rails/rails/pull/9083 applies cleanly: https://github.com/bronson/rails/commit/21e4113e9d7ffa869c405c047ec2fa9fac11e8a1.patch\n",
      "number": 12002,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bronson/subscriptions",
         "received_events_url": "https://api.github.com/users/bronson/received_events",
         "url": "https://api.github.com/users/bronson",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1776?v=4",
         "events_url": "https://api.github.com/users/bronson/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bronson/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bronson/following{/other_user}",
         "repos_url": "https://api.github.com/users/bronson/repos",
         "site_admin": false,
         "id": 1776,
         "organizations_url": "https://api.github.com/users/bronson/orgs",
         "login": "bronson",
         "gists_url": "https://api.github.com/users/bronson/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bronson/followers",
         "html_url": "https://github.com/bronson"
      },
      "state": "closed",
      "closed_by": "9083",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/12002",
      "updated_at": "2014-05-24T16:35:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/12002/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 7,
      "id": 18482824,
      "closed_at": "2014-05-24T16:35:58Z",
      "created_at": "2013-08-23T17:41:51Z",
      "title": "Rails creates invalid Thor tasks",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/12002/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/12002/comments",
      "html_url": "https://github.com/rails/rails/issues/12002"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "## Environment\n- **Only Rails3.2.14**\n- Ruby1.9,3; 2.0.0\n## How to reproduce\n\n```\n# Create rails app\nrails new sti_bug\ncd sti_bug\n\n# Create models\nrails g model user \nrails g model user_account user_id:integer\nrails g model thing user_account_id:integer type:string\n\n# Run migrations\nrake db:migrate\n```\n\n``` ruby\nclass User < ActiveRecord::Base\n  has_many :user_accounts\nend\n\nclass UserAccount < ActiveRecord::Base\n  belongs_to :user\n  has_many :things\nend\n\nclass Thing < ActiveRecord::Base\n  belongs_to :user_account\n\n  scope :of_first_user, lambda {\n    joins(:user_account => :user).\n    where('users.id' => 1)\n  }\nend\n\nclass ConcreteThing < Thing\nend\n```\n\nIn console:\n\n```\nThing.of_first_user # => works fine\n\nConcreteThing.of_first_user # => raise exception\n# ActiveRecord::ConfigurationError: Association named 'user' was not found on ConcreteThing; perhaps you misspelled it?\n```\n\nIn rails 3.2.13 it works OK.\n",
      "number": 11939,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/greyblake/subscriptions",
         "received_events_url": "https://api.github.com/users/greyblake/received_events",
         "url": "https://api.github.com/users/greyblake",
         "avatar_url": "https://avatars3.githubusercontent.com/u/113512?v=4",
         "events_url": "https://api.github.com/users/greyblake/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/greyblake/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/greyblake/following{/other_user}",
         "repos_url": "https://api.github.com/users/greyblake/repos",
         "site_admin": false,
         "id": 113512,
         "organizations_url": "https://api.github.com/users/greyblake/orgs",
         "login": "greyblake",
         "gists_url": "https://api.github.com/users/greyblake/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/greyblake/followers",
         "html_url": "https://github.com/greyblake"
      },
      "state": "closed",
      "closed_by": "12436",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11939",
      "updated_at": "2013-10-18T13:08:09Z",
      "milestone": {
         "closed_at": "2013-10-23T00:45:35Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/26",
         "description": null,
         "updated_at": "2013-10-23T00:45:35Z",
         "number": 26,
         "due_on": null,
         "id": 386735,
         "open_issues": 0,
         "closed_issues": 7,
         "created_at": "2013-07-25T14:14:30Z",
         "title": "3.2.15",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/26/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/26",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/11939/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107186,
            "url": "https://api.github.com/repos/rails/rails/labels/regression",
            "color": "e10c02",
            "default": false,
            "name": "regression"
         }
      ],
      "comments": 12,
      "id": 18240397,
      "closed_at": "2013-10-03T18:16:23Z",
      "created_at": "2013-08-19T13:50:50Z",
      "title": "STI broken: Association named 'yyy' was not found on Xxx; perhaps you misspelled it?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11939/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11939/comments",
      "html_url": "https://github.com/rails/rails/issues/11939"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This crashes joins with last(N) on sqlite (mysql and postgres are fine)\n\nGist: https://gist.github.com/UncleGene/6253263\n",
      "number": 11917,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/UncleGene/subscriptions",
         "received_events_url": "https://api.github.com/users/UncleGene/received_events",
         "url": "https://api.github.com/users/UncleGene",
         "avatar_url": "https://avatars1.githubusercontent.com/u/90852?v=4",
         "events_url": "https://api.github.com/users/UncleGene/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/UncleGene/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/UncleGene/following{/other_user}",
         "repos_url": "https://api.github.com/users/UncleGene/repos",
         "site_admin": false,
         "id": 90852,
         "organizations_url": "https://api.github.com/users/UncleGene/orgs",
         "login": "UncleGene",
         "gists_url": "https://api.github.com/users/UncleGene/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/UncleGene/followers",
         "html_url": "https://github.com/UncleGene"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11917",
      "updated_at": "2013-09-12T17:16:34Z",
      "milestone": {
         "closed_at": "2013-10-23T00:45:35Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/26",
         "description": null,
         "updated_at": "2013-10-23T00:45:35Z",
         "number": 26,
         "due_on": null,
         "id": 386735,
         "open_issues": 0,
         "closed_issues": 7,
         "created_at": "2013-07-25T14:14:30Z",
         "title": "3.2.15",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/26/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/26",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/11917/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 1,
      "id": 18177200,
      "closed_at": "2013-09-12T17:16:34Z",
      "created_at": "2013-08-16T20:28:18Z",
      "title": "Relation #last with number does not specify table for ordering ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11917/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11917/comments",
      "html_url": "https://github.com/rails/rails/issues/11917"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This bug is present in the master branch, but not in 4.0.0.\n\nAssuming there is a Comment model. Providing any select scope will cause the count to produce invalid SQL. A limit scope must be provided in order to force ActiveRecord to perform the subquery version of count.\n\n``` ruby\nComment.select('comments.*').limit(10).count\n# => SELECT COUNT(count_column) FROM (SELECT  comments.* AS count_column FROM \"comments\"  LIMIT 10) subquery_for_count\n# ActiveRecord::StatementInvalid: PG::UndefinedColumn: ERROR:  column \"count_column\" does not exist\n```\n",
      "number": 11824,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/njakobsen/subscriptions",
         "received_events_url": "https://api.github.com/users/njakobsen/received_events",
         "url": "https://api.github.com/users/njakobsen",
         "avatar_url": "https://avatars2.githubusercontent.com/u/87623?v=4",
         "events_url": "https://api.github.com/users/njakobsen/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/njakobsen/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/njakobsen/following{/other_user}",
         "repos_url": "https://api.github.com/users/njakobsen/repos",
         "site_admin": false,
         "id": 87623,
         "organizations_url": "https://api.github.com/users/njakobsen/orgs",
         "login": "njakobsen",
         "gists_url": "https://api.github.com/users/njakobsen/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/njakobsen/followers",
         "html_url": "https://github.com/njakobsen"
      },
      "state": "closed",
      "closed_by": "islav/will_paginate#348",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11824",
      "updated_at": "2015-06-05T11:41:30Z",
      "milestone": {
         "closed_at": "2014-11-19T19:54:01Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/33",
         "description": "",
         "updated_at": "2014-11-20T21:10:06Z",
         "number": 33,
         "due_on": null,
         "id": 665168,
         "open_issues": 0,
         "closed_issues": 44,
         "created_at": "2014-05-20T23:54:31Z",
         "title": "4.1.8",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/33/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/33",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/11824/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 12,
      "id": 17893283,
      "closed_at": "2014-11-19T19:52:54Z",
      "created_at": "2013-08-10T02:41:27Z",
      "title": "subquery_for_count's count_column is overwritten if select scope is used [regression]",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11824/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11824/comments",
      "html_url": "https://github.com/rails/rails/issues/11824"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActiveModel::ForbiddenAttributesError in PostsController#create\nActiveModel::ForbiddenAttributesError\nExtracted source (around line #6):\n\n```\ndef create\n    @post = Post.new(params[:post])\n\n    @post.save\n    redirect_to @post\n```\n",
      "number": 11803,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mfriedma/subscriptions",
         "received_events_url": "https://api.github.com/users/mfriedma/received_events",
         "url": "https://api.github.com/users/mfriedma",
         "avatar_url": "https://avatars2.githubusercontent.com/u/5154070?v=4",
         "events_url": "https://api.github.com/users/mfriedma/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mfriedma/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mfriedma/following{/other_user}",
         "repos_url": "https://api.github.com/users/mfriedma/repos",
         "site_admin": false,
         "id": 5154070,
         "organizations_url": "https://api.github.com/users/mfriedma/orgs",
         "login": "mfriedma",
         "gists_url": "https://api.github.com/users/mfriedma/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mfriedma/followers",
         "html_url": "https://github.com/mfriedma"
      },
      "state": "closed",
      "closed_by": "11805",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11803",
      "updated_at": "2013-08-27T16:50:17Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11803/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 150377,
            "url": "https://api.github.com/repos/rails/rails/labels/docs",
            "color": "02d7e1",
            "default": false,
            "name": "docs"
         }
      ],
      "comments": 2,
      "id": 17796598,
      "closed_at": "2013-08-27T16:50:17Z",
      "created_at": "2013-08-08T09:21:17Z",
      "title": "http://edgeguides.rubyonrails.org/getting_started.html#showing-posts - \"If you submit the form again now, Rails will complain about not finding the show action\" - this is incorrect.  Actual error is a security error.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11803/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11803/comments",
      "html_url": "https://github.com/rails/rails/issues/11803"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I ran into this error while I was building the backend of a site with ActiveAdmin. I was just learning the tool and made a typo that caused ActiveAdmin to throw a `MethodUndefined::Error`. This was rescued by `render()` in the ActionView module:\n\n```\ndef render(view, locals, buffer=nil, &block)\n  instrument(\"!render_template\") do\n    compile!(view)\n    view.send(method_name, locals, buffer, &block)\n  end\nrescue Exception => e\n  handle_render_error(view, e)\nend\n```\n\nThe issue is that `Exception` is at the root of the ruby hierarchy so this block is intercepting _everything_ including `Interrupt`. So, you can't kill rails with CTRL-c. I'm working with a large database so this would select every record and then try to render all of them in the view. That would eat all of my memory and eventually I'd have to kill rails with `kill -9`. The problem is that this would leave me without any useful information for fixing my bug. \n\nI'm a bit of a newb to rails so I'm not sure what a more appropriate exception to rescue would be. If someone can guide me through this, I'd be glad to work on this.\n\nThanks\n",
      "number": 11705,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/spinlock99/subscriptions",
         "received_events_url": "https://api.github.com/users/spinlock99/received_events",
         "url": "https://api.github.com/users/spinlock99",
         "avatar_url": "https://avatars0.githubusercontent.com/u/453431?v=4",
         "events_url": "https://api.github.com/users/spinlock99/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/spinlock99/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/spinlock99/following{/other_user}",
         "repos_url": "https://api.github.com/users/spinlock99/repos",
         "site_admin": false,
         "id": 453431,
         "organizations_url": "https://api.github.com/users/spinlock99/orgs",
         "login": "spinlock99",
         "gists_url": "https://api.github.com/users/spinlock99/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/spinlock99/followers",
         "html_url": "https://github.com/spinlock99"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11705",
      "updated_at": "2014-02-23T09:37:10Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11705/events",
      "assignee": null,
      "labels": [
         {
            "id": 3666649,
            "url": "https://api.github.com/repos/rails/rails/labels/actionview",
            "color": "d7e102",
            "default": false,
            "name": "actionview"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 17520876,
      "closed_at": "2014-02-20T19:03:05Z",
      "created_at": "2013-08-01T17:49:25Z",
      "title": "action_view/template.rb rescues Exception => e",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11705/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11705/comments",
      "html_url": "https://github.com/rails/rails/issues/11705"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "problem commit: https://github.com/rails/rails/commit/b407839601c8dc7b007a6baddea3696b737c352b\ntest: https://gist.github.com/bughit/6092803\n\ngood sql (previous commit):\n\n``` sql\nSELECT \"items\".\"id\" AS t0_r0, \"items\".\"type\" AS t0_r1, \"items\".\"some_data\" AS t0_r2, \"comments_items\".\"id\" AS t1_r0, \"comments_items\".\"type\" AS t1_r1, \"comments_items\".\"some_data\" AS t1_r2\nFROM \"items\" \nLEFT OUTER JOIN \"comments_posts\" ON \"comments_posts\".\"post_id\" = \"items\".\"id\"\nLEFT OUTER JOIN \"items\" \"comments_items\" ON \"comments_items\".\"id\" = \"comments_posts\".\"comment_id\" AND \"comments_items\".\"type\" IN ('Comment') \nWHERE \"items\".\"type\" IN ('Post') AND (comments_items.some_data = 1)\n```\n\nbad sql:\n\n``` sql\nSELECT \"items\".\"id\" AS t0_r0, \"items\".\"type\" AS t0_r1, \"items\".\"some_data\" AS t0_r2, \"comments_items\".\"id\" AS t1_r0, \"comments_items\".\"type\" AS t1_r1, \"comments_items\".\"some_data\" AS t1_r2\nFROM \"items\"\nLEFT OUTER JOIN \"comments_posts\" ON \"comments_posts\".\"post_id\" = \"items\".\"id\" \nLEFT OUTER JOIN \"items\" \"comments_items\" ON \"comments_items\".\"id\" = \"comments_posts\".\"comment_id\" AND \"comments_items\".\"type\" IN ('Comment') AND \"items\".\"type\" IN ('Comment')\nWHERE \"items\".\"type\" IN ('Post') AND (comments_items.some_data = 1)\n```\n\nThe problem is the nonsensical `\"items\".\"type\" IN ('Comment')` inserted into the join condition of the second join.  \n\n@jonleighton\n",
      "number": 11619,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bughit/subscriptions",
         "received_events_url": "https://api.github.com/users/bughit/received_events",
         "url": "https://api.github.com/users/bughit",
         "avatar_url": "https://avatars3.githubusercontent.com/u/895588?v=4",
         "events_url": "https://api.github.com/users/bughit/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bughit/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bughit/following{/other_user}",
         "repos_url": "https://api.github.com/users/bughit/repos",
         "site_admin": false,
         "id": 895588,
         "organizations_url": "https://api.github.com/users/bughit/orgs",
         "login": "bughit",
         "gists_url": "https://api.github.com/users/bughit/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bughit/followers",
         "html_url": "https://github.com/bughit"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11619",
      "updated_at": "2014-12-30T00:19:51Z",
      "milestone": {
         "closed_at": "2015-01-09T17:34:08Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/36",
         "description": "",
         "updated_at": "2016-12-29T06:38:50Z",
         "number": 36,
         "due_on": "2014-12-09T08:00:00Z",
         "id": 788064,
         "open_issues": 0,
         "closed_issues": 16,
         "created_at": "2014-09-12T20:31:18Z",
         "title": "4.0.13",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/36/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/36",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/11619/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 17289090,
      "closed_at": "2014-12-30T00:19:51Z",
      "created_at": "2013-07-26T23:07:02Z",
      "title": "post 4.0.0 activerecord regression involving includes, default_scope and filtering on the included table",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11619/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11619/comments",
      "html_url": "https://github.com/rails/rails/issues/11619"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using Rails 4 and Postgres.  Invalid sql is generated with a custom has_many order clause when accessing `.last`\n\n```\n#models/profile.rb\nclass Profile < ActiveRecord::Base\n  has_many :offers, -> { where(:deleted_at=>nil).order('featured ASC nulls last, id DESC') }\nend\n\n# models/offer.rb\nclass Offer < ActiveRecord::Base\n  belongs_to :profile\nend\n\n## rails c\n\n# works\n>> AuthorProfile.first.offers.first \n\n# SQL error\n>> AuthorProfile.first.offers.last\n\nActiveRecord::StatementInvalid: PG::Error: ERROR:  syntax error at or near \"DESC\"\nLINE 1: ...ted_at\" IS NULL  ORDER BY featured ASC nulls last DESC, id A...\n                                                             ^\n: SELECT  \"offers\".* FROM \"offers\"  WHERE \"offers\".\"profile_id\" = $1 AND \"offers\".\"deleted_at\" IS NULL  ORDER BY featured ASC nulls last DESC, id ASC LIMIT 1\n```\n",
      "number": 11571,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jgadbois/subscriptions",
         "received_events_url": "https://api.github.com/users/jgadbois/received_events",
         "url": "https://api.github.com/users/jgadbois",
         "avatar_url": "https://avatars0.githubusercontent.com/u/268375?v=4",
         "events_url": "https://api.github.com/users/jgadbois/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jgadbois/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jgadbois/following{/other_user}",
         "repos_url": "https://api.github.com/users/jgadbois/repos",
         "site_admin": false,
         "id": 268375,
         "organizations_url": "https://api.github.com/users/jgadbois/orgs",
         "login": "jgadbois",
         "gists_url": "https://api.github.com/users/jgadbois/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jgadbois/followers",
         "html_url": "https://github.com/jgadbois"
      },
      "state": "closed",
      "closed_by": "18928",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11571",
      "updated_at": "2015-10-29T17:29:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11571/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 17102015,
      "closed_at": "2015-10-29T17:29:48Z",
      "created_at": "2013-07-23T13:56:14Z",
      "title": "Ordering issue with has_many and \"nulls last\"",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11571/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11571/comments",
      "html_url": "https://github.com/rails/rails/issues/11571"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails 4 understands postgres inet/cidr type, converting it to IpAddr object. It's fine when fetching data from DB, but imagine we want to allow user to create new `Foo` record with possibly incorrect IP. We need validation of `ip` field. The problem is that IpAddr.new raises exception for invalid address, so\n\n```\n[3] pry(main)> foo.ip = '127.0.0.1'\n=> \"127.0.0.1\"\n[4] pry(main)> foo.ip = 'foo'\nIPAddr::InvalidAddressError: invalid address\nfrom /home/ineu/.rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/ipaddr.rb:559:in `in6_addr'\n```\n\nSo it fails in setter thus never reaching validation stage or before_validation callback. This is a bug because model that can not be instantiated is useless.\n",
      "number": 11552,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ineu/subscriptions",
         "received_events_url": "https://api.github.com/users/ineu/received_events",
         "url": "https://api.github.com/users/ineu",
         "avatar_url": "https://avatars0.githubusercontent.com/u/24980?v=4",
         "events_url": "https://api.github.com/users/ineu/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ineu/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ineu/following{/other_user}",
         "repos_url": "https://api.github.com/users/ineu/repos",
         "site_admin": false,
         "id": 24980,
         "organizations_url": "https://api.github.com/users/ineu/orgs",
         "login": "ineu",
         "gists_url": "https://api.github.com/users/ineu/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ineu/followers",
         "html_url": "https://github.com/ineu"
      },
      "state": "closed",
      "closed_by": "11574",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11552",
      "updated_at": "2013-09-09T05:07:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11552/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 17043031,
      "closed_at": "2013-08-14T18:27:40Z",
      "created_at": "2013-07-22T12:08:36Z",
      "title": "Postgres inet type not usable in Rails 4?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11552/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11552/comments",
      "html_url": "https://github.com/rails/rails/issues/11552"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It appears that a UUID primary key is causing tests with relationships to fail trying to insert integers instead of using uuids when defining relationships in fixtures.\n",
      "number": 11524,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ruckc/subscriptions",
         "received_events_url": "https://api.github.com/users/ruckc/received_events",
         "url": "https://api.github.com/users/ruckc",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1426401?v=4",
         "events_url": "https://api.github.com/users/ruckc/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ruckc/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ruckc/following{/other_user}",
         "repos_url": "https://api.github.com/users/ruckc/repos",
         "site_admin": false,
         "id": 1426401,
         "organizations_url": "https://api.github.com/users/ruckc/orgs",
         "login": "ruckc",
         "gists_url": "https://api.github.com/users/ruckc/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ruckc/followers",
         "html_url": "https://github.com/ruckc"
      },
      "state": "closed",
      "closed_by": "12016",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11524",
      "updated_at": "2014-07-03T08:39:47Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11524/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 17013236,
      "closed_at": "2014-04-10T18:58:35Z",
      "created_at": "2013-07-21T00:37:17Z",
      "title": "uuid as primary key tests don't succeed",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11524/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11524/comments",
      "html_url": "https://github.com/rails/rails/issues/11524"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I've found what I believe to be a regression in Active Record's logging behavior inside the Rails console in Rails 4. If I set `config.logger` to log to STDOUT, all the database queries logged to the console get logged twice.\n\nHere are the steps to reproduce:\n\n```\n$ rails --version\nRails 4.0.0\n$ rails new test_logger\n$ cd test_logger\n\nEdit config/environments/development.rb and add these two lines in the configure block:\n\nconfig.logger = ActiveSupport::Logger.new(STDOUT)\nconfig.logger.level = ActiveSupport::Logger.const_get(ENV['LOG_LEVEL'] ? ENV['LOG_LEVEL'].upcase : 'DEBUG')\n\n$ rails g model User name:string\n$ rake db:migrate\n\n$ rails c\nLoading development environment (Rails 4.0.0)\n2.0.0-p247 :001 > User.first\n  User Load (0.2ms)  SELECT \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT 1\n  User Load (0.2ms)  SELECT \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT 1\n => nil \n2.0.0-p247 :002 > \n```\n\nI expect the \"User Load\" line to appear only once, but it appears twice. I can reproduce the bug both in Rails 4.0.0 and the latest master at the time of this writing. Following the same steps using Rails 3.2.13 (substituting `Logger` for `ActiveSupport::Logger`), the console works as expected.\n\nI have also tried using `Logger` with the Rails 4 app. When I do this, the query is still logged twice, once using Ruby's default `Formatter` (as I would expect) and once using Rails's custom `Formatter` (unexpected):\n\n```\nrails c\nLoading development environment (Rails 4.0.0)\n2.0.0-p247 :001 > User.first\n  User Load (0.3ms)  SELECT \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT 1\nD, [2013-07-12T16:29:59.363272 #22484] DEBUG -- :   User Load (0.3ms)  SELECT \"users\".* FROM \"users\" ORDER BY \"users\".\"id\" ASC LIMIT 1\n => nil \n2.0.0-p247 :002 > \n```\n\nPlease let me know if there's anything else I can do to help with this bug.\n",
      "number": 11415,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/davidbalbert/subscriptions",
         "received_events_url": "https://api.github.com/users/davidbalbert/received_events",
         "url": "https://api.github.com/users/davidbalbert",
         "avatar_url": "https://avatars2.githubusercontent.com/u/123350?v=4",
         "events_url": "https://api.github.com/users/davidbalbert/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/davidbalbert/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/davidbalbert/following{/other_user}",
         "repos_url": "https://api.github.com/users/davidbalbert/repos",
         "site_admin": false,
         "id": 123350,
         "organizations_url": "https://api.github.com/users/davidbalbert/orgs",
         "login": "davidbalbert",
         "gists_url": "https://api.github.com/users/davidbalbert/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/davidbalbert/followers",
         "html_url": "https://github.com/davidbalbert"
      },
      "state": "closed",
      "closed_by": "22592",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11415",
      "updated_at": "2017-02-22T20:15:59Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11415/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 37,
      "id": 16701018,
      "closed_at": "2015-12-17T02:51:56Z",
      "created_at": "2013-07-12T20:34:14Z",
      "title": "Queries are logged twice when using a STDOUT logger in the Rails 4 console",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11415/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11415/comments",
      "html_url": "https://github.com/rails/rails/issues/11415"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Rails Guides claim that unless specified otherwise `content_type` is defaulted to `text/html`. See http://guides.rubyonrails.org/layouts_and_rendering.html#the-content-type-option\n\nHowever actual implementation does this: https://github.com/rails/rails/blob/a29f746398e7b0647885343e7f26d977dd251999/actionview/lib/action_view/renderer/template_renderer.rb#L14\n\nAs a result `render :inline => 'whatever'` will be served up as a zip file. Don't think it's supposed to do this.\n",
      "number": 11393,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/GBH/subscriptions",
         "received_events_url": "https://api.github.com/users/GBH/received_events",
         "url": "https://api.github.com/users/GBH",
         "avatar_url": "https://avatars2.githubusercontent.com/u/78363?v=4",
         "events_url": "https://api.github.com/users/GBH/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/GBH/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/GBH/following{/other_user}",
         "repos_url": "https://api.github.com/users/GBH/repos",
         "site_admin": false,
         "id": 78363,
         "organizations_url": "https://api.github.com/users/GBH/orgs",
         "login": "GBH",
         "gists_url": "https://api.github.com/users/GBH/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/GBH/followers",
         "html_url": "https://github.com/GBH"
      },
      "state": "closed",
      "closed_by": "11437",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11393",
      "updated_at": "2013-07-14T17:49:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11393/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 16582454,
      "closed_at": "2013-07-14T17:30:59Z",
      "created_at": "2013-07-10T15:07:27Z",
      "title": "Render and default content type.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11393/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11393/comments",
      "html_url": "https://github.com/rails/rails/issues/11393"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "With the new postgresql magic, we can create arrays of hstore columns but they don't quite work due to incorrect encoding, storing values throws the following error from the database:\n\n```\nActiveRecord::StatementInvalid: PG::Error: ERROR:  malformed array literal\n```\n\nWhich is a pity because being able to store an array of arbitrary key,value pairs seems terribly useful.\n\nDemo at https://gist.github.com/inopinatus/5930884 which barfs at line 57 (where it says \"boom!\"), and fix that works for me in pull request https://github.com/rails/rails/pull/11444\n",
      "number": 11135,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/inopinatus/subscriptions",
         "received_events_url": "https://api.github.com/users/inopinatus/received_events",
         "url": "https://api.github.com/users/inopinatus",
         "avatar_url": "https://avatars3.githubusercontent.com/u/938619?v=4",
         "events_url": "https://api.github.com/users/inopinatus/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/inopinatus/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/inopinatus/following{/other_user}",
         "repos_url": "https://api.github.com/users/inopinatus/repos",
         "site_admin": false,
         "id": 938619,
         "organizations_url": "https://api.github.com/users/inopinatus/orgs",
         "login": "inopinatus",
         "gists_url": "https://api.github.com/users/inopinatus/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/inopinatus/followers",
         "html_url": "https://github.com/inopinatus"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11135",
      "updated_at": "2014-03-03T10:01:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11135/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 16,
      "id": 16071726,
      "closed_at": "2014-03-03T09:07:47Z",
      "created_at": "2013-06-27T06:50:30Z",
      "title": "encoding issues with postgresql array-of-hstore columns",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11135/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11135/comments",
      "html_url": "https://github.com/rails/rails/issues/11135"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The Mysql2 adapter incorrectly casts boolean values. Instead of `1` or `0`, it casts to `t` or `f` respectively.\n\nI noticed this with a model similar to this, using the mysql2 adapter:\n\n```\nclass Model < ActiveRecord::Base\n  validates_uniqueness_of :boolean_field\nend\n\nm = Model.first\nm.valid?\n```\n\nWhich then generates sql similar to this:\n\n```\nSELECT 1 AS one FROM `models` WHERE (`models`.`boolean_field` = BINARY 't' AND `models`.`id` != 1) LIMIT 1\n```\n\nthe `'t'` should be `1` in this case\n\nGist with failing test:\nhttps://gist.github.com/awilliams/5867330\n",
      "number": 11119,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/awilliams/subscriptions",
         "received_events_url": "https://api.github.com/users/awilliams/received_events",
         "url": "https://api.github.com/users/awilliams",
         "avatar_url": "https://avatars0.githubusercontent.com/u/645192?v=4",
         "events_url": "https://api.github.com/users/awilliams/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/awilliams/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/awilliams/following{/other_user}",
         "repos_url": "https://api.github.com/users/awilliams/repos",
         "site_admin": false,
         "id": 645192,
         "organizations_url": "https://api.github.com/users/awilliams/orgs",
         "login": "awilliams",
         "gists_url": "https://api.github.com/users/awilliams/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/awilliams/followers",
         "html_url": "https://github.com/awilliams"
      },
      "state": "closed",
      "closed_by": "11120",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11119",
      "updated_at": "2014-07-11T00:42:46Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11119/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 16031479,
      "closed_at": "2013-11-11T15:23:42Z",
      "created_at": "2013-06-26T13:34:23Z",
      "title": "ActiveRecord Mysql2 incorrectly casting boolean values",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11119/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11119/comments",
      "html_url": "https://github.com/rails/rails/issues/11119"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When using eager loading on a `has_many :through` to a model using STI, the output SQL seems to be incorrect:\n\n``` ruby\nclass Group < ActiveRecord::Base\n  has_many :users\n  has_many :articles, through: :users\nend\n\nclass User < ActiveRecord::Base\n  belongs_to :group\n  has_many :articles\nend\n\nclass Post < ActiveRecord::Base\n  belongs_to :user\nend\n\nclass Article < Post\nend\n```\n\nRunning\n\n``` ruby\nGroup.includes(:articles).to_a\n```\n\nresults in\n\n```\nActiveRecord::StatementInvalid: SQLite3::SQLException: \nno such column: posts.type: SELECT \"users\".* FROM \"users\"  \nWHERE \"posts\".\"type\" IN ('Article') AND \"users\".\"group_id\" \nIN (298486374, 980190962, 980190963)\n```\n\nDummy app showing the problem with test:\nhttps://github.com/balvig/bug/blob/master/test/models/group_test.rb\n",
      "number": 11078,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/balvig/subscriptions",
         "received_events_url": "https://api.github.com/users/balvig/received_events",
         "url": "https://api.github.com/users/balvig",
         "avatar_url": "https://avatars0.githubusercontent.com/u/104138?v=4",
         "events_url": "https://api.github.com/users/balvig/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/balvig/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/balvig/following{/other_user}",
         "repos_url": "https://api.github.com/users/balvig/repos",
         "site_admin": false,
         "id": 104138,
         "organizations_url": "https://api.github.com/users/balvig/orgs",
         "login": "balvig",
         "gists_url": "https://api.github.com/users/balvig/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/balvig/followers",
         "html_url": "https://github.com/balvig"
      },
      "state": "closed",
      "closed_by": "2bfe3b",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11078",
      "updated_at": "2017-09-01T22:40:37Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11078/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 15959864,
      "closed_at": "2017-09-01T22:40:37Z",
      "created_at": "2013-06-25T03:37:28Z",
      "title": "Eager loading bug with has_many :through and STI (Rails 4.0.0rc2)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11078/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11078/comments",
      "html_url": "https://github.com/rails/rails/issues/11078"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Despite the signature `#added?(attribute, message = nil, options = {})`,  `message` secretly defaults to `:invalid`. From the test suite:\n\n``` ruby\n  test \"added? defaults message to :invalid\" do\n    person = Person.new\n    person.errors.add(:name)\n    assert person.errors.added?(:name)\n  end\n```\n\nWhich causes rather surprising failures...\n\n``` ruby\n  test \"added? returns false when an error is present for a specified attribute\" do\n    person = Person.new\n    person.errors.add(:name, 'some error')\n    assert person.errors.added?(:name) # => false?!?!\n  end\n```\n\nI'm of the opinion that it would make more sense for `added?(:attribute)` to return true for any errors when `message` is `nil` and require explicit mention `:invalid`.\n\nIf that's not agreeable, then at the very least the method signature should change to reflect the behavior: `Errors#added?(attribute, message = :invalid, options = {})`\n",
      "number": 11048,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/fny/subscriptions",
         "received_events_url": "https://api.github.com/users/fny/received_events",
         "url": "https://api.github.com/users/fny",
         "avatar_url": "https://avatars3.githubusercontent.com/u/346068?v=4",
         "events_url": "https://api.github.com/users/fny/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fny/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fny/following{/other_user}",
         "repos_url": "https://api.github.com/users/fny/repos",
         "site_admin": false,
         "id": 346068,
         "organizations_url": "https://api.github.com/users/fny/orgs",
         "login": "fny",
         "gists_url": "https://api.github.com/users/fny/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fny/followers",
         "html_url": "https://github.com/fny"
      },
      "state": "closed",
      "closed_by": "11054",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/11048",
      "updated_at": "2013-06-27T12:16:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11048/events",
      "assignee": null,
      "labels": [
         {
            "id": 107190,
            "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
            "color": "00E5FF",
            "default": false,
            "name": "activemodel"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 15858562,
      "closed_at": "2013-06-27T12:16:38Z",
      "created_at": "2013-06-21T16:09:35Z",
      "title": "ActiveModel::Errors#added? Does Not Behave as Defined",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11048/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11048/comments",
      "html_url": "https://github.com/rails/rails/issues/11048"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\nclass ShipmentItem < ActiveRecord::Base\n  belongs_to :item\n  ...\nend\n```\n\n``` ruby\nclass Item < ActiveRecord::Base\n  default_scope where(deleted: false)\n  ...\nend\n```\n\nI've been trying to grab a set of `ShipmentItem` with an `includes(:item)` but without the scope:\n\n``` ruby\nShipmentItem.includes(:item)\n>> SELECT `shipment_items`.* FROM `shipment_items`\n>> SELECT `items`.* FROM `items` WHERE `items`.`deleted` = 0 AND `items`.`id` IN (1, 4)\n```\n\nI've also tried this:\n\n``` ruby\nItem.unscoped\n   ShipmentItem.includes(:item)\nend\n>> SELECT `shipment_items`.* FROM `shipment_items`\n>> SELECT `items`.* FROM `items` WHERE `items`.`deleted` = 0 AND `items`.`id` IN (1, 4)\n```\n\nI've even tried overriding the `item` method from within `ShipmentItem`, but it doesn't work either:\n\n``` ruby\nclass ShipmentItem < ActiveRecord::Base\n  belongs_to :item\n\n  def item\n    Item.unscoped { super }\n  end\nend\n```\n\nIs what I'm trying to do possible? Perhaps I need to restructure my query?\n",
      "number": 11036,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/djiang/subscriptions",
         "received_events_url": "https://api.github.com/users/djiang/received_events",
         "url": "https://api.github.com/users/djiang",
         "avatar_url": "https://avatars0.githubusercontent.com/u/165785?v=4",
         "events_url": "https://api.github.com/users/djiang/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/djiang/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/djiang/following{/other_user}",
         "repos_url": "https://api.github.com/users/djiang/repos",
         "site_admin": false,
         "id": 165785,
         "organizations_url": "https://api.github.com/users/djiang/orgs",
         "login": "djiang",
         "gists_url": "https://api.github.com/users/djiang/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/djiang/followers",
         "html_url": "https://github.com/djiang"
      },
      "state": "closed",
      "closed_by": "17360",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11036",
      "updated_at": "2017-05-17T15:46:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11036/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 20,
      "id": 15828439,
      "closed_at": "2014-11-05T14:15:44Z",
      "created_at": "2013-06-20T23:17:54Z",
      "title": "Using Includes and Unscoped",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11036/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11036/comments",
      "html_url": "https://github.com/rails/rails/issues/11036"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Ruby: 2.0.0p195\nRails: 4.0.0.rc2\n\nWhen I send the following JSON POST request:\n\n```\n{\n    \"title\": \"Chart 1\",\n    \"items\": [{\"id\":1,\"type\":\"text\",\"tags\":[],\"content\":\"a\"}],\n    \"type\": \"Multimedia\"\n}\n```\n\nThen the **params hash** has the following value:\n\n```\n{\n    \"title\"=>\"Chart 1\",\n    \"items\"=>[{\"id\"=>1, \"type\"=>\"text\", \"tags\"=>nil, \"content\"=>\"a\"}],\n    \"type\"=>\"Multimedia\",\n    \"action\"=>\"create\",\n    \"controller\"=>\"charts\",\n    \"chart\"=>{\"type\"=>\"Multimedia\", \"title\"=>\"Chart 1\"}\n}\n```\n\n**\"tags\": []** is decoded to **\"tags\" => nil** but should be **\"tags\" => []**!\n",
      "number": 11023,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/philipp-ullmann/subscriptions",
         "received_events_url": "https://api.github.com/users/philipp-ullmann/received_events",
         "url": "https://api.github.com/users/philipp-ullmann",
         "avatar_url": "https://avatars1.githubusercontent.com/u/245345?v=4",
         "events_url": "https://api.github.com/users/philipp-ullmann/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/philipp-ullmann/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/philipp-ullmann/following{/other_user}",
         "repos_url": "https://api.github.com/users/philipp-ullmann/repos",
         "site_admin": false,
         "id": 245345,
         "organizations_url": "https://api.github.com/users/philipp-ullmann/orgs",
         "login": "philipp-ullmann",
         "gists_url": "https://api.github.com/users/philipp-ullmann/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/philipp-ullmann/followers",
         "html_url": "https://github.com/philipp-ullmann"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11023",
      "updated_at": "2014-05-16T04:15:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11023/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 15783031,
      "closed_at": "2013-12-20T10:48:23Z",
      "created_at": "2013-06-20T06:20:57Z",
      "title": "Params hash nil instead of empty array",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11023/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11023/comments",
      "html_url": "https://github.com/rails/rails/issues/11023"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Postgres allows indices to be created on columns or expressions (see http://www.postgresql.org/docs/9.2/static/indexes-expressional.html). ActiveRecord::ConnectionAdapters::SchemaStatements#remove_index allows removal of the former type of index but fails with the following error if you try to remove the latter:\n\nIndex name '[index_name]' on table '[table]' does not exist\n\neven if an index of the specified name does exist.\n\nThe issue is demonstrated in the test https://gist.github.com/vidurapparao/5816327.\n\nThe problem seems related to the query used by ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#indexes which does not seem to return expression indexes. Alternatively, I wonder if ActiveRecord::ConnectionAdapters::SchemaStatements#index_name_for_remove should do a index_name_exists? check considering that a non-existent index name will result in a failure with a similar message from the underlying connection.\n",
      "number": 11018,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vidurapparao/subscriptions",
         "received_events_url": "https://api.github.com/users/vidurapparao/received_events",
         "url": "https://api.github.com/users/vidurapparao",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1181848?v=4",
         "events_url": "https://api.github.com/users/vidurapparao/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vidurapparao/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vidurapparao/following{/other_user}",
         "repos_url": "https://api.github.com/users/vidurapparao/repos",
         "site_admin": false,
         "id": 1181848,
         "organizations_url": "https://api.github.com/users/vidurapparao/orgs",
         "login": "vidurapparao",
         "gists_url": "https://api.github.com/users/vidurapparao/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vidurapparao/followers",
         "html_url": "https://github.com/vidurapparao"
      },
      "state": "closed",
      "closed_by": "13688",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/11018",
      "updated_at": "2016-12-28T02:38:14Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/11018/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 70310659,
            "url": "https://api.github.com/repos/rails/rails/labels/PostgreSQL",
            "color": "fbca04",
            "default": false,
            "name": "PostgreSQL"
         }
      ],
      "comments": 2,
      "id": 15766933,
      "closed_at": "2014-02-01T18:02:44Z",
      "created_at": "2013-06-19T20:35:18Z",
      "title": "remove_index fails to remove an expression index using the Postgres connector",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/11018/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/11018/comments",
      "html_url": "https://github.com/rails/rails/issues/11018"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Envrionment\njruby 1.7.2\nMacbook pro with snow leapord\nActivesupport 3.2.12\n\nProblem\nMarshaling and un-marshaling a time object adds 1 hour\n\n```\n~/project/ \u00bb bundle exec irb\nirb(main):001:0> Marshal.load(Marshal.dump(Time.now))\n=> 2013-06-09 23:00:28 -0500\nirb(main):004:0>\nirb(main):005:0* require 'active_support/core_ext/time/marshal'\n=> true\nirb(main):006:0> Marshal.load(Marshal.dump(Time.now))\n=> 2013-06-10 00:00:34 -0500\n```\n",
      "number": 10900,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/nchainani/subscriptions",
         "received_events_url": "https://api.github.com/users/nchainani/received_events",
         "url": "https://api.github.com/users/nchainani",
         "avatar_url": "https://avatars1.githubusercontent.com/u/952580?v=4",
         "events_url": "https://api.github.com/users/nchainani/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/nchainani/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/nchainani/following{/other_user}",
         "repos_url": "https://api.github.com/users/nchainani/repos",
         "site_admin": false,
         "id": 952580,
         "organizations_url": "https://api.github.com/users/nchainani/orgs",
         "login": "nchainani",
         "gists_url": "https://api.github.com/users/nchainani/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/nchainani/followers",
         "html_url": "https://github.com/nchainani"
      },
      "state": "closed",
      "closed_by": "890",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10900",
      "updated_at": "2015-07-22T16:38:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10900/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 5944892,
            "url": "https://api.github.com/repos/rails/rails/labels/JRuby",
            "color": "02d7e1",
            "default": false,
            "name": "JRuby"
         }
      ],
      "comments": 12,
      "id": 15331189,
      "closed_at": "2015-07-22T16:38:53Z",
      "created_at": "2013-06-10T04:07:33Z",
      "title": "Time marshalling with jruby is broken",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10900/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10900/comments",
      "html_url": "https://github.com/rails/rails/issues/10900"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This occurs when using the cache_digests gem, and it appears to be the case with Rails 4 also when using layered caching.\n\nkey_file_path ensures that the length of any individual filename does not exceed system limits:\n\nhttps://github.com/rails/rails/blob/master/activesupport/lib/active_support/cache/file_store.rb#L129\n\nHowever, if you cache the rendering of a collection with a large number of members (each individually cached, in my case 30+) the path you get for the whole collection cache is too long.\n\nWould it be better to use an MD5 of this long path name (as is done for memcache)?\n\nYes, I will be using memcache in production, but you should be able to change between the different types of storage without any surprises.\n\nHere is a dump of the log for the page in question,\n\n```\nStarted GET \"/national/programmes/morningreport/20130604\" for 127.0.0.1 at 2013-06-09 08:37:17 +1200\nProcessing by ProgrammesController#episode as HTML\n  Parameters: {\"station\"=>\"national\", \"web_title\"=>\"morningreport\", \"date\"=>\"20130604\"}\n  Rendered programmes/_episode_nav_by_date.html.erb (4.1ms)\n  Rendered programmes/_episode_header_section.html.erb (75.2ms)\n  Rendered shared/audio/_date_heading_and_copyright.html.erb (0.9ms)\nCache digest for shared/audio/formats/share.html: f6fe9570c9cdb279dd1155edab23d1d9\nCache digest for shared/audio/formats/with_time.html: 6320da6c75b559366c616f1a6203899e\nCache digest for shared/audio/_ul_with_time.html: 034fd1ea23e7f3bfac8324ab72d8d9f4\nRead fragment views/audio/2557357-20130603200601/audio/2557335-20130603181614/audio/2557336-20130603181833/audio/2557338-20130603182348/audio/2557339-20130603182516/audio/2557340-20130603183102/audio/2557341-20130603184416/audio/2557342-20130603190231/audio/2557344-20130603191308/audio/2557347-20130603192034/audio/2557349-20130603192227/audio/2557350-20130603192436/audio/2557351-20130603193057/audio/2557352-20130603193158/audio/2557353-20130603194205/audio/2557354-20130603194413/audio/2557355-20130603195119/audio/2557356-20130603195746/audio/2557358-20130603200652/audio/2557361-20130603201531/audio/2557363-20130603202039/audio/2557364-20130603202503/audio/2557365-20130603202758/audio/2557366-20130603203001/audio/2557367-20130603203157/audio/2557368-20130603204120/audio/2557369-20130603204257/audio/2557370-20130603204628/audio/2557371-20130603204759/audio/2557372-20130603205828/audio/2557373-20130603221030/audio/2557374-20130603210211/audio/2557680-20130608111717/034fd1ea23e7f3bfac8324ab72d8d9f4 (0.7ms)\nCache digest for shared/audio/formats/_with_time.html: 6320da6c75b559366c616f1a6203899e\nRead fragment views/audio/2557357-20130603200601/6320da6c75b559366c616f1a6203899e (0.3ms)\nRead fragment views/audio/2557335-20130603181614/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557336-20130603181833/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557338-20130603182348/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557339-20130603182516/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557340-20130603183102/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557341-20130603184416/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557342-20130603190231/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557344-20130603191308/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557347-20130603192034/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557349-20130603192227/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557350-20130603192436/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557351-20130603193057/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557352-20130603193158/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557353-20130603194205/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557354-20130603194413/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557355-20130603195119/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557356-20130603195746/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557358-20130603200652/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557361-20130603201531/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557363-20130603202039/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557364-20130603202503/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557365-20130603202758/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557366-20130603203001/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557367-20130603203157/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557368-20130603204120/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557369-20130603204257/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557370-20130603204628/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557371-20130603204759/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557372-20130603205828/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557373-20130603221030/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557374-20130603210211/6320da6c75b559366c616f1a6203899e (0.2ms)\nRead fragment views/audio/2557680-20130608111717/6320da6c75b559366c616f1a6203899e (0.2ms)\n  Rendered shared/audio/formats/_with_time.html.erb (15.1ms)\nWrite fragment views/audio/2557357-20130603200601/audio/2557335-20130603181614/audio/2557336-20130603181833/audio/2557338-20130603182348/audio/2557339-20130603182516/audio/2557340-20130603183102/audio/2557341-20130603184416/audio/2557342-20130603190231/audio/2557344-20130603191308/audio/2557347-20130603192034/audio/2557349-20130603192227/audio/2557350-20130603192436/audio/2557351-20130603193057/audio/2557352-20130603193158/audio/2557353-20130603194205/audio/2557354-20130603194413/audio/2557355-20130603195119/audio/2557356-20130603195746/audio/2557358-20130603200652/audio/2557361-20130603201531/audio/2557363-20130603202039/audio/2557364-20130603202503/audio/2557365-20130603202758/audio/2557366-20130603203001/audio/2557367-20130603203157/audio/2557368-20130603204120/audio/2557369-20130603204257/audio/2557370-20130603204628/audio/2557371-20130603204759/audio/2557372-20130603205828/audio/2557373-20130603221030/audio/2557374-20130603210211/audio/2557680-20130608111717/034fd1ea23e7f3bfac8324ab72d8d9f4 (1.5ms)\n  Rendered shared/audio/_ul_with_time.html.erb (25.6ms)\n  Rendered shared/audio/_items.html.erb (43.9ms)\n  Rendered programmes/_episode_body_without_tabs.html.erb (45.6ms)\n  Rendered programmes/_episode_body.html.erb (51.1ms)\n  Rendered programmes/show.html.erb within layouts/application (137.5ms)\nCompleted 500 Internal Server Error in 1345ms\n\nActionView::Template::Error (File name too long - /Users/rhulse/Sites/elf/tmp/file_store/936/090/views%2Faudio%2F2557357-20130603200601%2Faudio%2F2557335-20130603181614%2Faudio%2F2557336-20130603181833%2Faudio%2F2557338-20130603182348%2Faudio%2F2557339-20130603182516%2Faudio%2F2557340-20130603183102%2Faudio%2F2557341-20130603/184416%2Faudio%2F2557342-20130603190231%2Faudio%2F2557344-20130603191308%2Faudio%2F2557347-20130603192034%2Faudio%2F2557349-20130603192227%2Faudio%2F2557350-20130603192436%2Faudio%2F2557351-20130603193057%2Faudio%2F2557352-2013060/3193158%2Faudio%2F2557353-20130603194205%2Faudio%2F2557354-20130603194413%2Faudio%2F2557355-20130603195119%2Faudio%2F2557356-20130603195746%2Faudio%2F2557358-20130603200652%2Faudio%2F2557361-20130603201531%2Faudio%2F2557363-201306/03202039%2Faudio%2F2557364-20130603202503%2Faudio%2F2557365-20130603202758%2Faudio%2F2557366-20130603203001%2Faudio%2F2557367-20130603203157%2Faudio%2F2557368-20130603204120%2Faudio%2F2557369-20130603204257%2Faudio%2F2557370-20130/603204628%2Faudio%2F2557371-20130603204759%2Faudio%2F2557372-20130603205828%2Faudio%2F2557373-20130603221030%2Faudio%2F2557374-20130603210211%2Faudio%2F2557680-20130608111717%2F034fd1ea23e7f3bfac8324ab72d8d9f4):\n    1: <% cache audio do %>\n    2:   <ul class=\"audio-list audio-with-time\">\n    3:     <%= render :partial => 'shared/audio/formats/with_time', :collection => audio, :as => :audio, :locals =>{:context => context} %>\n    4:   </ul>\n  activesupport (3.2.13) lib/active_\n```\n",
      "number": 10894,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/rhulse/subscriptions",
         "received_events_url": "https://api.github.com/users/rhulse/received_events",
         "url": "https://api.github.com/users/rhulse",
         "avatar_url": "https://avatars3.githubusercontent.com/u/30732?v=4",
         "events_url": "https://api.github.com/users/rhulse/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rhulse/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rhulse/following{/other_user}",
         "repos_url": "https://api.github.com/users/rhulse/repos",
         "site_admin": false,
         "id": 30732,
         "organizations_url": "https://api.github.com/users/rhulse/orgs",
         "login": "rhulse",
         "gists_url": "https://api.github.com/users/rhulse/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rhulse/followers",
         "html_url": "https://github.com/rhulse"
      },
      "state": "closed",
      "closed_by": "15616",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10894",
      "updated_at": "2014-06-10T18:07:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10894/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 15310229,
      "closed_at": "2014-06-10T18:07:54Z",
      "created_at": "2013-06-08T20:56:05Z",
      "title": "ActiveSupport::Cache::FileStore exceeds system path limits",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10894/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10894/comments",
      "html_url": "https://github.com/rails/rails/issues/10894"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using Postgres, given a `Users` table with a `name` column having a default value of `O'Connors`. When you perform a `Users.new`, `name` is assigned `O''Connors` (that's two single quotes).\n\n``` ruby\nclass CreateUsers < ActiveRecord::Migration\n  def change\n    create_table :users do |t|\n      t.string :name, default: \"Jimmy O'Connors\"\n      t.text :profile, default: \"Doesn't like beets.\"\n\n      t.timestamps\n    end\n  end\nend\n```\n\n```\n>> User.new\n=> #<User id: nil, name: \"Jimmy O''Connors\", profile: \"Doesn''t like beets.\", created_at: nil, updated_at: nil>\n```\n\nThe default value appears to be stored correctly in the database, because when I create a new record directly in the database it doesn't duplicate the quotes:\n\n```\ntest_db=# insert into users(name, created_at, updated_at) values ('Foo', now(), now());\nINSERT 0 1\ntest_db=# select * from users;\n id | name |       profile       |         created_at         |         updated_at\n----+------+---------------------+----------------------------+----------------------------\n  3 | Foo  | Doesn't like beets. | 2013-06-07 11:20:18.254539 | 2013-06-07 11:20:18.254539\n(1 row)\n```\n\nSo I assume something is happening when Rails reads in the default values from the database when `User.new` is executed. (The query rails executes is below, followed by the output. Since the output of the query includes the escaped single quote, Rails must be reading this incorrectly as two single quotes rather than an escaped single quote).\n\n```\ntest_db=# SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod\n              FROM pg_attribute a LEFT JOIN pg_attrdef d\n                ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n             WHERE a.attrelid = '\"users\"'::regclass\n               AND a.attnum > 0 AND NOT a.attisdropped\n             ORDER BY a.attnum;\n  attname   |         format_type         |              pg_get_expr              | attnotnull | atttypid | atttypmod\n------------+-----------------------------+---------------------------------------+------------+----------+-----------\n id         | integer                     | nextval('users_id_seq'::regclass)     | t          |       23 |        -1\n name       | character varying(255)      | 'Jimmy O''Connors'::character varying | f          |     1043 |       259\n profile    | text                        | 'Doesn''t like beets.'::text          | f          |       25 |        -1\n created_at | timestamp without time zone |                                       | t          |     1114 |        -1\n updated_at | timestamp without time zone |                                       | t          |     1114 |        -1\n(5 rows)\n```\n",
      "number": 10881,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/dmarkow/subscriptions",
         "received_events_url": "https://api.github.com/users/dmarkow/received_events",
         "url": "https://api.github.com/users/dmarkow",
         "avatar_url": "https://avatars1.githubusercontent.com/u/8009?v=4",
         "events_url": "https://api.github.com/users/dmarkow/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/dmarkow/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/dmarkow/following{/other_user}",
         "repos_url": "https://api.github.com/users/dmarkow/repos",
         "site_admin": false,
         "id": 8009,
         "organizations_url": "https://api.github.com/users/dmarkow/orgs",
         "login": "dmarkow",
         "gists_url": "https://api.github.com/users/dmarkow/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/dmarkow/followers",
         "html_url": "https://github.com/dmarkow"
      },
      "state": "closed",
      "closed_by": "10884",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10881",
      "updated_at": "2013-06-19T16:11:08Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10881/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 15285747,
      "closed_at": "2013-06-19T16:11:08Z",
      "created_at": "2013-06-07T18:37:36Z",
      "title": "Single quotes in default values are not read from postgres database properly",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10881/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10881/comments",
      "html_url": "https://github.com/rails/rails/issues/10881"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "It is written in the guide caching_with_rails.textile :\nhttps://github.com/rails/rails/blob/3-2-stable/railties/guides/source/caching_with_rails.textile#activesupportcachememorystore\n\n```\nActiveSupport::Cache::MemoryStore\n\n [...]\n\n This is the default cache store implementation.\n```\n\nAlthough in rails configuration we have : \nhttps://github.com/rails/rails/blob/3-2-stable/railties/lib/rails/application/configuration.rb#L38\n\n```\n@cache_store                   = [ :file_store, \"#{root}/tmp/cache/\" ]\n```\n\nSo the default cache store implementation seems to be FileStore not MemoryStore.\n",
      "number": 10873,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mtparet/subscriptions",
         "received_events_url": "https://api.github.com/users/mtparet/received_events",
         "url": "https://api.github.com/users/mtparet",
         "avatar_url": "https://avatars1.githubusercontent.com/u/754770?v=4",
         "events_url": "https://api.github.com/users/mtparet/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mtparet/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mtparet/following{/other_user}",
         "repos_url": "https://api.github.com/users/mtparet/repos",
         "site_admin": false,
         "id": 754770,
         "organizations_url": "https://api.github.com/users/mtparet/orgs",
         "login": "mtparet",
         "gists_url": "https://api.github.com/users/mtparet/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mtparet/followers",
         "html_url": "https://github.com/mtparet"
      },
      "state": "closed",
      "closed_by": "10883",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10873",
      "updated_at": "2013-06-19T14:02:22Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10873/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 15263823,
      "closed_at": "2013-06-19T14:02:22Z",
      "created_at": "2013-06-07T09:19:08Z",
      "title": "Default cache store implementation seems to not be the right one in guide caching_with_rails.textile",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10873/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10873/comments",
      "html_url": "https://github.com/rails/rails/issues/10873"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In using Rails 4, I noticed consistently that when I do this,\n  belongs_to :client, counter_cache: true\nit works fine. \n\nWhen I do this,\n  belongs_to :client, counter_cache: :column_name\n\nthen the increment doubled. Can anyone else reproduce this?\n",
      "number": 10865,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
            "received_events_url": "https://api.github.com/users/sgrif/received_events",
            "url": "https://api.github.com/users/sgrif",
            "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
            "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
            "repos_url": "https://api.github.com/users/sgrif/repos",
            "site_admin": false,
            "id": 1529387,
            "organizations_url": "https://api.github.com/users/sgrif/orgs",
            "login": "sgrif",
            "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/sgrif/followers",
            "html_url": "https://github.com/sgrif"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/achiinto/subscriptions",
         "received_events_url": "https://api.github.com/users/achiinto/received_events",
         "url": "https://api.github.com/users/achiinto",
         "avatar_url": "https://avatars2.githubusercontent.com/u/469412?v=4",
         "events_url": "https://api.github.com/users/achiinto/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/achiinto/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/achiinto/following{/other_user}",
         "repos_url": "https://api.github.com/users/achiinto/repos",
         "site_admin": false,
         "id": 469412,
         "organizations_url": "https://api.github.com/users/achiinto/orgs",
         "login": "achiinto",
         "gists_url": "https://api.github.com/users/achiinto/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/achiinto/followers",
         "html_url": "https://github.com/achiinto"
      },
      "state": "closed",
      "closed_by": "3bb8d7",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10865",
      "updated_at": "2016-02-20T09:07:16Z",
      "milestone": {
         "closed_at": "2015-03-19T16:40:37Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/38",
         "description": "",
         "updated_at": "2015-03-19T16:40:37Z",
         "number": 38,
         "due_on": "2015-01-27T08:00:00Z",
         "id": 903977,
         "open_issues": 0,
         "closed_issues": 72,
         "created_at": "2014-12-15T08:25:47Z",
         "title": "4.2.1",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/38/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/38",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
            "received_events_url": "https://api.github.com/users/chancancode/received_events",
            "url": "https://api.github.com/users/chancancode",
            "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
            "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
            "repos_url": "https://api.github.com/users/chancancode/repos",
            "site_admin": false,
            "id": 55829,
            "organizations_url": "https://api.github.com/users/chancancode/orgs",
            "login": "chancancode",
            "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/chancancode/followers",
            "html_url": "https://github.com/chancancode"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/10865/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions",
         "received_events_url": "https://api.github.com/users/sgrif/received_events",
         "url": "https://api.github.com/users/sgrif",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4",
         "events_url": "https://api.github.com/users/sgrif/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/sgrif/following{/other_user}",
         "repos_url": "https://api.github.com/users/sgrif/repos",
         "site_admin": false,
         "id": 1529387,
         "organizations_url": "https://api.github.com/users/sgrif/orgs",
         "login": "sgrif",
         "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/sgrif/followers",
         "html_url": "https://github.com/sgrif"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 25,
      "id": 15222300,
      "closed_at": "2015-02-03T20:29:38Z",
      "created_at": "2013-06-06T13:27:24Z",
      "title": "count_cache increment twice when using custom counter name",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10865/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10865/comments",
      "html_url": "https://github.com/rails/rails/issues/10865"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Consider following models\n\n``` ruby\nclass Customers < ActiveRecord::Base\n  has many :orders\nend\nclass Order < ActiveRecord::Base\n  scope :ordered, order('created_at DESC')\n  belongs_to :customer\nend\n```\n\nCalling following\n\n``` ruby\ncustomer.orders.ordered.to_sql\n```\n\nwill result in following sql code:\n\n``` sql\nSELECT \"orders\".* FROM \"orders\"   ORDER BY created_at DESC\n```\n\nI  consider this important issue, as it's quite easy just to forget using lambda syntax and results are far from expected. Lambda syntax is quite big change in Rails4 and I suspect, that many people will forget about using it. In my opinion exception should be raised in such situations.\n\nThis is somehow connected to not yet merged #10528 and issue #10421 - so this ticket just aims to show how serious situation is.\n\nDue to not merged #10528, it's still an issue on branch 4-0-stable.\n",
      "number": 10864,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mlitwiniuk/subscriptions",
         "received_events_url": "https://api.github.com/users/mlitwiniuk/received_events",
         "url": "https://api.github.com/users/mlitwiniuk",
         "avatar_url": "https://avatars1.githubusercontent.com/u/302747?v=4",
         "events_url": "https://api.github.com/users/mlitwiniuk/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mlitwiniuk/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mlitwiniuk/following{/other_user}",
         "repos_url": "https://api.github.com/users/mlitwiniuk/repos",
         "site_admin": false,
         "id": 302747,
         "organizations_url": "https://api.github.com/users/mlitwiniuk/orgs",
         "login": "mlitwiniuk",
         "gists_url": "https://api.github.com/users/mlitwiniuk/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mlitwiniuk/followers",
         "html_url": "https://github.com/mlitwiniuk"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10864",
      "updated_at": "2014-08-13T13:07:06Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10864/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 15218321,
      "closed_at": "2014-05-21T19:58:23Z",
      "created_at": "2013-06-06T11:42:30Z",
      "title": "Scope without lambda ignores condition chain",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10864/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10864/comments",
      "html_url": "https://github.com/rails/rails/issues/10864"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "config/routes.rb:\n\n``` ruby\nmatch ':controller(/:action)', :controller => /api\\/[^\\/]+/, via: :all, :format => false, :defaults => { :format => 'json' }\n```\n\n`rake routes` show errors:\n\n``` bash\nrake aborted!\ncan't convert Regexp to String\n\nTasks: TOP => routes\n(See full trace by running task with --trace)\n```\n\nHow can I rewrite this route rule to do same thing, but rake routes don't show errors?\n\nOr rails have a bug?\n",
      "number": 10782,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/cofyc/subscriptions",
         "received_events_url": "https://api.github.com/users/cofyc/received_events",
         "url": "https://api.github.com/users/cofyc",
         "avatar_url": "https://avatars3.githubusercontent.com/u/91730?v=4",
         "events_url": "https://api.github.com/users/cofyc/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/cofyc/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/cofyc/following{/other_user}",
         "repos_url": "https://api.github.com/users/cofyc/repos",
         "site_admin": false,
         "id": 91730,
         "organizations_url": "https://api.github.com/users/cofyc/orgs",
         "login": "cofyc",
         "gists_url": "https://api.github.com/users/cofyc/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/cofyc/followers",
         "html_url": "https://github.com/cofyc"
      },
      "state": "closed",
      "closed_by": "10785",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10782",
      "updated_at": "2013-05-30T15:38:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10782/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 14870804,
      "closed_at": "2013-05-30T15:38:18Z",
      "created_at": "2013-05-29T02:16:47Z",
      "title": "Rails 4: 'rake routes' can't convert Regexp to String",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10782/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10782/comments",
      "html_url": "https://github.com/rails/rails/issues/10782"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm using Rails 4.0.0.rc1 and postgresql.  In a migration, I'm creating a table that sets UUID version 1 as the primary key, as follows:\n\n``` ruby\ncreate_table :users, id: false do |t|\n  t.primary_key :id, :uuid, default: 'uuid_generate_v1()'\nend\n```\n\nbut when I rake db:migrate, the schema.rb shows\n\n``` ruby\ncreate_table \"users\", id: false, force: true do |t|\n    t.uuid     \"id\",         null: false\nend\n```\n\nWith no default option.  Everything works fine until I have to do rake db:schema:load, which won't load the default and then PG will throw errors at me whenever I try to save anything into the database.  I find I have to rollback and re-migrate to get it to work, which is very annoying.\n\nAnyone else getting this behavior?\n",
      "number": 10751,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/xph/subscriptions",
         "received_events_url": "https://api.github.com/users/xph/received_events",
         "url": "https://api.github.com/users/xph",
         "avatar_url": "https://avatars1.githubusercontent.com/u/1910231?v=4",
         "events_url": "https://api.github.com/users/xph/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/xph/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/xph/following{/other_user}",
         "repos_url": "https://api.github.com/users/xph/repos",
         "site_admin": false,
         "id": 1910231,
         "organizations_url": "https://api.github.com/users/xph/orgs",
         "login": "xph",
         "gists_url": "https://api.github.com/users/xph/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/xph/followers",
         "html_url": "https://github.com/xph"
      },
      "state": "closed",
      "closed_by": "734e4e",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10751",
      "updated_at": "2014-11-21T15:08:45Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10751/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 3,
      "id": 14753071,
      "closed_at": "2013-09-22T19:01:18Z",
      "created_at": "2013-05-25T06:07:42Z",
      "title": "Migration is not dumping UUID default settings to schema",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10751/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10751/comments",
      "html_url": "https://github.com/rails/rails/issues/10751"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\n[1] pry(main)> a = HashWithIndifferentAccess.new(a: 1, b: 2) \n=> {\"a\"=>1, \"b\"=>2}\n[2] pry(main)> b = a.select { |k,v| k == 'a' }\n=> {\"a\"=>1}\n[3] pry(main)> a.class\n=> ActiveSupport::HashWithIndifferentAccess\n[4] pry(main)> b.class\n=> Hash\n```\n\nI think .select should instead be shadowed by HashWithIndifferentAccess and return another HashWithIndifferentAccess. Curiously enough, this is what already happens with .slice, because its definition uses self.class.new to instantiate the new hash.\n\n``` ruby\ndef slice(*keys)\n  keys = keys.map! { |key| convert_key(key) } if respond_to?(:convert_key, true)\n  hash = self.class.new\n  keys.each { |k| hash[k] = self[k] if has_key?(k) }\n  hash\nend\n```\n",
      "number": 10723,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jaroslawr/subscriptions",
         "received_events_url": "https://api.github.com/users/jaroslawr/received_events",
         "url": "https://api.github.com/users/jaroslawr",
         "avatar_url": "https://avatars0.githubusercontent.com/u/26233?v=4",
         "events_url": "https://api.github.com/users/jaroslawr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jaroslawr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jaroslawr/following{/other_user}",
         "repos_url": "https://api.github.com/users/jaroslawr/repos",
         "site_admin": false,
         "id": 26233,
         "organizations_url": "https://api.github.com/users/jaroslawr/orgs",
         "login": "jaroslawr",
         "gists_url": "https://api.github.com/users/jaroslawr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jaroslawr/followers",
         "html_url": "https://github.com/jaroslawr"
      },
      "state": "closed",
      "closed_by": "10740",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10723",
      "updated_at": "2013-06-14T20:53:31Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10723/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 14616082,
      "closed_at": "2013-06-14T20:53:31Z",
      "created_at": "2013-05-22T10:39:03Z",
      "title": "HashWithIndifferentAccess returns a plain Hash when processing with .select",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10723/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10723/comments",
      "html_url": "https://github.com/rails/rails/issues/10723"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using Rails 4.0.0.rc1, and given the following railsrc file:\n\n```\n$ cat ~/.railsrc\n--skip-bundle\n--skip-test-unit\n```\n\nRunning:\n\n```\n$ rails plugin new foo\n      create  \n      create  README.rdoc\n      create  Rakefile\n      create  foo.gemspec\n      create  MIT-LICENSE\n      create  .gitignore\n      create  Gemfile\n      create  lib/foo.rb\n      create  lib/tasks/foo_tasks.rake\n      create  lib/foo/version.rb\n      create  test/test_helper.rb\n      create  test/foo_test.rb\n      append  Rakefile\n  vendor_app  test/dummy\n         run  bundle install\n```\n\nExpected: Test::Unit files should be skipped and `bundle install` should not be run.\n\nActual: Test::unit files were created and `bundle install` was run.\n\nI also tried with the following two invocations:\n\n```\n$ rails plugin new foo --rc=~/.railsrc\n$ rails plugin new foo --rc ~/.railsrc\n```\n\nThe results were the same. The railsrc file is readable, and takes effect when running the normal `rails new` command.\n",
      "number": 10700,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jimmycuadra/subscriptions",
         "received_events_url": "https://api.github.com/users/jimmycuadra/received_events",
         "url": "https://api.github.com/users/jimmycuadra",
         "avatar_url": "https://avatars2.githubusercontent.com/u/122457?v=4",
         "events_url": "https://api.github.com/users/jimmycuadra/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jimmycuadra/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jimmycuadra/following{/other_user}",
         "repos_url": "https://api.github.com/users/jimmycuadra/repos",
         "site_admin": false,
         "id": 122457,
         "organizations_url": "https://api.github.com/users/jimmycuadra/orgs",
         "login": "jimmycuadra",
         "gists_url": "https://api.github.com/users/jimmycuadra/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jimmycuadra/followers",
         "html_url": "https://github.com/jimmycuadra"
      },
      "state": "closed",
      "closed_by": "10712",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10700",
      "updated_at": "2013-12-01T08:25:38Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10700/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 107195,
            "url": "https://api.github.com/repos/rails/rails/labels/railties",
            "color": "8BE06E",
            "default": false,
            "name": "railties"
         }
      ],
      "comments": 3,
      "id": 14549846,
      "closed_at": "2013-12-01T08:25:38Z",
      "created_at": "2013-05-21T03:59:19Z",
      "title": "`rails plugin new` does not respect railsrc files",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10700/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10700/comments",
      "html_url": "https://github.com/rails/rails/issues/10700"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is related to the issue: #3002 and the pull requests: #5494, #10164, #10303.\nI'm testing this in master branch.\n\nI have a failing test here: https://github.com/iwiznia/rails/commit/d12343fe4fd65b94f48bb0df5a99177cd8d6ba20\nI don't know if I need to open a pull request just with a failing test or just report it here.\n\nBasically, this works:\n\n``` ruby\nspecial_comments_with_ratings = SpecialComment.joins(:ratings)\nposts_with_special_comments_with_ratings = Post.joins(:special_comments).\n                                         merge(special_comments_with_ratings)\n```\n\nAnd this fails with \"ActiveRecord::ConfigurationError: Association named 'INNER JOIN \"ratings\" ON \"comments\".id = \"ratings\".comment_id' was not found on Post; perhaps you misspelled it?\":\n\n``` ruby\nspecial_comments_with_ratings = SpecialComment.joins(\"INNER JOIN \n#{Rating.quoted_table_name} \nON #{SpecialComment.quoted_table_name}.id = \n#{Rating.quoted_table_name}.comment_id\")\nposts_with_special_comments_with_ratings = \n\nPost.joins(:special_comments).merge(special_comments_with_ratings)\n```\n\nIt seems that this was working and got broken somewhere (I'm basing this on this comment https://github.com/rails/rails/pull/5494#issuecomment-5262803 that states that merging a join using :symbol didn't work but it did work when sending a string, now the opposite is true).\n\n(I don't know how to fix the issue, so if anyone can point me in the right direction maybe I can give it a try...\n",
      "number": 10669,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/iwiznia/subscriptions",
         "received_events_url": "https://api.github.com/users/iwiznia/received_events",
         "url": "https://api.github.com/users/iwiznia",
         "avatar_url": "https://avatars1.githubusercontent.com/u/521248?v=4",
         "events_url": "https://api.github.com/users/iwiznia/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/iwiznia/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/iwiznia/following{/other_user}",
         "repos_url": "https://api.github.com/users/iwiznia/repos",
         "site_admin": false,
         "id": 521248,
         "organizations_url": "https://api.github.com/users/iwiznia/orgs",
         "login": "iwiznia",
         "gists_url": "https://api.github.com/users/iwiznia/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/iwiznia/followers",
         "html_url": "https://github.com/iwiznia"
      },
      "state": "closed",
      "closed_by": "10796",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10669",
      "updated_at": "2013-06-22T10:25:43Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10669/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 0,
      "id": 14464110,
      "closed_at": "2013-06-22T10:25:43Z",
      "created_at": "2013-05-17T17:56:55Z",
      "title": "Merging scopes with joins clauses written as text fails",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10669/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10669/comments",
      "html_url": "https://github.com/rails/rails/issues/10669"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If a scope is defined on an abstract active record class, when it is called by one of its subclasses the sql generated is missing a table name.\n\n``` ruby\nclass AbstractCompany < ActiveRecord::Base\n  self.abstract_class = true\n\n  scope :abstract_company_scope, ->{ order('id') }\nend\n\nclass Company < AbstractCompany\nend\n\nCompany.abstract_company_scope #=> ActiveRecord::StatementInvalid: SQLite3::SQLException: no such table: : SELECT  \"\".* FROM \"\"   ORDER BY id LIMIT 1\n```\n\nTest has been added at lsylvester/rails@c64023bc9fd7dfe10f564fedbd7299240bd5da15\n",
      "number": 10658,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/lsylvester/subscriptions",
         "received_events_url": "https://api.github.com/users/lsylvester/received_events",
         "url": "https://api.github.com/users/lsylvester",
         "avatar_url": "https://avatars2.githubusercontent.com/u/191128?v=4",
         "events_url": "https://api.github.com/users/lsylvester/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/lsylvester/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/lsylvester/following{/other_user}",
         "repos_url": "https://api.github.com/users/lsylvester/repos",
         "site_admin": false,
         "id": 191128,
         "organizations_url": "https://api.github.com/users/lsylvester/orgs",
         "login": "lsylvester",
         "gists_url": "https://api.github.com/users/lsylvester/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/lsylvester/followers",
         "html_url": "https://github.com/lsylvester"
      },
      "state": "closed",
      "closed_by": "23666",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10658",
      "updated_at": "2016-08-14T22:29:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10658/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 42,
      "id": 14434364,
      "closed_at": "2015-02-23T13:10:31Z",
      "created_at": "2013-05-17T01:24:05Z",
      "title": "Scopes defined on Abstract ActiveRecord classes are missing table names when called from subclasses",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10658/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10658/comments",
      "html_url": "https://github.com/rails/rails/issues/10658"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When trying to run tests in RubyMine with Rails 4.0.0-rc1 and ruby 2.0.0-p0, I got the following error:\n\nFail to load: /Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/test/test_helper.rb:1\n      Exception message: undefined method `application' for Rake:Module\n[\"/Users/stmpjmpr/.rvm/gems/ruby-2.0.0-p0/gems/railties-4.0.0.rc1/lib/rails/test_unit/railtie.rb:1:in`<top (required)>'\", \"/Users/stmpjmpr/.rvm/gems/ruby-2.0.0-p0/gems/railties-4.0.0.rc1/lib/rails/all.rb:11:in `require'\", \"/Users/stmpjmpr/.rvm/gems/ruby-2.0.0-p0/gems/railties-4.0.0.rc1/lib/rails/all.rb:11:in`block in <top (required)>'\", \"/Users/stmpjmpr/.rvm/gems/ruby-2.0.0-p0/gems/railties-4.0.0.rc1/lib/rails/all.rb:9:in `each'\", \"/Users/stmpjmpr/.rvm/gems/ruby-2.0.0-p0/gems/railties-4.0.0.rc1/lib/rails/all.rb:9:in`<top (required)>'\", \"/Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/config/application.rb:3:in `require'\", \"/Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/config/application.rb:3:in`<top (required)>'\", \"/Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/config/environment.rb:2:in `require'\", \"/Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/config/environment.rb:2:in`<top (required)>'\", \"/Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/test/test_helper.rb:5:in `require'\", \"/Volumes/Braille/Users/stmpjmpr/Code/ruby/rails/bikeshop/test/test_helper.rb:5:in`<top (required)>'\", \"/Applications/RubyMine.app/rb/testing/runner/tunit_or_minitest_in_folder_runner.rb:51:in `require'\", \"/Applications/RubyMine.app/rb/testing/runner/tunit_or_minitest_in_folder_runner.rb:51:in`block in require_all_test_scripts'\", \"/Applications/RubyMine.app/rb/testing/runner/tunit_or_minitest_in_folder_runner.rb:44:in `each'\", \"/Applications/RubyMine.app/rb/testing/runner/tunit_or_minitest_in_folder_runner.rb:44:in`require_all_test_scripts'\", \"/Applications/RubyMine.app/rb/testing/runner/tunit_or_minitest_in_folder_runner.rb:134:in `<top (required)>'\", \"-e:1:in`load'\", \"-e:1:in `<main>'\"]\n\nThe file railties-4.0.0.rc1/lib/rails/test_unit/railtie.rb attempts to test Rake::Application, which doesn't exist in all contexts, including mine. I'll submit a pull request with a simple fix.\n",
      "number": 10628,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/stmpjmpr/subscriptions",
         "received_events_url": "https://api.github.com/users/stmpjmpr/received_events",
         "url": "https://api.github.com/users/stmpjmpr",
         "avatar_url": "https://avatars0.githubusercontent.com/u/15185?v=4",
         "events_url": "https://api.github.com/users/stmpjmpr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/stmpjmpr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/stmpjmpr/following{/other_user}",
         "repos_url": "https://api.github.com/users/stmpjmpr/repos",
         "site_admin": false,
         "id": 15185,
         "organizations_url": "https://api.github.com/users/stmpjmpr/orgs",
         "login": "stmpjmpr",
         "gists_url": "https://api.github.com/users/stmpjmpr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/stmpjmpr/followers",
         "html_url": "https://github.com/stmpjmpr"
      },
      "state": "closed",
      "closed_by": "397348",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10628",
      "updated_at": "2013-06-17T23:58:48Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10628/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 128692,
            "url": "https://api.github.com/repos/rails/rails/labels/needs%20feedback",
            "color": "ededed",
            "default": false,
            "name": "needs feedback"
         }
      ],
      "comments": 6,
      "id": 14345989,
      "closed_at": "2013-05-28T15:15:23Z",
      "created_at": "2013-05-15T07:13:59Z",
      "title": "Railties tests non-existent Rake::Application in some cases",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10628/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10628/comments",
      "html_url": "https://github.com/rails/rails/issues/10628"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "In Rails 3.2.13 serializing a nested hash properly keep the keys as either strings or symbols.  In Rails 4.0.0.rc1 all keys inside arrays are stringified.\n\nTo verify I created a new rails app and added one model and one test.  Here are the important files and test results:\nGemfile:\n\n``` ruby\nsource 'https://rubygems.org'\n\n# gem 'rails', '4.0.0.rc1'\ngem 'rails', '3.2.13'\ngem 'sqlite3'\ngem 'pry'\n```\n\ncreate_xyzzies.rb migration file:\n\n``` ruby\nclass CreateXyzzies < ActiveRecord::Migration\n  def change\n    create_table :xyzzies do |t|\n      t.text :ticket\n      t.timestamps\n    end\n  end\nend\n```\n\nxyzzy.rb model file:\n\n``` ruby\nclass Xyzzy < ActiveRecord::Base\n  serialize :ticket\nend\n```\n\nxyzzy_test.rb \n\n``` ruby\nrequire 'test_helper'\n\nclass XyzzyTest < ActiveSupport::TestCase\n  test \"the ticket\" do\n    xy = Xyzzy.new\n    xy.ticket = original_ticket\n    # binding.pry\n    assert xy.ticket == original_ticket\n    xy.save\n    # binding.pry\n    assert xy.ticket == original_ticket\n  end\nend\n\ndef original_ticket\n  {\n    compression: 0,\n    'name' => 'test',\n    guid: 'xyzzy',\n    settings: {\n      option1: 'no way',\n      'option2' => 'maybe',\n      option3: 'for sure'\n    },\n    transforms: [\n      t1: {\n        :type => 2,\n        wrapper: 16,\n        'mime' => 'video/mpg',\n        fps: 29.95\n      },\n      't2' => {\n        :type => 2,\n        'wrapper' => 16,\n        mime: 'video/mpg',\n        \"fps\" => 29.95\n      }\n    ]\n  }\nend\n```\n\nBundle and run the test (rake test) - it passes, the hash looks like this: (at the binding locations)\n\n``` ruby\n# Rails 3.2.13\n\n## Ticket before save\n=> {:compression=>0,\n \"name\"=>\"test\",\n :guid=>\"xyzzy\",\n :settings=>{:option1=>\"no way\", \"option2\"=>\"maybe\", :option3=>\"for sure\"},\n :transforms=>\n  [{:t1=>{:type=>2, :wrapper=>16, \"mime\"=>\"image/png\", :fps=>29.95},\n    \"t2\"=>{:type=>2, \"wrapper\"=>16, :mime=>\"image/png\", \"fps\"=>29.95}}]}\n\n## Ticket after save\n=> {:compression=>0,\n \"name\"=>\"test\",\n :guid=>\"xyzzy\",\n :settings=>{:option1=>\"no way\", \"option2\"=>\"maybe\", :option3=>\"for sure\"},\n :transforms=>\n  [{:t1=>{:type=>2, :wrapper=>16, \"mime\"=>\"video/mpg\", :fps=>29.95},\n    \"t2\"=>{:type=>2, \"wrapper\"=>16, :mime=>\"video/mpg\", \"fps\"=>29.95}}]}\n```\n\nEdit the Gemfile and comment the line for rails 3.2.13 and uncomment the rails 4.0.0.rc1\nBundle and run the test again (rake test) - it fails, the hash looks like this: (at the binding locations)\n\n``` ruby\n# Rails 4.0.0.rc1\n\n## Ticket before save\n=> {:compression=>0,\n \"name\"=>\"test\",\n :guid=>\"xyzzy\",\n :settings=>{:option1=>\"no way\", \"option2\"=>\"maybe\", :option3=>\"for sure\"},\n :transforms=>\n  [{:t1=>{:type=>2, :wrapper=>16, \"mime\"=>\"video/mpg\", :fps=>29.95},\n    \"t2\"=>{:type=>2, \"wrapper\"=>16, :mime=>\"video/mpg\", \"fps\"=>29.95}}]}\n\n## Ticket after save\n=> {:compression=>0,\n \"name\"=>\"test\",\n :guid=>\"xyzzy\",\n :settings=>{:option1=>\"no way\", \"option2\"=>\"maybe\", :option3=>\"for sure\"},\n :transforms=>\n  [{\"t1\"=>{\"type\"=>2, \"wrapper\"=>16, \"mime\"=>\"video/mpg\", \"fps\"=>29.95},\n    \"t2\"=>{\"type\"=>2, \"wrapper\"=>16, \"mime\"=>\"video/mpg\", \"fps\"=>29.95}}]}\n```\n\nNotice that in Rails 4 all keys inside hashes in the array are stringified.  In reality my hashes are not mixed like this example is - they are all symbol keys and everything inside an array gets stringified.\n",
      "number": 10526,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bitencode/subscriptions",
         "received_events_url": "https://api.github.com/users/bitencode/received_events",
         "url": "https://api.github.com/users/bitencode",
         "avatar_url": "https://avatars1.githubusercontent.com/u/787250?v=4",
         "events_url": "https://api.github.com/users/bitencode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bitencode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bitencode/following{/other_user}",
         "repos_url": "https://api.github.com/users/bitencode/repos",
         "site_admin": false,
         "id": 787250,
         "organizations_url": "https://api.github.com/users/bitencode/orgs",
         "login": "bitencode",
         "gists_url": "https://api.github.com/users/bitencode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bitencode/followers",
         "html_url": "https://github.com/bitencode"
      },
      "state": "closed",
      "closed_by": "10784",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10526",
      "updated_at": "2013-06-03T23:47:00Z",
      "milestone": {
         "closed_at": "2013-07-09T08:41:05Z",
         "url": "https://api.github.com/repos/rails/rails/milestones/9",
         "description": "Changes that break 3.x API.",
         "updated_at": "2014-04-03T15:26:45Z",
         "number": 9,
         "due_on": null,
         "id": 44893,
         "open_issues": 0,
         "closed_issues": 101,
         "created_at": "2011-10-09T02:53:46Z",
         "title": "4.0.0",
         "labels_url": "https://api.github.com/repos/rails/rails/milestones/9/labels",
         "state": "closed",
         "html_url": "https://github.com/rails/rails/milestone/9",
         "creator": {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      },
      "events_url": "https://api.github.com/repos/rails/rails/issues/10526/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 14127315,
      "closed_at": "2013-06-03T23:47:00Z",
      "created_at": "2013-05-08T23:23:20Z",
      "title": "In Rails 4.0.0.rc1 serializing a nested hash in an array causes all keys to be stringified ",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10526/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10526/comments",
      "html_url": "https://github.com/rails/rails/issues/10526"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm trying to upgrade an application to Rails 4.0.0.rc1. In a controller action I have the following statement:\n\n```\nuser.transactions.find(params[:id])\n```\n\nIn Rails 3.2 the query executed is\n\n```\nTransaction Load (25.9ms)  SELECT \"transactions\".* \nFROM \"transactions\" WHERE \"transactions\".\"user_id\" = 1 AND \"transactions\".\"id\" = $1 \nORDER BY transactions.date DESC, transactions.created_at DESC, transactions.id \nDESC LIMIT 1  [[\"id\", 123]]\n```\n\nIn Rails 4 the query executed is\n\n```\nSELECT \"transactions\".* \nFROM \"transactions\" \nWHERE \"transactions\".\"user_id\" = $1 \nORDER BY transactions.date DESC, \n                  transactions.created_at DESC, transactions.id DESC  [[\"user_id\", 1]]\n```\n\nThis loads all of the transactions from the database and then returns the requested object.\n\nI created a test application that demonstrates the problem at https://github.com/adamvaughan/testapp. The following will reproduce the error:\n\n```\n$ rails c\n>> user = User.create(name: 'Test')\n>> Transaction.create(amount: 100, date: Date.today, user: user)\n>> Transaction.create(amount: 200, date: Date.yesterday, user: user)\n>> user.transactions.find(1)\n```\n\nI haven't made it as far as trying to figure out what is going on. Hopefully I'll have more time to dig into it later this evening.\n",
      "number": 10509,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/adamvaughan/subscriptions",
         "received_events_url": "https://api.github.com/users/adamvaughan/received_events",
         "url": "https://api.github.com/users/adamvaughan",
         "avatar_url": "https://avatars1.githubusercontent.com/u/472854?v=4",
         "events_url": "https://api.github.com/users/adamvaughan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/adamvaughan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/adamvaughan/following{/other_user}",
         "repos_url": "https://api.github.com/users/adamvaughan/repos",
         "site_admin": false,
         "id": 472854,
         "organizations_url": "https://api.github.com/users/adamvaughan/orgs",
         "login": "adamvaughan",
         "gists_url": "https://api.github.com/users/adamvaughan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/adamvaughan/followers",
         "html_url": "https://github.com/adamvaughan"
      },
      "state": "closed",
      "closed_by": "10566",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10509",
      "updated_at": "2013-08-20T19:02:54Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10509/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 14079196,
      "closed_at": "2013-06-18T22:44:09Z",
      "created_at": "2013-05-08T00:50:33Z",
      "title": "Calling `#find` on a `has_many` association loads all associated objects.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10509/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10509/comments",
      "html_url": "https://github.com/rails/rails/issues/10509"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Using rails 3.2.13, ruby 1.9.3, sqlite or mysql:\n1. Create a new app\n2. Create an AR model with a string attribute called `name`.\n3. Attempt to save an integer value to that field (like 123).\n\nExpected: After a successful save, the model reflects the value in the database (\"123\")\nActual: After a successful save, the model reflects the value we requested (123)\n\nIs this expected behavior? Since the save has been successful, should it try to reflect more accurately what the database is holding? (Namely, the right type for each saved attribute)\n\n```\n>> b = Book.new\n=> #<Book id: nil, name: nil>\n>> b.name = 123\n=> 123\n>> b.save\n=> true\n>> b\n=> #<Book id: 1, name: 123>\n>> b.reload\n=> #<Book id: 1, name: \"123\">\n```\n",
      "number": 10485,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/micho/subscriptions",
         "received_events_url": "https://api.github.com/users/micho/received_events",
         "url": "https://api.github.com/users/micho",
         "avatar_url": "https://avatars2.githubusercontent.com/u/323401?v=4",
         "events_url": "https://api.github.com/users/micho/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/micho/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/micho/following{/other_user}",
         "repos_url": "https://api.github.com/users/micho/repos",
         "site_admin": false,
         "id": 323401,
         "organizations_url": "https://api.github.com/users/micho/orgs",
         "login": "micho",
         "gists_url": "https://api.github.com/users/micho/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/micho/followers",
         "html_url": "https://github.com/micho"
      },
      "state": "closed",
      "closed_by": "10497",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10485",
      "updated_at": "2014-02-24T07:26:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10485/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 14007024,
      "closed_at": "2014-02-24T07:26:49Z",
      "created_at": "2013-05-06T15:48:21Z",
      "title": "Invalid attributes aren't coerced after a successful save",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10485/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10485/comments",
      "html_url": "https://github.com/rails/rails/issues/10485"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Given Post and Comment models having UUID primary keys, where Post has_many Comments:\n\n```\npost = Post.create!\ncomment = post.comments.create!\npost.comments.find(comment.id)\n```\n\nThis should successfully find the newly-created comment. Instead, it throws ActiveRecord::RecordNotFound:\n\n```\nActiveRecord::RecordNotFound: Couldn't find Comment with id=[\"bca2decc-51e4-4e58-b45b-6afae21c2168\"] [WHERE \"comments\".\"post_id\" = $1]\n```\n\nThis works fine, however:\n\n```\npost.comments.first\n```\n\nAs does this:\n\n```\npost.comments.where(id: comment.id).first!\n```\n\nAnd this:\n\n```\nComment.find(comment.id)\n```\n",
      "number": 10450,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/bwbuchanan/subscriptions",
         "received_events_url": "https://api.github.com/users/bwbuchanan/received_events",
         "url": "https://api.github.com/users/bwbuchanan",
         "avatar_url": "https://avatars3.githubusercontent.com/u/18330?v=4",
         "events_url": "https://api.github.com/users/bwbuchanan/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/bwbuchanan/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/bwbuchanan/following{/other_user}",
         "repos_url": "https://api.github.com/users/bwbuchanan/repos",
         "site_admin": false,
         "id": 18330,
         "organizations_url": "https://api.github.com/users/bwbuchanan/orgs",
         "login": "bwbuchanan",
         "gists_url": "https://api.github.com/users/bwbuchanan/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/bwbuchanan/followers",
         "html_url": "https://github.com/bwbuchanan"
      },
      "state": "closed",
      "closed_by": "10500",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10450",
      "updated_at": "2013-09-22T17:39:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10450/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 4,
      "id": 13944182,
      "closed_at": "2013-09-22T17:39:13Z",
      "created_at": "2013-05-03T17:29:55Z",
      "title": "CollectionProxy#find broken when UUID primary keys are used with has_many / inverse_of association",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10450/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10450/comments",
      "html_url": "https://github.com/rails/rails/issues/10450"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Or is that a way to do that runtime?\n\nI tried ActiveSupport::TimeZone::zones_map[\"Cura\u00e7ao\"] = ActiveSupport::TimeZone['La Paz'] but that didn't work, and MAPPING is a frozen hash and can't be modified.\n\nHow to add Cura\u00e7ao to the list of timezones?\n",
      "number": 10276,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/acesuares/subscriptions",
         "received_events_url": "https://api.github.com/users/acesuares/received_events",
         "url": "https://api.github.com/users/acesuares",
         "avatar_url": "https://avatars3.githubusercontent.com/u/2784?v=4",
         "events_url": "https://api.github.com/users/acesuares/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/acesuares/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/acesuares/following{/other_user}",
         "repos_url": "https://api.github.com/users/acesuares/repos",
         "site_admin": false,
         "id": 2784,
         "organizations_url": "https://api.github.com/users/acesuares/orgs",
         "login": "acesuares",
         "gists_url": "https://api.github.com/users/acesuares/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/acesuares/followers",
         "html_url": "https://github.com/acesuares"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10276",
      "updated_at": "2016-02-04T21:09:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10276/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 19,
      "id": 13436064,
      "closed_at": "2016-02-04T21:09:50Z",
      "created_at": "2013-04-20T13:53:48Z",
      "title": "Add Cura\u00e7ao to ActiveSupport::TimeZone",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10276/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10276/comments",
      "html_url": "https://github.com/rails/rails/issues/10276"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "ActionController::HttpAuthentication::Basic#decode_credentials will incorrectly decode authorization details if those details are passed using OAuth 2's \"bearer\" standard, and the controller calls `authenticate_with_http_basic`.\n\nHere is a Rails project I built to illustrate: https://github.com/GrooveStomp/RailsHttpBasicAuthBug\n\nHere is the sample controller: https://github.com/GrooveStomp/RailsHttpBasicAuthBug/blob/master/app/controllers/application_controller.rb\n\nHere is the test that illustrates the problem: https://github.com/GrooveStomp/RailsHttpBasicAuthBug/blob/master/spec/controllers/application_controller_spec.rb\n\nActionController should inspect the content of the `HTTP_AUTHORIZATION` header before attempting to decode it.\n\nI am seeing this specific error in my application:\n\n`ArgumentError: invalid byte sequence in UTF-8: SELECT`users`.* FROM`users`WHERE`users`.`type`IN ('ApiKey') AND`users`.`key`= '\ufffd\ufffd\ufffdy\ufffdt\ufffd\ufffd\ufffdM\ufffdk\ufffd7\ub99d{wt\u007f\ufffd\ufffd\ufffd_\ufffd\u077bs\u01f8s\ufffd\ufffdi\ufffd[w\ufffd\\\\wf\ufffd' LIMIT 1\ninvalid byte sequence in UTF-8`\n\nI'm using Rails 3.2.13.\n",
      "number": 10257,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/GrooveStomp/subscriptions",
         "received_events_url": "https://api.github.com/users/GrooveStomp/received_events",
         "url": "https://api.github.com/users/GrooveStomp",
         "avatar_url": "https://avatars2.githubusercontent.com/u/433268?v=4",
         "events_url": "https://api.github.com/users/GrooveStomp/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/GrooveStomp/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/GrooveStomp/following{/other_user}",
         "repos_url": "https://api.github.com/users/GrooveStomp/repos",
         "site_admin": false,
         "id": 433268,
         "organizations_url": "https://api.github.com/users/GrooveStomp/orgs",
         "login": "GrooveStomp",
         "gists_url": "https://api.github.com/users/GrooveStomp/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/GrooveStomp/followers",
         "html_url": "https://github.com/GrooveStomp"
      },
      "state": "closed",
      "closed_by": "11346",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10257",
      "updated_at": "2014-05-20T21:12:13Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10257/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 13327330,
      "closed_at": "2014-05-20T21:12:13Z",
      "created_at": "2013-04-18T01:03:21Z",
      "title": "BasicAuth decode_credentials tries to extract username/password from OAuth 2 Bearer authorization header.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10257/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10257/comments",
      "html_url": "https://github.com/rails/rails/issues/10257"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Note: Issue found with Rails 3.2.13\n## Given a form with a field like:\n\n```\n<form accept-charset=\"UTF-8\" action=\"http://localhost:3000/?widget[action]=login&widget[type]=login\" method=\"post\">\n    <input id=\"widget_attributes_login_type\" name=\"widget[attributes][login_type]\" type=\"hidden\" value=\"customer\">\n</form>\n```\n\nRails does not appear to be deep merging the parameters from these two sources (Query string / Form vars)\n\n```\nmodule ActionDispatch\n  module Http\n    module Parameters\n      # Returns both GET and POST \\parameters in a single hash.\n      def parameters\n        @env[\"action_dispatch.request.parameters\"] ||= begin\n         # ---------             \n         # Source of issue below, is corrected with request_parameters.deep_merge(query_parameters)\n         # ---------\n          params = request_parameters.merge(query_parameters)\n          params.merge!(path_parameters)\n          encode_params(params).with_indifferent_access\n        end\n      end\n      alias :params :parameters\n\n      #....\n    end\n  end\nend\n```\n\nIs this intentional? How is one to take nested params from two different sources to get a unified version? \n",
      "number": 10208,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ryno1234/subscriptions",
         "received_events_url": "https://api.github.com/users/ryno1234/received_events",
         "url": "https://api.github.com/users/ryno1234",
         "avatar_url": "https://avatars3.githubusercontent.com/u/92051?v=4",
         "events_url": "https://api.github.com/users/ryno1234/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ryno1234/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ryno1234/following{/other_user}",
         "repos_url": "https://api.github.com/users/ryno1234/repos",
         "site_admin": false,
         "id": 92051,
         "organizations_url": "https://api.github.com/users/ryno1234/orgs",
         "login": "ryno1234",
         "gists_url": "https://api.github.com/users/ryno1234/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ryno1234/followers",
         "html_url": "https://github.com/ryno1234"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/10208",
      "updated_at": "2014-04-05T18:37:18Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10208/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 2,
      "id": 13159791,
      "closed_at": "2014-04-05T18:37:18Z",
      "created_at": "2013-04-13T17:26:13Z",
      "title": "Query / Request params not deep merged (ActionDispatch::Http::Parameters)",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10208/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10208/comments",
      "html_url": "https://github.com/rails/rails/issues/10208"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When we define polymorphic association with touch: true rails will raise exception at startup\n\n```\nclass Post\n  belongs_to :resource, :polymorphic => true, :counter_cache => true, touch: true\nend\n```\n\n/Users/madmax/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2 .0.0/bundler/gems/rails-797fcdf738a2/activerecord/lib/active_record/inheritance.rb:125:in `compute_type': uninitialized constant Post::Resource (NameError)\n    from /Users/madmax/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/bundler/gems/rails-797fcdf738a2/activerecord/lib/active_record/reflection.rb:173:in`klass'\n    from /Users/madmax/.rbenv/versions/2.0.0-p0/lib/ruby/gems/2.0.0/bundler/gems/rails-797fcdf738a2/activerecord/lib/active_record/associations/builder/belongs_to.rb:73:in `add_touch_callbacks'\n\nThe problem exists in add_touch_callbacks. It want use Resource as class (reflection)\n\nIt might be useful to take look at 034f254d59, and dce398d\n",
      "number": 10197,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/madmax/subscriptions",
         "received_events_url": "https://api.github.com/users/madmax/received_events",
         "url": "https://api.github.com/users/madmax",
         "avatar_url": "https://avatars1.githubusercontent.com/u/4486?v=4",
         "events_url": "https://api.github.com/users/madmax/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/madmax/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/madmax/following{/other_user}",
         "repos_url": "https://api.github.com/users/madmax/repos",
         "site_admin": false,
         "id": 4486,
         "organizations_url": "https://api.github.com/users/madmax/orgs",
         "login": "madmax",
         "gists_url": "https://api.github.com/users/madmax/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/madmax/followers",
         "html_url": "https://github.com/madmax"
      },
      "state": "closed",
      "closed_by": "a89941",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/10197",
      "updated_at": "2014-06-20T13:31:44Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/10197/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 38,
      "id": 13142549,
      "closed_at": "2013-04-24T14:08:31Z",
      "created_at": "2013-04-12T22:37:37Z",
      "title": "Rails 4 - Polymorphic belongs_to with touch",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/10197/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/10197/comments",
      "html_url": "https://github.com/rails/rails/issues/10197"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "The HTTP standard clearly states that higher specificity mime-types should take precedence, when multiple mimetypes is supplied. This is not the case with the current version of rails (cloned of master branch).\n\n```\ncurl http://localhost:3000/entries --header \"Accept:application/json, text/plain\"\n```\n\nshould return json, and in fact does so. While\n\n```\ncurl http://localhost:3000/entries --header \"Accept:application/json, text/plain, */*\"\n```\n\nshould still return json, since the `*/*` is less specific, but this returns html.\n\nHere is [a test application](https://github.com/ekampp/accept-header-specificity-test) where this can be tested.\n",
      "number": 9940,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/ekampp/subscriptions",
         "received_events_url": "https://api.github.com/users/ekampp/received_events",
         "url": "https://api.github.com/users/ekampp",
         "avatar_url": "https://avatars3.githubusercontent.com/u/40206?v=4",
         "events_url": "https://api.github.com/users/ekampp/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/ekampp/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/ekampp/following{/other_user}",
         "repos_url": "https://api.github.com/users/ekampp/repos",
         "site_admin": false,
         "id": 40206,
         "organizations_url": "https://api.github.com/users/ekampp/orgs",
         "login": "ekampp",
         "gists_url": "https://api.github.com/users/ekampp/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/ekampp/followers",
         "html_url": "https://github.com/ekampp"
      },
      "state": "closed",
      "closed_by": "136",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/9940",
      "updated_at": "2016-02-11T01:37:23Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9940/events",
      "assignee": null,
      "labels": [
         {
            "id": 107189,
            "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
            "color": "FFF700",
            "default": false,
            "name": "actionpack"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 74,
      "id": 12469627,
      "closed_at": "2015-08-25T06:02:31Z",
      "created_at": "2013-03-26T20:29:27Z",
      "title": "Multiple accept headers' specificity is misinterpreted",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9940/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9940/comments",
      "html_url": "https://github.com/rails/rails/issues/9940"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I'm not sure if this issue belongs in activerecord or in activerecord-jdbc-adapter, so apologies if I'm in the wrong repo.\n\nI'm working with Postgres JDBC adapter and I need to pass driver specific properties to the JDBC driver.\n\nI can do this fine in development using a database.yml that looks similar to this:\n\n``` ruby\ndevelopment:\n  adapter: postgresql\n  ...\n  properties:\n    name: value\n```\n\nAll is good and the name=value pair ends up in the connection's nested :properties hash.\n\nHowever in production where I use the DATABASE_URL environment variable instead of database.yml, I can't figure out how to get the nested properties to the JDBC driver.  I've tried several permutations and combinations in the uri query parameters such as\n\n``` ruby\n&name=value\n&properties[name]=value\n&properties/name=value\n&properties%name%5D=value\n```\n\nIn all cases the name=value properties do not end up in the connection's nested :properties hash as they do when using database.yml.\n",
      "number": 9896,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/marclennox/subscriptions",
         "received_events_url": "https://api.github.com/users/marclennox/received_events",
         "url": "https://api.github.com/users/marclennox",
         "avatar_url": "https://avatars0.githubusercontent.com/u/651620?v=4",
         "events_url": "https://api.github.com/users/marclennox/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/marclennox/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/marclennox/following{/other_user}",
         "repos_url": "https://api.github.com/users/marclennox/repos",
         "site_admin": false,
         "id": 651620,
         "organizations_url": "https://api.github.com/users/marclennox/orgs",
         "login": "marclennox",
         "gists_url": "https://api.github.com/users/marclennox/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/marclennox/followers",
         "html_url": "https://github.com/marclennox"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/9896",
      "updated_at": "2014-05-20T19:18:50Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9896/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 5,
      "id": 12368858,
      "closed_at": "2014-05-20T19:18:50Z",
      "created_at": "2013-03-24T02:57:37Z",
      "title": "Passing JDBC driver properties from DATABASE_URL",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9896/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9896/comments",
      "html_url": "https://github.com/rails/rails/issues/9896"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When I create an engine with `rails plugin new blorgh --mountable`, I get\n\n```\nUsing blorgh (0.0.1) from source at /Users/steve/tmp/blorgh \nblorgh at /Users/steve/tmp/blorgh did not have a valid gemspec.\nThis prevents bundler from installing bins or native extensions, but that may not affect its functionality.\nThe validation message from Rubygems was:\n  \"FIXME\" or \"TODO\" is not an author\n```\n",
      "number": 9589,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions",
         "received_events_url": "https://api.github.com/users/steveklabnik/received_events",
         "url": "https://api.github.com/users/steveklabnik",
         "avatar_url": "https://avatars2.githubusercontent.com/u/27786?v=4",
         "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}",
         "repos_url": "https://api.github.com/users/steveklabnik/repos",
         "site_admin": false,
         "id": 27786,
         "organizations_url": "https://api.github.com/users/steveklabnik/orgs",
         "login": "steveklabnik",
         "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/steveklabnik/followers",
         "html_url": "https://github.com/steveklabnik"
      },
      "state": "closed",
      "closed_by": "14941",
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/9589",
      "updated_at": "2014-05-02T15:12:42Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9589/events",
      "assignee": null,
      "labels": [
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 4782967,
            "url": "https://api.github.com/repos/rails/rails/labels/engines",
            "color": "e102d8",
            "default": false,
            "name": "engines"
         }
      ],
      "comments": 10,
      "id": 11734231,
      "closed_at": "2014-05-02T15:12:42Z",
      "created_at": "2013-03-06T21:44:34Z",
      "title": "Engines don't have a valid gemspec",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9589/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9589/comments",
      "html_url": "https://github.com/rails/rails/issues/9589"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I found the strangest issue by activerecord (3.2.12, not sure how that works in 4). Basically I have the following set this way:\n\n``` ruby\nclass Bing < ActiveRecord::Base\n  belongs_to :bang\n  has_one :bong, :through => :bang\nend\n```\n\nAll is well, until I persist an instance of Bing. If I keep updating it, the bong association is also saved, or autosaved. Only after I explicitly set a flag :autosave => false on the association it stopped. So, the has_one through association is autosavable by default(!), which looks like a bug to me. \n\nI went so far as debugging it all the way to a method in autosave_association called save_has_one_association, where the option[:autosave] is nil. And nil != false (line 390). I don't know if that is the reason and autosave should be false by default instead of nil. Maybe you can tell me.\n\nI didn't test it with has_many through relations. \n",
      "number": 9336,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/HoneyryderChuck/subscriptions",
         "received_events_url": "https://api.github.com/users/HoneyryderChuck/received_events",
         "url": "https://api.github.com/users/HoneyryderChuck",
         "avatar_url": "https://avatars3.githubusercontent.com/u/215707?v=4",
         "events_url": "https://api.github.com/users/HoneyryderChuck/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/HoneyryderChuck/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/HoneyryderChuck/following{/other_user}",
         "repos_url": "https://api.github.com/users/HoneyryderChuck/repos",
         "site_admin": false,
         "id": 215707,
         "organizations_url": "https://api.github.com/users/HoneyryderChuck/orgs",
         "login": "HoneyryderChuck",
         "gists_url": "https://api.github.com/users/HoneyryderChuck/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/HoneyryderChuck/followers",
         "html_url": "https://github.com/HoneyryderChuck"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/9336",
      "updated_at": "2016-11-02T00:20:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9336/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 23,
      "id": 11191353,
      "closed_at": "2016-11-02T00:20:48Z",
      "created_at": "2013-02-20T10:14:11Z",
      "title": "has_one through triggering autosave by default",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9336/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9336/comments",
      "html_url": "https://github.com/rails/rails/issues/9336"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "From https://github.com/rails/rails/blob/114e1802132c944263a44af5f81da6d43c78124b/activesupport/lib/active_support/time_with_zone.rb#L152 it is evident that `ActiveSupport::TimeWithZone.to_yaml` converts the object to UTC before serializing to YAML\n\nIs there any particular reason for doing this? When the object is de-serialized the timezone info is obviously lost and this causes problems when some 3rd party library is deserializing and using the object on your behalf.\n\nFor example, if I'm using `delayed_job` to perform a task wherein a TimeWithZone object is serialized and later deserialized & used, I am forced to write custom code to get it back to the original timezone before using it.\n",
      "number": 9183,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/saurabhnanda/subscriptions",
         "received_events_url": "https://api.github.com/users/saurabhnanda/received_events",
         "url": "https://api.github.com/users/saurabhnanda",
         "avatar_url": "https://avatars0.githubusercontent.com/u/28369?v=4",
         "events_url": "https://api.github.com/users/saurabhnanda/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/saurabhnanda/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/saurabhnanda/following{/other_user}",
         "repos_url": "https://api.github.com/users/saurabhnanda/repos",
         "site_admin": false,
         "id": 28369,
         "organizations_url": "https://api.github.com/users/saurabhnanda/orgs",
         "login": "saurabhnanda",
         "gists_url": "https://api.github.com/users/saurabhnanda/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/saurabhnanda/followers",
         "html_url": "https://github.com/saurabhnanda"
      },
      "state": "closed",
      "closed_by": "17333",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/9183",
      "updated_at": "2015-04-22T17:39:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9183/events",
      "assignee": null,
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 26,
      "id": 10641375,
      "closed_at": "2015-04-22T17:39:02Z",
      "created_at": "2013-02-05T08:24:24Z",
      "title": "ActiveSupport::TimeWithZone forcing UTC before YAML serializiation",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9183/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9183/comments",
      "html_url": "https://github.com/rails/rails/issues/9183"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "```\n1.9.3p327 :001 > User.where(:created_at => [3.days.ago..2.days.ago]).to_sql\n => \"SELECT `users`.* FROM `users`  WHERE (users.deleted_at IS NULL) AND ((`users`.`created_at` BETWEEN '2013-02-01 13:06:35' AND '2013-02-02 13:06:35' OR `users`.`created_at` IN (NULL)))\"\n\nUser.where(1==1).to_sql\n => \"SELECT `users`.* FROM `users`  WHERE (users.deleted_at IS NULL) AND (1)\"\n```\n\nWhy it adds `created_at IN (NULL)` ? Seems it's not documented and I don't see much sense in it.\n\nYes, users.created_at column defined as `datetime default NULL`\n\nRails 3.2.11\n",
      "number": 9171,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/vsespb/subscriptions",
         "received_events_url": "https://api.github.com/users/vsespb/received_events",
         "url": "https://api.github.com/users/vsespb",
         "avatar_url": "https://avatars2.githubusercontent.com/u/1210230?v=4",
         "events_url": "https://api.github.com/users/vsespb/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/vsespb/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/vsespb/following{/other_user}",
         "repos_url": "https://api.github.com/users/vsespb/repos",
         "site_admin": false,
         "id": 1210230,
         "organizations_url": "https://api.github.com/users/vsespb/orgs",
         "login": "vsespb",
         "gists_url": "https://api.github.com/users/vsespb/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/vsespb/followers",
         "html_url": "https://github.com/vsespb"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/9171",
      "updated_at": "2016-03-29T15:47:21Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9171/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 17,
      "id": 10608141,
      "closed_at": "2016-03-29T15:47:21Z",
      "created_at": "2013-02-04T13:26:42Z",
      "title": "AREL range conditions generates weird sql",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9171/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9171/comments",
      "html_url": "https://github.com/rails/rails/issues/9171"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When I have the following in my database:\n- some_table\n- my_prefix_some_table\n\nand configure `ActiveRecord::SchemaDumper.ignore_tables = [\"some_table\"]`\n\nThe SchemaDumper ends up ignoring **both tables**, because it removes prefixes and suffixes before comparing tables names with the elements in the supplied array.\n\nThe result is that I never get the chance to ignore just one or the other table.\n",
      "number": 9015,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/marcelokanzaki/subscriptions",
         "received_events_url": "https://api.github.com/users/marcelokanzaki/received_events",
         "url": "https://api.github.com/users/marcelokanzaki",
         "avatar_url": "https://avatars3.githubusercontent.com/u/843048?v=4",
         "events_url": "https://api.github.com/users/marcelokanzaki/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/marcelokanzaki/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/marcelokanzaki/following{/other_user}",
         "repos_url": "https://api.github.com/users/marcelokanzaki/repos",
         "site_admin": false,
         "id": 843048,
         "organizations_url": "https://api.github.com/users/marcelokanzaki/orgs",
         "login": "marcelokanzaki",
         "gists_url": "https://api.github.com/users/marcelokanzaki/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/marcelokanzaki/followers",
         "html_url": "https://github.com/marcelokanzaki"
      },
      "state": "closed",
      "closed_by": "22271",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/9015",
      "updated_at": "2015-12-05T21:40:00Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/9015/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 8,
      "id": 10157841,
      "closed_at": "2015-12-05T21:40:00Z",
      "created_at": "2013-01-21T14:10:39Z",
      "title": "ActiveRecord::SchemaDumper removes prefixes and suffixes when ignoring tables.",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/9015/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/9015/comments",
      "html_url": "https://github.com/rails/rails/issues/9015"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "New Rails 3.2.9 app with one model that has a serialized column:\n\n``` ruby\nrails new ar_serialized_dirty_test\ncd ar_serialized_dirty_test\n\nrails g model Product name:string data:text\nrake db:migrate\n\n# product.rb\n\nclass Product < ActiveRecord::Base\n  serialize :data\nend\n```\n\nOn every save, this column is being updated, regardless if it was changed or not.\n\n``` ruby\n> p = Product.create(name: \"A\")\n  SQL (0.6ms)  INSERT INTO \"products\" (\"created_at\", \"data\", \"name\", \"updated_at\") VALUES (?, ?, ?, ?)  [[\"created_at\", Mon, 26 Nov 2012 23:08:26 UTC +00:00], [\"data\", nil], [\"name\", \"A\"], [\"updated_at\", Mon, 26 Nov 2012 23:08:26 UTC +00:00]]\n => #<Product id: 1, name: \"A\", data: nil, created_at: \"2012-11-26 23:08:26\", updated_at: \"2012-11-26 23:08:26\"> \n> p.save!\n   (0.3ms)  UPDATE \"products\" SET \"updated_at\" = '2012-11-26 23:08:34.660484', \"data\" = '---\\n...\\n' WHERE \"products\".\"id\" = 1\n => true \n> p.save!\n   (0.3ms)  UPDATE \"products\" SET \"updated_at\" = '2012-11-26 23:08:45.777419', \"data\" = '---\\n...\\n' WHERE \"products\".\"id\" = 1\n => true \n> p.data_changed?\n => false \n> p.save!\n   (0.3ms)  UPDATE \"products\" SET \"updated_at\" = '2012-11-26 23:13:20.839794', \"data\" = '---\\n...\\n' WHERE \"products\".\"id\" = 1\n```\n",
      "number": 8328,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/elado/subscriptions",
         "received_events_url": "https://api.github.com/users/elado/received_events",
         "url": "https://api.github.com/users/elado",
         "avatar_url": "https://avatars0.githubusercontent.com/u/51488?v=4",
         "events_url": "https://api.github.com/users/elado/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/elado/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/elado/following{/other_user}",
         "repos_url": "https://api.github.com/users/elado/repos",
         "site_admin": false,
         "id": 51488,
         "organizations_url": "https://api.github.com/users/elado/orgs",
         "login": "elado",
         "gists_url": "https://api.github.com/users/elado/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/elado/followers",
         "html_url": "https://github.com/elado"
      },
      "state": "closed",
      "closed_by": "15674",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/8328",
      "updated_at": "2015-02-17T21:34:53Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/8328/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 63,
      "id": 8698861,
      "closed_at": "2014-06-13T20:21:13Z",
      "created_at": "2012-11-26T23:15:49Z",
      "title": "Non-dirty serialized columns are being saved anyway",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/8328/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/8328/comments",
      "html_url": "https://github.com/rails/rails/issues/8328"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "If you've got an association with both sides declaring `accepts_nested_attributes_for` and there's an `:inverse_of`` set, saving a record with associated models will cause an infinite recursion.\n\nTo demonstrate this, change this line in activerecord/test/models/pirate.rb:\n\n``` ruby\n  has_many :birds, -> { order('birds.id ASC') }\n```\n\nto\n\n``` ruby\n  has_many :birds, -> { order('birds.id ASC') }, :inverse_of => :pirate\n```\n\nand run the ActiveRecord test suite; you'll get 18 tests failing, all but one with \"stack level too deep\". I've isolated the issue to `nested_records_changed_for_autosave?`, but the fix is currently wrapped up in the inverse-guessing code I'm working on. Stay tuned.\n",
      "number": 7809,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/al2o3cr/subscriptions",
         "received_events_url": "https://api.github.com/users/al2o3cr/received_events",
         "url": "https://api.github.com/users/al2o3cr",
         "avatar_url": "https://avatars3.githubusercontent.com/u/1191?v=4",
         "events_url": "https://api.github.com/users/al2o3cr/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/al2o3cr/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/al2o3cr/following{/other_user}",
         "repos_url": "https://api.github.com/users/al2o3cr/repos",
         "site_admin": false,
         "id": 1191,
         "organizations_url": "https://api.github.com/users/al2o3cr/orgs",
         "login": "al2o3cr",
         "gists_url": "https://api.github.com/users/al2o3cr/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/al2o3cr/followers",
         "html_url": "https://github.com/al2o3cr"
      },
      "state": "closed",
      "closed_by": "14030",
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/7809",
      "updated_at": "2014-08-22T18:10:29Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/7809/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 12449438,
            "url": "https://api.github.com/repos/rails/rails/labels/stale",
            "color": "444444",
            "default": false,
            "name": "stale"
         }
      ],
      "comments": 6,
      "id": 7250101,
      "closed_at": "2014-05-27T16:25:23Z",
      "created_at": "2012-09-30T23:26:29Z",
      "title": "Stack level too deep with nested attributes and inverses",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/7809/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/7809/comments",
      "html_url": "https://github.com/rails/rails/issues/7809"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "This is a reopen of #618 (import of https://rails.lighthouseapp.com/projects/8994/tickets/2646)\n\nI am just upgrading my rails app to rails 3.2 and I have just discovered that the workaround suggested by Matt Jones:\n\n``` ruby\n    if value.reject { |v| v.marked_for_destruction? }.size < 1\n```\n\nIs still needed...\n\nThere are patches (for tests) that demonstrates the problem...\n",
      "number": 7247,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jarl-dk/subscriptions",
         "received_events_url": "https://api.github.com/users/jarl-dk/received_events",
         "url": "https://api.github.com/users/jarl-dk",
         "avatar_url": "https://avatars0.githubusercontent.com/u/191521?v=4",
         "events_url": "https://api.github.com/users/jarl-dk/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jarl-dk/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jarl-dk/following{/other_user}",
         "repos_url": "https://api.github.com/users/jarl-dk/repos",
         "site_admin": false,
         "id": 191521,
         "organizations_url": "https://api.github.com/users/jarl-dk/orgs",
         "login": "jarl-dk",
         "gists_url": "https://api.github.com/users/jarl-dk/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jarl-dk/followers",
         "html_url": "https://github.com/jarl-dk"
      },
      "state": "closed",
      "closed_by": "b12288",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/7247",
      "updated_at": "2016-02-19T10:59:02Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/7247/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 25,
      "id": 6010383,
      "closed_at": "2014-12-30T09:27:33Z",
      "created_at": "2012-08-03T08:45:34Z",
      "title": "validations not called when model updating using nested attributes",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/7247/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/7247/comments",
      "html_url": "https://github.com/rails/rails/issues/7247"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Due to caching, `ActiveSupport::TimeZone.all` returns different results if a non-ActiveSupport-supported zone was looked up first. \n\n```\nActiveSupport::TimeZone.all\n# not in ActiveSupport::TimeZone::MAPPING, but still a valid zone\nchicago = ActiveSupport::TimeZone['America/Chicago']\nActiveSupport::TimeZone.all.include?(chicago)\n=> false\n```\n\n```\nchicago = ActiveSupport::TimeZone['America/Chicago']\nActiveSupport::TimeZone.all.include?(chicago)\n=> true\n```\n\nThis affects `time_zone_options_for_select`, in that the `selected` arg of that function is a string matched to the names of zones in `ActiveSupport::TimeZone.all`. If your app stores timezones in TZInfo format, the helper may not generate an option tag for a recognized zone.\n\nI see two ways around this:\n1. Change the helper to recognize TZInfo identifiers\n2. Update the zones cache when lazy-loading time zones.\n\nChanging the helper might unintentionally change your data (\"America/Chicago\" would get converted to \"Central Time\"). It seems like Rails is opinionated about what zones it wants to use, so that might not be a big deal. The second approach avoids that problem, but still requires you to look up the alternate zone before it shows up in the list.\n\nThoughts?\n",
      "number": 7245,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
            "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
            "url": "https://api.github.com/users/pixeltrix",
            "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
            "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
            "repos_url": "https://api.github.com/users/pixeltrix/repos",
            "site_admin": false,
            "id": 6321,
            "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
            "login": "pixeltrix",
            "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/pixeltrix/followers",
            "html_url": "https://github.com/pixeltrix"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/wonnage/subscriptions",
         "received_events_url": "https://api.github.com/users/wonnage/received_events",
         "url": "https://api.github.com/users/wonnage",
         "avatar_url": "https://avatars3.githubusercontent.com/u/125177?v=4",
         "events_url": "https://api.github.com/users/wonnage/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/wonnage/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/wonnage/following{/other_user}",
         "repos_url": "https://api.github.com/users/wonnage/repos",
         "site_admin": false,
         "id": 125177,
         "organizations_url": "https://api.github.com/users/wonnage/orgs",
         "login": "wonnage",
         "gists_url": "https://api.github.com/users/wonnage/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/wonnage/followers",
         "html_url": "https://github.com/wonnage"
      },
      "state": "closed",
      "closed_by": "31176",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/7245",
      "updated_at": "2017-11-22T22:52:56Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/7245/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/pixeltrix/subscriptions",
         "received_events_url": "https://api.github.com/users/pixeltrix/received_events",
         "url": "https://api.github.com/users/pixeltrix",
         "avatar_url": "https://avatars0.githubusercontent.com/u/6321?v=4",
         "events_url": "https://api.github.com/users/pixeltrix/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/pixeltrix/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/pixeltrix/following{/other_user}",
         "repos_url": "https://api.github.com/users/pixeltrix/repos",
         "site_admin": false,
         "id": 6321,
         "organizations_url": "https://api.github.com/users/pixeltrix/orgs",
         "login": "pixeltrix",
         "gists_url": "https://api.github.com/users/pixeltrix/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/pixeltrix/followers",
         "html_url": "https://github.com/pixeltrix"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         },
         {
            "id": 149514554,
            "url": "https://api.github.com/repos/rails/rails/labels/pinned",
            "color": "f7c6c7",
            "default": false,
            "name": "pinned"
         }
      ],
      "comments": 19,
      "id": 6006282,
      "closed_at": "2017-11-22T22:52:55Z",
      "created_at": "2012-08-03T01:20:57Z",
      "title": "Inconsistent output from ActiveSupport::TimeZone.all",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/7245/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/7245/comments",
      "html_url": "https://github.com/rails/rails/issues/7245"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "``` ruby\n# Single-word + uncountables = no problem!\n\"information\".singularize # => \"information\"\n\"information\".pluralize # => \"information\"\n\n# Multi-word + spaces + countables = no problem!\n\"weird bugs\".singularize # => \"weird bug\"\n\"weird bug\".pluralize # => \"weird bugs\"\n\n# Multi-word + spaces + uncountables = no problem!\n\"funky jeans\".pluralize # => \"funky jeans\"\n\"funky jeans\".singularize # => \"funky jeans\"\n\n# Multi-word + underscores + countables = no problem!\n\"weird_bugs\".singularize # => \"weird_bug\"\n\"weird_bug\".pluralize # => \"weird_bugs\"\n\n# Multi-word + underscores + uncountables = BOOM!\n\"funky_jeans\".singularize # => \"funky_jean\"\n\"client_information\".pluralize # => \"client_informations\"\n```\n\nI consider this a bug because...\n1. According to [this test case](https://github.com/rails/rails/blob/master/activesupport/test/inflector_test_cases.rb#L16), pluralizing/singularizing a multi-word string is a supported feature\n2. According to [this test cases](https://github.com/rails/rails/blob/master/activesupport/test/inflector_test_cases.rb#L82), pluralizing/singularizing a multi-word string separated by underscores is a supported feature\n3. [`tableize`](https://github.com/rails/rails/blob/master/activesupport/lib/active_support/inflector/methods.rb#L121) depends on 2.\n4. `\"funky_jeans\".singularize` used to work before 9b4622a483319f3d1e7f4489442f0d86afb6da36:\n\n``` shell\nmbp:godfrey rails [(no branch)] $ git checkout baebe7d0d5c82cc7bb0570ae7d17a947f9bf58f7\nHEAD is now at baebe7d... Avoid Bundler Resolver bug until they solve the issue\nmbp:godfrey rails [(no branch)] $ irb -Iactivesupport/lib\n>> require 'active_support/all'\n=> true\n>> 'funky_jeans'.singularize\n=> \"funky_jeans\"\n```\n\nHowever, as far as I know, `\"client_information\".pluralize` have always been (incorrectly) returning `\"client_informations\"`, meaning that fixing this might break certain apps out there. `singularize` and `pluralize` used to go through different code paths, but 52fa34faee76ca54b1b394ea3a25dfee42491c22 merged them into a single path, so it's no longer possible to just fix the bug introduced in 9b4622a483319f3d1e7f4489442f0d86afb6da36 without affecting the other direction as well. (I don't think that's a very reasonable behaviour anyways.)\n",
      "number": 7132,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
            "received_events_url": "https://api.github.com/users/fxn/received_events",
            "url": "https://api.github.com/users/fxn",
            "avatar_url": "https://avatars2.githubusercontent.com/u/3387?v=4",
            "events_url": "https://api.github.com/users/fxn/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/fxn/following{/other_user}",
            "repos_url": "https://api.github.com/users/fxn/repos",
            "site_admin": false,
            "id": 3387,
            "organizations_url": "https://api.github.com/users/fxn/orgs",
            "login": "fxn",
            "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/fxn/followers",
            "html_url": "https://github.com/fxn"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/chancancode/subscriptions",
         "received_events_url": "https://api.github.com/users/chancancode/received_events",
         "url": "https://api.github.com/users/chancancode",
         "avatar_url": "https://avatars0.githubusercontent.com/u/55829?v=4",
         "events_url": "https://api.github.com/users/chancancode/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/chancancode/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/chancancode/following{/other_user}",
         "repos_url": "https://api.github.com/users/chancancode/repos",
         "site_admin": false,
         "id": 55829,
         "organizations_url": "https://api.github.com/users/chancancode/orgs",
         "login": "chancancode",
         "gists_url": "https://api.github.com/users/chancancode/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/chancancode/followers",
         "html_url": "https://github.com/chancancode"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "MEMBER",
      "url": "https://api.github.com/repos/rails/rails/issues/7132",
      "updated_at": "2014-04-23T22:36:36Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/7132/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
         "received_events_url": "https://api.github.com/users/fxn/received_events",
         "url": "https://api.github.com/users/fxn",
         "avatar_url": "https://avatars2.githubusercontent.com/u/3387?v=4",
         "events_url": "https://api.github.com/users/fxn/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/fxn/following{/other_user}",
         "repos_url": "https://api.github.com/users/fxn/repos",
         "site_admin": false,
         "id": 3387,
         "organizations_url": "https://api.github.com/users/fxn/orgs",
         "login": "fxn",
         "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/fxn/followers",
         "html_url": "https://github.com/fxn"
      },
      "labels": [
         {
            "id": 107194,
            "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
            "color": "FC9300",
            "default": false,
            "name": "activesupport"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 5,
      "id": 5774065,
      "closed_at": "2013-12-01T03:34:41Z",
      "created_at": "2012-07-23T08:23:04Z",
      "title": "Inconsistent inflector behaviour for uncountable words in a multi-word string separated by underscores",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/7132/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/7132/comments",
      "html_url": "https://github.com/rails/rails/issues/7132"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "When returning `false` in an `around_*` callback, this will halt the chain and prevent the method from being executed. However, `after_*` callbacks are still being triggered. This behavior does not occur with `before_*`.\n\nHere is some example code:\n\n``` ruby\nrequire 'active_model'\n\nclass A\n  extend ActiveModel::Callbacks\n  define_model_callbacks :create\n  def create; run_callbacks(:create) { p 'create A' }; end\n  before_create { false }\n  after_create { p 'not here' }\nend\n\nclass B\n  extend ActiveModel::Callbacks\n  define_model_callbacks :create\n  def create; run_callbacks(:create) { p 'create B' }; end\n  around_create { false }\n  after_create { p 'but here?' }\nend\n\na = A.new; p a.create\nb = B.new; p b.create\n```\n\nThis results in:\n\n``` ruby\nfalse\n\"but here?\"\nnil\n```\n\nThis was tested on both ActiveModel 3.2.6 and ActiveModel on master. Is this a bug or expected behavior?\n\nSee https://github.com/mongoid/mongoid/issues/2198\n",
      "number": 7127,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "url": "https://api.github.com/users/rafaelfranca",
            "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "site_admin": false,
            "id": 47848,
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "login": "rafaelfranca",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "html_url": "https://github.com/rafaelfranca"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/jingoro/subscriptions",
         "received_events_url": "https://api.github.com/users/jingoro/received_events",
         "url": "https://api.github.com/users/jingoro",
         "avatar_url": "https://avatars2.githubusercontent.com/u/21310?v=4",
         "events_url": "https://api.github.com/users/jingoro/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jingoro/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jingoro/following{/other_user}",
         "repos_url": "https://api.github.com/users/jingoro/repos",
         "site_admin": false,
         "id": 21310,
         "organizations_url": "https://api.github.com/users/jingoro/orgs",
         "login": "jingoro",
         "gists_url": "https://api.github.com/users/jingoro/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jingoro/followers",
         "html_url": "https://github.com/jingoro"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/7127",
      "updated_at": "2014-06-15T19:02:49Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/7127/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
         "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
         "url": "https://api.github.com/users/rafaelfranca",
         "avatar_url": "https://avatars3.githubusercontent.com/u/47848?v=4",
         "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
         "repos_url": "https://api.github.com/users/rafaelfranca/repos",
         "site_admin": false,
         "id": 47848,
         "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
         "login": "rafaelfranca",
         "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/rafaelfranca/followers",
         "html_url": "https://github.com/rafaelfranca"
      },
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 6,
      "id": 5757447,
      "closed_at": "2014-06-15T19:02:49Z",
      "created_at": "2012-07-22T01:03:14Z",
      "title": "Returning false in around_* callback still firing after_* callbacks?",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/7127/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/7127/comments",
      "html_url": "https://github.com/rails/rails/issues/7127"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "Calling `count` on an ActiveRecord::Relation with more than 1 distinct attribute in the select clause doesn't honor the select conditions.  For example, this works:\n\n``` ruby\nUser.select('distinct username').all    #=> SELECT distinct username FROM \"users\"\nUser.select('distinct username').count  #=> SELECT COUNT(distinct username) FROM \"users\"\n```\n\nHowever, the distinct clause disappears from the count SQL when another distinct attribute is specified:\n\n``` ruby\nUser.select('distinct username, email').all     #=> SELECT distinct username, email FROM \"users\"\nUser.select('distinct username, email').count   #=> SELECT count(*) FROM \"users\"\n```\n\nSame thing with `distinct users.*`:\n\n``` ruby\nUser.select('distinct users.*').all     #=> SELECT distinct users.* FROM \"users\"\nUser.select('distinct users.*').count   #=> SELECT count(*) FROM \"users\"\n```\n\nThat means for a relation with multiple distinct columns, `relation.count` is not necessarily the same as `relation.all.count`.\n\nFor `distinct users.*`, `count(:distinct => true)` works (it generates `SELECT COUNT(DISTINCT \"users\".\"id\") FROM \"users\"`), but that won't work for `distinct username, email`.\n\nI've verified this behavior on Postgres and SQLite.\n",
      "number": 5554,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/mtalcott/subscriptions",
         "received_events_url": "https://api.github.com/users/mtalcott/received_events",
         "url": "https://api.github.com/users/mtalcott",
         "avatar_url": "https://avatars3.githubusercontent.com/u/354599?v=4",
         "events_url": "https://api.github.com/users/mtalcott/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/mtalcott/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/mtalcott/following{/other_user}",
         "repos_url": "https://api.github.com/users/mtalcott/repos",
         "site_admin": false,
         "id": 354599,
         "organizations_url": "https://api.github.com/users/mtalcott/orgs",
         "login": "mtalcott",
         "gists_url": "https://api.github.com/users/mtalcott/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/mtalcott/followers",
         "html_url": "https://github.com/mtalcott"
      },
      "state": "closed",
      "closed_by": "10710",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/5554",
      "updated_at": "2014-09-03T15:00:27Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/5554/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 15,
      "id": 3772368,
      "closed_at": "2013-06-09T13:02:57Z",
      "created_at": "2012-03-22T22:37:46Z",
      "title": "#count doesn't honor distinct attributes in select clause",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/5554/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/5554/comments",
      "html_url": "https://github.com/rails/rails/issues/5554"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I found this ticket on Lighthouse from 2008 regarding the automatic creation of PostgreSQL schemas defined in database.yml when db:create is called:\n\nhttps://rails.lighthouseapp.com/projects/8994/tickets/1605-create-schema-during-rake-dbcreate-from-schema_search_path-if-it-does-not-exist-for-postgresql\n\nIt got shot down for some small reason and I wondered if things had changed significantly enough that it could now be added in?\n\nHere's my use case: I have a schema_search_path defined in my database.yml file. When I run rake db:reset or db:setup I end up with an error because it created the database (but not the schema) and then tries to load seeds.rb which calls:\n\n```\nSET search_path TO some_value\n```\n\nThe error is:\n\n```\nPGError: ERROR:  invalid value for parameter \"search_path\": \"some_value\"\nDETAIL:  schema \"some_value\" does not exist\n```\n\nIt'd be nice to be able to dump and reload the whole database with seeds (db:reset) but this currently isn't possible automatically when using schemas.\n\nI've never done up a patch for Rails so if someone wanted to tackle this instead that would be cool. Otherwise some pointers on whether to change the rake file or the database adapter to achieve this outcome would be appreciated. I'm currently of the opinion that it'd be better done in the rake file as it is specific to db creation there. Though perhaps there is more to consider in how the test databases are created?\n",
      "number": 3624,
      "assignees": [],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/brendon/subscriptions",
         "received_events_url": "https://api.github.com/users/brendon/received_events",
         "url": "https://api.github.com/users/brendon",
         "avatar_url": "https://avatars3.githubusercontent.com/u/81871?v=4",
         "events_url": "https://api.github.com/users/brendon/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/brendon/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/brendon/following{/other_user}",
         "repos_url": "https://api.github.com/users/brendon/repos",
         "site_admin": false,
         "id": 81871,
         "organizations_url": "https://api.github.com/users/brendon/orgs",
         "login": "brendon",
         "gists_url": "https://api.github.com/users/brendon/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/brendon/followers",
         "html_url": "https://github.com/brendon"
      },
      "state": "closed",
      "closed_by": null,
      "author_association": "CONTRIBUTOR",
      "url": "https://api.github.com/repos/rails/rails/issues/3624",
      "updated_at": "2014-05-05T01:40:58Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/3624/events",
      "assignee": null,
      "labels": [
         {
            "id": 107191,
            "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
            "color": "0b02e1",
            "default": false,
            "name": "activerecord"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 7,
      "id": 2227883,
      "closed_at": "2014-05-05T01:40:44Z",
      "created_at": "2011-11-14T07:50:48Z",
      "title": "Create non-existing schema's as listed in database.yml on db:create",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/3624/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/3624/comments",
      "html_url": "https://github.com/rails/rails/issues/3624"
   },
   {
      "repository_url": "https://api.github.com/repos/rails/rails",
      "body": "I have been debugging a situation where all emails sent through ActionMailer get duplicated.  \n\nBy using a sendmail wrapper, I found that the command issued by ActionMailer added the recipient to the command line as well as the message headers.\n\nIn my case it looked similar to:\n\n<pre>\n/usr/sbin/sendmail -i -t -f sender@example.com recipient@example.com\n</pre>\n\nThe sendmail command on this server (from qmail) seems to add the recipients on the command line to those read from the email headers and delivers the message twice.\n\nThe ActionMailer documentation http://api.rubyonrails.org/classes/ActionMailer/Base.html  specifies:\n\n<pre>\n# sendmail_settings - Allows you to override options for the :sendmail delivery method.\n\n    * :location - The location of the sendmail executable. Defaults to /usr/sbin/sendmail.\n    * :arguments - The command line arguments. Defaults to -i -t with -f sender@addres added automatically before the message is sent.\n</pre>\n\nIf the sendmail command would be generated as documented, this problem would go away.\n\nWhen searching for solutions on the web, I also found that this seems to cause problems with Postfix  as well (see http://stackoverflow.com/questions/6085723/sendmail-setting-for-hostingrails )\n\nI observed this on 3.0.7 and reproduced with 3.0.9.\n",
      "number": 1755,
      "assignees": [
         {
            "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
            "received_events_url": "https://api.github.com/users/jeremy/received_events",
            "url": "https://api.github.com/users/jeremy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
            "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
            "type": "User",
            "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
            "gravatar_id": "",
            "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
            "repos_url": "https://api.github.com/users/jeremy/repos",
            "site_admin": false,
            "id": 199,
            "organizations_url": "https://api.github.com/users/jeremy/orgs",
            "login": "jeremy",
            "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
            "followers_url": "https://api.github.com/users/jeremy/followers",
            "html_url": "https://github.com/jeremy"
         }
      ],
      "locked": false,
      "user": {
         "subscriptions_url": "https://api.github.com/users/villi/subscriptions",
         "received_events_url": "https://api.github.com/users/villi/received_events",
         "url": "https://api.github.com/users/villi",
         "avatar_url": "https://avatars0.githubusercontent.com/u/92438?v=4",
         "events_url": "https://api.github.com/users/villi/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/villi/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/villi/following{/other_user}",
         "repos_url": "https://api.github.com/users/villi/repos",
         "site_admin": false,
         "id": 92438,
         "organizations_url": "https://api.github.com/users/villi/orgs",
         "login": "villi",
         "gists_url": "https://api.github.com/users/villi/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/villi/followers",
         "html_url": "https://github.com/villi"
      },
      "state": "closed",
      "closed_by": "24436",
      "author_association": "NONE",
      "url": "https://api.github.com/repos/rails/rails/issues/1755",
      "updated_at": "2016-04-06T13:38:16Z",
      "milestone": null,
      "events_url": "https://api.github.com/repos/rails/rails/issues/1755/events",
      "assignee": {
         "subscriptions_url": "https://api.github.com/users/jeremy/subscriptions",
         "received_events_url": "https://api.github.com/users/jeremy/received_events",
         "url": "https://api.github.com/users/jeremy",
         "avatar_url": "https://avatars1.githubusercontent.com/u/199?v=4",
         "events_url": "https://api.github.com/users/jeremy/events{/privacy}",
         "type": "User",
         "starred_url": "https://api.github.com/users/jeremy/starred{/owner}{/repo}",
         "gravatar_id": "",
         "following_url": "https://api.github.com/users/jeremy/following{/other_user}",
         "repos_url": "https://api.github.com/users/jeremy/repos",
         "site_admin": false,
         "id": 199,
         "organizations_url": "https://api.github.com/users/jeremy/orgs",
         "login": "jeremy",
         "gists_url": "https://api.github.com/users/jeremy/gists{/gist_id}",
         "followers_url": "https://api.github.com/users/jeremy/followers",
         "html_url": "https://github.com/jeremy"
      },
      "labels": [
         {
            "id": 107188,
            "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
            "color": "8B00FC",
            "default": false,
            "name": "actionmailer"
         },
         {
            "id": 41328116,
            "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
            "color": "006b75",
            "default": false,
            "name": "attached PR"
         }
      ],
      "comments": 9,
      "id": 1076038,
      "closed_at": "2016-04-06T03:41:27Z",
      "created_at": "2011-06-17T21:44:36Z",
      "title": "ActionMailer adds recipient to command line for sendmail",
      "labels_url": "https://api.github.com/repos/rails/rails/issues/1755/labels{/name}",
      "comments_url": "https://api.github.com/repos/rails/rails/issues/1755/comments",
      "html_url": "https://github.com/rails/rails/issues/1755"
   }
]
